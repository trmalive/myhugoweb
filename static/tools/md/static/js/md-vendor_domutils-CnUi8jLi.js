import{r as P}from"./md-vendor_dom-serializer-DbK5uxzi.js";import{E as W}from"./md-vendor_domelementtype-CtfTTIJJ.js";import{h,i as o,d as C,e as g,f as _,a as Y}from"./md-vendor_domhandler-DwiTiAS5.js";function w(t,n){return P(t,n)}function B(t,n){return h(t)?t.children.map(r=>w(r,n)).join(""):""}function O(t){return Array.isArray(t)?t.map(O).join(""):o(t)?t.name==="br"?`
`:O(t.children):C(t)?O(t.children):g(t)?t.data:""}function I(t){return Array.isArray(t)?t.map(I).join(""):h(t)&&!_(t)?I(t.children):g(t)?t.data:""}function A(t){return Array.isArray(t)?t.map(A).join(""):h(t)&&(t.type===W.Tag||C(t))?A(t.children):g(t)?t.data:""}function k(t){return h(t)?t.children:[]}function L(t){return t.parent||null}function z(t){const n=L(t);if(n!=null)return k(n);const r=[t];let{prev:i,next:e}=t;for(;i!=null;)r.unshift(i),{prev:i}=i;for(;e!=null;)r.push(e),{next:e}=e;return r}function H(t,n){var r;return(r=t.attribs)===null||r===void 0?void 0:r[n]}function K(t,n){return t.attribs!=null&&Object.prototype.hasOwnProperty.call(t.attribs,n)&&t.attribs[n]!=null}function V(t){return t.name}function q(t){let{next:n}=t;for(;n!==null&&!o(n);)({next:n}=n);return n}function U(t){let{prev:n}=t;for(;n!==null&&!o(n);)({prev:n}=n);return n}function b(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){const n=t.parent.children,r=n.lastIndexOf(t);r>=0&&n.splice(r,1)}t.next=null,t.prev=null,t.parent=null}function J(t,n){const r=n.prev=t.prev;r&&(r.next=n);const i=n.next=t.next;i&&(i.prev=n);const e=n.parent=t.parent;if(e){const u=e.children;u[u.lastIndexOf(t)]=n,t.parent=null}}function Q(t,n){if(b(n),n.next=null,n.parent=t,t.children.push(n)>1){const r=t.children[t.children.length-2];r.next=n,n.prev=r}else n.prev=null}function X(t,n){b(n);const{parent:r}=t,i=t.next;if(n.next=i,n.prev=t,t.next=n,n.parent=r,i){if(i.prev=n,r){const e=r.children;e.splice(e.lastIndexOf(i),0,n)}}else r&&r.children.push(n)}function Z(t,n){if(b(n),n.parent=t,n.prev=null,t.children.unshift(n)!==1){const r=t.children[1];r.prev=n,n.next=r}else n.next=null}function $(t,n){b(n);const{parent:r}=t;if(r){const i=r.children;i.splice(i.indexOf(t),0,n)}t.prev&&(t.prev.next=n),n.parent=r,n.prev=t.prev,n.next=t,t.prev=n}function x(t,n,r=!0,i=1/0){return F(t,Array.isArray(n)?n:[n],r,i)}function F(t,n,r,i){const e=[],u=[Array.isArray(n)?n:[n]],s=[0];for(;;){if(s[0]>=u[0].length){if(s.length===1)return e;u.shift(),s.shift();continue}const a=u[0][s[0]++];if(t(a)&&(e.push(a),--i<=0))return e;r&&h(a)&&a.children.length>0&&(s.unshift(0),u.unshift(a.children))}}function tt(t,n){return n.find(t)}function D(t,n,r=!0){const i=Array.isArray(n)?n:[n];for(let e=0;e<i.length;e++){const u=i[e];if(o(u)&&t(u))return u;if(r&&h(u)&&u.children.length>0){const s=D(t,u.children,!0);if(s)return s}}return null}function G(t,n){return(Array.isArray(n)?n:[n]).some(r=>o(r)&&t(r)||h(r)&&G(t,r.children))}function nt(t,n){const r=[],i=[Array.isArray(n)?n:[n]],e=[0];for(;;){if(e[0]>=i[0].length){if(i.length===1)return r;i.shift(),e.shift();continue}const u=i[0][e[0]++];o(u)&&t(u)&&r.push(u),h(u)&&u.children.length>0&&(e.unshift(0),i.unshift(u.children))}}const N={tag_name(t){return typeof t=="function"?n=>o(n)&&t(n.name):t==="*"?o:n=>o(n)&&n.name===t},tag_type(t){return typeof t=="function"?n=>t(n.type):n=>n.type===t},tag_contains(t){return typeof t=="function"?n=>g(n)&&t(n.data):n=>g(n)&&n.data===t}};function T(t,n){return typeof n=="function"?r=>o(r)&&n(r.attribs[t]):r=>o(r)&&r.attribs[t]===n}function rt(t,n){return r=>t(r)||n(r)}function j(t){const n=Object.keys(t).map(r=>{const i=t[r];return Object.prototype.hasOwnProperty.call(N,r)?N[r](i):T(r,i)});return n.length===0?null:n.reduce(rt)}function it(t,n){const r=j(t);return r?r(n):!0}function et(t,n,r,i=1/0){const e=j(t);return e?x(e,n,r,i):[]}function ut(t,n,r=!0){return Array.isArray(n)||(n=[n]),D(T("id",t),n,r)}function y(t,n,r=!0,i=1/0){return x(N.tag_name(t),n,r,i)}function st(t,n,r=!0,i=1/0){return x(T("class",t),n,r,i)}function at(t,n,r=!0,i=1/0){return x(N.tag_type(t),n,r,i)}function ft(t){let n=t.length;for(;--n>=0;){const r=t[n];if(n>0&&t.lastIndexOf(r,n-1)>=0){t.splice(n,1);continue}for(let i=r.parent;i;i=i.parent)if(t.includes(i)){t.splice(n,1);break}}return t}var l;(function(t){t[t.DISCONNECTED=1]="DISCONNECTED",t[t.PRECEDING=2]="PRECEDING",t[t.FOLLOWING=4]="FOLLOWING",t[t.CONTAINS=8]="CONTAINS",t[t.CONTAINED_BY=16]="CONTAINED_BY"})(l||(l={}));function M(t,n){const r=[],i=[];if(t===n)return 0;let e=h(t)?t:t.parent;for(;e;)r.unshift(e),e=e.parent;for(e=h(n)?n:n.parent;e;)i.unshift(e),e=e.parent;const u=Math.min(r.length,i.length);let s=0;for(;s<u&&r[s]===i[s];)s++;if(s===0)return l.DISCONNECTED;const a=r[s-1],f=a.children,p=r[s],E=i[s];return f.indexOf(p)>f.indexOf(E)?a===n?l.FOLLOWING|l.CONTAINED_BY:l.FOLLOWING:a===t?l.PRECEDING|l.CONTAINS:l.PRECEDING}function ct(t){return t=t.filter((n,r,i)=>!i.includes(n,r+1)),t.sort((n,r)=>{const i=M(n,r);return i&l.PRECEDING?-1:i&l.FOLLOWING?1:0}),t}function lt(t){const n=v(gt,t);return n?n.name==="feed"?ot(n):pt(n):null}function ot(t){var n;const r=t.children,i={type:"atom",items:y("entry",r).map(s=>{var a;const{children:f}=s,p={media:R(f)};c(p,"id","id",f),c(p,"title","title",f);const E=(a=v("link",f))===null||a===void 0?void 0:a.attribs.href;E&&(p.link=E);const S=d("summary",f)||d("content",f);S&&(p.description=S);const m=d("updated",f);return m&&(p.pubDate=new Date(m)),p})};c(i,"id","id",r),c(i,"title","title",r);const e=(n=v("link",r))===null||n===void 0?void 0:n.attribs.href;e&&(i.link=e),c(i,"description","subtitle",r);const u=d("updated",r);return u&&(i.updated=new Date(u)),c(i,"author","email",r,!0),i}function pt(t){var n,r;const i=(r=(n=v("channel",t.children))===null||n===void 0?void 0:n.children)!==null&&r!==void 0?r:[],e={type:t.name.substr(0,3),id:"",items:y("item",t.children).map(s=>{const{children:a}=s,f={media:R(a)};c(f,"id","guid",a),c(f,"title","title",a),c(f,"link","link",a),c(f,"description","description",a);const p=d("pubDate",a)||d("dc:date",a);return p&&(f.pubDate=new Date(p)),f})};c(e,"title","title",i),c(e,"link","link",i),c(e,"description","description",i);const u=d("lastBuildDate",i);return u&&(e.updated=new Date(u)),c(e,"author","managingEditor",i,!0),e}const ht=["url","type","lang"],dt=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function R(t){return y("media:content",t).map(n=>{const{attribs:r}=n,i={medium:r.medium,isDefault:!!r.isDefault};for(const e of ht)r[e]&&(i[e]=r[e]);for(const e of dt)r[e]&&(i[e]=parseInt(r[e],10));return r.expression&&(i.expression=r.expression),i})}function v(t,n){return y(t,n,!0,1)[0]}function d(t,n,r=!1){return I(y(t,n,r,1)).trim()}function c(t,n,r,i,e=!1){const u=d(r,i,e);u&&(t[n]=u)}function gt(t){return t==="rss"||t==="feed"||t==="rdf:RDF"}const Et=Object.freeze(Object.defineProperty({__proto__:null,get DocumentPosition(){return l},append:X,appendChild:Q,compareDocumentPosition:M,existsOne:G,filter:x,find:F,findAll:nt,findOne:D,findOneChild:tt,getAttributeValue:H,getChildren:k,getElementById:ut,getElements:et,getElementsByClassName:st,getElementsByTagName:y,getElementsByTagType:at,getFeed:lt,getInnerHTML:B,getName:V,getOuterHTML:w,getParent:L,getSiblings:z,getText:O,hasAttrib:K,hasChildren:h,innerText:A,isCDATA:C,isComment:_,isDocument:Y,isTag:o,isText:g,nextElementSibling:q,prepend:$,prependChild:Z,prevElementSibling:U,removeElement:b,removeSubsets:ft,replaceElement:J,testElement:it,textContent:I,uniqueSort:ct},Symbol.toStringTag,{value:"Module"}));export{Et as D,k as a,F as f,z as g,A as i,q as n,U as p,b as r,I as t,ct as u};
