const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["static/js/md-vendor_npm_antv-C5oXuiP_.js","static/js/md-vendor_culori-DN7He12Y.js","static/js/md-vendor_tinycolor2-BE9TIwa7.js","static/js/md-vendor_measury-D61HbS6j.js","static/js/md-vendor_flru-BHGLt2jg.js","static/js/md-vendor_lodash-es-CNQFXQst.js","static/js/md-vendor_vite-plugin-node-polyfills-D-GpVLra.js","static/js/md-vendor_d3-transition-BCuMPzkd.js","static/js/md-vendor_d3-timer-DdKHrDhs.js","static/js/md-vendor_d3-dispatch-kxCwF96_.js","static/js/md-vendor_d3-interpolate-r2AHwznQ.js","static/js/md-vendor_d3-color-9lF95FHy.js","static/js/md-vendor_d3-selection-ChKSWf7Q.js","static/js/md-vendor_d3-ease-DRPgKoYJ.js","static/js/md-vendor_d3-zoom-BJeCG6vD.js","static/js/md-vendor_d3-scale-Bk9-n4lC.js","static/js/md-vendor_d3-array-BEA9B0v3.js","static/js/md-vendor_d3-format-BvjxjtCR.js","static/js/md-vendor_d3-shape-CY3nkCkF.js","static/js/md-vendor_d3-path-CimkQT29.js","static/js/md-vendor_d3-hierarchy-aSsPETpW.js","static/js/md-vendor_d3-force-yTr7pisZ.js","static/js/md-vendor_d3-quadtree-CSANTnla.js","static/js/md-vendor_round-polygon-CgrMeYeX.js","static/js/md-vendor_postcss-NFO-1YOd.js","static/js/md-vendor_dompurify-CC3Ue67l.js","static/js/md-vendor_picocolors-BvAdOidQ.js","static/js/md-vendor_nanoid-BRb9D7yc.js","static/js/md-vendor_path-browserify-0e0J4qz8.js","static/js/md-vendor_node-stdlib-browser-CbHz__CR.js","static/js/md-vendor_eventemitter3-2PfaOq3i.js","static/js/md-vendor_roughjs-CycZv-lV.js"])))=>i.map(i=>d[i]);
import{_ as na,h as Xr,a as _l,b as aa,f as Qr,d as kl,c as es,E as cn,i as ts,s as El,e as os,g as Cl,j as ns,r as as,k as ls,l as rs,m as Sl,n as $l,o as _o,p as Tl,q as la,t as ss,u as ra,v as is,w as us,x as ds,y as cs,z as ps,A as Al,B as Mt,C as ms,D as fs,F as gs,G as ws,H as vs,P as hs,I as bs,J as ys,K as xs,L as _s,M as ks,N as Es,O as sa,S as Ca,Q as Cs,R as Fo}from"./md-codemirror-b0nwQ0CX.js";import{D as Ss}from"./md-vendor_isomorphic-dompurify-Dj_fRW1a.js";import{g as wt,B as $s}from"./md-vendor_marked-h-EuXiOE.js";import{d as Ct,s as Re,c as Ts}from"./md-vendor_pinia-CsDt9-tI.js";import{l as Y,I as ct,q as v,B,C as o,A as e,s as N,x as c,v as fe,ad as pn,r as D,z as te,w as Ie,S as Zo,J as Xo,m as As,c as he,f as Qo,N as V,D as ge,L as et,Z as tt,E as t,H as we,a8 as dt,af as Nn,i as _e,u as Gs,ag as Gl,a2 as Ll,F as Te,M as m,y as Ne,V as Ke,U as en,n as _t,G as Vt,b as go,ah as Yt,a6 as Uo,ai as qt,K as $t,ae as Rl,aj as Sa,j as co,ak as Ls}from"./md-vendor_npm_vue-CxEGiCke.js";import{T as Rs,t as de}from"./md-vendor_vue-sonner-DoYDho0Y.js";import{f as Is}from"./md-vendor_front-matter-vx5fwmI9.js";import{y as Bs,x as Ds,w as Ns,v as Os,t as Ps,s as Ms,a as Us,b as Vs,c as Hs,r as zs,d as Fs,e as qs,p as Ks,f as js,g as Ws,h as Ys,i as Js,j as Zs,o as Xs,m as Qs,k as ei,l as ti,n as oi,q as ni,u as ai,z as li,A as ri,B as si,C as ii,D as ui,E as di,F as ci,G as pi,H as mi,I as fi,J as gi,K as tn}from"./md-vendor_highlight.js-2Ra2OscE.js";import{r as $a}from"./md-vendor_reading-time-CYRFOptt.js";import{d as wi}from"./md-vendor_fflate-CGXZaBRv.js";import{p as vi}from"./md-vendor_postcss-NFO-1YOd.js";import{p as hi}from"./md-vendor_postcss-calc-pYmxez2_.js";import{c as bi}from"./md-vendor_postcss-custom-properties-0TCg7cMa.js";import{a as yi}from"./md-vendor_axios-C6n7HEJr.js";import{s as xi,p as _i,a as Ta,b as ki}from"./md-prettier-a4zfMla-.js";import{j as Ei}from"./md-vendor_juice-DFXgomDn.js";import{c as Il,e as at,a as ia,f as Bl,r as mn,g as Ci,h as Si}from"./md-vendor_npm_vueuse-CxmBG0_w.js";import{S as je,T as $i,k as Ti,O as Ai,A as Gi,a as Dl,N as Li,M as Ri,F as Ii,V as Bi,n as Di,$ as Ni,P as Oi,X as Pi,I as Mi,b as Ui,c as lt,d as Vi,B as Hi,C as zi,_ as Fi,w as qi,x as Ki,g as ji,e as Wi,f as Yi,h as Ji,i as Zi,R as Xi,j as Qi,l as eu,K as tu,m as ou,Y as nu,J as au,q as lu,t as ru,o as su,p as iu,H as uu,r as du,s as cu,Q as pu,W as mu,u as fu,v as gu,y as wu,z as vu,D as hu,E as bu,G as yu,L as xu,U as _u,Z as ku,a0 as Eu,a1 as Cu,a2 as Su,a3 as $u,a4 as Tu,a5 as Au,a6 as Gu,a7 as Lu,a8 as Ru,a9 as Iu,aa as Bu,ab as Du,ac as Nu,ad as Ou,ae as Pu,af as Mu,ag as Aa,ah as Ga,ai as Uu,aj as Vu,ak as Nl,al as Hu,am as zu,an as Fu,ao as qu,ap as Ku,aq as ju,ar as Wu,as as Yu,at as Ju,au as Zu,av as Xu,aw as Qu,ax as ed}from"./md-vendor_radix-vue-B29ldsgq.js";import{c as td}from"./md-vendor_clsx-B-dksMZM.js";import{t as od}from"./md-vendor_tailwind-merge-CpVH8HRj.js";import{c as Ol}from"./md-vendor_class-variance-authority-DZKvbyb6.js";import{X as Jt,P as Bo,S as On,a as Do,F as Rt,C as nd,b as Pn,c as Pl,d as Mn,e as ad,T as wo,U as Un,G as ld,L as vo,f as Ml,M as Ul,g as ho,h as bo,i as Vl,j as Hl,k as zl,E as ua,D as fo,l as on,A as rd,m as ko,H as Io,n as Fl,o as ql,p as Kl,q as jl,r as Wl,I as sd,s as Ut,t as Vn,W as so,B as Hn,u as zn,v as Fn,w as qn,x as Pt,y as Kn,z as id,J as ud,R as Yl,K as jn,N as io,O as Wn,Q as dd,V as Jl,Y as cd,Z as pd,_ as md,$ as fd,a0 as gd,a1 as No,a2 as da,a3 as Zl,a4 as Xl,a5 as La,a6 as Ql,a7 as Ra,a8 as Ia,a9 as Yn,aa as Oo,ab as Ba,ac as Da,ad as nn,ae as Na,af as Oa,ag as Pa,ah as Ma,ai as Ua,aj as Va,ak as Ha,al as Po,am as za,an as Fa,ao as qa,ap as Ka,aq as ja,ar as Wa,as as Ya,at as qo,au as Ja,av as Za,aw as wd,ax as er,ay as vd,az as hd,aA as bd,aB as yd,aC as xd,aD as _d,aE as kd,aF as Ed,aG as Cd,aH as Sd,aI as $d,aJ as Td,aK as Ad}from"./md-vendor_lucide-vue-next-BA0fUqUx.js";import{v as ao}from"./md-vendor_uuid-CirM8hdF.js";import{u as ca,R as Gd,a as Ld,b as Rd,c as Id,S as Bd,d as Dd,e as Gn}from"./md-vendor_reka-ui-CXUP4blH.js";import{t as ht}from"./md-vendor_npm_vee-validate-DW4OjypT.js";import{F as bt,a as Ee}from"./md-vendor_vee-validate-PeUOPJ6_.js";import{c as yt,a as $e,b as Ln}from"./md-vendor_yup-C1ujun81.js";import{R as Mo}from"./md-vendor_vue-pick-colors-G_J-8Xz1.js";import{t as Nd}from"./md-vendor_es-toolkit-DkgjVt1K.js";import{t as Od}from"./md-vendor_html-to-image-C_lNjIdi.js";import{i as Pd}from"./md-vendor_browser-image-compression-DILJcqf6.js";import{S as Md}from"./md-vendor_spark-md5-tBgZUuNp.js";import{B as Ud}from"./md-vendor_buffer-from-DX6Xsepz.js";import{C as lo}from"./md-vendor_crypto-js-AMk1BXc8.js";import{q as Vd,u as Hd}from"./md-vendor_qiniu-js-DjK19F27.js";import{g as Eo,P as Co,S as So}from"./md-vendor_npm_aws-sdk-DrflLm_J.js";import"./md-vendor_npm_lezer-C6jXe0By.js";import"./md-vendor_crelt-C8TCjufn.js";import"./md-vendor_npm_marijn-DXwl3gUT.js";import"./md-vendor_style-mod-Bs6eFhZE.js";import"./md-vendor_w3c-keyname-Vcq4gwWv.js";import"./md-vendor_dompurify-CC3Ue67l.js";import"./md-vendor_vite-plugin-node-polyfills-D-GpVLra.js";import"./md-vendor_stream-browserify-Bfak_mO0.js";import"./md-vendor_events-DQ172AOg.js";import"./md-vendor_inherits-BICa84dG.js";import"./md-vendor_buffer-DHQH0MI5.js";import"./md-vendor_base64-js-DRz5BQNA.js";import"./md-vendor_ieee754-DqQQEDOD.js";import"./md-vendor_util-MdP5f2rl.js";import"./md-vendor_is-arguments-DJM-Ku58.js";import"./md-vendor_has-tostringtag-D5q68Ucy.js";import"./md-vendor_has-symbols-CarLh_9T.js";import"./md-vendor_call-bound-BJIHHkfX.js";import"./md-vendor_get-intrinsic-DXCRsX9v.js";import"./md-vendor_es-object-atoms-BR76m4z7.js";import"./md-vendor_es-errors-DjMuYndc.js";import"./md-vendor_math-intrinsics-DP1tGiab.js";import"./md-vendor_gopd-C1lCZ5Qs.js";import"./md-vendor_es-define-property-D_7cP-M3.js";import"./md-vendor_get-proto-DaFT3HKs.js";import"./md-vendor_dunder-proto-1Zm1scR9.js";import"./md-vendor_call-bind-apply-helpers-CyE5S6Ne.js";import"./md-vendor_function-bind-CHqF18-c.js";import"./md-vendor_hasown-CfFsP5uc.js";import"./md-vendor_is-generator-function-CQ7cRhqx.js";import"./md-vendor_safe-regex-test-Bj0tZ4vR.js";import"./md-vendor_is-regex-Dc_dkuiA.js";import"./md-vendor_generator-function-CUlmxUaX.js";import"./md-vendor_which-typed-array-DKIWVwdY.js";import"./md-vendor_for-each-DCgcx9mu.js";import"./md-vendor_is-callable-BYFz_UGF.js";import"./md-vendor_available-typed-arrays-O-OlEi70.js";import"./md-vendor_possible-typed-array-names-Crc7_Gg1.js";import"./md-vendor_call-bind-CUH9cZgc.js";import"./md-vendor_set-function-length-D0ayrXYo.js";import"./md-vendor_define-data-property-CGYapH5J.js";import"./md-vendor_has-property-descriptors-9xpIV02u.js";import"./md-vendor_is-typed-array-CDHWgesV.js";import"./md-vendor_util-deprecate-C6hsDcEL.js";import"./md-vendor_string_decoder-CxbNEovd.js";import"./md-vendor_safe-buffer-BxUJ7Asx.js";import"./md-vendor_picocolors-BvAdOidQ.js";import"./md-vendor_nanoid-BRb9D7yc.js";import"./md-vendor_path-browserify-0e0J4qz8.js";import"./md-vendor_node-stdlib-browser-CbHz__CR.js";import"./md-vendor_postcss-selector-parser-DWgjNsVb.js";import"./md-vendor_cssesc-BERqhe30.js";import"./md-vendor_postcss-value-parser-PJ4hW_c9.js";import"./md-vendor_npm_csstools-BaE1dLUc.js";import"./md-vendor_domutils-CnUi8jLi.js";import"./md-vendor_dom-serializer-DbK5uxzi.js";import"./md-vendor_domelementtype-CtfTTIJJ.js";import"./md-vendor_domhandler-DwiTiAS5.js";import"./md-vendor_cheerio-select-BZgL7sfD.js";import"./md-vendor_css-select-3A8zVNnB.js";import"./md-vendor_boolbase-DvWvLooy.js";import"./md-vendor_css-what-CmlVeJxG.js";import"./md-vendor_nth-check-UpF3Gbh6.js";import"./md-vendor_parse5-CAQ5taYe.js";import"./md-vendor_parse5-htmlparser2-tree-adapter-xxw4M4Vo.js";import"./md-vendor_mensch-B71zv3wL.js";import"./md-vendor_slick-zWKhFHje.js";import"./md-vendor_entities-hbrcEGcs.js";import"./md-vendor_npm_floating-ui-BBf6g7IY.js";import"./md-vendor_npm_internationalized-B22wCwFF.js";import"./md-vendor_ohash-C-E83dC9.js";import"./md-vendor_property-expr-DwgEMw67.js";import"./md-vendor_tiny-case-Gl8mQWqo.js";import"./md-vendor_toposort-qf54GCmv.js";import"./md-vendor_npm_popperjs-DC5wud4b.js";import"./md-vendor_querystring-m-pM5hNd.js";import"./md-vendor_npm_smithy-DIyP5Xov.js";import"./md-vendor_npm_aws-crypto-D5NJRR1D.js";import"./md-vendor_tslib-CaAMb0zI.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function l(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=l(s);fetch(s.href,i)}})();function zd(n){return n.slice(0,1).toUpperCase()+n.slice(1).toLowerCase()}function pa(n){let a=0;for(let l=0;l<n.length;l++){const r=n.charCodeAt(l);a=(a<<5)-a+r,a=a&a}return Math.abs(a).toString(36)}async function Fd(){typeof window<"u"&&window.mermaid?window.mermaid.initialize({startOnLoad:!1}):(await na(()=>import("mermaid"),[])).default.initialize({startOnLoad:!1})}const qd={bash:gi,c:fi,cpp:mi,csharp:pi,css:ci,diff:di,go:ui,graphql:ii,ini:si,java:ri,javascript:li,json:ai,kotlin:ni,less:oi,lua:ti,makefile:ei,markdown:Qs,objectivec:Xs,perl:Zs,php:Js,"php-template":Ys,plaintext:Ws,python:js,"python-repl":Ks,r:qs,ruby:Fs,rust:zs,scss:Hs,shell:Vs,sql:Us,swift:Ms,typescript:Ps,vbnet:Os,wasm:Ns,xml:Ds,yaml:Bs},Kd="11.11.1",jd=`https://cdn-doocs.oss-cn-shenzhen.aliyuncs.com/npm/highlightjs/${Kd}`,Ko=new Map;function Wd(n){return`${jd}/es/languages/${n}.min.js`}async function Yd(n,a){if(a.getLanguage(n))return;if(Ko.has(n)){await Ko.get(n);return}const l=(async()=>{try{const r=await import(Wd(n));a.registerLanguage(n,r.default)}catch(r){throw console.warn(`Failed to load language: ${n}`,r),r}finally{Ko.delete(n)}})();Ko.set(n,l),await l}function Xa(n,a=!1){let l=n;return l=l.replace(/(<span[^>]*>[^<]*<\/span>)(\s+)(<span[^>]*>[^<]*<\/span>)/g,(r,s,i,u)=>s+u.replace(/^(<span[^>]*>)/,`$1${i}`)),l=l.replace(/(\s+)(<span[^>]*>)/g,(r,s,i)=>i.replace(/^(<span[^>]*>)/,`$1${s}`)),l=l.replace(/\t/g,"    "),a?l=l.replace(/\r\n/g,"<br/>").replace(/\n/g,"<br/>").replace(/(>[^<]+)|(^[^<]+)/g,r=>r.replace(/\s/g,"&nbsp;")):l=l.replace(/(>[^<]+)|(^[^<]+)/g,r=>r.replace(/\s/g,"&nbsp;")),l}function tr(n,a,l,r){let s="";if(r){const u=n.replace(/\r\n/g,`
`).split(`
`).map(b=>{const k=l.highlight(b,{language:a}).value,y=Xa(k,!1);return y===""?"&nbsp;":y}),p=u.map((b,k)=>`<section style="padding:0 10px 0 0;line-height:1.75">${k+1}</section>`).join(""),g=`<div style="white-space:pre;min-width:max-content;line-height:1.75">${u.join("<br/>")}</div>`;s=`
      <section style="display:flex;align-items:flex-start;overflow-x:hidden;overflow-y:auto;width:100%;max-width:100%;padding:0;box-sizing:border-box">
        <section class="line-numbers" style="text-align:right;padding:8px 0;border-right:1px solid rgba(0,0,0,0.04);user-select:none;background:var(--code-bg,transparent);">${p}</section>
        <section class="code-scroll" style="flex:1 1 auto;overflow-x:auto;overflow-y:visible;padding:8px;min-width:0;box-sizing:border-box">${g}</section>
      </section>
    `}else{const i=l.highlight(n,{language:a}).value;s=Xa(i,!0)}return s}function Qa(n,a,l){const r=n.getAttribute("data-raw-code"),s=n.getAttribute("data-show-line-number")==="true";if(!r)return;const i=r.replace(/&quot;/g,'"'),u=tr(i,a,l,s);n.innerHTML=u,n.removeAttribute("data-language-pending"),n.removeAttribute("data-raw-code"),n.removeAttribute("data-show-line-number")}function Jd(n,a=document){a.querySelectorAll("code[data-language-pending]").forEach(r=>{const s=r.getAttribute("data-language-pending");s&&(n.getLanguage(s)?Qa(r,s,n):Yd(s,n).then(()=>{Qa(r,s,n)}).catch(()=>{r.removeAttribute("data-language-pending"),r.removeAttribute("data-raw-code"),r.removeAttribute("data-show-line-number")}))})}function Zd(n){const a=[];return n=n.replace(/<!--infographic-start-->[\s\S]*?<!--infographic-end-->/g,l=>(a.push(l),`<span data-md-protected="${a.length-1}"></span>`)),n=n.replace(/<!--mermaid-start-->[\s\S]*?<!--mermaid-end-->/g,l=>(a.push(l),`<span data-md-protected="${a.length-1}"></span>`)),n=Ss.sanitize(n,{ADD_TAGS:["mp-common-profile"]}),n=n.replace(/<span data-md-protected="(\d+)"><\/span>/g,(l,r)=>a[Number(r)]),n}function Xd(n,a){const{markdownContent:l,readingTime:r}=a.parseFrontMatterAndContent(n);let s=wt.parse(l);return s=Zd(s),{html:s,readingTime:r}}function Qd(n,a,l){let r=n;return r=l.buildReadingTime(a)+r,r+=l.buildFootnotes(),r+=l.buildAddition(),r+=`
    <style>
      .hljs.code__pre > .mac-sign {
        display: ${l.getOpts().isMacCodeBlock?"flex":"none"};
      }
    </style>
  `,r+=`
    <style>
      h2 strong {
        color: inherit !important;
      }
    </style>
  `,l.createContainer(r)}const ec={key:0,class:"loading"},tc=Y({__name:"AppSplash",setup(n){const a=D(!0);return ct(()=>{setTimeout(()=>{a.value=!1},100)}),(l,r)=>(v(),B(pn,{name:"fade"},{default:o(()=>[e(a)?(v(),N("div",ec,[...r[0]||(r[0]=[c("strong",null,"致力于让 Markdown 编辑更简单",-1)])])):fe("",!0)]),_:1}))}}),st=(n,a)=>{const l=n.__vccOpts||n;for(const[r,s]of a)l[r]=s;return l},oc=st(tc,[["__scopeId","data-v-c0a583f4"]]),nc=Y({__name:"Sonner",props:{id:{},invert:{type:Boolean},theme:{},position:{},closeButtonPosition:{},hotkey:{},richColors:{type:Boolean},expand:{type:Boolean},duration:{},gap:{},visibleToasts:{},closeButton:{type:Boolean},toastOptions:{},class:{},style:{},offset:{},mobileOffset:{},dir:{},swipeDirections:{},icons:{},containerAriaLabel:{}},setup(n){const a=n;return(l,r)=>(v(),B(e(Rs),te({class:"toaster group"},a),null,16))}});function or(n={}){const{className:a="markdown-alert",variants:l=[],withoutStyle:r=!1}=n,s=ac(l);function i(p,d,g=!1){return{className:a,variant:p,icon:d.icon,title:d.title??zd(p),titleClassName:`${a}-title`,fromContainer:g}}function u(p){const{meta:d,tokens:g=[]}=p,w=this.parser.parse(g);let b=`<blockquote class="${d.className} ${d.className}-${d.variant}">
`;return b+=`<p class="${d.titleClassName} alert-title-${d.variant}">`,r||(b+=d.icon.replace("<svg",`<svg class="alert-icon-${d.variant}"`)),b+=d.title,b+=`</p>
`,b+=w,b+=`</blockquote>
`,b}return{walkTokens(p){if(p.type!=="blockquote")return;const d=s.find(({type:g})=>new RegExp(tl(g),"i").test(p.text));if(d){const{type:g}=d,w=new RegExp(tl(g),"i");Object.assign(p,{type:"alert",meta:i(g,d)});const b=p.tokens?.[0];if(b.raw?.replace(w,"").trim()){const y=b.tokens[0];Object.assign(y,{raw:y.raw.replace(w,""),text:y.text.replace(w,"")}),b.tokens[1]?.type==="br"&&b.tokens.splice(1,1)}else p.tokens?.shift()}},extensions:[{name:"alert",level:"block",renderer:u},{name:"alertContainer",level:"block",start(p){return p.match(/^:::/)?.index},tokenizer(p,d){const g=/^:::\s*(\w+)\s*\n([\s\S]*?)\n:::/.exec(p);if(g){const[w,b,k]=g,y=s.find(h=>h.type===b);return y?{type:"alert",raw:w,text:k.trim(),tokens:this.lexer.blockTokens(k.trim()),meta:i(b,y,!0)}:void 0}},renderer:u}]}}const el=[{type:"note",icon:'<svg class="octicon octicon-info" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>'},{type:"info",icon:'<svg class="octicon octicon-info" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>'},{type:"tip",icon:'<svg class="octicon octicon-light-bulb" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"></path></svg>'},{type:"important",icon:'<svg class="octicon octicon-report" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0 1 14.25 13H8.06l-2.573 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25Zm7 2.25v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>'},{type:"warning",icon:'<svg class="octicon octicon-alert" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>'},{type:"caution",icon:'<svg class="octicon octicon-stop" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M4.47.22A.749.749 0 0 1 5 0h6c.199 0 .389.079.53.22l4.25 4.25c.141.14.22.331.22.53v6a.749.749 0 0 1-.22.53l-4.25 4.25A.749.749 0 0 1 11 16H5a.749.749 0 0 1-.53-.22L.22 11.53A.749.749 0 0 1 0 11V5c0-.199.079-.389.22-.53Zm.84 1.28L1.5 5.31v5.38l3.81 3.81h5.38l3.81-3.81V5.31L10.69 1.5ZM8 4a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>'},{type:"abstract",title:"Abstract",icon:'<svg class="octicon octicon-clipboard" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M5.75 1a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75Zm4.5-1.5a2.25 2.25 0 0 1 2.122 1.5H13a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h.628A2.25 2.25 0 0 1 5.75-.5ZM3.5 3v10a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5Z"></path></svg>'},{type:"summary",title:"Summary",icon:'<svg class="octicon octicon-clipboard" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M5.75 1a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75Zm4.5-1.5a2.25 2.25 0 0 1 2.122 1.5H13a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h.628A2.25 2.25 0 0 1 5.75-.5ZM3.5 3v10a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5Z"></path></svg>'},{type:"tldr",title:"TL;DR",icon:'<svg class="octicon octicon-clipboard" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M5.75 1a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75Zm4.5-1.5a2.25 2.25 0 0 1 2.122 1.5H13a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h.628A2.25 2.25 0 0 1 5.75-.5ZM3.5 3v10a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5Z"></path></svg>'},{type:"todo",title:"Todo",icon:'<svg class="octicon octicon-checklist" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M2.5 1.75v11.5c0 .138.112.25.25.25h3.17a.75.75 0 0 1 0 1.5H2.75A1.75 1.75 0 0 1 1 13.25V1.75C1 .784 1.784 0 2.75 0h8.5C12.216 0 13 .784 13 1.75v7.736a.75.75 0 0 1-1.5 0V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm10.97 8.72a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1-1.06 1.06l-1.22-1.22v4.94a.75.75 0 0 1-1.5 0v-4.94l-1.22 1.22a.75.75 0 0 1-1.06-1.06Z"></path></svg>'},{type:"success",title:"Success",icon:'<svg class="octicon octicon-check-circle" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16Zm3.78-9.72a.751.751 0 0 0-.018-1.042.751.751 0 0 0-1.042-.018L6.75 9.19 5.28 7.72a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042l2 2a.75.75 0 0 0 1.06 0Z"></path></svg>'},{type:"done",title:"Done",icon:'<svg class="octicon octicon-check-circle" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16Zm3.78-9.72a.751.751 0 0 0-.018-1.042.751.751 0 0 0-1.042-.018L6.75 9.19 5.28 7.72a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042l2 2a.75.75 0 0 0 1.06 0Z"></path></svg>'},{type:"question",title:"Question",icon:'<svg class="octicon octicon-question" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.92 6.085h.001a.749.749 0 1 1-1.342-.67c.169-.339.436-.701.849-.977C6.845 4.16 7.369 4 8 4a2.756 2.756 0 0 1 1.637.525c.503.377.863.965.863 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.103-.067.207-.132.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>'},{type:"help",title:"Help",icon:'<svg class="octicon octicon-question" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.92 6.085h.001a.749.749 0 1 1-1.342-.67c.169-.339.436-.701.849-.977C6.845 4.16 7.369 4 8 4a2.756 2.756 0 0 1 1.637.525c.503.377.863.965.863 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.103-.067.207-.132.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>'},{type:"faq",title:"FAQ",icon:'<svg class="octicon octicon-question" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.92 6.085h.001a.749.749 0 1 1-1.342-.67c.169-.339.436-.701.849-.977C6.845 4.16 7.369 4 8 4a2.756 2.756 0 0 1 1.637.525c.503.377.863.965.863 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.103-.067.207-.132.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>'},{type:"failure",title:"Failure",icon:'<svg class="octicon octicon-x-circle" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M2.343 13.657A8 8 0 1 1 13.658 2.343 8 8 0 0 1 2.343 13.657ZM6.03 4.97a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042L6.94 8 4.97 9.97a.749.749 0 0 0 .326 1.275.749.749 0 0 0 .734-.215L8 9.06l1.97 1.97a.749.749 0 0 0 1.275-.326.749.749 0 0 0-.215-.734L9.06 8l1.97-1.97a.749.749 0 0 0-.326-1.275.749.749 0 0 0-.734.215L8 6.94Z"></path></svg>'},{type:"fail",title:"Fail",icon:'<svg class="octicon octicon-x-circle" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M2.343 13.657A8 8 0 1 1 13.658 2.343 8 8 0 0 1 2.343 13.657ZM6.03 4.97a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042L6.94 8 4.97 9.97a.749.749 0 0 0 .326 1.275.749.749 0 0 0 .734-.215L8 9.06l1.97 1.97a.749.749 0 0 0 1.275-.326.749.749 0 0 0-.215-.734L9.06 8l1.97-1.97a.749.749 0 0 0-.326-1.275.749.749 0 0 0-.734.215L8 6.94Z"></path></svg>'},{type:"missing",title:"Missing",icon:'<svg class="octicon octicon-x-circle" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M2.343 13.657A8 8 0 1 1 13.658 2.343 8 8 0 0 1 2.343 13.657ZM6.03 4.97a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042L6.94 8 4.97 9.97a.749.749 0 0 0 .326 1.275.749.749 0 0 0 .734-.215L8 9.06l1.97 1.97a.749.749 0 0 0 1.275-.326.749.749 0 0 0-.215-.734L9.06 8l1.97-1.97a.749.749 0 0 0-.326-1.275.749.749 0 0 0-.734.215L8 6.94Z"></path></svg>'},{type:"danger",title:"Danger",icon:'<svg class="octicon octicon-zap" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M9.504.43a1.516 1.516 0 0 1 2.437 1.713L10.415 5.5h2.123c1.57 0 2.346 1.909 1.22 3.004l-7.34 7.142a1.249 1.249 0 0 1-.871.354h-.302a1.25 1.25 0 0 1-1.157-1.723L5.633 10.5H3.462c-1.57 0-2.346-1.909-1.22-3.004ZM9.98 1.873a.016.016 0 0 0-.016.006L2.252 9.021a.75.75 0 0 0 .488 1.212h3.838a.75.75 0 0 1 .694 1.034L5.545 15.02a.016.016 0 0 0 .003.017.017.017 0 0 0 .018.004h.302a.016.016 0 0 0 .012-.005l7.34-7.142a.75.75 0 0 0-.488-1.212h-3.838a.75.75 0 0 1-.694-1.034l1.527-3.628a.016.016 0 0 0-.003-.017.017.017 0 0 0-.018-.004h-.302Z"></path></svg>'},{type:"error",title:"Error",icon:'<svg class="octicon octicon-zap" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M9.504.43a1.516 1.516 0 0 1 2.437 1.713L10.415 5.5h2.123c1.57 0 2.346 1.909 1.22 3.004l-7.34 7.142a1.249 1.249 0 0 1-.871.354h-.302a1.25 1.25 0 0 1-1.157-1.723L5.633 10.5H3.462c-1.57 0-2.346-1.909-1.22-3.004ZM9.98 1.873a.016.016 0 0 0-.016.006L2.252 9.021a.75.75 0 0 0 .488 1.212h3.838a.75.75 0 0 1 .694 1.034L5.545 15.02a.016.016 0 0 0 .003.017.017.017 0 0 0 .018.004h.302a.016.016 0 0 0 .012-.005l7.34-7.142a.75.75 0 0 0-.488-1.212h-3.838a.75.75 0 0 1-.694-1.034l1.527-3.628a.016.016 0 0 0-.003-.017.017.017 0 0 0-.018-.004h-.302Z"></path></svg>'},{type:"bug",title:"Bug",icon:'<svg class="octicon octicon-bug" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M4.72.22a.75.75 0 0 1 1.06 0l1 .999a3.488 3.488 0 0 1 2.441 0l.999-1a.748.748 0 0 1 1.265.332.75.75 0 0 1-.205.729l-.775.776c.616.63.995 1.493.995 2.444v.327c0 .1-.009.197-.025.292l.727.726a.75.75 0 1 1-1.06 1.06l-.727-.727a2.17 2.17 0 0 1-.292.026H9.25V7.5a.75.75 0 0 1-1.5 0V6.125H6.875a2.17 2.17 0 0 1-.292-.026l-.727.727a.75.75 0 1 1-1.06-1.06l.727-.726a2.17 2.17 0 0 1-.025-.292V4.5c0-.951.379-1.814.995-2.444l-.775-.776a.75.75 0 0 1 0-1.06Zm6.437 6.003A.608.608 0 0 0 11 6.072v-.026a3.999 3.999 0 0 0-.11-.936 2.488 2.488 0 0 0-5.78 0 3.992 3.992 0 0 0-.11.936v.026c0 .05.008.098.02.147h4.937a.612.612 0 0 0 .2-.02ZM2.25 7.5a.75.75 0 0 0 0 1.5h.5v1.25a4.75 4.75 0 0 0 2.478 4.166l.247.137a.75.75 0 1 0 .722-1.313l-.246-.137A3.25 3.25 0 0 1 4.25 10.25V9h7.5v1.25a3.25 3.25 0 0 1-1.701 2.853l-.246.137a.75.75 0 1 0 .722 1.313l.247-.137A4.75 4.75 0 0 0 13.25 10.25V9h.5a.75.75 0 0 0 0-1.5Z"></path></svg>'},{type:"example",title:"Example",icon:'<svg class="octicon octicon-list-unordered" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M5.75 2.5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5ZM2 14a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm1-6a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM2 4a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>'},{type:"quote",title:"Quote",icon:'<svg class="octicon octicon-quote" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M1.75 2h12.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 14H1.75A1.75 1.75 0 0 1 0 12.25v-8.5C0 2.784.784 2 1.75 2ZM1.5 12.25c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25ZM4 5.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5A.75.75 0 0 1 4 5.25Zm0 4a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z"></path></svg>'},{type:"cite",title:"Cite",icon:'<svg class="octicon octicon-quote" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M1.75 2h12.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 14H1.75A1.75 1.75 0 0 1 0 12.25v-8.5C0 2.784.784 2 1.75 2ZM1.5 12.25c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25ZM4 5.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5A.75.75 0 0 1 4 5.25Zm0 4a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z"></path></svg>'}];function ac(n){return n.length?Object.values([...el,...n].reduce((a,l)=>(a[l.type]=l,a),{})):el}function tl(n){return`^(?:\\[!${n}])\\s*?
*`}const po=new Map;function lc(){return{extensions:[{name:"footnoteDef",level:"block",start(n){return po.clear(),n.match(/^\[\^/)?.index},tokenizer(n){const a=n.match(/^\[\^(.*)\]:(.*)/);if(a){const[l,r,s]=a,i=po.size+1;return po.set(r,{index:i,text:s}),{type:"footnoteDef",raw:l,fnId:r,index:i,text:s}}},renderer(n){const{index:a,text:l,fnId:r}=n,s=`
                <code>${a}.</code> 
                <span>${l}</span> 
                    <a id="fnDef-${r}" href="#fnRef-${r}" style="color: var(--md-primary-color);">↩︎</a>
                <br>`;return a===1?`
            <p style="font-size: 80%;margin: 0.5em 8px;word-break:break-all;">${s}`:a===po.size?`${s}</p>`:s}},{name:"footnoteRef",level:"inline",start(n){return n.match(/\[\^/)?.index},tokenizer(n){const a=n.match(/^\[\^(.*?)\]/);if(a){const[l,r]=a;if(po.has(r))return{type:"footnoteRef",raw:l,fnId:r}}},renderer(n){const{fnId:a}=n,{index:l}=po.get(a);return`<sup style="color: var(--md-primary-color);">
                    <a href="#fnDef-${a}" id="fnRef-${a}">[${l}]</a>
                </sup>`}}]}}const nr=new Map;let Jn=null;async function rc(n,a,l,r){if(!(typeof window>"u"))try{const{Infographic:s,setDefaultFont:i,setFontExtendFactor:u,exportToSVG:p}=await na(async()=>{const{Infographic:g,setDefaultFont:w,setFontExtendFactor:b,exportToSVG:k}=await import("./md-vendor_npm_antv-C5oXuiP_.js");return{Infographic:g,setDefaultFont:w,setFontExtendFactor:b,exportToSVG:k}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]));u(1.1),i('-apple-system-font, "system-ui", "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif');const d=(g=5,w=100)=>{const b=document.getElementById(n);if(b){const k=r?.themeMode==="dark",y=document.documentElement,h=getComputedStyle(y),$=h.getPropertyValue("--md-primary-color").trim(),E=h.getPropertyValue("--background").trim(),f=U=>{const C=U.split(" ");return C.length===3?`hsl(${C.join(", ")})`:C.length===4?`hsla(${C.join(", ")})`:""},_=new s({container:b,svg:{style:{width:"100%",height:"100%",background:k?"#000":"transparent"},background:!1},theme:k?"dark":"default",themeConfig:{colorPrimary:$||void 0,colorBg:f(E)||void 0}});_.on("loaded",({node:U})=>{p(U,{removeIds:!0}).then(C=>{b.replaceChildren(C),nr.set(l,b.innerHTML),Jn=b.innerHTML})}),_.render(a);return}g>0&&setTimeout(()=>d(g-1,w),w)};d()}catch(s){console.error("Failed to render Infographic:",s);const i=document.getElementById(n);i&&(i.innerHTML=`<div style="color: red; padding: 10px; border: 1px solid red;">Infographic 渲染失败: ${s instanceof Error?s.message:String(s)}</div>`)}}function ol(n){const a="infographic-diagram";return{extensions:[{name:"infographic",level:"block",start(l){return l.match(/^```infographic/m)?.index},tokenizer(l){const r=/^```infographic\r?\n([\s\S]*?)\r?\n```/.exec(l);if(r)return{type:"infographic",raw:r[0],text:r[1].trim()}},renderer(l){const r=l.text,s=pa(`${r}-${n?.themeMode||"light"}`),i=nr.get(s);if(i)return`<!--infographic-start--><div class="${a}" style="width: 100%;">${i}</div><!--infographic-end-->`;const u=`infographic-${s}`;return rc(u,r,s,n),Jn?`<!--infographic-start--><div id="${u}" class="${a}" style="width: 100%;">${Jn}</div><!--infographic-end-->`:`<!--infographic-start--><div id="${u}" class="${a}" style="width: 100%;">正在加载 Infographic...</div><!--infographic-end-->`}}],walkTokens(l){l.type==="code"&&l.lang==="infographic"&&(l.type="infographic")}}}const sc=/^(\${1,2})(?!\$)((?:\\.|[^\\\n])*?(?:\\.|[^\\\n$]))\1(?=[\s?!.,:？！。，：]|$)/,ic=/^(\${1,2})(?!\$)((?:\\.|[^\\\n])*?(?:\\.|[^\\\n$]))\1/,uc=/^\s{0,3}(\${1,2})[ \t]*\n([\s\S]+?)\n\s{0,3}\1[ \t]*(?:\n|$)/,dc=/^\\\(([^\\]*(?:\\.[^\\]*)*?)\\\)/,cc=/^\\\[([^\\]*(?:\\.[^\\]*)*?)\\\]/;function jo(n,a=!0){return l=>{const r=l.displayMode??n;window.MathJax.texReset();const i=window.MathJax.tex2svg(l.text,{display:r}).firstChild,u=i.style["min-width"]||i.getAttribute("width");return i.removeAttribute("width"),a&&(i.style.display="initial",i.style.setProperty("max-width","300vw","important"),i.style.flexShrink="0",i.style.width=u),r?`<section class="katex-block">${i.outerHTML}</section>`:`<span class="katex-inline">${i.outerHTML}</span>`}}function pc(n,a){const l=n&&n.nonStandard,r=l?ic:sc;return{name:"inlineKatex",level:"inline",start(s){let i,u=s;for(;u;){if(i=u.indexOf("$"),i===-1)return;if((l?i>-1:i===0||u.charAt(i-1)===" ")&&u.substring(i).match(r))return i;u=u.substring(i+1).replace(/^\$+/,"")}},tokenizer(s){const i=s.match(r);if(i)return{type:"inlineKatex",raw:i[0],text:i[2].trim(),displayMode:i[1].length===2}},renderer:a}}function mc(n,a){return{name:"blockKatex",level:"block",tokenizer(l){const r=l.match(uc);if(r)return{type:"blockKatex",raw:r[0],text:r[2].trim(),displayMode:!0}},renderer:a}}function fc(n,a){return{name:"inlineLatexKatex",level:"inline",start(l){const r=l.indexOf("\\(");return r!==-1?r:void 0},tokenizer(l){const r=l.match(dc);if(r)return{type:"inlineLatexKatex",raw:r[0],text:r[1].trim(),displayMode:!1}},renderer:a}}function gc(n,a){return{name:"blockLatexKatex",level:"block",start(l){const r=l.indexOf("\\[");return r!==-1?r:void 0},tokenizer(l){const r=l.match(cc);if(r)return{type:"blockLatexKatex",raw:r[0],text:r[1].trim(),displayMode:!0}},renderer:a}}function ar(n,a=!0){return{extensions:[pc(n,jo(!1,a)),mc(n,jo(!0,a)),fc(n,jo(!1,a)),gc(n,jo(!0,a))]}}function wc(){return{extensions:[{name:"markup_highlight",level:"inline",start(n){return n.match(/==(?!=)/)?.index},tokenizer(n){const l=/^==((?:[^=]|=(?!=))+)==/.exec(n);if(l)return{type:"markup_highlight",raw:l[0],text:l[1]}},renderer(n){return`<span class="markup-highlight">${n.text}</span>`}},{name:"markup_underline",level:"inline",start(n){return n.match(/\+\+(?!\+)/)?.index},tokenizer(n){const l=/^\+\+((?:[^+]|\+(?!\+))+)\+\+/.exec(n);if(l)return{type:"markup_underline",raw:l[0],text:l[1]}},renderer(n){return`<span class="markup-underline">${n.text}</span>`}},{name:"markup_wavyline",level:"inline",start(n){return n.match(/~(?!~)/)?.index},tokenizer(n){const l=/^~([^~\n]+)~(?!~)/.exec(n);if(l)return{type:"markup_wavyline",raw:l[0],text:l[1]}},renderer(n){return`<span class="markup-wavyline">${n.text}</span>`}}]}}const lr=new Map;let Zn=null;function vc(n,a,l){if(typeof window>"u")return;const r=i=>{lr.set(l,i),Zn=i;const u=document.getElementById(n);u&&(u.innerHTML=i)},s=i=>{console.error("Failed to render Mermaid:",i);const u=document.getElementById(n);u&&(u.innerHTML=`<div style="color: red; padding: 10px; border: 1px solid red;">Mermaid 渲染失败: ${i instanceof Error?i.message:String(i)}</div>`)};window.mermaid?window.mermaid.render(`mermaid-svg-${l}`,a).then(u=>r(u.svg)).catch(s):na(()=>import("mermaid"),[]).then(i=>i.default.render(`mermaid-svg-${l}`,a)).then(i=>r(i.svg)).catch(s)}function hc(){const n="mermaid-diagram";return{extensions:[{name:"mermaid",level:"block",start(a){return a.match(/^```mermaid/m)?.index},tokenizer(a){const l=/^```mermaid\r?\n([\s\S]*?)\r?\n```/.exec(a);if(l)return{type:"mermaid",raw:l[0],text:l[1].trim()}},renderer(a){const l=a.text,r=pa(l),s=lr.get(r);if(s)return`<!--mermaid-start--><div class="${n}">${s}</div><!--mermaid-end-->`;const i=`mermaid-${r}`;return vc(i,l,r),Zn?`<!--mermaid-start--><div id="${i}" class="${n}">${Zn}</div><!--mermaid-end-->`:`<!--mermaid-start--><div id="${i}" class="${n}">正在加载 Mermaid...</div><!--mermaid-end-->`}}],walkTokens(a){a.type==="code"&&a.lang==="mermaid"&&(a.type="mermaid")}}}const rr=new Map;let Rn=null;function Wo(n){return n<10?String.fromCharCode(48+n):(n-=10,n<26?String.fromCharCode(65+n):(n-=26,n<26?String.fromCharCode(97+n):(n-=26,n===0?"-":n===1?"_":"?")))}function In(n,a,l){const r=n>>2,s=(n&3)<<4|a>>4,i=(a&15)<<2|l>>6,u=l&63;let p="";return p+=Wo(r&63),p+=Wo(s&63),p+=Wo(i&63),p+=Wo(u&63),p}function bc(n){let a="";for(let l=0;l<n.length;l+=3)l+2===n.length?a+=In(n.charCodeAt(l),n.charCodeAt(l+1),0):l+1===n.length?a+=In(n.charCodeAt(l),0,0):a+=In(n.charCodeAt(l),n.charCodeAt(l+1),n.charCodeAt(l+2));return a}function yc(n){try{const a=new TextEncoder().encode(n),l=wi(a,{level:9});return String.fromCharCode(...l)}catch(a){return console.warn("Deflate compression failed:",a),n}}function xc(n){try{const a=yc(n);return bc(a)}catch(a){console.warn("PlantUML encoding failed, using fallback:",a);const l=new TextEncoder().encode(n);return`~1${btoa(String.fromCharCode(...l)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}`}}function _c(n,a){const l=xc(n),r=a.format==="svg"?"svg":"png";return`${a.serverUrl}/${r}/${l}`}function kc(n,a,l){const{text:r}=n,s=!r.trim().includes("@start")||!r.trim().includes("@end")?`@startuml
${r.trim()}
@enduml`:r,i=_c(s,a);if(a.inlineSvg&&a.format==="svg"){const u=`plantuml-${l}`;Ec(i).then(d=>{const g=document.querySelector(`[data-placeholder="${u}"]`);if(g){const w=nl(i,a,d);g.outerHTML=w,rr.set(l,w),Rn=d}});const p=a.styles.container?Object.entries(a.styles.container).map(([d,g])=>`${d.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${g}`).join("; "):"";return Rn?`<div class="${a.className}" style="${p}" data-placeholder="${u}">${Rn}</div>`:`<div class="${a.className}" style="${p}" data-placeholder="${u}">
      <div style="color: #666; font-style: italic;">正在加载PlantUML图表...</div>
    </div>`}return nl(i,a)}async function Ec(n){try{const a=await fetch(n);if(!a.ok)throw new Error(`HTTP ${a.status}`);return(await a.text()).replace(/(<svg[^>]*)\swidth="[^"]*"/g,"$1").replace(/(<svg[^>]*)\sheight="[^"]*"/g,"$1").replace(/(<svg[^>]*style="[^"]*?)width:[^;]*;?/g,"$1").replace(/(<svg[^>]*style="[^"]*?)height:[^;]*;?/g,"$1")}catch(a){return console.warn(`Failed to fetch SVG content from ${n}:`,a),'<div style="color: #666; font-style: italic;">PlantUML图表加载失败</div>'}}function nl(n,a,l){const r=a.styles.container?Object.entries(a.styles.container).map(([s,i])=>`${s.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${i}`).join("; "):"";return l?`<div class="${a.className}" style="${r}">
      ${l}
    </div>`:`<div class="${a.className}" style="${r}">
    <img src="${n}" alt="PlantUML Diagram" style="max-width: 100%; height: auto;" />
  </div>`}function Cc(n={}){const a={serverUrl:n.serverUrl||"https://www.plantuml.com/plantuml",format:n.format||"svg",className:n.className||"plantuml-diagram",inlineSvg:n.inlineSvg||!1,styles:{container:{textAlign:"center",margin:"16px 8px",overflowX:"auto",...n.styles?.container}}};return{extensions:[{name:"plantuml",level:"block",start(l){return l.match(/^```plantuml/m)?.index},tokenizer(l){const r=/^```plantuml\r?\n([\s\S]*?)\r?\n```/.exec(l);if(r){const[s,i]=r;return{type:"plantuml",raw:s,text:i.trim()}}},renderer(l){const r=pa(l.text),s=rr.get(r);return s||kc(l,a,r)}}],walkTokens(l){l.type==="code"&&l.lang==="plantuml"&&(l.type="plantuml")}}}function Sc(){return{extensions:[{name:"ruby",level:"inline",start(n){return n.match(/\[/)?.index},tokenizer(n){let l=/^\[([^\]]+)\]\{([^}]+)\}/.exec(n);if(l)return{type:"ruby",raw:l[0],text:l[1].trim(),ruby:l[2].trim(),format:"basic"};if(l=/^\[([^\]]+)\]\^\(([^)]+)\)/.exec(n),l)return{type:"ruby",raw:l[0],text:l[1].trim(),ruby:l[2].trim(),format:"basic-hat"}},renderer(n){const{text:a,ruby:l,format:r}=n,s=/[・．。-]/g;if(s.test(l)){const u=l.split(s).filter(g=>g.trim()!==""),p=a.split(""),d=[];if(p.length>=u.length){let g=0;for(let w=0;w<u.length;w++){const b=u[w],k=p.length-g,y=u.length-w;let h=1;y===1&&(h=k);const $=p.slice(g,g+h).join("");d.push(`<ruby data-text="${$}" data-ruby="${b}" data-format="${r}">${$}<rp>(</rp><rt>${b}</rt><rp>)</rp></ruby>`),g+=h}g<p.length&&d.push(p.slice(g).join(""))}else for(let g=0;g<p.length;g++){const w=p[g],b=u[g]||"";b?d.push(`<ruby data-text="${w}" data-ruby="${b}" data-format="${r}">${w}<rp>(</rp><rt>${b}</rt><rp>)</rp></ruby>`):d.push(w)}return d.join("")}return`<ruby data-text="${a}" data-ruby="${l}" data-format="${r}">${a}<rp>(</rp><rt>${l}</rt><rp>)</rp></ruby>`}}]}}function sr(){return{extensions:[{name:"horizontalSlider",level:"block",start(n){return n.match(/^<!\[/)?.index},tokenizer(n){const a=/^<(!\[.*?\]\(.*?\)(?:,!\[.*?\]\(.*?\))*)>/,l=n.match(a);if(l)return{type:"horizontalSlider",raw:l[0],text:l[1]}},renderer(n){const{text:a}=n,l=a.match(/!\[(.*?)\]\((.*?)\)/g)||[];return l.length===0?"":`
            <section style="box-sizing: border-box; font-size: 16px;">
              <section data-role="outer" style="font-family: 微软雅黑; font-size: 16px;">
                <section data-role="paragraph" style="margin: 0px auto; box-sizing: border-box; width: 100%;">
                  <section style="margin: 0px auto; text-align: center;">
                    <section style="display: inline-block; width: 100%;">
                      <!-- 微信公众号支持的滑动图片容器 -->
                      <section style="overflow-x: scroll; -webkit-overflow-scrolling: touch; white-space: nowrap; width: 100%; text-align: center;">
                        ${l.map(s=>{const i=s.match(/!\[(.*?)\]/)||[],u=s.match(/\]\((.*?)\)/)||[],p=i[1]||"";return{src:u[1]||"",alt:p}}).map((s,i)=>`<section style="display: inline-block; width: 100%; margin-right: 0; vertical-align: top;">
                          <img src="${s.src}" alt="${s.alt}" title="${s.alt}" style="width: 100%; height: auto; border-radius: 4px; vertical-align: top;"/>
                          <p style="margin-top: 5px; font-size: 14px; color: #666; text-align: center; white-space: normal;">${s.alt}</p>
                        </section>`).join("")}
                      </section>
                    </section>
                  </section>
                </section>
              </section>
              <p style="font-size: 14px; color: #999; text-align: center; margin-top: 5px;"><<< 左右滑动看更多 >>></p>
            </section>
          `}}]}}function $c(){let n=[],a=!0;return{walkTokens(l){if(a&&(n=[],a=!1),l.type==="heading"){const r=l.text||"",s=l.depth||1,i=n.length;n.push({text:r,depth:s,index:i})}},extensions:[{name:"toc",level:"block",start(l){const r=l.match(/^\s*\[TOC\]\s*$/m);return r?r.index:void 0},tokenizer(l){const r=/^\[TOC\]/.exec(l);if(r)return{type:"toc",raw:r[0]}},renderer(){if(!n.length)return"";let l='<nav class="markdown-toc"><ul class="toc-ul toc-level-1 pl-4 border-l ml-2">',r=1;n.forEach(({text:s,depth:i,index:u})=>{if(i>r)for(let p=r+1;p<=i;p++)l+=`<ul class="toc-ul toc-level-${p} pl-4 border-l ml-2">`;else if(i<r)for(let p=r;p>i;p--)l+="</ul>";l+=`<li class="toc-li toc-level-${i} mb-1"><a class="text-gray-700 hover:text-blue-600 underline transition-colors" href="#${u}">${s}</a></li>`,r=i});for(let s=r;s>1;s--)l+="</ul>";return l+="</ul></nav>",a=!0,l}}]}}Object.entries(qd).forEach(([n,a])=>{tn.registerLanguage(n,a)});wt.setOptions({breaks:!0});wt.use(sr());function Tc(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/`/g,"&#96;")}function Ac(){return`
    <style>
      .preview-wrapper pre::before {
        position: absolute;
        top: 0;
        right: 0;
        color: #ccc;
        text-align: center;
        font-size: 0.8em;
        padding: 5px 10px 0;
        line-height: 15px;
        height: 15px;
        font-weight: 600;
      }
    </style>
  `}function Gc(n){return n.map(([a,l,r])=>r===l?`<code style="font-size: 90%; opacity: 0.6;">[${a}]</code>: <i style="word-break: break-all">${l}</i><br/>`:`<code style="font-size: 90%; opacity: 0.6;">[${a}]</code> ${l}: <i style="word-break: break-all">${r}</i><br/>`).join(`
`)}function Lc(n,a,l){const r=n.split("-");for(const s of r){if(s==="alt"&&a)return a;if(s==="title"&&l)return l}return""}const Rc=`
  <svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0px" y="0px" width="45px" height="13px" viewBox="0 0 450 130">
    <ellipse cx="50" cy="65" rx="50" ry="52" stroke="rgb(220,60,54)" stroke-width="2" fill="rgb(237,108,96)" />
    <ellipse cx="225" cy="65" rx="50" ry="52" stroke="rgb(218,151,33)" stroke-width="2" fill="rgb(247,193,81)" />
    <ellipse cx="400" cy="65" rx="50" ry="52" stroke="rgb(27,161,37)" stroke-width="2" fill="rgb(100,200,86)" />
  </svg>
`.trim();function Ic(n){try{const a=Is(n),l=a.attributes,r=a.body,s=$a(r);return{yamlData:l,markdownContent:r,readingTime:s}}catch(a){return console.error("Error parsing front-matter:",a),{yamlData:{},markdownContent:n,readingTime:$a(n)}}}function Bc(n={}){const a=[];let l=0;const r=[],s=[];function i(){return n}function u(y,h,$){const E=$??y,f=`${y.replace(/_/g,"-")}`,_=/^h\d$/.test(E)?' data-heading="true"':"";return`<${E} class="${f}"${_}>${h}</${E}>`}function p(y,h){const $=a.find(([,,E])=>E===h);return $?$[0]:(a.push([++l,y,h]),l)}function d(y){a.length=0,l=0,g(y)}function g(y){n={...n,...y},wt.use(ol({themeMode:y.themeMode}))}function w(y){return!n.countStatus||!y.words?"":`
      <blockquote class="md-blockquote">
        <p class="md-blockquote-p">字数 ${y?.words}，阅读大约需 ${Math.ceil(y?.minutes)} 分钟</p>
      </blockquote>
    `}const b=()=>a.length?u("h4","引用链接")+u("footnotes",Gc(a),"p"):"",k={heading({tokens:y,depth:h}){const $=this.parser.parseInline(y),E=`h${h}`;return u(E,$)},paragraph({tokens:y}){const h=this.parser.parseInline(y),$=h.includes("<figure")&&h.includes("<img"),E=h.trim()==="";return $||E?h:u("p",h)},blockquote({tokens:y}){const h=this.parser.parse(y);return u("blockquote",h)},code({text:y,lang:h=""}){const $=h.split(" ")[0],E=tn.getLanguage($),_=tr(y,E?$:"plaintext",tn,!!n.isShowLineNumber),U=`<span class="mac-sign" style="padding: 10px 14px 0;">${Rc}</span>`;let C="";if(!E&&$!=="plaintext"){const A=y.replace(/"/g,"&quot;");C=` data-language-pending="${$}" data-raw-code="${A}" data-show-line-number="${n.isShowLineNumber}"`}const R=`<code class="language-${h}"${C}>${_}</code>`;return`<pre class="hljs code__pre">${U}${R}</pre>`},codespan({text:y}){const h=Tc(y);return u("codespan",h,"code")},list({ordered:y,items:h,start:$=1}){r.push(y),s.push(Number($));const E=h.map(f=>this.listitem(f)).join("");return r.pop(),s.pop(),u(y?"ol":"ul",E)},listitem(y){const h=r[r.length-1],$=s[s.length-1];s[s.length-1]=$+1;const E=h?`${$}. `:"• ";let f;try{f=this.parser.parseInline(y.tokens)}catch{f=this.parser.parse(y.tokens).replace(/^<p(?:\s[^>]*)?>([\s\S]*?)<\/p>/,"$1")}return u("listitem",`${E}${f}`,"li")},image({href:y,title:h,text:$}){const E=n.legend?Lc(n.legend,$,h):"",f=E?u("figcaption",E):"",_=h?` title="${h}"`:"";return`<figure><img src="${y}"${_} alt="${$}"/>${f}</figure>`},link({href:y,title:h,text:$,tokens:E}){const f=this.parser.parseInline(E);if(/^https?:\/\/mp\.weixin\.qq\.com/.test(y))return`<a href="${y}" title="${h||$}">${f}</a>`;if(y===$)return f;if(n.citeStatus){const _=p(h||$,y);return`<a href="${y}" title="${h||$}">${f}<sup>[${_}]</sup></a>`}return`<a href="${y}" title="${h||$}">${f}</a>`},strong({tokens:y}){return u("strong",this.parser.parseInline(y))},em({tokens:y}){return u("em",this.parser.parseInline(y))},table({header:y,rows:h}){const $=y.map(f=>{const _=this.parser.parseInline(f.tokens);return u("th",_)}).join(""),E=h.map(f=>{const _=f.map(U=>this.tablecell(U)).join("");return u("tr",_)}).join("");return`
        <section style="max-width: 100%; overflow: auto">
          <table class="preview-table">
            <thead>${$}</thead>
            <tbody>${E}</tbody>
          </table>
        </section>
      `},tablecell(y){const h=this.parser.parseInline(y.tokens);return u("td",h)},hr(y){return u("hr","")}};return wt.use({renderer:k}),wt.use(wc()),wt.use($c()),wt.use(sr()),wt.use(or({})),wt.use(ar({nonStandard:!0},!0)),wt.use(lc()),wt.use(hc()),wt.use(Cc({inlineSvg:!0})),wt.use(ol({themeMode:n.themeMode})),wt.use(Sc()),{buildAddition:Ac,buildFootnotes:b,setOptions:g,reset:d,parseFrontMatterAndContent:Ic,buildReadingTime:w,createContainer(y){return u("container",y,"section")},getOpts:i}}async function Dc(n){try{return(await vi([bi({preserve:!1}),hi({preserve:!1,mediaQueries:!1,selectors:!1})]).process(n,{from:void 0})).css}catch(a){return console.warn("[processCSS] CSS 处理失败，使用原始 CSS:",a),n}}const al={blockquote_note:"markdown-alert-note",blockquote_tip:"markdown-alert-tip",blockquote_info:"markdown-alert-info",blockquote_important:"markdown-alert-important",blockquote_warning:"markdown-alert-warning",blockquote_caution:"markdown-alert-caution",blockquote_abstract:"markdown-alert-abstract",blockquote_summary:"markdown-alert-summary",blockquote_tldr:"markdown-alert-tldr",blockquote_todo:"markdown-alert-todo",blockquote_success:"markdown-alert-success",blockquote_done:"markdown-alert-done",blockquote_question:"markdown-alert-question",blockquote_help:"markdown-alert-help",blockquote_faq:"markdown-alert-faq",blockquote_failure:"markdown-alert-failure",blockquote_fail:"markdown-alert-fail",blockquote_missing:"markdown-alert-missing",blockquote_danger:"markdown-alert-danger",blockquote_error:"markdown-alert-error",blockquote_bug:"markdown-alert-bug",blockquote_example:"markdown-alert-example",blockquote_quote:"markdown-alert-quote",blockquote_cite:"markdown-alert-cite",blockquote_title:"alert-title",blockquote_title_note:"alert-title-note",blockquote_title_tip:"alert-title-tip",blockquote_title_info:"alert-title-info",blockquote_title_important:"alert-title-important",blockquote_title_warning:"alert-title-warning",blockquote_title_caution:"alert-title-caution",blockquote_title_abstract:"alert-title-abstract",blockquote_title_summary:"alert-title-summary",blockquote_title_tldr:"alert-title-tldr",blockquote_title_todo:"alert-title-todo",blockquote_title_success:"alert-title-success",blockquote_title_done:"alert-title-done",blockquote_title_question:"alert-title-question",blockquote_title_help:"alert-title-help",blockquote_title_faq:"alert-title-faq",blockquote_title_failure:"alert-title-failure",blockquote_title_fail:"alert-title-fail",blockquote_title_missing:"alert-title-missing",blockquote_title_danger:"alert-title-danger",blockquote_title_error:"alert-title-error",blockquote_title_bug:"alert-title-bug",blockquote_title_example:"alert-title-example",blockquote_title_quote:"alert-title-quote",blockquote_title_cite:"alert-title-cite",blockquote_p:"alert-content",blockquote_p_note:"alert-content-note",blockquote_p_tip:"alert-content-tip",blockquote_p_info:"alert-content-info",blockquote_p_important:"alert-content-important",blockquote_p_warning:"alert-content-warning",blockquote_p_caution:"alert-content-caution",blockquote_p_abstract:"alert-content-abstract",blockquote_p_summary:"alert-content-summary",blockquote_p_tldr:"alert-content-tldr",blockquote_p_todo:"alert-content-todo",blockquote_p_success:"alert-content-success",blockquote_p_done:"alert-content-done",blockquote_p_question:"alert-content-question",blockquote_p_help:"alert-content-help",blockquote_p_faq:"alert-content-faq",blockquote_p_failure:"alert-content-failure",blockquote_p_fail:"alert-content-fail",blockquote_p_missing:"alert-content-missing",blockquote_p_danger:"alert-content-danger",blockquote_p_error:"alert-content-error",blockquote_p_bug:"alert-content-bug",blockquote_p_example:"alert-content-example",blockquote_p_quote:"alert-content-quote",blockquote_p_cite:"alert-content-cite",code_pre:"code-block",codespan:"code-inline",inline_katex:"katex-inline",block_katex:"katex-block",markup_highlight:"markup-highlight",markup_underline:"markup-underline",markup_wavyline:"markup-wavyline",listitem:"listitem"};function ll(n,a="#output"){return n.replace(/([^{}]+)\{([^}]*)\}/g,(l,r,s)=>{const i=r.trim();return i.startsWith("@")||i.startsWith(":root")?l:`${r.split(",").map(p=>{let d=p.trim();if(d.startsWith(a)||!d)return d;const g=d.split(/[\s>+~:[]/,1)[0].trim();return g&&al[g]&&(d=d.replace(g,`.${al[g]}`)),d.match(/^(h[1-6])(\s|$|::|[:[])/)?`${a} section ${d}`:`${a} ${d}`}).filter(Boolean).join(`,
`)} {${s}}`})}function ir(n){return`
:root {
  /* 动态配置变量 */
  --md-primary-color: ${n.primaryColor};
  --md-font-family: ${n.fontFamily};
  --md-font-size: ${n.fontSize};
}

/* 段落缩进和对齐 */
#output p {
  ${n.isUseIndent?"text-indent: 2em;":""}
  ${n.isUseJustify?"text-align: justify;":""}
}
  `.trim()}function Nc(n){return Oc(n.headingStyles)}function Oc(n){if(!n)return"";const a=["h1","h2","h3","h4","h5","h6"],l=[];for(const r of a){const s=n[r];s&&s!=="default"&&s!=="custom"&&l.push(Pc(r,s))}return l.join(`

`)}function Pc(n,a){const l=`
  display: block;
  text-align: left;
  background: transparent;`;switch(a){case"color-only":return`#output ${n} {
  color: var(--md-primary-color);
  background: transparent;
}`;case"border-bottom":return`#output ${n} {${l}
  padding-bottom: 0.3em;
  border-bottom: 2px solid var(--md-primary-color);
  color: var(--md-primary-color);
}`;case"border-left":return`#output ${n} {${l}
  margin-left: 0;
  padding-left: 10px;
  border-left: 4px solid var(--md-primary-color);
  color: var(--md-primary-color);
}`;default:return""}}const ur="https://proxy-ai.doocs.org/v1",rl=1,sl=1024,Tt="default",dr="",ro=[{value:"default",label:"内置服务",endpoint:ur,models:["Qwen/Qwen2.5-7B-Instruct","Qwen/Qwen2.5-Coder-7B-Instruct","Qwen/Qwen2-7B-Instruct","deepseek-ai/DeepSeek-R1-Distill-Qwen-7B","THUDM/GLM-Z1-9B-0414","THUDM/GLM-4-9B-0414","internlm/internlm2_5-7b-chat","qwen/qwen3-30b-a3b:free","qwen/qwen3-8b:free","qwen/qwen3-14b:free","qwen/qwen3-32b:free","qwen/qwen3-235b-a22b:free","tngtech/deepseek-r1t-chimera:free","thudm/glm-z1-9b:free","thudm/glm-z1-32b:free","thudm/glm-4-9b:free","thudm/glm-4-32b:free","microsoft/mai-ds-r1:free","arliai/qwq-32b-arliai-rpr-v1:free","nvidia/llama-3.3-nemotron-super-49b-v1:free","nvidia/llama-3.1-nemotron-ultra-253b-v1:free","meta-llama/llama-4-maverick:free","meta-llama/llama-4-scout:free","deepseek/deepseek-v3-base:free","qwen/qwen2.5-vl-3b-instruct:free","qwen/qwen2.5-vl-32b-instruct:free"]},{value:"deepseek",label:"DeepSeek",endpoint:"https://api.deepseek.com/v1",models:["deepseek-chat","deepseek-reasoner"]},{value:"openai",label:"OpenAI",endpoint:"https://api.openai.com/v1",models:["gpt-4.1","gpt-4.1-mini","gpt-4.1-nano","gpt-4-turbo","gpt-4o","gpt-3.5-turbo"]},{value:"qwen",label:"通义千问",endpoint:"https://dashscope.aliyuncs.com/compatible-mode/v1",models:["qwen-vl-max-2025-04-02","deepseek-v3","deepseek-r1-distill-llama-70b","deepseek-r1-distill-qwen-32b","deepseek-r1-distill-qwen-14b","deepseek-r1-distill-llama-8b","deepseek-r1-distill-qwen-1.5b","deepseek-r1-distill-qwen-7b","deepseek-r1","qwen1.5-7b-chat","qwen-coder-plus-1106","qwen-coder-plus","qwen-coder-plus-latest","qwen2.5-coder-3b-instruct","qwen2.5-coder-0.5b-instruct","qwen2.5-coder-14b-instruct","qwen2.5-coder-32b-instruct","qwen-coder-turbo-0919","qwen2.5-0.5b-instruct","qwen2.5-1.5b-instruct","qwen2.5-3b-instruct","qwen2.5-7b-instruct","qwen2.5-14b-instruct","qwen2.5-32b-instruct","qwen2.5-72b-instruct","qwen2.5-coder-7b-instruct","qwen2.5-math-1.5b-instruct","qwen2.5-math-7b-instruct","qwen2.5-math-72b-instruct","qwen-turbo-0919","qwen-turbo-latest","qwen-plus-0919","qwen-plus-latest","qwen-max-0919","qwen-max-latest","qwen-coder-turbo","qwen-coder-turbo-latest","qwen-math-turbo-0919","qwen-math-turbo","qwen-math-turbo-latest","qwen-math-plus-0919","qwen-math-plus","qwen-math-plus-latest","qwen2-57b-a14b-instruct","qwen2-72b-instruct","qwen2-7b-instruct","qwen2-0.5b-instruct","qwen2-1.5b-instruct","qwen-long","qwen-vl-max","qwen-vl-plus","qwen-max-0428","qwen1.5-110b-chat","qwen-72b-chat","codeqwen1.5-7b-chat","qwen1.5-0.5b-chat","qwen-1.8b-chat","qwen-1.8b-longcontext-chat","qwen-7b-chat","qwen-14b-chat","qwen1.5-14b-chat","qwen1.5-1.8b-chat","qwen1.5-32b-chat","qwen1.5-72b-chat","qwen-max-1201","qwen-max-longcontext","qwen-max-0403","qwen-max-0107","qwen-turbo","qwen-max","qwen-plus"]},{value:"hunyuan",label:"腾讯混元",endpoint:"https://api.hunyuan.cloud.tencent.com/v1",models:["hunyuan-pro","hunyuan-vision","hunyuan-lite","hunyuan-standard","hunyuan-standard-32K","hunyuan-standard-256k","hunyuan-code","hunyuan-role","hunyuan-functioncall","hunyuan-turbo-vision","hunyuan-turbo"]},{value:"doubao",label:"火山方舟",endpoint:"https://ark.cn-beijing.volces.com/api/v3",models:["doubao-1-5-thinking-pro-250415","doubao-1-5-thinking-pro-m-250415","deepseek-r1-250120","deepseek-r1-distill-qwen-32b-250120","deepseek-r1-distill-qwen-7b-250120","deepseek-v3-250324","deepseek-v3-241226","doubao-1-5-vision-pro-250328","doubao-1-5-vision-lite-250315","doubao-1-5-vision-pro-32k-250115","doubao-1-5-ui-tars-250328","doubao-vision-pro-32k-241028","doubao-vision-lite-32k-241015","doubao-1-5-pro-32k-250115","doubao-1-5-pro-256k-250115","doubao-1-5-lite-32k-250115","doubao-pro-4k-240515","doubao-pro-32k-241215","doubao-pro-32k-240828","doubao-pro-32k-240615","doubao-pro-256k-241115","doubao-lite-4k-character-240828","doubao-lite-32k-240828","doubao-lite-32k-character-241015","doubao-lite-128k-240828","moonshot-v1-8k","moonshot-v1-32k","moonshot-v1-128k"]},{value:"siliconflow",label:"硅基流动",endpoint:"https://api.siliconflow.cn/v1",models:["Qwen/Qwen3-235B-A22B","Qwen/Qwen3-30B-A3B","Qwen/Qwen3-32B","Qwen/Qwen3-14B","Qwen/Qwen3-8B","THUDM/GLM-Z1-32B-0414","THUDM/GLM-4-32B-0414","THUDM/GLM-Z1-Rumination-32B-0414","THUDM/GLM-4-9B-0414","Qwen/QwQ-32B","Pro/deepseek-ai/DeepSeek-R1","Pro/deepseek-ai/DeepSeek-V3","deepseek-ai/DeepSeek-R1","deepseek-ai/DeepSeek-V3","deepseek-ai/DeepSeek-R1-Distill-Qwen-32B","deepseek-ai/DeepSeek-R1-Distill-Qwen-14B","deepseek-ai/DeepSeek-R1-Distill-Qwen-7B","Pro/deepseek-ai/DeepSeek-R1-Distill-Qwen-7B","Pro/deepseek-ai/DeepSeek-R1-Distill-Qwen-1.5B","deepseek-ai/DeepSeek-V2.5","Qwen/Qwen2.5-72B-Instruct-128K","Qwen/Qwen2.5-72B-Instruct","Qwen/Qwen2.5-32B-Instruct","Qwen/Qwen2.5-14B-Instruct","Qwen/Qwen2.5-7B-Instruct","Qwen/Qwen2.5-Coder-32B-Instruct","Qwen/Qwen2.5-Coder-7B-Instruct","Qwen/Qwen2-7B-Instruct","Qwen/QwQ-32B-Preview","TeleAI/TeleChat2","THUDM/glm-4-9b-chat","Vendor-A/Qwen/Qwen2.5-72B-Instruct","internlm/internlm2_5-7b-chat","internlm/internlm2_5-20b-chat","Pro/Qwen/Qwen2.5-7B-Instruct","Pro/Qwen/Qwen2-7B-Instruct","Pro/Qwen/Qwen2-1.5B-Instruct","Pro/THUDM/chatglm3-6b","Pro/THUDM/glm-4-9b-chat"]},{value:"302ai",label:"302.AI",endpoint:" https://api.302.ai/v1",models:["chatgpt-4o-latest","gpt-4o","gpt-4o-mini","gpt-4-turbo","o1-preview","o1-mini","claude-3-5-sonnet-latest","claude-3-5-sonnet-20241022","claude-3-5-haiku-20241022","grok-beta"]},{value:"bigmodel",label:"智谱 AI",endpoint:"https://open.bigmodel.cn/api/paas/v4/",models:["glm-4.7","glm-4.7-flashx","glm-4.6","glm-4.5-air","glm-4.5-airx","glm-4-long","glm-4.7-flash","glm-4-flash-250414","glm-4-flashx-250414"]},{value:"baichuan",label:"百川智能",endpoint:"https://api.baichuan-ai.com/v1",models:["Baichuan4","Baichuan3-Turbo","Baichuan3-Turbo-128k","Baichuan2-Turbo"]},{value:"lingyiwanwu",label:"零一万物",endpoint:"https://api.lingyiwanwu.com/v1",models:["yi-lightning"]},{value:"moonshot",label:"月之暗面",endpoint:"https://api.moonshot.cn/v1",models:["moonshot-v1-8k","moonshot-v1-32k","moonshot-v1-128k"]},{value:"ernie",label:"百度千帆",endpoint:"https://qianfan.baidubce.com/v2",models:["ernie-4.5-turbo-128k","ernie-4.5-turbo-32k","ernie-4.5-8k-preview","ernie-4.0-8k","ernie-4.0-8k-latest","ernie-4.0-8k-preview","ernie-4.0-turbo-128k","ernie-4.0-turbo-8k","ernie-4.0-turbo-8k-latest","ernie-4.0-turbo-8k-preview","ernie-3.5-128k","ernie-3.5-8k","ernie-3.5-8k-preview","ernie-speed-128k","ernie-speed-8k","ernie-speed-pro-128k","ernie-lite-8k","ernie-lite-pro-128k","ernie-tiny-8k","ernie-novel-8k"]},{value:"custom",label:"自定义兼容 OpenAI API 的服务",endpoint:"",models:[]}];ro[0].models[0];const Kt=[{value:"default",label:"内置服务",endpoint:ur,models:["Kwai-Kolors/Kolors"]},{value:"openai",label:"OpenAI",endpoint:"https://api.openai.com/v1",models:["gpt-image-1","dall-e-3"]},{value:"siliconflow",label:"硅基流动",endpoint:"https://api.siliconflow.cn/v1",models:["Kwai-Kolors/Kolors","Qwen/Qwen-Image"]},{value:"302ai",label:"302.AI",endpoint:"https://api.302.ai/302",models:["302ai-flux-1-srpo","bagel-image","baidu-irag-01","dall-e-3","dall-e-2","doubao-seedream-3-0-t2i-250415","doubao-v2","doubao-v2-l","doubao-v2.1","doubao-v3","doubao-seedream-4-0-250828","flux-kontext-max","flux-kontext-pro","google-v3","google-v3-fast","google-v4-preview","gemini-2.5-flash-image","302-gemini-2.5-flash-image","gpt-image-1","hidream-i1-full","hidream-i1-dev","hidream-i1-fast","higgsfield","ideogram-v1","ideogram-v1-turbo","ideogram-v2","ideogram-v2-turbo","ideogram-v2a","ideogram-v2a-turbo","ideogram-v3-turbo","ideogram-v3-quality","ideogram-v3","kling-v1","kling-v1-5","kling-v2","luma","luma-flash","midjourney-v6","midjourney-v6-1","midjourney-v7","nijijourney-v6","minimaxi-image-01","qwen","qwen-lora","official-qwen-image","official-qwen-image-plus","wan2.2-t2i-flash","wan2.2-t2i-plus","wanx2.1-t2i-turbo","wanx2.1-t2i-plus","wanx2.0-t2i-turbo","wan2.5-t2i-preview","recraft-v3","recraft-20b","stable-v1","stable-sd2","stable-sd3-ultra","stable-sd3","stable-sd3-medium","stable-sd3-large","stable-sd3-turbo","cogview-4-250304","cogview-4"]},{value:"custom",label:"自定义兼容 OpenAI API 的服务",endpoint:"",models:[]}];Kt[0].models[0];const Mc={username:"bucketio",repoList:Array.from({length:20},(n,a)=>`img${a}`),branch:"main",accessTokenList:["ghp_sqQg5y7XC7Fy8XdoocsmdVEYRiRiTZPvbwzTL4MRjQc","ghp_jB5JXzBjpGbgzdoocsmdogWfSHhfCKGVstozw1cAsPv","ghp_zvy8wkHo259g7doocsmdJnUKOQd1WO1SPzZ9G0O9cJD","ghp_DnCJc2Ms0RVZ1doocsmdiWOAN78FurfSeD1Pv2Y28pO","ghp_EsMYDv9WVjXWP5doocsmd1nnDml2DEP95rOiz44bSo0","ghp_L4isHf01nllOOdoocsmdHBGoDG6jscCA09WV44QDvlg","ghp_qWciwYXHPakAUGdoocsmdBOBZdRcV08JThKey3mBZNJ","ghp_rxkvIO08wVL2DMdoocsmd2jDEhcatp2rfVyhd3A7RiS","ghp_1RvkWKboSxr0yVdoocsmd7OtBCpecYwoV6deh3utifJ","ghp_cduanDnAug60ngdoocsmdF1uDstXUi6S9RMhY1qdada","ghp_q6mxuJIkqAcsCXdoocsmdkkjWvzGlMVRuy5zI0IWNDx","ghp_Pv4npPeJpChKFMTdoocsmdCQneopUcqJrqrjl3vrt9A","ghp_gKMCFqMaQiLTqhjdoocsmd7BJE8RyK6AdRw4b42CutS","ghp_2oShgb33qFlqBmadoocsmdludmuLYxBFY5bao1XrsVo","ghp_eYyd3kxWTZmsV8doocsmdDFbAa7AEGQTJgmOd0GUmtY"]},Uc={username:"filesss",repoList:Array.from({length:20},(n,a)=>`img${a}`),branch:"main",accessTokenList:["ed5fc9866bd6c2fdoocsmddd433f806fd2f399c","5448ffebbbf1151doocsmdc4e337cf814fc8a62","25b05efd2557ca2doocsmd75b5c0835e3395911","11628c7a5aef015doocsmd2eeff9fb9566f0458","cb2f5145ed938dedoocsmdbd063b4ed244eecf8","d8c0b57500672c1doocsmd55f48b866b5ebcd98","78c56eadb88e453doocsmd43ddd95753351771a","03e1a688003948fdoocsmda16fcf41e6f03f1f0","c49121cf4d191fbdoocsmdd6a7877ed537e474a","adfeb2fadcdc4aadoocsmdfe1ee869ac9c968ff","116c94549ca4a0ddoocsmd192653af5c0694616","ecf30ed7f2eb184doocsmd51ea4ec8300371d9e","5837cf2bd5afd93doocsmd73904bed31934949e","b5b7e1c7d57e01fdoocsmd5266f552574297d78","684d55564ffbd0bdoocsmd7d747e5cc23aed6d6","3fc04a9d272ab71doocsmd010c56cb57d88d2ba"]},Vc="MD",ma=/Mac/i.test(navigator.userAgent),Ve="Mod",Ue=ma?"⌘":"Ctrl",Xn=ma?"⌥":"Alt",Qn=ma?"⇧":"Shift",cr=[{level:1,label:"标题 1"},{level:2,label:"标题 2"},{level:3,label:"标题 3"},{level:4,label:"标题 4"},{level:5,label:"标题 5"},{level:6,label:"标题 6"}],il={isDark:"深色模式",isEditOnLeft:"左侧编辑",isMacCodeBlock:"Mac 代码块",isShowLineNumber:"代码块行号",isCiteStatus:"微信外链接底部引用状态",isCountStatus:"字数统计状态",isUseIndent:"使用缩进",isUseJustify:"使用两端对齐",isOpenRightSlider:"开启右侧滑块",isOpenPostSlider:"开启右侧发布滑块",showAIToolbox:"AI 工具箱状态",theme:"主题",fontFamily:"字体",fontSize:"字体大小",primaryColor:"自定义主题色",codeBlockTheme:"代码块主题",legend:"图注格式",fontSizeNumber:"字体大小",currentPostId:"当前文章 ID",currentPostIndex:"当前文章索引",posts:"内容列表",cssContentConfig:"自定义 CSS",titleList:"文章标题列表",readingTime:"阅读时间",isShowCssEditor:"显示 CSS 编辑器",isShowInsertFormDialog:"显示插入表单对话框",isShowInsertMpCardDialog:"显示插入公众号名片对话框",isShowUploadImgDialog:"显示上传图片对话框",aiDialogVisible:"AI 对话框可见",aiImageDialogVisible:"AI 图片生成对话框可见"},Hc=`/**\r
 * MD 基础主题样式\r
 * 包含所有元素的基础样式和 CSS 变量定义\r
 */\r
\r
/* ==================== 容器样式 ==================== */\r
section,\r
container {\r
  font-family: var(--md-font-family);\r
  font-size: var(--md-font-size);\r
  line-height: 1.75;\r
  text-align: left;\r
}\r
\r
/* 确保 #output 容器应用基础样式 */\r
#output {\r
  font-family: var(--md-font-family);\r
  font-size: var(--md-font-size);\r
  line-height: 1.75;\r
  text-align: left;\r
}\r
\r
/* 去除第一个元素的 margin-top */\r
#output section > :first-child {\r
  margin-top: 0 !important;\r
}\r
\r
.mermaid-diagram .nodeLabel p {\r
  color: unset !important;\r
  letter-spacing: unset !important;\r
}\r
`,zc=`/**\r
 * MD 默认主题（经典主题）\r
 * 按 Alt/Option + Shift + F 可格式化\r
 * 如需使用主题色，请使用 var(--md-primary-color) 代替颜色值\r
 */\r
\r
/* ==================== 一级标题 ==================== */\r
h1 {\r
  display: table;\r
  padding: 0 1em;\r
  border-bottom: 2px solid var(--md-primary-color);\r
  margin: 2em auto 1em;\r
  color: hsl(var(--foreground));\r
  font-size: calc(var(--md-font-size) * 1.2);\r
  font-weight: bold;\r
  text-align: center;\r
}\r
\r
/* ==================== 二级标题 ==================== */\r
h2 {\r
  display: table;\r
  padding: 0 0.2em;\r
  margin: 4em auto 2em;\r
  color: #fff;\r
  background: var(--md-primary-color);\r
  font-size: calc(var(--md-font-size) * 1.2);\r
  font-weight: bold;\r
  text-align: center;\r
}\r
\r
/* ==================== 三级标题 ==================== */\r
h3 {\r
  padding-left: 8px;\r
  border-left: 3px solid var(--md-primary-color);\r
  margin: 2em 8px 0.75em 0;\r
  color: hsl(var(--foreground));\r
  font-size: calc(var(--md-font-size) * 1.1);\r
  font-weight: bold;\r
  line-height: 1.2;\r
}\r
\r
/* ==================== 四级标题 ==================== */\r
h4 {\r
  margin: 2em 8px 0.5em;\r
  color: var(--md-primary-color);\r
  font-size: calc(var(--md-font-size) * 1);\r
  font-weight: bold;\r
}\r
\r
/* ==================== 五级标题 ==================== */\r
h5 {\r
  margin: 1.5em 8px 0.5em;\r
  color: var(--md-primary-color);\r
  font-size: calc(var(--md-font-size) * 1);\r
  font-weight: bold;\r
}\r
\r
/* ==================== 六级标题 ==================== */\r
h6 {\r
  margin: 1.5em 8px 0.5em;\r
  font-size: calc(var(--md-font-size) * 1);\r
  color: var(--md-primary-color);\r
}\r
\r
/* ==================== 段落 ==================== */\r
p {\r
  margin: 1.5em 8px;\r
  letter-spacing: 0.1em;\r
  color: hsl(var(--foreground));\r
}\r
\r
/* ==================== 引用块 ==================== */\r
blockquote {\r
  font-style: normal;\r
  padding: 1em;\r
  border-left: 4px solid var(--md-primary-color);\r
  border-radius: 6px;\r
  color: hsl(var(--foreground));\r
  background: var(--blockquote-background);\r
  margin-bottom: 1em;\r
}\r
\r
blockquote > p {\r
  display: block;\r
  font-size: 1em;\r
  letter-spacing: 0.1em;\r
  color: hsl(var(--foreground));\r
  margin: 0;\r
}\r
\r
/* ==================== GFM 警告块 ==================== */\r
.alert-title-note,\r
.alert-title-tip,\r
.alert-title-info,\r
.alert-title-important,\r
.alert-title-warning,\r
.alert-title-caution,\r
.alert-title-abstract,\r
.alert-title-summary,\r
.alert-title-tldr,\r
.alert-title-todo,\r
.alert-title-success,\r
.alert-title-done,\r
.alert-title-question,\r
.alert-title-help,\r
.alert-title-faq,\r
.alert-title-failure,\r
.alert-title-fail,\r
.alert-title-missing,\r
.alert-title-danger,\r
.alert-title-error,\r
.alert-title-bug,\r
.alert-title-example,\r
.alert-title-quote,\r
.alert-title-cite {\r
  display: flex;\r
  align-items: center;\r
  gap: 0.5em;\r
  margin-bottom: 0.5em;\r
}\r
\r
.alert-title-note {\r
  color: #478be6;\r
}\r
\r
.alert-title-tip {\r
  color: #57ab5a;\r
}\r
\r
.alert-title-info {\r
  color: #93c5fd;\r
}\r
\r
.alert-title-important {\r
  color: #986ee2;\r
}\r
\r
.alert-title-warning {\r
  color: #c69026;\r
}\r
\r
.alert-title-caution {\r
  color: #e5534b;\r
}\r
\r
/* Obsidian-style callout colors */\r
.alert-title-abstract,\r
.alert-title-summary,\r
.alert-title-tldr {\r
  color: #00bfff;\r
}\r
\r
.alert-title-todo {\r
  color: #478be6;\r
}\r
\r
.alert-title-success,\r
.alert-title-done {\r
  color: #57ab5a;\r
}\r
\r
.alert-title-question,\r
.alert-title-help,\r
.alert-title-faq {\r
  color: #c69026;\r
}\r
\r
.alert-title-failure,\r
.alert-title-fail,\r
.alert-title-missing {\r
  color: #e5534b;\r
}\r
\r
.alert-title-danger,\r
.alert-title-error {\r
  color: #e5534b;\r
}\r
\r
.alert-title-bug {\r
  color: #e5534b;\r
}\r
\r
.alert-title-example {\r
  color: #986ee2;\r
}\r
\r
.alert-title-quote,\r
.alert-title-cite {\r
  color: #9ca3af;\r
}\r
\r
/* GFM Alert SVG 图标颜色 */\r
.alert-icon-note {\r
  fill: #478be6;\r
}\r
\r
.alert-icon-tip {\r
  fill: #57ab5a;\r
}\r
\r
.alert-icon-info {\r
  fill: #93c5fd;\r
}\r
\r
.alert-icon-important {\r
  fill: #986ee2;\r
}\r
\r
.alert-icon-warning {\r
  fill: #c69026;\r
}\r
\r
.alert-icon-caution {\r
  fill: #e5534b;\r
}\r
\r
/* Obsidian-style callout icon colors */\r
.alert-icon-abstract,\r
.alert-icon-summary,\r
.alert-icon-tldr {\r
  fill: #00bfff;\r
}\r
\r
.alert-icon-todo {\r
  fill: #478be6;\r
}\r
\r
.alert-icon-success,\r
.alert-icon-done {\r
  fill: #57ab5a;\r
}\r
\r
.alert-icon-question,\r
.alert-icon-help,\r
.alert-icon-faq {\r
  fill: #c69026;\r
}\r
\r
.alert-icon-failure,\r
.alert-icon-fail,\r
.alert-icon-missing {\r
  fill: #e5534b;\r
}\r
\r
.alert-icon-danger,\r
.alert-icon-error {\r
  fill: #e5534b;\r
}\r
\r
.alert-icon-bug {\r
  fill: #e5534b;\r
}\r
\r
.alert-icon-example {\r
  fill: #986ee2;\r
}\r
\r
.alert-icon-quote,\r
.alert-icon-cite {\r
  fill: #9ca3af;\r
}\r
\r
/* ==================== 代码块 ==================== */\r
pre.code__pre,\r
.hljs.code__pre {\r
  font-size: 90%;\r
  overflow-x: auto;\r
  border-radius: 8px;\r
  padding: 0 !important;\r
  line-height: 1.5;\r
  margin: 10px 8px;\r
}\r
\r
/* ==================== 图片 ==================== */\r
img {\r
  display: block;\r
  max-width: 100%;\r
  margin: 0.1em auto 0.5em;\r
  border-radius: 4px;\r
}\r
\r
/* ==================== 列表 ==================== */\r
ol {\r
  padding-left: 1em;\r
  margin-left: 0;\r
  color: hsl(var(--foreground));\r
}\r
\r
ul {\r
  list-style: circle;\r
  padding-left: 1em;\r
  margin-left: 0;\r
  color: hsl(var(--foreground));\r
}\r
\r
li {\r
  display: block;\r
  margin: 0.2em 8px;\r
  color: hsl(var(--foreground));\r
}\r
\r
/* ==================== 脚注 ==================== */\r
/* footnotes 在 buildFootnotes() 中渲染为 <p> 标签 */\r
p.footnotes {\r
  margin: 0.5em 8px;\r
  font-size: 80%;\r
  color: hsl(var(--foreground));\r
}\r
\r
/* ==================== 图表 ==================== */\r
figure {\r
  margin: 1.5em 8px;\r
  color: hsl(var(--foreground));\r
}\r
\r
figcaption,\r
.md-figcaption {\r
  text-align: center;\r
  color: #888;\r
  font-size: 0.8em;\r
}\r
\r
/* ==================== 分隔线 ==================== */\r
hr {\r
  border-style: solid;\r
  border-width: 2px 0 0;\r
  border-color: rgba(0, 0, 0, 0.1);\r
  -webkit-transform-origin: 0 0;\r
  -webkit-transform: scale(1, 0.5);\r
  transform-origin: 0 0;\r
  transform: scale(1, 0.5);\r
  height: 0.4em;\r
  margin: 1.5em 0;\r
}\r
\r
/* ==================== 行内代码 ==================== */\r
code {\r
  font-size: 90%;\r
  color: #d14;\r
  background: rgba(27, 31, 35, 0.05);\r
  padding: 3px 5px;\r
  border-radius: 4px;\r
}\r
\r
/* 代码块内的 code 标签需要特殊处理（覆盖行内 code 样式） */\r
pre.code__pre > code,\r
.hljs.code__pre > code {\r
  display: -webkit-box;\r
  padding: 0.5em 1em 1em;\r
  overflow-x: auto;\r
  text-indent: 0;\r
  color: inherit;\r
  background: none;\r
  white-space: nowrap;\r
  margin: 0;\r
}\r
\r
/* ==================== 强调 ==================== */\r
em {\r
  font-style: italic;\r
  font-size: inherit;\r
}\r
\r
/* ==================== 链接 ==================== */\r
a {\r
  color: #576b95;\r
  text-decoration: none;\r
}\r
\r
/* ==================== 粗体 ==================== */\r
strong {\r
  color: var(--md-primary-color);\r
  font-weight: bold;\r
  font-size: inherit;\r
}\r
\r
/* ==================== 表格 ==================== */\r
table {\r
  color: hsl(var(--foreground));\r
}\r
\r
thead {\r
  font-weight: bold;\r
  color: hsl(var(--foreground));\r
}\r
\r
th {\r
  border: 1px solid #dfdfdf;\r
  padding: 0.25em 0.5em;\r
  color: hsl(var(--foreground));\r
  word-break: keep-all;\r
  background: rgba(0, 0, 0, 0.05);\r
}\r
\r
td {\r
  border: 1px solid #dfdfdf;\r
  padding: 0.25em 0.5em;\r
  color: hsl(var(--foreground));\r
  word-break: keep-all;\r
}\r
\r
/* ==================== KaTeX 公式 ==================== */\r
.katex-inline {\r
  max-width: 100%;\r
  overflow-x: auto;\r
}\r
\r
.katex-block {\r
  max-width: 100%;\r
  overflow-x: auto;\r
  -webkit-overflow-scrolling: touch;\r
  padding: 0.5em 0;\r
  text-align: center;\r
}\r
\r
/* ==================== 标记高亮 ==================== */\r
.markup-highlight {\r
  background-color: var(--md-primary-color);\r
  padding: 2px 4px;\r
  border-radius: 2px;\r
  color: #fff;\r
}\r
\r
.markup-underline {\r
  text-decoration: underline;\r
  text-decoration-color: var(--md-primary-color);\r
}\r
\r
.markup-wavyline {\r
  text-decoration: underline wavy;\r
  text-decoration-color: var(--md-primary-color);\r
  text-decoration-thickness: 2px;\r
}\r
`,Fc=`/**\r
 * MD 优雅主题 (@brzhang)\r
 * 在默认主题基础上添加优雅的视觉效果\r
 */\r
\r
/* ==================== 标题样式 ==================== */\r
h1 {\r
  padding: 0.5em 1em;\r
  border-bottom: 2px solid var(--md-primary-color);\r
  font-size: calc(var(--md-font-size) * 1.4);\r
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\r
}\r
\r
h2 {\r
  padding: 0.3em 1em;\r
  border-radius: 8px;\r
  font-size: calc(var(--md-font-size) * 1.3);\r
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r
}\r
\r
h3 {\r
  padding-left: 12px;\r
  font-size: calc(var(--md-font-size) * 1.2);\r
  border-left: 4px solid var(--md-primary-color);\r
  border-bottom: 1px dashed var(--md-primary-color);\r
}\r
\r
h4 {\r
  font-size: calc(var(--md-font-size) * 1.1);\r
}\r
\r
h5 {\r
  font-size: var(--md-font-size);\r
}\r
\r
h6 {\r
  font-size: var(--md-font-size);\r
}\r
\r
/* ==================== 引用块 ==================== */\r
blockquote {\r
  font-style: italic;\r
  padding: 1em 1em 1em 2em;\r
  border-left: 4px solid var(--md-primary-color);\r
  border-radius: 6px;\r
  color: rgba(0, 0, 0, 0.6);\r
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);\r
  margin-bottom: 1em;\r
}\r
\r
.markdown-alert {\r
  font-style: italic;\r
}\r
\r
/* ==================== 代码块 ==================== */\r
pre.code__pre,\r
.hljs.code__pre {\r
  box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.05);\r
}\r
\r
pre.code__pre > code,\r
.hljs.code__pre > code {\r
  font-family:\r
    'Fira Code',\r
    Menlo,\r
    Operator Mono,\r
    Consolas,\r
    Monaco,\r
    monospace;\r
}\r
\r
/* ==================== 图片 ==================== */\r
img {\r
  border-radius: 8px;\r
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r
}\r
\r
figcaption,\r
.md-figcaption {\r
  text-align: center;\r
  color: #888;\r
  font-size: 0.8em;\r
}\r
\r
/* ==================== 列表 ==================== */\r
ol {\r
  padding-left: 1.5em;\r
}\r
\r
ul {\r
  list-style: none;\r
  padding-left: 1.5em;\r
}\r
\r
li {\r
  margin: 0.5em 8px;\r
}\r
\r
/* ==================== 分隔线 ==================== */\r
hr {\r
  height: 1px;\r
  border: none;\r
  margin: 2em 0;\r
  background: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0));\r
}\r
\r
/* ==================== 表格 ==================== */\r
table {\r
  border-collapse: separate;\r
  border-spacing: 0;\r
  border-radius: 8px;\r
  margin: 1em 8px;\r
  color: hsl(var(--foreground));\r
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r
  overflow: hidden;\r
}\r
\r
thead {\r
  color: #fff;\r
}\r
\r
td {\r
  padding: 0.5em 1em;\r
}\r
\r
/* ==================== 强调 ==================== */\r
em {\r
  font-style: italic;\r
  font-size: inherit;\r
}\r
\r
/* ==================== 链接 ==================== */\r
a {\r
  color: #576b95;\r
  text-decoration: none;\r
}\r
`,qc=`/**\r
 * MD 简洁主题 (@okooo5km)\r
 * 简洁现代的设计风格\r
 */\r
\r
/* ==================== 标题样式 ==================== */\r
h1 {\r
  padding: 0.5em 1em;\r
  font-size: calc(var(--md-font-size) * 1.4);\r
  text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.05);\r
}\r
\r
h2 {\r
  padding: 0.3em 1.2em;\r
  font-size: calc(var(--md-font-size) * 1.3);\r
  border-radius: 8px 24px 8px 24px;\r
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06);\r
}\r
\r
h3 {\r
  padding-left: 12px;\r
  font-size: calc(var(--md-font-size) * 1.2);\r
  border-radius: 6px;\r
  line-height: 2.4em;\r
  border-left: 4px solid var(--md-primary-color);\r
  border-right: 1px solid color-mix(in srgb, var(--md-primary-color) 10%, transparent);\r
  border-bottom: 1px solid color-mix(in srgb, var(--md-primary-color) 10%, transparent);\r
  border-top: 1px solid color-mix(in srgb, var(--md-primary-color) 10%, transparent);\r
  background: color-mix(in srgb, var(--md-primary-color) 8%, transparent);\r
}\r
\r
h4 {\r
  font-size: calc(var(--md-font-size) * 1.1);\r
  border-radius: 6px;\r
}\r
\r
h5 {\r
  font-size: var(--md-font-size);\r
  border-radius: 6px;\r
}\r
\r
h6 {\r
  font-size: var(--md-font-size);\r
  border-radius: 6px;\r
}\r
\r
/* ==================== 引用块 ==================== */\r
blockquote {\r
  font-style: italic;\r
  padding: 1em 1em 1em 2em;\r
  color: rgba(0, 0, 0, 0.6);\r
  border-bottom: 0.2px solid rgba(0, 0, 0, 0.04);\r
  border-top: 0.2px solid rgba(0, 0, 0, 0.04);\r
  border-right: 0.2px solid rgba(0, 0, 0, 0.04);\r
}\r
\r
/* GFM Alert 样式覆盖 */\r
.markdown-alert-note,\r
.markdown-alert-tip,\r
.markdown-alert-info,\r
.markdown-alert-important,\r
.markdown-alert-warning,\r
.markdown-alert-caution {\r
  font-style: italic;\r
}\r
\r
/* ==================== 代码块 ==================== */\r
pre.code__pre,\r
.hljs.code__pre {\r
  border: 1px solid rgba(0, 0, 0, 0.04);\r
}\r
\r
pre.code__pre > code,\r
.hljs.code__pre > code {\r
  font-family:\r
    'Fira Code',\r
    Menlo,\r
    Operator Mono,\r
    Consolas,\r
    Monaco,\r
    monospace;\r
}\r
\r
/* ==================== 图片 ==================== */\r
img {\r
  border-radius: 8px;\r
  border: 1px solid rgba(0, 0, 0, 0.04);\r
}\r
\r
figcaption,\r
.md-figcaption {\r
  text-align: center;\r
  color: #888;\r
  font-size: 0.8em;\r
}\r
\r
/* ==================== 列表 ==================== */\r
ol {\r
  padding-left: 1.5em;\r
}\r
\r
ul {\r
  list-style: none;\r
  padding-left: 1.5em;\r
}\r
\r
li {\r
  margin: 0.5em 8px;\r
}\r
\r
/* ==================== 分隔线 ==================== */\r
hr {\r
  height: 1px;\r
  border: none;\r
  margin: 2em 0;\r
  background: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0));\r
}\r
\r
/* ==================== 强调 ==================== */\r
em {\r
  font-style: italic;\r
  font-size: inherit;\r
}\r
\r
/* ==================== 链接 ==================== */\r
a {\r
  color: #576b95;\r
  text-decoration: none;\r
}\r
`,Kc=Hc,Wt={default:zc,grace:Fc,simple:qc},Yo={default:{label:"经典",value:"default",desc:""},grace:{label:"优雅",value:"grace",desc:"@brzhang"},simple:{label:"简洁",value:"simple",desc:"@okooo5km"}},an=[{label:"经典",value:"default",desc:""},{label:"优雅",value:"grace",desc:"@brzhang"},{label:"简洁",value:"simple",desc:"@okooo5km"}],ln=[{label:"无衬线",value:"-apple-system-font,BlinkMacSystemFont, Helvetica Neue, PingFang SC, Hiragino Sans GB , Microsoft YaHei UI , Microsoft YaHei ,Arial,sans-serif",desc:"字体123Abc"},{label:"衬线",value:"Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif",desc:"字体123Abc"},{label:"等宽",value:"Menlo, Monaco, 'Courier New', monospace",desc:"字体123Abc"}],rn=[{label:"14px",value:"14px",desc:"更小"},{label:"15px",value:"15px",desc:"稍小"},{label:"16px",value:"16px",desc:"推荐"},{label:"17px",value:"17px",desc:"稍大"},{label:"18px",value:"18px",desc:"更大"}],sn=[{label:"经典蓝",value:"#0F4C81",desc:"稳重冷静"},{label:"翡翠绿",value:"#009874",desc:"自然平衡"},{label:"活力橘",value:"#FA5151",desc:"热情活力"},{label:"柠檬黄",value:"#FECE00",desc:"明亮温暖"},{label:"薰衣紫",value:"#92617E",desc:"优雅神秘"},{label:"天空蓝",value:"#55C9EA",desc:"清爽自由"},{label:"玫瑰金",value:"#B76E79",desc:"奢华现代"},{label:"橄榄绿",value:"#556B2F",desc:"沉稳自然"},{label:"石墨黑",value:"#333333",desc:"内敛极简"},{label:"雾烟灰",value:"#A9A9A9",desc:"柔和低调"},{label:"樱花粉",value:"#FFB7C5",desc:"浪漫甜美"}],ea=[{label:"移动端",value:"w-[375px]",desc:"固定"},{label:"电脑端",value:"w-full",desc:"适应"}],jc="https://cdn-doocs.oss-cn-shenzhen.aliyuncs.com/npm/highlightjs/11.11.1/styles/",Wc=["1c-light","a11y-dark","a11y-light","agate","an-old-hope","androidstudio","arduino-light","arta","ascetic","atom-one-dark-reasonable","atom-one-dark","atom-one-light","brown-paper","codepen-embed","color-brewer","dark","default","devibeans","docco","far","felipec","foundation","github-dark-dimmed","github-dark","github","gml","googlecode","gradient-dark","gradient-light","grayscale","hybrid","idea","intellij-light","ir-black","isbl-editor-dark","isbl-editor-light","kimbie-dark","kimbie-light","lightfair","lioshi","magula","mono-blue","monokai-sublime","monokai","night-owl","nnfx-dark","nnfx-light","nord","obsidian","panda-syntax-dark","panda-syntax-light","paraiso-dark","paraiso-light","pojoaque","purebasic","qtcreator-dark","qtcreator-light","rainbow","routeros","school-book","shades-of-purple","srcery","stackoverflow-dark","stackoverflow-light","sunburst","tokyo-night-dark","tokyo-night-light","tomorrow-night-blue","tomorrow-night-bright","vs","vs2015","xcode","xt256"],un=Wc.map(n=>({label:n,value:`${jc}${n}.min.css`,desc:""})),Yc=[{label:"一级标题",value:"h1",desc:""},{label:"二级标题",value:"h2",desc:""},{label:"三级标题",value:"h3",desc:""},{label:"四级标题",value:"h4",desc:""},{label:"五级标题",value:"h5",desc:""},{label:"六级标题",value:"h6",desc:""}],Jc=[{label:"默认",value:"default",desc:""},{label:"主题色文字",value:"color-only",desc:""},{label:"下边框",value:"border-bottom",desc:""},{label:"左边框",value:"border-left",desc:""},{label:"自定义",value:"custom",desc:""}],Zc={},dn=[{label:"title 优先",value:"title-alt",desc:""},{label:"alt 优先",value:"alt-title",desc:""},{label:"只显示 title",value:"title",desc:""},{label:"只显示 alt",value:"alt",desc:""},{label:"不显示",value:"none",desc:""}],Ze={isCiteStatus:!1,isMacCodeBlock:!0,isShowLineNumber:!1,isCountStatus:!1,theme:an[0].value,fontFamily:ln[0].value,fontSize:rn[2].value,primaryColor:sn[0].value,codeBlockTheme:un[23].value,legend:dn[3].value,headingStyles:Zc};class Xc{styleElement=null;styleId="md-theme";inject(a){this.styleElement||(this.styleElement=document.createElement("style"),this.styleElement.id=this.styleId,document.head.appendChild(this.styleElement)),this.styleElement.textContent=a}remove(){this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}isInjected(){return this.styleElement!==null}}let Bn=null;function Qc(){return Bn||(Bn=new Xc),Bn}async function e1(n){const a=ir(n.variables);let l=Wt.default;if(n.themeName!=="default"){const d=Wt[n.themeName];d&&(l=`${l}

${d}`)}const r=ll(l,"#output"),s=Nc(n.variables),i=n.customCSS?ll(n.customCSS,"#output"):"";let u=[a,Kc,r,s,i].filter(Boolean).join(`

`);u=await Dc(u),Qc().inject(u)}function yo(n){const l=/[\\/:*?"<>|]/g;if(!l.test(n)&&n.length<=100)return n.trim()||"untitled";const r=n.replace(l,"_").trim();return(r.length>100?r.slice(0,100):r)||"untitled"}function t1(n){const a=n.split(`
`),l=a.filter(r=>r.trim()).map(r=>r.match(/(^\s+)?/)[0].length).sort((r,s)=>r-s)[0];return a.map(r=>r.slice(l)).join(`
`)}function pr(n){if(!/\.(?:gif|pjp|jfif|jpe|pjpeg|jpe?g|png|webp)$/i.test(n.name))return{ok:!1,msg:"请上传 GIF/JPG/JPEG/PNG/WEBP 格式的图片"};const l=10;return n.size>l*1024*1024?{ok:!1,msg:`由于公众号限制，图片大小不能超过 ${l}M`}:{ok:!0,msg:""}}const kt=yi.create({baseURL:"",timeout:30*1e3});kt.interceptors.request.use(n=>(/^(?:post|put|delete)$/i.test(`${n.method}`)&&n.data&&n.data.upload&&(n.headers["Content-Type"]="multipart/form-data"),n),n=>{Promise.reject(n)});kt.interceptors.response.use(n=>n.data?n.data:Promise.reject(n),n=>Promise.reject(n));function $o(n,a,l="text/plain"){if(typeof document>"u")throw new TypeError("downloadFile can only be used in browser environment");const r=document.createElement("a");if(r.download=a,r.style.display="none",n.startsWith("data:"))r.href=n;else if(l==="text/html")r.href=`data:text/html;charset=utf-8,${encodeURIComponent(n)}`;else{const s=new Blob([n],{type:l});r.href=URL.createObjectURL(s)}document.body.appendChild(r),r.click(),document.body.removeChild(r),!n.startsWith("data:")&&l!=="text/html"&&URL.revokeObjectURL(r.href)}function mr(n){return new Promise((a,l)=>{const r=new FileReader;r.readAsDataURL(n),r.onload=()=>a(r.result.split(",").pop()),r.onerror=s=>l(s)})}function o1({data:n,rows:a,cols:l}){let r="";for(let s=0;s<a+2;++s){r+="| ";const i=[];for(let u=0;u<l;++u){const p=s>1?s-1:s;i.push(s===1?"---":n[`k_${p}_${u}`]||"     ")}r+=i.join(" | "),r+=` |
`}return r}async function fn(n,a="markdown"){const l=a==="css"?"css":a==="javascript"?"babel":"markdown",r=a==="css"?[_i]:a==="javascript"?[Ta]:[ki,Ta];return await xi.format(n,{parser:l,plugins:r,printWidth:80,tabWidth:2,useTabs:!1,semi:!1,singleQuote:!0,quoteProps:"as-needed",trailingComma:"es5",bracketSpacing:!0,bracketSameLine:!1,arrowParens:"avoid",proseWrap:"preserve",htmlWhitespaceSensitivity:"css",endOfLine:"lf"})}function fr(n){let a="";const l=n.length;for(let r=0;r<l;r++){const s=n.charCodeAt(r);s>=1&&s<=127?a+=n.charAt(r):s>2047?(a+=String.fromCharCode(224|s>>12&15),a+=String.fromCharCode(128|s>>6&63),a+=String.fromCharCode(128|s&63)):(a+=String.fromCharCode(192|s>>6&31),a+=String.fromCharCode(128|s&63))}return a}function n1(n){let a="",l=0;const r=n.length;for(;l<r;){const s=n.charCodeAt(l++);let i,u;switch(s>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=n.charAt(l-1);break;case 12:case 13:i=n.charCodeAt(l++),a+=String.fromCharCode((s&31)<<6|i&63);break;case 14:i=n.charCodeAt(l++),u=n.charCodeAt(l++),a+=String.fromCharCode((s&15)<<12|(i&63)<<6|u&63);break}}return a}const Ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",Jo=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];function gr(n){let a="",l=0;const r=n.length;for(;l<r;){const s=n.charCodeAt(l++)&255;if(l===r){a+=Ft.charAt(s>>2),a+=Ft.charAt((s&3)<<4),a+="==";break}const i=n.charCodeAt(l++);if(l===r){a+=Ft.charAt(s>>2),a+=Ft.charAt((s&3)<<4|(i&240)>>4),a+=Ft.charAt((i&15)<<2),a+="=";break}const u=n.charCodeAt(l++);a+=Ft.charAt(s>>2),a+=Ft.charAt((s&3)<<4|(i&240)>>4),a+=Ft.charAt((i&15)<<2|(u&192)>>6),a+=Ft.charAt(u&63)}return a}function a1(n){let a,l,r,s,i=0;const u=n.length;let p="";for(;i<u;){do a=Jo[n.charCodeAt(i++)&255];while(i<u&&a===-1);if(a===-1)break;do l=Jo[n.charCodeAt(i++)&255];while(i<u&&l===-1);if(l===-1)break;p+=String.fromCharCode(a<<2|(l&48)>>4);do{if(r=n.charCodeAt(i++)&255,r===61)return p;r=Jo[r]}while(i<u&&r===-1);if(r===-1)break;p+=String.fromCharCode((l&15)<<4|(r&60)>>2);do{if(s=n.charCodeAt(i++)&255,s===61)return p;s=Jo[s]}while(i<u&&s===-1);if(s===-1)break;p+=String.fromCharCode((r&3)<<6|s)}return p}function wr(n){return n=n.replace(/\+/g,"-"),n=n.replace(/\//g,"_"),n}const l1=Object.freeze(Object.defineProperty({__proto__:null,base64decode:a1,base64encode:gr,safe64:wr,utf16to8:fr,utf8to16:n1},Symbol.toStringTag,{value:"Module"}));function r1(n,a,l,r){const s=ir(l),i=["/**"," * MD 主题导出",` * 导出时间: ${new Date().toLocaleString()}`," * 说明: 该文件包含完整的主题样式，可直接使用"," */","",s,"",a,"",n].filter(Boolean).join(`
`);return $o(i,`${r}.css`,"text/css"),i}class Dn{async get(a){try{return localStorage.getItem(a)}catch(l){return console.error("[Storage] Failed to get item:",a,l),null}}async set(a,l){try{localStorage.setItem(a,l)}catch(r){throw console.error("[Storage] Failed to set item:",a,r),r}}async remove(a){try{localStorage.removeItem(a)}catch(l){console.error("[Storage] Failed to remove item:",a,l)}}async has(a){try{return localStorage.getItem(a)!==null}catch{return!1}}async clear(){try{localStorage.clear()}catch(a){console.error("[Storage] Failed to clear storage:",a)}}async keys(){try{return Object.keys(localStorage)}catch{return[]}}}class s1{engine=new Dn;setEngine(a){this.engine=a}getEngine(){return this.engine}async get(a){return this.engine.get(a)}async set(a,l){return this.engine.set(a,l)}async getJSON(a,l){const r=await this.engine.get(a);if(!r)return l??null;try{return JSON.parse(r)}catch(s){return console.error("[Storage] Failed to parse JSON for key:",a,s),l??null}}async setJSON(a,l){try{const r=JSON.stringify(l);return this.engine.set(a,r)}catch(r){throw console.error("[Storage] Failed to stringify JSON for key:",a,r),r}}async remove(a){return this.engine.remove(a)}async has(a){return this.engine.has(a)}async clear(){return this.engine.clear()}async keys(){return this.engine.keys()}reactive(a,l){const r=typeof l=="string";let s=l;if(this.engine instanceof Dn)try{const u=localStorage.getItem(a);u!==null&&(s=r?u:this.parseJSON(u,l))}catch(u){console.error("[Storage] Failed to read initial value:",a,u)}const i=D(s);return this.engine instanceof Dn||(r?this.get(a).then(p=>p!==null?p:null):this.getJSON(a,l)).then(p=>{p!==null&&(i.value=p)}),Promise.resolve().then(()=>{Ie(i,u=>{(r?this.set(a,u):this.setJSON(a,u)).catch(d=>{console.error("[Storage] Failed to save reactive data:",a,d)})},{deep:!0})}),i}customReactive(a,l,r){let s=l;return this.getJSON(a,l).then(i=>{const u=i??l;s=r?.get?r.get(u):u}),Zo((i,u)=>({get(){return i(),s},set:p=>{const d=r?.set?r.set(p):p;s=d,u(),this.setJSON(a,d).catch(g=>{console.error("[Storage] Failed to save custom reactive data:",a,g)})}}))}parseJSON(a,l){try{return JSON.parse(a)}catch{return console.warn("[Storage] Failed to parse JSON, using fallback"),l}}}const z=new s1;function ut(n){return`${Vc}__${n}`}function i1(n,a="untitled"){const l=yo(a);$o(n,`${l}.md`,"text/markdown;charset=utf-8")}function fa(){return document.querySelector("#output").innerHTML}async function u1(n="untitled"){const a=fa(),l=await ga(),r=`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>${yo(n)}</title>
  ${l}
</head>
<body>
  <div style="width: 750px; margin: auto; padding: 20px;">
    ${a}
  </div>
</body>
</html>`;$o(r,`${yo(n)}.html`,"text/html")}async function vr(n){const a=new $s;return a.use(or({withoutStyle:!0})),a.use(ar({nonStandard:!0},!1)),await a.parse(n)}async function d1(n,a="untitled"){const l=yo(a),r=await vr(n);$o(r,`${l}.html`,"text/html")}async function c1(n="untitled"){const a=fa(),l=await ga(),r=yo(n),s=window.open("","_blank");if(!s){console.error("无法打开打印窗口");return}s.document.write(`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <title>${r}</title>
      ${l}
      <style>
        /* 强制打印背景颜色和图片 */
        * {
          -webkit-print-color-adjust: exact !important;
          print-color-adjust: exact !important;
          color-adjust: exact !important;
        }

        /* 打印页面设置 */
        @page {
          @top-center {
            content: "${r}";
            font-size: 12px;
            color: #666;
          }
          @bottom-left {
            content: "https://md.doocs.org";
            font-size: 10px;
            color: #999;
          }
          @bottom-right {
            content: "第 " counter(page) " 页，共 " counter(pages) " 页";
            font-size: 10px;
            color: #999;
          }
        }

        @media print {
          body { margin: 0; }
        }
      </style>
    </head>
    <body>
      <div style="width: 100%; max-width: 750px; margin: auto;">
        ${a}
      </div>
    </body>
    </html>
  `),s.document.close(),s.onload=()=>{s.print(),s.onafterprint=()=>{s.close()}}}function p1(){const a=document.getElementById("output").getElementsByTagName("img");Array.from(a).forEach(l=>{const r=l.getAttribute("width"),s=l.getAttribute("height");r&&(l.removeAttribute("width"),l.style.width=/^\d+$/.test(r)?`${r}px`:r),s&&(l.removeAttribute("height"),l.style.height=/^\d+$/.test(s)?`${s}px`:s)})}async function m1(){const n=document.querySelector("#hljs");if(!n)return"";try{return`<style>${await(await fetch(n.href)).text()}</style>`}catch(a){return console.warn("Failed to fetch highlight.js styles:",a),""}}function f1(){const n=document.querySelector("#md-theme");if(!n||!n.textContent)return console.warn("[getThemeStyles] 未找到主题样式"),"";let a=n.textContent;return a=a.replace(/#output\s*\{/g,"body {"),a=a.replace(/#output\s+/g,""),a=a.replace(/^#output\s*/gm,""),`<style>${a}</style>`}function g1(n){return Ei(n,{inlinePseudoElements:!0,preserveImportant:!0,resolveCSSVariables:!1})}function w1(n){const a=document.createElement("div");return a.innerHTML=n,a.querySelectorAll("li > ul, li > ol").forEach(l=>{l.parentElement.insertAdjacentElement("afterend",l)}),a.innerHTML}function ul(){const n=document.createElement("p");return n.style.fontSize="0",n.style.lineHeight="0",n.style.margin="0",n.innerHTML="&nbsp;",n}async function ga(){const n=f1(),a=await m1();return[n,a].filter(Boolean).join("")}async function v1(n){const a=document.getElementById("output"),l=await ga();l&&(a.innerHTML=l+a.innerHTML),a.innerHTML=w1(g1(a.innerHTML)),a.innerHTML=a.innerHTML.replace(/([^-])top:(.*?)em/g,"$1transform: translateY($2em)").replace(/hsl\(var\(--foreground\)\)/g,"#3f3f3f").replace(/var\(--blockquote-background\)/g,"#f7f7f7").replace(/var\(--md-primary-color\)/g,n).replace(/--md-primary-color:.+?;/g,"").replace(/--md-font-family:.+?;/g,"").replace(/--md-font-size:.+?;/g,"").replace(/<span class="nodeLabel"([^>]*)><p[^>]*>(.*?)<\/p><\/span>/g,'<span class="nodeLabel"$1>$2</span>').replace(/<span class="edgeLabel"([^>]*)><p[^>]*>(.*?)<\/p><\/span>/g,'<span class="edgeLabel"$1>$2</span>'),p1();const r=ul(),s=ul();a.insertBefore(r,a.firstChild),a.appendChild(s),a.querySelectorAll(".nodeLabel").forEach(u=>{const p=u.parentElement,d=p.getAttribute("xmlns"),g=p.getAttribute("style"),w=document.createElement("section");w.setAttribute("xmlns",d),w.setAttribute("style",g),w.innerHTML=p.innerHTML;const b=p.parentElement;b.innerHTML="",b.appendChild(w)}),a.innerHTML=a.innerHTML.replace(/<tspan([^>]*)>/g,'<tspan$1 style="fill: #333333 !important; color: #333333 !important; stroke: none !important;">'),a.querySelectorAll(".infographic-diagram").forEach(u=>{u.querySelectorAll("text").forEach(p=>{const d=p.getAttribute("dominant-baseline"),g={alphabetic:"",central:"0.35em",middle:"0.35em",hanging:"-0.55em",ideographic:"0.18em","text-before-edge":"-0.85em","text-after-edge":"0.15em"};if(d){p.removeAttribute("dominant-baseline");const w=g[d];w&&p.setAttribute("dy",w)}})})}const Fe=Ct("ui",()=>{const n=Il(),a=at(n),l=z.reactive("isEditOnLeft",!0),r=at(l),s=z.reactive("showAIToolbox",!0),i=at(s),u=z.reactive("hasShownAIToolboxHint",!1),p=z.reactive(ut("is_open_right_slider"),!1),d=z.reactive(ut("is_open_post_slider"),!1),g=z.reactive(ut("is_open_folder_panel"),!1),w=z.reactive("isMobile",!1),b=z.reactive(ut("isPinFloatingToc"),!1),k=at(b),y=z.reactive(ut("isShowFloatingToc"),!0),h=at(y),$=z.reactive(ut("enableImageReupload"),!1),E=at($),f=z.reactive("isShowCssEditor",!1),_=at(f),U=D(!1),C=at(U),R=D(!1),A=at(R),I=D(!1),x=at(I),j=D(!1),ne=at(j),L=D(null),O=D(!1),M=at(O),G=D(!1),T=D(!1),re=D(!1);function Q(ye){T.value=ye??!T.value}function Z(ye){re.value=ye??!re.value}const ae=D(null);function se(ye="",be=!1){ae.value={word:ye,showReplace:be}}function ee(){ae.value=null}function P(){w.value=window.innerWidth<=768}return ct(()=>{P(),window.addEventListener("resize",P)}),Xo(()=>{window.removeEventListener("resize",P)}),{isDark:n,isEditOnLeft:l,showAIToolbox:s,hasShownAIToolboxHint:u,isOpenRightSlider:p,isOpenPostSlider:d,isMobile:w,isPinFloatingToc:b,isShowFloatingToc:y,isOpenFolderPanel:g,enableImageReupload:$,isShowCssEditor:f,toggleShowCssEditor:_,isShowInsertFormDialog:U,toggleShowInsertFormDialog:C,isShowInsertMpCardDialog:R,toggleShowInsertMpCardDialog:A,isShowUploadImgDialog:I,toggleShowUploadImgDialog:x,isShowImportMdDialog:j,toggleShowImportMdDialog:ne,importMdOpenUrl:L,isShowTemplateDialog:O,toggleShowTemplateDialog:M,isOpenConfirmDialog:G,aiDialogVisible:T,toggleAIDialog:Q,aiImageDialogVisible:re,toggleAIImageDialog:Z,searchTabRequest:ae,openSearchTab:se,clearSearchTabRequest:ee,toggleDark:a,toggleEditOnLeft:r,toggleAIToolbox:i,togglePinFloatingToc:k,toggleShowFloatingToc:h,toggleImageReupload:E}}),h1=`/**\r
 * 按 Alt/Option + Shift + F 可格式化\r
 * 如需使用主题色，请使用 var(--md-primary-color) 代替颜色值\r
 * 如：color: var(--md-primary-color);\r
 * 新主题系统已全面支持 CSS 写法，你可以 F12 打开控制台查看具体的类名及标签\r
 *\r
 * 召集令：如果你有好看的主题样式，欢迎分享，让更多人能够使用到你的主题。\r
 * 提交区：https://github.com/doocs/md/discussions/426\r
 */\r
\r
/* 全局变量定义 */\r
:root {\r
}\r
\r
/* 根容器 */\r
.md-container {\r
}\r
\r
/* 标题样式 */\r
h1 {\r
}\r
\r
h2 {\r
}\r
\r
h3 {\r
}\r
\r
h4 {\r
}\r
\r
h5 {\r
}\r
\r
h6 {\r
}\r
\r
/* 段落和文本 */\r
p {\r
}\r
\r
strong {\r
}\r
\r
em {\r
}\r
\r
/* 引用块 */\r
blockquote {\r
}\r
\r
blockquote > p {\r
}\r
\r
/* 代码 */\r
/* 行内代码 */\r
code {\r
}\r
\r
/* 代码块容器 */\r
pre.code__pre,\r
.hljs.code__pre {\r
}\r
\r
/* 代码块内的 code */\r
pre.code__pre > code,\r
.hljs.code__pre > code {\r
}\r
\r
/* 列表 */\r
ol {\r
}\r
\r
ul {\r
}\r
\r
li {\r
}\r
\r
/* 表格 */\r
table {\r
}\r
\r
thead {\r
}\r
\r
th {\r
}\r
\r
td {\r
}\r
\r
/* 其他元素 */\r
img {\r
}\r
\r
hr {\r
}\r
\r
figure {\r
}\r
\r
figcaption {\r
}\r
\r
/* KaTeX 公式 */\r
.katex-inline {\r
}\r
\r
.katex-block {\r
}\r
\r
/* Markup 标记 */\r
/* 高亮 ==文本== */\r
.markup-highlight {\r
}\r
\r
/* 下划线 ++文本++ */\r
.markup-underline {\r
}\r
\r
/* 波浪线 ~文本~ */\r
.markup-wavyline {\r
}\r
\r
/* GFM Alert 警告块 */\r
/* Alert 标题 */\r
.alert-title-note {\r
}\r
\r
.alert-title-tip {\r
}\r
\r
.alert-title-info {\r
}\r
\r
.alert-title-important {\r
}\r
\r
.alert-title-warning {\r
}\r
\r
.alert-title-caution {\r
}\r
\r
.alert-title-abstract {\r
}\r
\r
.alert-title-summary {\r
}\r
\r
.alert-title-tldr {\r
}\r
\r
.alert-title-todo {\r
}\r
\r
.alert-title-success {\r
}\r
\r
.alert-title-done {\r
}\r
\r
.alert-title-question {\r
}\r
\r
.alert-title-help {\r
}\r
\r
.alert-title-faq {\r
}\r
\r
.alert-title-failure {\r
}\r
\r
.alert-title-fail {\r
}\r
\r
.alert-title-missing {\r
}\r
\r
.alert-title-danger {\r
}\r
\r
.alert-title-error {\r
}\r
\r
.alert-title-bug {\r
}\r
\r
.alert-title-example {\r
}\r
\r
.alert-title-quote {\r
}\r
\r
.alert-title-cite {\r
}\r
\r
/* Alert SVG 图标 */\r
.alert-icon-note {\r
}\r
\r
.alert-icon-tip {\r
}\r
\r
.alert-icon-info {\r
}\r
\r
.alert-icon-important {\r
}\r
\r
.alert-icon-warning {\r
}\r
\r
.alert-icon-caution {\r
}\r
\r
/* Obsidian-style Callout SVG 图标 */\r
.alert-icon-abstract {\r
}\r
\r
.alert-icon-summary {\r
}\r
\r
.alert-icon-tldr {\r
}\r
\r
.alert-icon-todo {\r
}\r
\r
.alert-icon-success {\r
}\r
\r
.alert-icon-done {\r
}\r
\r
.alert-icon-question {\r
}\r
\r
.alert-icon-help {\r
}\r
\r
.alert-icon-faq {\r
}\r
\r
.alert-icon-failure {\r
}\r
\r
.alert-icon-fail {\r
}\r
\r
.alert-icon-missing {\r
}\r
\r
.alert-icon-danger {\r
}\r
\r
.alert-icon-error {\r
}\r
\r
.alert-icon-bug {\r
}\r
\r
.alert-icon-example {\r
}\r
\r
.alert-icon-quote {\r
}\r
\r
.alert-icon-cite {\r
}\r
`,hr=[Xr(),_l(),aa(),Qr(),kl(),es(),cn.allowMultipleSelections.of(!0),ts(),El(Al,{fallback:!0}),os(),Cl(),ns(),as(),ls(),rs(),Sl(),$l(),_o.of([...Tl,...la,...ss,...ra,...is,...us,...ds,{key:"Tab",run:cs},ps])];_l(),aa(),kl(),El(Al,{fallback:!0}),_o.of([...la,...ra]);async function b1(n){const a=n.state.doc.toString(),l=await fn(a,"css");n.dispatch({changes:{from:0,to:n.state.doc.length,insert:l}})}function y1(){return[hr,ms(),Mt.lineWrapping,_o.of([{key:"Shift-Alt-f",run:n=>(b1(n),!0)}])]}function Vo(n,{prefix:a,suffix:l,check:r,afterInsertCursorOffset:s=0}){const i=n.state.selection.main,u=n.state.doc.sliceString(i.from,i.to),p=r?.(u)??!1;let d;if(p)d=u.slice(a.length,u.length-l.length),n.dispatch(n.state.replaceSelection(d));else if(d=`${a}${u}${l}`,n.dispatch(n.state.replaceSelection(d)),s!==0){const w=n.state.selection.main.head+s;n.dispatch({selection:{anchor:w}})}}function xt(n,a){const l=n.state.selection.ranges,r=[],s=`${"#".repeat(a)} `;if(l.forEach(i=>{const u=n.state.doc.lineAt(i.from),p=n.state.doc.lineAt(i.to);for(let d=u.number;d<=p.number;d++){const g=n.state.doc.line(d),b=n.state.doc.sliceString(g.from,g.to).replace(/^#{1,6}\s+/,"").trimStart(),k=s+b;r.push({from:g.from,to:g.to,insert:k})}}),r.length>0){const u=n.state.doc.lineAt(l[0].from).from+s.length;n.dispatch({changes:r,selection:{anchor:u}})}}function br(n){Vo(n,{prefix:"**",suffix:"**",check:a=>a.startsWith("**")&&a.endsWith("**"),afterInsertCursorOffset:-2})}function yr(n){Vo(n,{prefix:"*",suffix:"*",check:a=>a.startsWith("*")&&a.endsWith("*"),afterInsertCursorOffset:-1})}function xr(n){Vo(n,{prefix:"~~",suffix:"~~",check:a=>a.startsWith("~~")&&a.endsWith("~~"),afterInsertCursorOffset:-2})}function _r(n){Vo(n,{prefix:"[",suffix:"]()",check:a=>a.startsWith("[")&&a.endsWith("]()"),afterInsertCursorOffset:-1})}function kr(n){Vo(n,{prefix:"`",suffix:"`",check:a=>a.startsWith("`")&&a.endsWith("`"),afterInsertCursorOffset:-1})}function x1(n,a){const l=n.state.selection.main,r=n.state.doc.sliceString(l.from,l.to),s=/^\s*<span\s+style="color:\s*([^"\s][^"]*)"\s*>([\s\S]*)<\/span>\s*$/i,i=r.match(s);if(i){const u=i[2],p=`<span style="color: ${a}">${u}</span>`;n.dispatch({changes:{from:l.from,to:l.to,insert:p},selection:{anchor:l.from,head:l.from+p.length}})}else{const u=`<span style="color: ${a}">${r}</span>`;n.dispatch({changes:{from:l.from,to:l.to,insert:u},selection:{anchor:l.from,head:l.from+u.length}})}}function Er(n){const a=n.state.selection.main,r=n.state.doc.sliceString(a.from,a.to).split(`
`),i=r.every(u=>u.trim().startsWith("- "))?r.map(u=>u.replace(/^- +/,"")).join(`
`):r.map(u=>`- ${u}`).join(`
`);n.dispatch(n.state.replaceSelection(i))}function Cr(n){const a=n.state.selection.main,r=n.state.doc.sliceString(a.from,a.to).split(`
`),i=r.every(u=>/^\d+\.\s/.test(u.trim()))?r.map(u=>u.replace(/^\d+\.\s+/,"")).join(`
`):r.map((u,p)=>`${p+1}. ${u}`).join(`
`);n.dispatch(n.state.replaceSelection(i))}function Sr(n){return fs(n)}function $r(n){return gs(n)}async function _1(n){const a=n.state.doc.toString(),l=await fn(a,"javascript");n.dispatch({changes:{from:0,to:n.state.doc.length,insert:l}})}function k1(){return[hr,ws(),_o.of([{key:"Shift-Alt-f",run:n=>(_1(n),!0)}])]}async function E1(n){const a=n.state.doc.toString(),l=await fn(a,"markdown");n.dispatch({changes:{from:0,to:n.state.doc.length,insert:l}})}function C1(n){const l=n.state.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:"  "},range:ys.range(r.from+2,r.from+2)}));return n.dispatch(l),!0}function S1(n){const{onSearch:a,onReplace:l}=n||{};return _o.of([{key:"Tab",run:C1},{key:"Mod-z",run:Sr},{key:"Mod-y",run:$r},{key:"Mod-b",run:r=>(br(r),!0)},{key:"Mod-i",run:r=>(yr(r),!0)},{key:"Mod-d",run:r=>(xr(r),!0)},{key:"Mod-k",run:r=>(_r(r),!0)},{key:"Mod-e",run:r=>(kr(r),!0)},{key:"Mod-1",run:r=>(xt(r,1),!0)},{key:"Mod-2",run:r=>(xt(r,2),!0)},{key:"Mod-3",run:r=>(xt(r,3),!0)},{key:"Mod-4",run:r=>(xt(r,4),!0)},{key:"Mod-5",run:r=>(xt(r,5),!0)},{key:"Mod-6",run:r=>(xt(r,6),!0)},{key:"Mod-u",run:r=>(Er(r),!0)},{key:"Mod-o",run:r=>(Cr(r),!0)},...a?[{key:"Mod-f",run:r=>(a(r),!0)}]:[],...l?[{key:"Mod-h",run:r=>(l(r),!0)}]:[],{key:"Shift-Alt-f",run:r=>(E1(r),!0)},{key:"Mod-g",run:()=>!0}])}function $1(n){return[aa(),Sl(),Cl(),$l(),vs({base:_s,codeLanguages:xs,addKeymap:!0}),hs.high(S1(n)),_o.of([...la,...ra,...Tl]),Mt.lineWrapping,cn.allowMultipleSelections.of(!0),bs("开始写作...")]}const Tr=Mt.theme({".cm-gutterElement":{display:"flex",justifyContent:"right",alignItems:"center"}});function T1(){return[Es,Tr]}function A1(){return[ks,Tr]}function xo(n){return n?A1():T1()}const Go=h1,Ho=Ct("cssEditor",()=>{const n=Il(),a=D(null),l=D(null),r=z.reactive("__css_content",Go),s=z.reactive(ut("css_content_config"),{active:"方案1",tabs:[{title:"方案1",name:"方案1",content:r.value||Go}]}),i=()=>s.value.tabs.find(f=>f.name===s.value.active),u=()=>i().content,p=f=>{a.value&&a.value.dispatch({changes:{from:0,to:a.value.state.doc.length,insert:f}})};let d=null;const g=f=>{d=f},w=f=>{console.log("tabChanged",f),s.value.active=f;const _=s.value.tabs.find(U=>U.name===f).content;p(_),d&&d(_)},b=f=>{const _=i();_.title=f,_.name=f,s.value.active=f},k=(f,_)=>{const U=_||Go;s.value.tabs.push({name:f,title:f,content:U}),s.value.active=f,console.log("addCssContentTab",f),p(U),d&&d(U)},y=f=>s.value.tabs.every(({name:_})=>_!==f),h=()=>{s.value={active:"方案 1",tabs:[{title:"方案 1",name:"方案 1",content:Go}]},a.value&&a.value.dispatch({changes:{from:0,to:a.value.state.doc.length,insert:Go}})},$=f=>{const _=document.querySelector("#cssEditor");if(!_)return;_.value=i().content;const U=document.createElement("div");U.className="w-full h-full",_.parentNode?.replaceChild(U,_),l.value=new sa;const C=cn.create({doc:i().content,extensions:[y1(),l.value.of(xo(n.value)),Mt.updateListener.of(R=>{if(R.docChanged){const A=R.state.doc.toString();i().content=A,f(A)}})]});a.value=As(new Mt({state:C,parent:U}))};return Ie(n,()=>{a.value&&l.value&&a.value.dispatch({effects:l.value.reconfigure(xo(n.value))})}),ct(()=>{r.value=""}),{cssEditor:a,cssContentConfig:s,getCurrentTab:i,getCurrentTabContent:u,setCssEditorValue:p,setOnTabChangedCallback:g,tabChanged:w,renameTab:b,addCssContentTab:k,validatorTabName:y,resetCssConfig:h,initCssEditor:$,scrollToHeading:f=>{if(!a.value)return;const _=a.value.state.doc.toString(),U=new RegExp(`^${f}\\s*\\{`,"m"),C=_.match(U);if(C&&C.index!==void 0){const R=C.index;let A=0,I=R,x=!1;for(let j=R;j<_.length;j++)if(_[j]==="{")A++,x=!0;else if(_[j]==="}"&&(A--,x&&A===0)){I=j+1;break}a.value.dispatch({selection:{anchor:R,head:I},scrollIntoView:!0}),a.value.focus()}}}}),jt=Ct("theme",()=>{const n=z.reactive(ut("theme"),Ze.theme),a=z.reactive("fonts",Ze.fontFamily),l=z.reactive("size",Ze.fontSize),r=z.reactive("color",Ze.primaryColor),s=z.reactive("codeBlockTheme",Ze.codeBlockTheme),i=z.reactive("legend",Ze.legend),u=z.reactive("isMacCodeBlock",Ze.isMacCodeBlock),p=z.reactive("isShowLineNumber",Ze.isShowLineNumber),d=z.reactive("isCiteStatus",Ze.isCiteStatus),g=z.reactive("isCountStatus",Ze.isCountStatus),w=z.reactive(ut("use_indent"),!1),b=z.reactive(ut("use_justify"),!1),k=z.reactive("previewWidth",ea[0].value),y=z.reactive("headingStyles",Ze.headingStyles),h=he(()=>Number(l.value.replace("px",""))),$=at(u),E=at(p),f=at(d),_=at(g),U=at(w),C=at(b);return{theme:n,fontFamily:a,fontSize:l,fontSizeNumber:h,primaryColor:r,codeBlockTheme:s,legend:i,isMacCodeBlock:u,isShowLineNumber:p,isCiteStatus:d,isCountStatus:g,isUseIndent:w,isUseJustify:b,previewWidth:k,headingStyles:y,toggleMacCodeBlock:$,toggleShowLineNumber:E,toggleCiteStatus:f,toggleCountStatus:_,toggleUseIndent:U,toggleUseJustify:C,resetStyle:()=>{d.value=Ze.isCiteStatus,u.value=Ze.isMacCodeBlock,p.value=Ze.isShowLineNumber,g.value=Ze.isCountStatus,n.value=Ze.theme,a.value=Ze.fontFamily,l.value=Ze.fontSize,r.value=Ze.primaryColor,s.value=Ze.codeBlockTheme,i.value=Ze.legend,y.value={...Ze.headingStyles},w.value=!1,b.value=!1},updateCodeTheme:()=>{const ne=s.value,L=document.querySelector("#hljs");if(L)L.setAttribute("href",ne);else{const O=document.createElement("link");O.setAttribute("type","text/css"),O.setAttribute("rel","stylesheet"),O.setAttribute("href",ne),O.setAttribute("id","hljs"),document.head.appendChild(O)}},applyCurrentTheme:async()=>{try{const L=Ho().getCurrentTabContent();await e1({themeName:n.value,customCSS:L,variables:{primaryColor:r.value,fontFamily:a.value,fontSize:l.value,isUseIndent:w.value,isUseJustify:b.value,headingStyles:y.value}})}catch(ne){console.error("[applyCurrentTheme] 主题应用失败:",ne)}},setHeadingStyle:(ne,L)=>{y.value={...y.value,[ne]:L==="default"?void 0:L}},getHeadingStyle:ne=>y.value[ne]||"default"}}),At=Ct("render",()=>{const n=D(""),a=Qo({chars:0,words:0,minutes:0}),l=D([]);let r=null;const s=d=>(r=Bc(d||{}),r),i=()=>r,u=()=>{const d=document.createElement("div");d.innerHTML=n.value;const g=d.querySelectorAll("[data-heading]");l.value=[];let w=0;for(const b of g)b.setAttribute("id",`${w}`),l.value.push({url:`#${w}`,title:`${b.textContent}`,level:Number(b.tagName.slice(1))}),w++;n.value=d.innerHTML};return{output:n,readingTime:a,titleList:l,initRendererInstance:s,getRenderer:i,render:d=>{if(!r)throw new Error("Renderer not initialized. Call initRendererInstance first.");const g=jt(),w=Fe();r.reset({citeStatus:g.isCiteStatus,legend:g.legend,countStatus:g.isCountStatus,isMacCodeBlock:g.isMacCodeBlock,isShowLineNumber:g.isShowLineNumber,themeMode:w.isDark?"dark":"light"});const{html:b,readingTime:k}=Xd(d,r);return a.chars=d.length,a.words=k.words,a.minutes=Math.ceil(k.minutes),n.value=Qd(b,k,r),u(),n.value},extractTitles:u}}),G1={class:"flex select-none items-center justify-end px-5 py-2 text-xs"},L1={class:"space-x-2"},R1=Y({__name:"Footer",setup(n){const a=At(),{readingTime:l}=Re(a);return(r,s)=>(v(),N("footer",G1,[c("div",L1,[c("span",null,V(e(l).words)+" 个词 ",1),c("span",null,V(e(l).chars)+" 个字符 ",1),c("span",null," 阅读大约需 "+V(e(l).minutes)+" 分钟 ",1)])]))}}),gn=Y({__name:"AlertDialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean}},emits:["update:open"],setup(n,{emit:a}){const s=je(n,a);return(i,u)=>(v(),B(e($i),et(tt(e(s))),{default:o(()=>[ge(i.$slots,"default")]),_:3},16))}});function ke(...n){return od(td(n))}const wn=Y({__name:"AlertDialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(n,{emit:a}){const l=n,r=a,s=he(()=>{const{class:u,...p}=l;return p}),i=je(s,r);return(u,p)=>(v(),B(e(Gi),null,{default:o(()=>[t(e(Ti),{class:"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80"}),t(e(Ai),te(e(i),{class:e(ke)("fixed left-1/2 top-1/2 z-200 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",l.class)}),{default:o(()=>[ge(u.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),vn=Y({__name:"AlertDialogFooter",props:{class:{}},setup(n){const a=n;return(l,r)=>(v(),N("div",{class:we(e(ke)("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",a.class))},[ge(l.$slots,"default")],2))}}),Ge=Y({__name:"Button",props:{variant:{},size:{},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(n){const a=n;return(l,r)=>(v(),B(e(Dl),{as:n.as,"as-child":n.asChild,class:we(e(ke)(e(wa)({variant:n.variant,size:n.size}),a.class,"cursor-pointer"))},{default:o(()=>[ge(l.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),wa=Ol("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",xs:"h-7 rounded px-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),hn=Y({__name:"AlertDialogAction",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const a=n,l=he(()=>{const{class:r,...s}=a;return s});return(r,s)=>(v(),B(e(Li),te(e(l),{class:e(ke)(e(wa)(),a.class)}),{default:o(()=>[ge(r.$slots,"default")]),_:3},16,["class"]))}}),bn=Y({__name:"AlertDialogCancel",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const a=n,l=he(()=>{const{class:r,...s}=a;return s});return(r,s)=>(v(),B(e(Ri),te(e(l),{class:e(ke)(e(wa)({variant:"outline"}),"mt-2 sm:mt-0",a.class)}),{default:o(()=>[ge(r.$slots,"default")]),_:3},16,["class"]))}}),yn=Y({__name:"AlertDialogHeader",props:{class:{}},setup(n){const a=n;return(l,r)=>(v(),N("div",{class:we(e(ke)("flex flex-col gap-y-2 text-center sm:text-left",a.class))},[ge(l.$slots,"default")],2))}}),xn=Y({__name:"AlertDialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const a=n,l=he(()=>{const{class:r,...s}=a;return s});return(r,s)=>(v(),B(e(Ii),te(e(l),{class:e(ke)("text-sm text-muted-foreground",a.class)}),{default:o(()=>[ge(r.$slots,"default")]),_:3},16,["class"]))}}),_n=Y({__name:"AlertDialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const a=n,l=he(()=>{const{class:r,...s}=a;return s});return(r,s)=>(v(),B(e(Bi),te(e(l),{class:e(ke)("text-lg font-semibold",a.class)}),{default:o(()=>[ge(r.$slots,"default")]),_:3},16,["class"]))}}),pt=Y({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(n,{emit:a}){const s=je(n,a);return(i,u)=>(v(),B(e(Di),et(tt(e(s))),{default:o(()=>[ge(i.$slots,"default")]),_:3},16))}}),mt=Y({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(n,{emit:a}){const l=n,r=a,s=he(()=>{const{class:u,...p}=l;return p}),i=je(s,r);return(u,p)=>(v(),B(e(Mi),null,{default:o(()=>[t(e(Ni),{class:"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-200 bg-black/80"}),t(e(Oi),te(e(i),{class:e(ke)("fixed left-1/2 top-1/2 z-200 grid w-[90vw] max-w-md sm:max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",l.class)}),{default:o(()=>[ge(u.$slots,"default"),t(e(Pi),{class:"data-[state=open]:bg-accent ring-offset-background data-[state=open]:text-muted-foreground focus:ring-ring absolute right-4 top-4 rounded-sm opacity-70 transition-opacity disabled:pointer-events-none hover:opacity-100 focus:outline-hidden focus:ring-2 focus:ring-offset-2"},{default:o(()=>[t(e(Jt),{class:"h-4 w-4"}),p[0]||(p[0]=c("span",{class:"sr-only"},"Close",-1))]),_:1})]),_:3},16,["class"])]),_:3}))}}),Gt=Y({__name:"DialogFooter",props:{class:{}},setup(n){const a=n;return(l,r)=>(v(),N("div",{class:we(e(ke)("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",a.class))},[ge(l.$slots,"default")],2))}}),uo=Y({__name:"Textarea",props:{class:{},defaultValue:{},modelValue:{}},setup(n,{emit:a}){const l=n,s=ia(l,"modelValue",a,{passive:!0,defaultValue:l.defaultValue});return(i,u)=>dt((v(),N("textarea",{"onUpdate:modelValue":u[0]||(u[0]=p=>_e(s)?s.value=p:null),class:we(e(ke)("flex min-h-20 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",l.class))},null,2)),[[Nn,e(s)]])}}),Et=Y({__name:"Input",props:{defaultValue:{},modelValue:{},class:{}},setup(n,{expose:a,emit:l}){const r=n,i=ia(r,"modelValue",l,{passive:!0,defaultValue:r.defaultValue}),u=Gs(),p=D();return a({focus:()=>p.value?.focus(),blur:()=>p.value?.blur(),select:()=>p.value?.select(),setSelectionRange:(d,g)=>p.value?.setSelectionRange(d,g),inputElement:p}),(d,g)=>dt((v(),N("input",te({ref_key:"inputRef",ref:p,"onUpdate:modelValue":g[0]||(g[0]=w=>_e(i)?i.value=w:null)},e(u),{class:e(ke)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r.class)}),null,16)),[[Gl,e(i)]])}}),vt=Y({__name:"Label",props:{for:{},asChild:{type:Boolean},as:{},class:{}},setup(n){const a=n,l=he(()=>{const{class:r,...s}=a;return s});return(r,s)=>(v(),B(e(Ui),te(e(l),{class:e(ke)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",a.class)}),{default:o(()=>[ge(r.$slots,"default")]),_:3},16,["class"]))}}),ft=Y({__name:"DialogHeader",props:{class:{}},setup(n){const a=n;return(l,r)=>(v(),N("div",{class:we(e(ke)("flex flex-col gap-y-1.5 text-center sm:text-left",a.class))},[ge(l.$slots,"default")],2))}}),Zt=Y({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const a=n,l=he(()=>{const{class:s,...i}=a;return i}),r=lt(l);return(s,i)=>(v(),B(e(Vi),te(e(r),{class:e(ke)("text-sm text-muted-foreground",a.class)}),{default:o(()=>[ge(s.$slots,"default")]),_:3},16,["class"]))}}),gt=Y({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const a=n,l=he(()=>{const{class:s,...i}=a;return i}),r=lt(l);return(s,i)=>(v(),B(e(Hi),te(e(r),{class:e(ke)("text-lg font-semibold leading-none tracking-tight",a.class)}),{default:o(()=>[ge(s.$slots,"default")]),_:3},16,["class"]))}}),ot=Ct("editor",()=>{const n=D(null);return{editor:n,formatContent:async()=>{if(!n.value)return;const d=await fn(n.value.state.doc.toString());return n.value.dispatch({changes:{from:0,to:n.value.state.doc.length,insert:d}}),d},importContent:d=>{n.value&&n.value.dispatch({changes:{from:0,to:n.value.state.doc.length,insert:d}})},clearContent:()=>{n.value&&(n.value.dispatch({changes:{from:0,to:n.value.state.doc.length,insert:""}}),de.success("内容已清空"))},getContent:()=>n.value?.state.doc.toString()??"",getSelection:()=>{if(!n.value)return"";const d=n.value.state.selection.main;return n.value.state.doc.sliceString(d.from,d.to)},replaceSelection:d=>{n.value&&n.value.dispatch(n.value.state.replaceSelection(d))},insertAtCursor:d=>{if(!n.value)return;const g=n.value.state.selection.main;n.value.dispatch({changes:{from:g.from,to:g.to,insert:d},selection:{anchor:g.from+d.length}}),n.value.focus()}}}),ta=`# 探索 Markdown 的奇妙世界\r
\r
欢迎来到 Markdown 的奇妙世界！无论你是写作爱好者、开发者、博主，还是想要简单记录点什么的人，Markdown 都能成为你新的好伙伴。它不仅让写作变得简单明了，还能轻松地将内容转化为漂亮的网页格式。今天，我们将全面探讨 Markdown 的基础和进阶语法，让你在这个过程中充分享受写作的乐趣！\r
\r
Markdown 是一种轻量级标记语言，用于格式化纯文本。它以简单、直观的语法而著称，可以快速地生成 HTML。Markdown 是写作与代码的完美结合，既简单又强大。\r
\r
## Markdown 基础语法\r
\r
### 1. 标题：让你的内容层次分明\r
\r
用 \`#\` 号来创建标题。标题从 \`#\` 开始，\`#\` 的数量表示标题的级别。\r
\r
\`\`\`markdown\r
# 一级标题\r
\r
## 二级标题\r
\r
### 三级标题\r
\r
#### 四级标题\r
\`\`\`\r
\r
以上代码将渲染出一组层次分明的标题，使你的内容井井有条。\r
\r
### 2. 段落与换行：自然流畅\r
\r
Markdown 中的段落就是一行接一行的文本。要创建新段落，只需在两行文本之间空一行。\r
\r
### 3. 字体样式：强调你的文字\r
\r
- **粗体**：用两个星号或下划线包裹文字，如 \`**粗体**\` 或 \`__粗体__\`。\r
- _斜体_：用一个星号或下划线包裹文字，如 \`*斜体*\` 或 \`_斜体_\`。\r
- ~~删除线~~：用两个波浪线包裹文字，如 \`~~删除线~~\`。\r
- ==高亮==：用两个等号包裹文字，如 \`==高亮==\`。\r
- ++下划线++：用两个加号包裹文字，如 \`++下划线++\`。\r
- ~波浪线~：用一个波浪线包裹文字，如 \`~波浪线~\`。\r
\r
这些简单的标记可以让你的内容更有层次感和重点突出。\r
\r
### 4. 列表：整洁有序\r
\r
- **无序列表**：用 \`-\`、\`*\` 或 \`+\` 加空格开始一行。\r
- **有序列表**：使用数字加点号（\`1.\`、\`2.\`）开始一行。\r
\r
在列表中嵌套其他内容？只需缩进即可实现嵌套效果。\r
\r
- 无序列表项 1\r
  1. 嵌套有序列表项 1\r
  2. 嵌套有序列表项 2\r
- 无序列表项 2\r
\r
1. 有序列表项 1\r
2. 有序列表项 2\r
\r
### 5. 链接与图片：丰富内容\r
\r
- **链接**：用方括号和圆括号创建链接 \`[显示文本](链接地址)\`。\r
- **图片**：和链接类似，只需在前面加上 \`!\`，如 \`![描述文本](图片链接)\`。\r
\r
[访问 Doocs](https://github.com/doocs)\r
\r
![doocs](https://cdn-doocs.oss-cn-shenzhen.aliyuncs.com/gh/doocs/md/images/logo-2.png)\r
\r
轻松实现富媒体内容展示！\r
\r
> 因微信公众号平台不支持除公众号内容以外的链接，故其他平台的链接，会呈现链接样式但无法点击跳转。\r
\r
> 对于这些链接请注意明文书写，或点击左上角「格式->微信外链接转底部引用」开启引用，这样就可以在底部观察到链接指向。\r
\r
另外，使用 \`<![alt](url),![alt](url)>\` 语法可以创建横屏滑动幻灯片，支持微信公众号平台。建议使用相似尺寸的图片以获得最佳显示效果。\r
\r
### 6. 引用：引用名言或引人深思的句子\r
\r
使用 \`>\` 来创建引用，只需在文本前面加上它。多层引用？在前一层 \`>\` 后再加一个就行。\r
\r
> 这是一个引用\r
>\r
> > 这是一个嵌套引用\r
\r
这让你的引用更加富有层次感。\r
\r
### 7. 代码块：展示你的代码\r
\r
- **行内代码**：用反引号包裹，如 \`code\`。\r
- **代码块**：用三个反引号包裹，并指定语言，如：\r
\r
\`\`\`js\r
console.log(\`Hello, Doocs!\`)\r
\`\`\`\r
\r
语法高亮让你的代码更易读。\r
\r
### 8. 分割线：分割内容\r
\r
用三个或更多的 \`-\`、\`*\` 或 \`_\` 来创建分割线。\r
\r
---\r
\r
为你的内容添加视觉分隔。\r
\r
### 9. 表格：清晰展示数据\r
\r
Markdown 支持简单的表格，用 \`|\` 和 \`-\` 分隔单元格和表头。\r
\r
| 项目人员                                    | 邮箱                   | 微信号       |\r
| ------------------------------------------- | ---------------------- | ------------ |\r
| [yanglbme](https://github.com/yanglbme)     | contact@yanglibin.info | YLB0109      |\r
| [YangFong](https://github.com/YangFong)     | yangfong2022@gmail.com | yq2419731931 |\r
| [thinkasany](https://github.com/thinkasany) | thinkasany@gmail.com   | thinkasany   |\r
\r
这样的表格让数据展示更为清爽！\r
\r
> 手动编写标记太麻烦？我们提供了便捷方式。左上方点击「编辑->插入表格」，即可快速实现表格渲染。\r
\r
## Markdown 进阶技巧\r
\r
### 1. LaTeX 公式：完美展示数学表达式\r
\r
Markdown 允许嵌入 LaTeX 语法展示数学公式：\r
\r
- **行内公式**：用 \`$\` 包裹公式，如 $E = mc^2$。\r
- **块级公式**：用 \`$$\` 包裹公式，如：\r
\r
$$\r
\\begin{aligned}\r
d_{i, j} &\\leftarrow d_{i, j} + 1 \\\\\r
d_{i, y + 1} &\\leftarrow d_{i, y + 1} - 1 \\\\\r
d_{x + 1, j} &\\leftarrow d_{x + 1, j} - 1 \\\\\r
d_{x + 1, y + 1} &\\leftarrow d_{x + 1, y + 1} + 1\r
\\end{aligned}\r
$$\r
\r
现在还支持 **LaTeX 标准格式**：\r
\r
- **行内公式**：用 \`\\(...\\)\` 包裹公式，如 \\(x^2 + y^2 = z^2\\)。\r
- **块级公式**：用 \`\\[...\\]\` 包裹公式，如：\r
\r
\\[\r
\\int\\_{-\\infty}^{\\infty} e^{-x^2} dx = \\sqrt{\\pi}\r
\\]\r
\r
混合使用示例：传统格式 $a + b = c$ 和 LaTeX 格式 \\(d + e = f\\) 可以在同一段落中共存。\r
\r
1. 列表内块公式 1\r
\r
$$\r
\\chi^2 = \\sum \\frac{(O - E)^2}{E}\r
$$\r
\r
2. 列表内块公式 2\r
\r
$$\r
\\chi^2 = \\sum \\frac{(|O - E| - 0.5)^2}{E}\r
$$\r
\r
这是展示复杂数学表达的利器！\r
\r
### 2. Mermaid 流程图：可视化流程\r
\r
Mermaid 是强大的可视化工具，可以在 Markdown 中创建流程图、时序图等。\r
\r
\`\`\`mermaid\r
graph LR\r
  A[GraphCommand] --> B[update]\r
  A --> C[goto]\r
  A --> D[send]\r
\r
  B --> B1[更新状态]\r
  C --> C1[流程控制]\r
  D --> D1[消息传递]\r
\`\`\`\r
\r
\`\`\`mermaid\r
graph TD;\r
  A-->B;\r
  A-->C;\r
  B-->D;\r
  C-->D;\r
\`\`\`\r
\r
\`\`\`mermaid\r
pie\r
  title Key elements in Product X\r
  "Calcium" : 42.96\r
  "Potassium" : 50.05\r
  "Magnesium" : 10.01\r
  "Iron" : 5\r
\`\`\`\r
\r
\`\`\`mermaid\r
pie\r
  title 为什么总是宅在家里？\r
  "喜欢宅" : 45\r
  "天气太热" : 70\r
  "穷" : 500\r
  "没人约" : 95\r
\`\`\`\r
\r
这种方式不仅能直观展示流程，还能提升文档的专业性。\r
\r
> 更多用法，参见：[Mermaid User Guide](https://mermaid.js.org/intro/getting-started.html)。\r
\r
### 3. PlantUML 流程图：可视化流程\r
\r
PlantUML 是强大的可视化工具，可以在 Markdown 中创建流程图、时序图等。\r
\r
\`\`\`plantuml\r
@startuml\r
participant Participant as Foo\r
actor       Actor       as Foo1\r
boundary    Boundary    as Foo2\r
control     Control     as Foo3\r
entity      Entity      as Foo4\r
database    Database    as Foo5\r
collections Collections as Foo6\r
queue       Queue       as Foo7\r
Foo -> Foo1 : To actor\r
Foo -> Foo2 : To boundary\r
Foo -> Foo3 : To control\r
Foo -> Foo4 : To entity\r
Foo -> Foo5 : To database\r
Foo -> Foo6 : To collections\r
Foo -> Foo7: To queue\r
@enduml\r
\`\`\`\r
\r
> 更多用法，参见：[PlantUML 主页](https://plantuml.com/zh/)。\r
\r
### 4. Infographic 信息图：可视化数据\r
\r
新一代信息图可视化引擎，让文字信息栩栩如生！\r
\r
\`\`\`infographic\r
infographic list-row-horizontal-icon-arrow\r
data\r
  title 客户增长引擎\r
  desc 多渠道触达与复购提升\r
  items\r
    - label 线索获取\r
      value 18.6\r
      desc 渠道投放与内容获客\r
      icon rocket-launch\r
    - label 转化提效\r
      value 12.4\r
      desc 线索评分与自动跟进\r
      icon progress-check\r
    - label 复购提升\r
      value 9.8\r
      desc 会员体系与权益运营\r
      icon account-sync\r
    - label 口碑传播\r
      value 6.2\r
      desc 社群激励与推荐裂变\r
      icon account-group\r
\`\`\`\r
\r
> 更多用法，参见：[AntV Infographic Gallery](https://infographic.antv.vision/gallery)。\r
\r
### 5. Ruby 注音：注音标注\r
\r
支持两种格式：\r
\r
\`\`\`md\r
1. [文字]{注音}\r
2. [文字]^(注音)\r
\`\`\`\r
\r
渲染效果如下：\r
\r
[你好]{nǐ hǎo} [世界]{shì jiè}\r
\r
支持四种分隔符： \`・\`（中点）、\`．\` (全角句点)、\`。\` (中文句号)、\`-\` (英文减号)\r
\r
示例：\r
\r
\`\`\`md\r
[你好世界]{nǐ・hǎo・shì・jiè}\r
[小夜時雨]^(さ・よ・しぐれ)\r
\`\`\`\r
\r
[你好世界]{nǐ・hǎo・shì・jiè}\r
[小夜時雨]^(さ・よ・しぐれ)\r
\r
当字符串数量与分隔符数量不匹配时，会自动匹配到最合适的分隔符。\r
\r
\`\`\`md\r
[小夜時雨]{さ・よ・しぐれ}\r
[小夜時雨]{さ・よ}\r
[小夜]{さ・よ・しぐれ}\r
[小夜時雨]{さ・よ・しぐれ・extra}\r
\`\`\`\r
\r
[小夜時雨]{さ・よ・しぐれ}\r
[小夜時雨]{さ・よ}\r
[小夜]{さ・よ・しぐれ}\r
[小夜時雨]{さ・よ・しぐれ・extra}\r
\r
## 结语\r
\r
Markdown 是一种简单、强大且易于掌握的标记语言，通过学习基础和进阶语法，你可以快速创作内容并有效传达信息。无论是技术文档、个人博客还是项目说明，Markdown 都是你的得力助手。希望这篇内容能够带你全面了解 Markdown 的潜力，让你的写作更加丰富多彩！\r
\r
现在，拿起 Markdown 编辑器，开始创作吧！探索 Markdown 的世界，你会发现它远比想象中更精彩！\r
\r
#### 推荐阅读\r
\r
- [阿里又一个 20k+ stars 开源项目诞生，恭喜 fastjson！](https://mp.weixin.qq.com/s/RNKDCK2KoyeuMeEs6GUrow)\r
- [刷掉 90% 候选人的互联网大厂海量数据面试题（附题解 + 方法总结）](https://mp.weixin.qq.com/s/rjGqxUvrEqJNlo09GrT1Dw)\r
- [好用！期待已久的文本块功能究竟如何在 Java 13 中发挥作用？](https://mp.weixin.qq.com/s/kalGv5T8AZGxTnLHr2wDsA)\r
- [2019 GitHub 开源贡献排行榜新鲜出炉！微软谷歌领头，阿里跻身前 12！](https://mp.weixin.qq.com/s/_q812aGD1b9QvZ2WFI0Qgw)\r
\r
---\r
\r
<center>\r
    <img src="https://cdn-doocs.oss-cn-shenzhen.aliyuncs.com/gh/doocs/md/images/1648303220922-7e14aefa-816e-44c1-8604-ade709ca1c69.png" style="width: 100px;">\r
</center>\r
`,Ht=Ct("post",()=>{const n=z.reactive(ut("posts"),[{id:ao(),title:"内容1",content:ta,history:[{datetime:new Date().toLocaleString("zh-cn"),content:ta}],createDatetime:new Date,updateDatetime:new Date}]),a=z.reactive(ut("current_post_id"),"");Ll(()=>{n.value=n.value.map((y,h)=>{const $=Date.now();return{...y,id:y.id??ao(),createDatetime:y.createDatetime??new Date($+h),updateDatetime:y.updateDatetime??new Date($+h)}}),(!a.value||!n.value.some(y=>y.id===a.value))&&(a.value=n.value[0]?.id??"")});const l=y=>n.value.findIndex(h=>h.id===y),r=he({get:()=>l(a.value),set:y=>{y>=0&&y<n.value.length&&(a.value=n.value[y].id)}}),s=y=>n.value.find(h=>h.id===y),i=he(()=>s(a.value));return{posts:n,currentPostId:a,currentPostIndex:r,currentPost:i,getPostById:s,findIndexById:l,addPost:(y,h=null)=>{const $={id:ao(),title:y,content:`# ${y}`,history:[{datetime:new Date().toLocaleString("zh-cn"),content:`# ${y}`}],createDatetime:new Date,updateDatetime:new Date,parentId:h};n.value.push($),a.value=$.id},renamePost:(y,h)=>{const $=s(y);$&&($.title=h,$.updateDatetime=new Date)},delPost:y=>{const h=l(y);h!==-1&&(n.value.splice(h,1),a.value=n.value[Math.min(h,n.value.length-1)]?.id??"")},updatePostParentId:(y,h)=>{const $=s(y);$&&($.parentId=h,$.updateDatetime=new Date)},updatePostContent:(y,h)=>{const $=s(y);$&&($.content=h,$.updateDatetime=new Date)},collapseAllPosts:()=>{n.value.forEach(y=>{y.collapsed=!0})},expandAllPosts:()=>{n.value.forEach(y=>{y.collapsed=!1})}}}),Ar=Ct("template",()=>{const n=z.reactive(ut("templates"),[]),a=he(()=>[...n.value].sort((k,y)=>y.createdAt-k.createdAt)),l=he(()=>n.value.length);function r(k){const y=Date.now(),h={id:ao(),name:k.name,content:k.content,description:k.description,tags:k.tags,createdAt:y,updatedAt:y};return n.value.push(h),de.success(`模板「${k.name}」创建成功`),h}function s(k){return n.value.find(y=>y.id===k)}function i(k,y){const h=n.value.findIndex($=>$.id===k);return h===-1?(de.error("模板不存在"),!1):(n.value[h]={...n.value[h],...y,updatedAt:Date.now()},de.success("模板已更新"),!0)}function u(k){const y=n.value.findIndex($=>$.id===k);if(y===-1)return de.error("模板不存在"),!1;const h=n.value[y].name;return n.value.splice(y,1),de.success(`模板「${h}」已删除`),!0}function p(k){if(!k.trim())return a.value;const y=k.toLowerCase();return a.value.filter(h=>h.name.toLowerCase().includes(y)||h.description?.toLowerCase().includes(y)||h.tags?.some($=>$.toLowerCase().includes(y)))}function d(k){let y=0;return k.forEach(h=>{const $=n.value.findIndex(E=>E.id===h);$!==-1&&(n.value.splice($,1),y++)}),y>0&&de.success(`已删除 ${y} 个模板`),y}function g(){const k=n.value.length;n.value=[],de.success(`已清空所有模板（共 ${k} 个）`)}function w(){return JSON.stringify(n.value,null,2)}function b(k){try{const y=JSON.parse(k);if(!Array.isArray(y))return de.error("导入失败：数据格式不正确"),!1;const h=y.filter($=>$.id&&$.name&&$.content&&$.createdAt&&$.updatedAt);return h.length===0?(de.error("导入失败：没有有效的模板数据"),!1):(h.forEach($=>{n.value.findIndex(f=>f.id===$.id)!==-1?n.value.push({...$,id:ao()}):n.value.push($)}),de.success(`成功导入 ${h.length} 个模板`),!0)}catch(y){return console.error("Import templates failed:",y),de.error("导入失败：数据解析错误"),!1}}return{templates:n,sortedTemplates:a,templateCount:l,createTemplate:r,getTemplateById:s,updateTemplate:i,deleteTemplate:u,searchTemplates:p,deleteTemplates:d,clearAllTemplates:g,exportTemplates:w,importTemplates:b}}),I1={class:"flex-1 overflow-auto px-6 py-4"},B1={key:0,class:"space-y-4 mb-6 p-4 border rounded-lg bg-muted/30"},D1={class:"flex items-center justify-between"},N1={class:"text-lg font-semibold"},O1={class:"space-y-4"},P1={class:"space-y-2"},M1={key:0,class:"text-sm text-red-500"},U1={class:"space-y-2"},V1={class:"space-y-2"},H1={class:"flex gap-2 justify-end"},z1={key:1,class:"flex gap-2 mb-4"},F1={class:"relative flex-1"},q1={key:2,class:"space-y-3"},K1={key:0,class:"text-center py-12"},j1={class:"text-muted-foreground mb-2"},W1={key:0,class:"text-sm text-muted-foreground mb-4"},Y1={class:"flex items-start justify-between gap-4"},J1={class:"flex-1 min-w-0"},Z1={class:"flex items-center gap-2 mb-2"},X1={class:"font-medium truncate"},Q1={key:0,class:"text-sm text-muted-foreground mb-2 line-clamp-2"},e0={class:"flex flex-wrap items-center gap-x-4 gap-y-1 text-xs text-muted-foreground"},t0={class:"flex items-center gap-1"},o0={class:"flex items-center gap-1"},n0={class:"flex gap-1 flex-shrink-0"},a0={class:"flex items-center justify-between w-full"},l0={class:"text-sm text-muted-foreground"},r0=Y({__name:"TemplateDialog",setup(n){const a=ot(),l=Ht(),r=Ar(),s=Fe(),{toggleShowTemplateDialog:i}=s,u=D(""),p=he(()=>r.searchTemplates(u.value)),d=D(!1),g=D("create"),w=D(""),b=Qo({name:"",description:"",content:""}),k=Qo({name:""});function y(){g.value="create",b.name="",b.description="",b.content=a.getContent(),k.name="",d.value=!0}function h(ne){g.value="edit",w.value=ne.id,b.name=ne.name,b.description=ne.description||"",b.content=ne.content,k.name="",d.value=!0}function $(){return k.name="",b.name.trim()?b.name.trim().length>50?(k.name="模板名称不能超过 50 个字符",!1):!0:(k.name="模板名称不能为空",!1)}function E(){$()&&(g.value==="create"?r.createTemplate({name:b.name.trim(),description:b.description.trim()||void 0,content:b.content}):r.updateTemplate(w.value,{name:b.name.trim(),description:b.description.trim()||void 0,content:b.content}),d.value=!1)}function f(){d.value=!1}function _(ne){const L=l.currentPost;L?(l.updatePostContent(L.id,ne.content),a.importContent(ne.content),de.success(`已应用模板「${ne.name}」到当前文章`)):(a.importContent(ne.content),de.success(`已应用模板「${ne.name}」`)),i(!1)}function U(ne){a.insertAtCursor(ne.content);const L=l.currentPost;L&&l.updatePostContent(L.id,a.getContent()),de.success(`已插入模板「${ne.name}」`),i(!1)}const C=D(!1),R=D(null);function A(ne){R.value=ne,C.value=!0}function I(){R.value&&(r.deleteTemplate(R.value.id),R.value=null),C.value=!1}function x(ne){return new Date(ne).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}function j(ne){ne||(i(!1),d.value=!1)}return(ne,L)=>{const O=gt,M=Zt,G=ft,T=vt,re=Et,Q=uo,Z=Ge,ae=Gt,se=mt,ee=pt,P=_n,ye=xn,be=yn,ie=bn,H=hn,xe=vn,Be=wn,Oe=gn;return v(),N(Te,null,[t(ee,{open:e(s).isShowTemplateDialog,"onUpdate:open":j},{default:o(()=>[t(se,{class:"max-w-4xl max-h-[85vh] flex flex-col p-0"},{default:o(()=>[t(G,{class:"px-6 pt-6 pb-4 border-b"},{default:o(()=>[t(O,{class:"flex items-center gap-2"},{default:o(()=>[t(e(Bo),{class:"size-5"}),L[6]||(L[6]=m(" 模板管理 ",-1))]),_:1}),t(M,null,{default:o(()=>[...L[7]||(L[7]=[m(" 保存和管理您的 Markdown 模板，快速复用常用内容 ",-1)])]),_:1})]),_:1}),c("div",I1,[e(d)?(v(),N("div",B1,[c("div",D1,[c("h3",N1,V(e(g)==="create"?"新建模板":"编辑模板"),1)]),c("div",O1,[c("div",P1,[t(T,{for:"template-name"},{default:o(()=>[...L[8]||(L[8]=[m("模板名称 *",-1)])]),_:1}),t(re,{id:"template-name",modelValue:e(b).name,"onUpdate:modelValue":L[0]||(L[0]=F=>e(b).name=F),placeholder:"请输入模板名称",class:we({"border-red-500":e(k).name})},null,8,["modelValue","class"]),e(k).name?(v(),N("p",M1,V(e(k).name),1)):fe("",!0)]),c("div",U1,[t(T,{for:"template-description"},{default:o(()=>[...L[9]||(L[9]=[m("模板描述",-1)])]),_:1}),t(Q,{id:"template-description",modelValue:e(b).description,"onUpdate:modelValue":L[1]||(L[1]=F=>e(b).description=F),placeholder:"请输入模板描述（可选）",class:"resize-none h-20"},null,8,["modelValue"])]),c("div",V1,[t(T,{for:"template-content"},{default:o(()=>[...L[10]||(L[10]=[m("模板内容",-1)])]),_:1}),t(Q,{id:"template-content",modelValue:e(b).content,"onUpdate:modelValue":L[2]||(L[2]=F=>e(b).content=F),placeholder:"请输入模板内容",class:"resize-none h-40 font-mono text-sm"},null,8,["modelValue"])])]),c("div",H1,[t(Z,{variant:"outline",onClick:f},{default:o(()=>[...L[11]||(L[11]=[m(" 取消 ",-1)])]),_:1}),t(Z,{onClick:E},{default:o(()=>[m(V(e(g)==="create"?"创建":"保存"),1)]),_:1})])])):fe("",!0),e(d)?fe("",!0):(v(),N("div",z1,[c("div",F1,[t(e(On),{class:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground"}),t(re,{modelValue:e(u),"onUpdate:modelValue":L[3]||(L[3]=F=>_e(u)?u.value=F:null),placeholder:"搜索模板名称、描述...",class:"pl-9"},null,8,["modelValue"])]),t(Z,{onClick:y},{default:o(()=>[t(e(Do),{class:"mr-2 size-4"}),L[12]||(L[12]=m(" 新建模板 ",-1))]),_:1})])),e(d)?fe("",!0):(v(),N("div",q1,[e(p).length===0?(v(),N("div",K1,[t(e(Bo),{class:"mx-auto size-12 text-muted-foreground mb-4"}),c("p",j1,V(e(u)?"未找到匹配的模板":"暂无模板"),1),e(u)?fe("",!0):(v(),N("p",W1," 点击「新建模板」按钮创建您的第一个模板 "))])):fe("",!0),(v(!0),N(Te,null,Ne(e(p),F=>(v(),N("div",{key:F.id,class:"border rounded-lg p-4 hover:bg-muted/50 transition-colors"},[c("div",Y1,[c("div",J1,[c("div",Z1,[t(e(Rt),{class:"size-4 text-muted-foreground flex-shrink-0"}),c("h4",X1,V(F.name),1)]),F.description?(v(),N("p",Q1,V(F.description),1)):fe("",!0),c("div",e0,[c("span",t0,[t(e(nd),{class:"size-3"}),m(" 创建："+V(x(F.createdAt)),1)]),c("span",o0,[t(e(Pn),{class:"size-3"}),m(" 更新："+V(x(F.updatedAt)),1)])])]),c("div",n0,[t(Z,{variant:"outline",size:"icon",class:"size-8",title:"应用模板（替换全部内容）",onClick:J=>_(F)},{default:o(()=>[t(e(Pl),{class:"size-4"})]),_:1},8,["onClick"]),t(Z,{variant:"outline",size:"icon",class:"size-8",title:"插入模板（在光标处插入）",onClick:J=>U(F)},{default:o(()=>[t(e(Mn),{class:"size-4"})]),_:1},8,["onClick"]),t(Z,{variant:"outline",size:"icon",class:"size-8",title:"编辑模板",onClick:J=>h(F)},{default:o(()=>[t(e(ad),{class:"size-4"})]),_:1},8,["onClick"]),t(Z,{variant:"outline",size:"icon",class:"size-8 text-destructive hover:text-destructive",title:"删除模板",onClick:J=>A(F)},{default:o(()=>[t(e(wo),{class:"size-4"})]),_:1},8,["onClick"])])])]))),128))]))]),e(d)?fe("",!0):(v(),B(ae,{key:0,class:"px-6 pb-6 pt-4 border-t"},{default:o(()=>[c("div",a0,[c("p",l0," 共 "+V(e(r).templateCount)+" 个模板 ",1),t(Z,{variant:"outline",onClick:L[4]||(L[4]=F=>e(i)(!1))},{default:o(()=>[...L[13]||(L[13]=[m(" 关闭 ",-1)])]),_:1})])]),_:1}))]),_:1})]),_:1},8,["open"]),t(Oe,{open:e(C),"onUpdate:open":L[5]||(L[5]=F=>_e(C)?C.value=F:null)},{default:o(()=>[t(Be,null,{default:o(()=>[t(be,null,{default:o(()=>[t(P,null,{default:o(()=>[...L[14]||(L[14]=[m("确认删除",-1)])]),_:1}),t(ye,null,{default:o(()=>[m(" 确定要删除模板「"+V(e(R)?.name)+"」吗？此操作不可恢复。 ",1)]),_:1})]),_:1}),t(xe,null,{default:o(()=>[t(ie,null,{default:o(()=>[...L[15]||(L[15]=[m("取消",-1)])]),_:1}),t(H,{onClick:I},{default:o(()=>[...L[16]||(L[16]=[m(" 确定 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64)}}}),kn=Y({__name:"Tabs",props:{defaultValue:{},orientation:{},dir:{},activationMode:{},modelValue:{},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(n,{emit:a}){const s=je(n,a);return(i,u)=>(v(),B(e(zi),et(tt(e(s))),{default:o(()=>[ge(i.$slots,"default")]),_:3},16))}}),va=Y({__name:"TabsContent",props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(n){const a=n,l=he(()=>{const{class:r,...s}=a;return s});return(r,s)=>(v(),B(e(Fi),te({class:e(ke)("mt-2 ring-offset-background focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a.class)},e(l)),{default:o(()=>[ge(r.$slots,"default")]),_:3},16,["class"]))}}),En=Y({__name:"TabsList",props:{loop:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(n){const a=n,l=he(()=>{const{class:r,...s}=a;return s});return(r,s)=>(v(),B(e(qi),te(e(l),{class:e(ke)("inline-flex items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a.class)}),{default:o(()=>[ge(r.$slots,"default")]),_:3},16,["class"]))}}),s0={class:"truncate"},Cn=Y({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(n){const a=n,l=he(()=>{const{class:s,...i}=a;return i}),r=lt(l);return(s,i)=>(v(),B(e(Ki),te(e(r),{class:e(ke)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-xs",a.class)}),{default:o(()=>[c("span",s0,[ge(s.$slots,"default")])]),_:3},16,["class"]))}}),i0={class:"inline-flex items-center"},u0={class:"inline-flex items-center"},d0={class:"space-y-4"},c0={class:"space-y-2"},p0={key:0,class:"text-xs text-destructive"},m0={key:1,class:"text-xs text-muted-foreground"},f0="https://anything-md.doocs.org/",g0=Y({__name:"ImportMarkdownDialog",setup(n){const a=ot(),l=Fe(),{isShowImportMdDialog:r}=Re(l),s=D("file"),i=D(""),u=D(!1),p=D("");let d=null;function g(A){try{const{pathname:I}=new URL(A);return/\.(?:md|markdown|txt)$/i.test(I)}catch{return!1}}async function w(A,I){const x=await fetch(A,{signal:I});if(!x.ok)throw new Error(`请求失败: ${x.status} ${x.statusText}`);const j=await x.text();if(!j.trim())throw new Error("该链接返回的内容为空");return j}async function b(A,I){const x=await fetch(f0,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:A}),signal:I});if(!x.ok)throw new Error(`请求失败: ${x.status} ${x.statusText}`);const j=await x.json();if(I.aborted)throw new DOMException("","AbortError");if(!j.success)throw new Error(j.error||"转换失败");const ne=j.markdown?.trim();if(!ne)throw new Error("转换结果为空");return ne}async function k(){const A=i.value.trim();if(!A){p.value="请输入链接";return}if(!URL.canParse(A)||!/^https?:\/\//i.test(A)){p.value="请输入有效的 URL 地址（仅支持 http/https）";return}p.value="",u.value=!0,d?.abort(),d=new AbortController;const{signal:I}=d;try{const x=g(A)?await w(A,I):await b(A,I);a.importContent(x),C()}catch(x){if(x.name==="AbortError")return;p.value=x.message||"导入失败，请检查链接是否有效"}finally{u.value=!1}}const y=D(!1),{open:h,reset:$,onChange:E}=Bl({accept:".md,.markdown,.txt",multiple:!0});E(A=>{A==null||A.length===0||U(Array.from(A))});function f(A){A.preventDefault(),y.value=!1;const I=A.dataTransfer?.files;if(!I||I.length===0)return;const x=Array.from(I).filter(j=>j.name.match(/\.(md|markdown|txt)$/i));if(x.length===0){de.error("请拖入 Markdown 文件（.md / .markdown / .txt）");return}U(x)}function _(A){return new Promise(I=>{const x=new FileReader;x.readAsText(A,"UTF-8"),x.onload=j=>{I(j.target?.result||"")},x.onerror=()=>I("")})}async function U(A){const x=(await Promise.all(A.map(_))).filter(j=>j.trim()).join(`

`);x&&(a.importContent(x),C())}function C(){d?.abort(),d=null,r.value=!1,i.value="",p.value="",u.value=!1,y.value=!1,$()}function R(A){A||C()}return Ie(r,A=>{if(!A||!l.importMdOpenUrl)return;const I=l.importMdOpenUrl;l.importMdOpenUrl=null,i.value=I,s.value="url",p.value="",_t(()=>k())}),(A,I)=>{const x=gt,j=Zt,ne=ft,L=Cn,O=En,M=va,G=Et,T=Ge,re=kn,Q=mt,Z=pt;return v(),B(Z,{open:e(r),"onUpdate:open":R},{default:o(()=>[t(Q,{class:"sm:max-w-xl"},{default:o(()=>[t(ne,null,{default:o(()=>[t(x,null,{default:o(()=>[...I[6]||(I[6]=[m("导入 Markdown",-1)])]),_:1}),t(j,null,{default:o(()=>[...I[7]||(I[7]=[m(" 从网络链接或本地文件导入内容，支持公众号文章、博客等任意网页链接 ",-1)])]),_:1})]),_:1}),t(re,{modelValue:e(s),"onUpdate:modelValue":I[5]||(I[5]=ae=>_e(s)?s.value=ae:null),class:"w-full"},{default:o(()=>[t(O,{class:"grid w-full grid-cols-2"},{default:o(()=>[t(L,{value:"file"},{default:o(()=>[c("span",i0,[t(e(Un),{class:"mr-2 size-4 shrink-0"}),I[8]||(I[8]=m(" 本地文件 ",-1))])]),_:1}),t(L,{value:"url"},{default:o(()=>[c("span",u0,[t(e(ld),{class:"mr-2 size-4 shrink-0"}),I[9]||(I[9]=m(" 网络链接 ",-1))])]),_:1})]),_:1}),t(M,{value:"file",class:"mt-4"},{default:o(()=>[c("div",{class:we(["relative flex h-40 cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed transition-colors",{"border-primary bg-primary/5":e(y),"border-muted-foreground/25 hover:border-muted-foreground/50":!e(y)}]),onClick:I[0]||(I[0]=ae=>e(h)()),onDragover:I[1]||(I[1]=Ke(ae=>y.value=!0,["prevent"])),onDragleave:I[2]||(I[2]=Ke(ae=>y.value=!1,["prevent"])),onDrop:f},[t(e(Rt),{class:"mb-3 size-10 text-muted-foreground"}),I[10]||(I[10]=c("p",{class:"text-sm text-muted-foreground"}," 点击选择文件或拖拽文件到此处 ",-1)),I[11]||(I[11]=c("p",{class:"mt-1 text-xs text-muted-foreground/70"}," 支持 .md、.markdown、.txt 格式 ",-1))],34)]),_:1}),t(M,{value:"url",class:"mt-4"},{default:o(()=>[c("div",d0,[c("div",c0,[t(G,{modelValue:e(i),"onUpdate:modelValue":I[3]||(I[3]=ae=>_e(i)?i.value=ae:null),placeholder:"如：https://mp.weixin.qq.com/s/xxxxx",class:we({"border-destructive":e(p)}),onKeydown:en(k,["enter"]),onInput:I[4]||(I[4]=ae=>p.value="")},null,8,["modelValue","class"]),e(p)?(v(),N("p",p0,V(e(p)),1)):(v(),N("p",m0," 支持 Markdown 文件链接直接导入，或网页链接自动转换 "))]),t(T,{class:"w-full",disabled:e(u)||!e(i).trim(),onClick:k},{default:o(()=>[e(u)?(v(),B(e(vo),{key:0,class:"mr-2 size-4 animate-spin"})):fe("",!0),m(" "+V(e(u)?"导入中...":"导入"),1)]),_:1},8,["disabled"]),I[12]||(I[12]=c("p",{class:"text-center text-xs text-muted-foreground/60"},[m(" 基于 "),c("a",{href:"https://github.com/doocs/anything-md",target:"_blank",class:"underline hover:text-muted-foreground"},"Anything-MD"),m(" 提供转换服务 ")],-1))])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["open"])}}}),w0=Y({__name:"RadioGroup",props:{modelValue:{},defaultValue:{},disabled:{type:Boolean},orientation:{},dir:{},loop:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(n,{emit:a}){const l=n,r=a,s=mn(l,"class"),i=ca(s,r);return(u,p)=>(v(),B(e(Gd),te({"data-slot":"radio-group",class:e(ke)("grid gap-3",l.class)},e(i)),{default:o(()=>[ge(u.$slots,"default")]),_:3},16,["class"]))}}),v0=Y({__name:"RadioGroupItem",props:{id:{},value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},setup(n){const a=n,l=mn(a,"class"),r=Ld(l);return(s,i)=>(v(),B(e(Id),te({"data-slot":"radio-group-item"},e(r),{class:e(ke)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a.class)}),{default:o(()=>[t(e(Rd),{"data-slot":"radio-group-indicator",class:"relative flex items-center justify-center"},{default:o(()=>[t(e(Ml),{class:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})]),_:1})]),_:1},16,["class"]))}}),h0={class:"min-h-[auto] md:min-h-[64px]"},b0={class:"flex flex-1 flex-col justify-between"},y0={class:"min-h-[40px] flex items-center w-full"},x0={key:0,class:"mt-1 min-h-[20px] md:min-h-[24px] flex items-center text-[12px] text-red-500"},_0=Y({__name:"FormItem",props:{label:{},required:{type:Boolean},error:{},width:{}},setup(n){const a=n;return(l,r)=>{const s=vt;return v(),N("div",h0,[t(s,{class:"mb-4 md:mb-[24px] flex flex-col md:flex-row md:items-start",style:Vt({"--label-width":a.width?`${a.width}px`:"150px"})},{default:o(()=>[c("span",{class:we(["mb-1 md:mb-0 md:mr-4 min-h-[auto] md:min-h-[40px] w-full md:w-[var(--label-width)] flex shrink-0 items-center justify-start md:justify-end text-sm whitespace-nowrap font-medium",{required:a.required}])},V(a.label),3),c("div",b0,[c("div",y0,[ge(l.$slots,"default",{},void 0,!0)]),n.error?(v(),N("p",x0,V(n.error),1)):fe("",!0)])]),_:3},8,["style"])])}}}),Gr=st(_0,[["__scopeId","data-v-136ed807"]]),k0={class:"flex-1 overflow-y-auto p-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden flex flex-col"},E0={class:"inline-flex items-center space-x-2 w-20"},C0={class:"inline-flex items-center space-x-2 w-20"},S0={class:"inline-flex items-center space-x-2 w-20"},$0={class:"inline-flex items-center space-x-2 w-20"},T0={class:"inline-flex items-center space-x-2 w-20"},A0=Y({__name:"InsertMpCardDialog",setup(n){const a=ot(),l=Fe(),{toggleShowInsertMpCardDialog:r}=l,s=z.reactive(ut("mp-profile"),{id:"",name:"",logo:"",desc:"",serviceType:"1",verify:"0"}),i=ht(yt({id:$e().required("公众号 ID 不能为空"),name:$e().required("公众号名称 不能为空"),logo:$e().optional().url("公众号 Logo 必须是一个有效的 URL"),desc:$e().optional(),serviceType:$e().required(),verify:$e().required()}));function u(d){const g=d.logo||"https://cdn-doocs.oss-cn-shenzhen.aliyuncs.com/gh/doocs/md/images/mp-logo.png";return`<section class="mp_profile_iframe_wrp custom_select_card_wrp" nodeleaf="">
  <mp-common-profile class="mpprofile js_uneditable custom_select_card mp_profile_iframe" ${['data-pluginname="mpprofile"',`data-id="${d.id}"`,`data-nickname="${d.name}"`,`data-headimg="${g}"`,d.desc&&`data-signature="${d.desc}"`,`data-service_type="${d.serviceType||"1"}"`,`data-verify_status="${d.verify||"0"}"`].filter(Boolean).join(" ")}></mp-common-profile>
  <br class="ProseMirror-trailingBreak">
</section>`}function p(d){s.value=d;const g=u(d),w=go(a.editor),b=w.state.selection.main;w.dispatch({changes:{from:b.from,to:b.to,insert:`
${g}
`}}),de.success("公众号名片插入成功"),r(!1)}return(d,g)=>{const w=gt,b=ft,k=Et,y=Gr,h=uo,$=v0,E=vt,f=w0,_=Ge,U=Gt,C=mt,R=pt;return v(),B(R,{open:e(l).isShowInsertMpCardDialog,"onUpdate:open":g[0]||(g[0]=A=>e(l).isShowInsertMpCardDialog=A)},{default:o(()=>[t(C,{class:"!w-[750px] !max-w-[95vw] max-h-[85vh] flex flex-col overflow-hidden"},{default:o(()=>[t(b,null,{default:o(()=>[t(w,null,{default:o(()=>[...g[1]||(g[1]=[m("插入公众号名片",-1)])]),_:1})]),_:1}),t(e(bt),{"validation-schema":e(i),"initial-values":e(s),class:"flex flex-col flex-1 overflow-hidden",onSubmit:p},{default:o(()=>[c("div",k0,[t(e(Ee),{name:"id"},{default:o(({field:A,errorMessage:I})=>[t(y,{label:"ID",required:"",error:I,width:50},{default:o(()=>[t(k,te(A,{modelValue:A.value,"onUpdate:modelValue":x=>A.value=x,modelModifiers:{trim:!0},placeholder:"例：MzIxNjA5ODQ0OQ=="}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"name"},{default:o(({field:A,errorMessage:I})=>[t(y,{label:"名称",required:"",error:I,width:50},{default:o(()=>[t(k,te(A,{modelValue:A.value,"onUpdate:modelValue":x=>A.value=x,modelModifiers:{trim:!0},placeholder:"例：Doocs"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"logo"},{default:o(({field:A,errorMessage:I})=>[t(y,{label:"Logo",error:I,width:50},{default:o(()=>[t(k,te(A,{modelValue:A.value,"onUpdate:modelValue":x=>A.value=x,modelModifiers:{trim:!0},placeholder:"例：https://doocs.com/mp-logo.png"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"desc"},{default:o(({field:A,errorMessage:I})=>[t(y,{label:"描述",error:I,width:50},{default:o(()=>[t(h,te(A,{modelValue:A.value,"onUpdate:modelValue":x=>A.value=x,modelModifiers:{trim:!0},rows:"3",class:"resize-none",placeholder:"例：GitHub 开源组织 @Doocs 旗下唯一公众号，专注分享技术领域相关知识及行业最新资讯。"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"serviceType"},{default:o(({field:A,errorMessage:I})=>[t(y,{label:"类型",required:"",error:I,width:50},{default:o(()=>[t(f,te({class:"flex gap-5"},A,{"default-value":A.value}),{default:o(()=>[c("div",E0,[t($,{id:"option-one",value:"1"}),t(E,{for:"option-one"},{default:o(()=>[...g[2]||(g[2]=[m("公众号",-1)])]),_:1})]),c("div",C0,[t($,{id:"option-two",value:"2"}),t(E,{for:"option-two"},{default:o(()=>[...g[3]||(g[3]=[m("服务号",-1)])]),_:1})])]),_:1},16,["default-value"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"verify"},{default:o(({field:A,errorMessage:I})=>[t(y,{label:"认证",required:"",error:I,width:50},{default:o(()=>[t(f,te({class:"flex gap-5"},A,{"default-value":A.value}),{default:o(()=>[c("div",S0,[t($,{id:"service-type-option-one",value:"0"}),t(E,{for:"service-type-option-one"},{default:o(()=>[...g[4]||(g[4]=[m("无",-1)])]),_:1})]),c("div",$0,[t($,{id:"service-type-option-two",value:"1"}),t(E,{for:"service-type-option-two"},{default:o(()=>[...g[5]||(g[5]=[m("个人",-1)])]),_:1})]),c("div",T0,[t($,{id:"service-type-option-three",value:"2"}),t(E,{for:"service-type-option-three"},{default:o(()=>[...g[6]||(g[6]=[m("企业",-1)])]),_:1})])]),_:1},16,["default-value"])]),_:2},1032,["error"])]),_:1}),t(y,{width:50},{default:o(()=>[t(_,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://github.com/doocs/md/blob/main/docs/mp-card.md",target:"_blank"},{default:o(()=>[...g[7]||(g[7]=[m(" 如何获取公众号 ID？ ",-1)])]),_:1})]),_:1})]),t(U,{class:"p-1"},{default:o(()=>[t(_,{type:"submit"},{default:o(()=>[...g[8]||(g[8]=[m(" 确定 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1})]),_:1},8,["open"])}}}),G0=Y({__name:"NumberField",props:{defaultValue:{},modelValue:{},min:{},max:{},step:{},formatOptions:{},locale:{},disabled:{type:Boolean},required:{type:Boolean},name:{},id:{},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue"],setup(n,{emit:a}){const l=n,r=a,s=he(()=>{const{class:u,...p}=l;return p}),i=je(s,r);return(u,p)=>(v(),B(e(ji),te(e(i),{class:e(ke)("grid gap-1.5",l.class)}),{default:o(()=>[ge(u.$slots,"default")]),_:3},16,["class"]))}}),L0=Y({__name:"NumberFieldContent",props:{class:{}},setup(n){const a=n;return(l,r)=>(v(),N("div",{class:we(e(ke)("relative has-data-[slot=increment]:*:data-[slot=input]:pr-5 has-data-[slot=decrement]:*:data-[slot=input]:pl-5",a.class))},[ge(l.$slots,"default")],2))}}),R0=Y({__name:"NumberFieldIncrement",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(n){const a=n,l=he(()=>{const{class:s,...i}=a;return i}),r=lt(l);return(s,i)=>(v(),B(e(Wi),te({"data-slot":"increment"},e(r),{class:e(ke)("absolute top-1/2 -translate-y-1/2 right-0 disabled:cursor-not-allowed disabled:opacity-20 p-3",a.class)}),{default:o(()=>[ge(s.$slots,"default",{},()=>[t(e(Do),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),I0=Y({__name:"NumberFieldInput",props:{class:{}},setup(n){const a=n;return(l,r)=>(v(),B(e(Yi),{"data-slot":"input",class:we(e(ke)("flex h-10 w-full rounded-md border border-input bg-background py-2 text-sm text-center ring-offset-background placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a.class))},null,8,["class"]))}}),B0=Y({__name:"NumberFieldDecrement",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(n){const a=n,l=he(()=>{const{class:s,...i}=a;return i}),r=lt(l);return(s,i)=>(v(),B(e(Ji),te({"data-slot":"decrement"},e(r),{class:e(ke)("absolute top-1/2 -translate-y-1/2 left-0 p-3 disabled:cursor-not-allowed disabled:opacity-20",a.class)}),{default:o(()=>[ge(s.$slots,"default",{},()=>[t(e(Ul),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),D0={class:"space-x-2 flex justify-between"},N0={class:"space-y-2 border rounded p-2"},O0=Y({__name:"InsertFormDialog",setup(n){const a=ot(),l=Fe(),{toggleShowInsertFormDialog:r}=l,s=D(3),i=D(3),u=D({});function p(){s.value=3,i.value=3,u.value={}}function d(){const w=o1({rows:s.value,cols:i.value,data:u.value}),b=go(a.editor),k=b.state.selection.main;b.dispatch({changes:{from:k.from,to:k.to,insert:`
${w}
`}}),p(),r()}function g(w){w||r(!1)}return(w,b)=>{const k=gt,y=ft,h=vt,$=B0,E=I0,f=R0,_=L0,U=G0,C=Et,R=Ge,A=Gt,I=mt,x=pt;return v(),B(x,{open:e(l).isShowInsertFormDialog,"onUpdate:open":g},{default:o(()=>[t(I,null,{default:o(()=>[t(y,null,{default:o(()=>[t(k,null,{default:o(()=>[...b[3]||(b[3]=[m("插入表格",-1)])]),_:1})]),_:1}),c("div",D0,[t(U,{modelValue:e(s),"onUpdate:modelValue":b[0]||(b[0]=j=>_e(s)?s.value=j:null),min:1,max:100},{default:o(()=>[t(h,null,{default:o(()=>[...b[4]||(b[4]=[m("行数",-1)])]),_:1}),t(_,null,{default:o(()=>[t($),t(E),t(f)]),_:1})]),_:1},8,["modelValue"]),t(U,{modelValue:e(i),"onUpdate:modelValue":b[1]||(b[1]=j=>_e(i)?i.value=j:null),min:1,max:100},{default:o(()=>[t(h,null,{default:o(()=>[...b[5]||(b[5]=[m("列数",-1)])]),_:1}),t(_,null,{default:o(()=>[t($),t(E),t(f)]),_:1})]),_:1},8,["modelValue"])]),c("div",N0,[(v(!0),N(Te,null,Ne(e(s)+1,j=>(v(),N("div",{key:j,class:we([{"head-style":j===1},"space-x-2 flex"])},[(v(!0),N(Te,null,Ne(e(i),ne=>(v(),B(C,{key:ne,modelValue:e(u)[`k_${j-1}_${ne-1}`],"onUpdate:modelValue":L=>e(u)[`k_${j-1}_${ne-1}`]=L,class:we({"bg-gray-100 dark:bg-gray-900":j===1}),placeholder:j===1?"表头":""},null,8,["modelValue","onUpdate:modelValue","class","placeholder"]))),128))],2))),128))]),t(A,null,{default:o(()=>[t(R,{variant:"outline",onClick:b[2]||(b[2]=j=>e(r)(!1))},{default:o(()=>[...b[6]||(b[6]=[m(" 取 消 ",-1)])]),_:1}),t(R,{onClick:d},{default:o(()=>[...b[7]||(b[7]=[m(" 确 定 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}}),P0={class:"flex flex-col flex-1 overflow-hidden"},M0={class:"flex-1 overflow-y-auto p-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden space-y-4"},U0={class:"h-60 border border-gray-200 dark:border-gray-700 rounded-lg flex flex-col overflow-y-auto"},V0=Y({__name:"CustomUploadForm",setup(n){const a=z.reactive("formCustomConfig",t1(`
  const { file, util, okCb, errCb } = CUSTOM_ARG
  param = new FormData()
  param.append('file', file)
  util.axios.post('${window.location.origin}/upload', param, {
    headers: { 'Content-Type': 'multipart/form-data' }
  }).then(res => {
    okCb(res.url)
  }).catch(err => {
    errCb(err)
  })
`).trim()),l=Yt("formCustomTextarea"),r=Fe(),{isDark:s}=Re(r),i=D(null),u=new sa;ct(()=>{const d=new Mt({parent:l.value,extensions:[k1(),u.of(xo(s.value))],doc:a.value});i.value=d}),Ie(s,d=>{i.value?.dispatch({effects:u.reconfigure(xo(d))})}),Uo(()=>{i.value&&i.value.destroy()});function p(){const d=i.value.state.doc.toString();a.value=d,de.success("保存成功")}return(d,g)=>{const w=Ge,b=Gt;return v(),N("div",P0,[c("div",M0,[c("div",U0,[c("div",{ref_key:"formCustomTextarea",ref:l,class:"flex-1 custom-codemirror"},null,512)]),t(w,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://github.com/doocs/md/blob/main/docs/custom-upload.md",target:"_blank"},{default:o(()=>[...g[0]||(g[0]=[m(" 参数详情？ ",-1)])]),_:1})]),t(b,{class:"p-1"},{default:o(()=>[t(w,{onClick:p},{default:o(()=>[...g[1]||(g[1]=[m(" 保存配置 ",-1)])]),_:1})]),_:1})])}}}),H0=st(V0,[["__scopeId","data-v-0d75ce52"]]),Lr=Y({__name:"Progress",props:{modelValue:{},max:{},getValueLabel:{type:Function},asChild:{type:Boolean},as:{}},setup(n){const a=n,l=he(()=>a.modelValue??0);return(r,s)=>(v(),B(e(Xi),te(a,{"model-value":e(l),class:"relative overflow-hidden bg-blackA9 rounded-full w-full h-4 sm:h-5",style:{transform:"translateZ(0)"}}),{default:o(()=>[t(e(Zi),{class:"bg-primary rounded-full w-full h-full transition-transform duration-[660ms] ease-[cubic-bezier(0.65, 0, 0.35, 1)]",style:Vt({transform:`translateX(-${100-(Number(e(l))||0)}%)`})},null,8,["style"])]),_:1},16,["model-value"]))}}),z0=Y({__name:"Switch",props:{defaultChecked:{type:Boolean},checked:{type:Boolean},disabled:{type:Boolean},required:{type:Boolean},name:{},id:{},value:{},asChild:{type:Boolean},as:{},class:{}},emits:["update:checked"],setup(n,{emit:a}){const l=n,r=a,s=he(()=>{const{class:u,...p}=l;return p}),i=je(s,r);return(u,p)=>(v(),B(e(eu),te(e(i),{class:e(ke)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",l.class)}),{default:o(()=>[t(e(Qi),{class:we(e(ke)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5"))},{default:o(()=>[ge(u.$slots,"thumb")]),_:3},8,["class"])]),_:3},16,["class"]))}}),It=Y({__name:"Select",props:{open:{type:Boolean},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{},dir:{},name:{},autocomplete:{},disabled:{type:Boolean},required:{type:Boolean}},emits:["update:modelValue","update:open"],setup(n,{emit:a}){const s=je(n,a);return(i,u)=>(v(),B(e(tu),et(tt(e(s))),{default:o(()=>[ge(i.$slots,"default")]),_:3},16))}}),F0=Y({__name:"SelectGroup",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const a=n,l=he(()=>{const{class:r,...s}=a;return s});return(r,s)=>(v(),B(e(ou),te({class:e(ke)("p-1 w-full",a.class)},e(l)),{default:o(()=>[ge(r.$slots,"default")]),_:3},16,["class"]))}}),q0={class:"absolute left-2 h-3.5 w-3.5 flex items-center justify-center"},Bt=Y({__name:"SelectItem",props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},setup(n){const a=n,l=he(()=>{const{class:s,...i}=a;return i}),r=lt(l);return(s,i)=>(v(),B(e(lu),te(e(r),{class:e(ke)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",a.class)}),{default:o(()=>[c("span",q0,[t(e(nu),null,{default:o(()=>[t(e(ho),{class:"h-4 w-4"})]),_:1})]),t(e(au),null,{default:o(()=>[ge(s.$slots,"default")]),_:3})]),_:3},16,["class"]))}}),K0=Y({__name:"SelectScrollDownButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const a=n,l=he(()=>{const{class:s,...i}=a;return i}),r=lt(l);return(s,i)=>(v(),B(e(ru),te(e(r),{class:e(ke)("flex cursor-default items-center justify-center py-1",a.class)}),{default:o(()=>[ge(s.$slots,"default",{},()=>[t(e(bo),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),j0=Y({__name:"SelectScrollUpButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const a=n,l=he(()=>{const{class:s,...i}=a;return i}),r=lt(l);return(s,i)=>(v(),B(e(su),te(e(r),{class:e(ke)("flex cursor-default items-center justify-center py-1",a.class)}),{default:o(()=>[ge(s.$slots,"default",{},()=>[t(e(Vl),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),Dt=Y({__name:"SelectTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(n){const a=n,l=he(()=>{const{class:s,...i}=a;return i}),r=lt(l);return(s,i)=>(v(),B(e(uu),te(e(r),{class:e(ke)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-hidden focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:truncate text-start",a.class)}),{default:o(()=>[ge(s.$slots,"default"),t(e(iu),{"as-child":""},{default:o(()=>[t(e(bo),{class:"h-4 w-4 shrink-0 opacity-50"})]),_:1})]),_:3},16,["class"]))}}),Nt=Y({__name:"SelectValue",props:{placeholder:{},asChild:{type:Boolean},as:{}},setup(n){const a=n;return(l,r)=>(v(),B(e(du),et(tt(a)),{default:o(()=>[ge(l.$slots,"default")]),_:3},16))}}),Ot=Y({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean},position:{default:"popper"},bodyLock:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(n,{emit:a}){const l=n,r=a,s=he(()=>{const{class:u,...p}=l;return p}),i=je(s,r);return(u,p)=>(v(),B(e(mu),null,{default:o(()=>[t(e(cu),te({...e(i),...u.$attrs},{class:e(ke)("relative z-200 max-h-96 min-w-32 overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n.position==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",l.class)}),{default:o(()=>[t(e(j0)),t(e(pu),{class:we(e(ke)("p-1",n.position==="popper"&&"h-(--radix-select-trigger-height) w-full min-w-(--radix-select-trigger-width)"))},{default:o(()=>[ge(u.$slots,"default")]),_:3},8,["class"]),t(e(K0))]),_:3},16,["class"])]),_:3}))}}),W0={class:"space-y-3 my-4"},Y0={class:"flex items-center justify-between gap-4"},J0={class:"flex items-center justify-between gap-4"},Z0={key:0,class:"absolute left-0 right-0 h-full w-full flex items-center justify-center bg-white dark:bg-black"},X0=["src"],Q0={class:"flex-1 overflow-y-auto p-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},ep={class:"flex-1 overflow-y-auto p-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},tp={class:"flex-1 overflow-y-auto p-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},op={class:"flex-1 overflow-y-auto p-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},np={class:"flex-1 overflow-y-auto p-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},ap={class:"flex-1 overflow-y-auto p-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},lp={class:"flex-1 overflow-y-auto p-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},rp={class:"flex flex-col items-start"},sp={class:"flex-1 overflow-y-auto p-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},ip={class:"flex flex-col items-start"},up={class:"flex-1 overflow-y-auto p-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},dp={class:"flex-1 overflow-y-auto p-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},cp={class:"flex-1 overflow-y-auto p-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},pp=Y({__name:"UploadImgDialog",emits:["uploadImage"],setup(n,{emit:a}){const l=a,r=Fe(),{enableImageReupload:s}=Re(r),{toggleImageReupload:i}=r,u=ht(yt({repo:$e().required("GitHub 仓库不能为空"),branch:$e().optional(),accessToken:$e().required("GitHub Token 不能为空")})),p=z.reactive("githubConfig",{repo:"",branch:"",accessToken:""});async function d(ce){Object.assign(p.value,ce),de.success("保存成功")}const g=ht(yt({accessKeyId:$e().required("AccessKey ID 不能为空"),accessKeySecret:$e().required("AccessKey Secret 不能为空"),bucket:$e().required("Bucket 不能为空"),region:$e().required("Region 不能为空"),useSSL:Ln().required(),cdnHost:$e().optional(),path:$e().optional()})),w=z.reactive("aliOSSConfig",{accessKeyId:"",accessKeySecret:"",bucket:"",region:"",useSSL:!0,cdnHost:"",path:""});async function b(ce){Object.assign(w.value,ce),de.success("保存成功")}const k=ht(yt({secretId:$e().required("Secret ID 不能为空"),secretKey:$e().required("Secret Key 不能为空"),bucket:$e().required("Bucket 不能为空"),region:$e().required("Region 不能为空"),cdnHost:$e().optional(),path:$e().optional()})),y=z.reactive("txCOSConfig",{secretId:"",secretKey:"",bucket:"",region:"",cdnHost:"",path:""});async function h(ce){Object.assign(y.value,ce),de.success("保存成功")}const $=ht(yt({accessKey:$e().required("AccessKey 不能为空"),secretKey:$e().required("SecretKey 不能为空"),bucket:$e().required("Bucket 不能为空"),domain:$e().required("Bucket 对应域名不能为空"),region:$e().optional(),path:$e().optional()})),E=z.reactive("qiniuConfig",{accessKey:"",secretKey:"",bucket:"",domain:"",region:"",path:""});async function f(ce){Object.assign(E.value,ce),de.success("保存成功")}const _=ht(yt({endpoint:$e().required("Endpoint 不能为空"),port:$e().optional(),useSSL:Ln().required(),bucket:$e().required("Bucket 不能为空"),accessKey:$e().required("AccessKey 不能为空"),secretKey:$e().required("SecretKey 不能为空")})),U=z.reactive("minioConfig",{endpoint:"",port:"",useSSL:!0,bucket:"",accessKey:"",secretKey:""});async function C(ce){Object.assign(U.value,ce),de.success("保存成功")}const R=ht(yt({endpoint:$e().optional(),region:$e().required("Region 不能为空"),bucket:$e().required("Bucket 不能为空"),accessKeyId:$e().required("AccessKey ID 不能为空"),accessKeySecret:$e().required("Secret AccessKey 不能为空"),path:$e().optional(),cdnHost:$e().optional(),pathStyle:Ln().optional()})),A=z.reactive("s3Config",{endpoint:"",region:"",bucket:"",accessKeyId:"",accessKeySecret:"",path:"",cdnHost:"",pathStyle:!1});async function I(ce){Object.assign(A.value,ce),de.success("保存成功")}const x=ht(yt({token:$e().required("Bot Token 不能为空"),chatId:$e().required("Chat ID 不能为空")})),j=z.reactive("telegramConfig",{token:"",chatId:""});async function ne(ce){Object.assign(j.value,ce),de.success("保存成功")}const O=!window.location.protocol.startsWith("http"),M=he(()=>!O&&!0),G=he(()=>M.value?"如：http://proxy.example.com":"可不填"),T=he(()=>ht(yt({proxyOrigin:M.value?$e().required("代理域名不能为空"):$e().optional(),appID:$e().required("AppID 不能为空"),appsecret:$e().required("AppSecret 不能为空")}))),re=z.reactive("mpConfig",{proxyOrigin:"",appID:"",appsecret:""});async function Q(ce){Object.assign(re.value,ce),de.success("保存成功")}const Z=ht(yt({accountId:$e().required("Account ID 不能为空"),accessKey:$e().required("AccessKey 不能为空"),secretKey:$e().required("SecretKey 不能为空"),bucket:$e().required("Bucket 不能为空"),domain:$e().required("Bucket 对应域名不能为空"),path:$e().optional()})),ae=z.reactive("r2Config",{accountId:"",accessKey:"",secretKey:"",bucket:"",domain:"",path:""});async function se(ce){Object.assign(ae.value,ce),de.success("保存成功")}const ee=he(()=>ht(yt({bucket:$e().required("Bucket 不能为空"),operator:$e().required("操作员 不能为空"),password:$e().required("密码 不能为空"),domain:$e().required("CDN 域名不能为空"),path:$e().optional()}))),P=z.reactive("upyunConfig",{bucket:"",operator:"",password:"",domain:"",path:""});async function ye(ce){Object.assign(P.value,ce),de.success("保存成功")}const be=ht(yt({cloudName:$e().required("Cloud Name 不能为空"),apiKey:$e().required("API Key 不能为空"),apiSecret:$e().optional(),uploadPreset:$e().when("apiSecret",{is:ce=>!ce||ce.length===0,then:ce=>ce.required("未填写 apiSecret 时必须提供上传预设名"),otherwise:ce=>ce.optional()}),folder:$e().optional(),domain:$e().optional()})),ie=z.reactive("cloudinaryConfig",{cloudName:"",apiKey:"",apiSecret:"",uploadPreset:"",folder:"",domain:""});async function H(ce){Object.assign(ie.value,ce),de.success("保存成功")}const xe=[{value:"default",label:"默认"},{value:"github",label:"GitHub"},{value:"aliOSS",label:"阿里云"},{value:"txCOS",label:"腾讯云"},{value:"qiniu",label:"七牛云"},{value:"minio",label:"MinIO"},{value:"s3",label:"S3"},{value:"mp",label:"公众号图床"},{value:"r2",label:"Cloudflare R2"},{value:"upyun",label:"又拍云"},{value:"telegram",label:"Telegram"},{value:"cloudinary",label:"Cloudinary"},{value:"formCustom",label:"自定义代码"}],Be=z.reactive("imgHost","default"),Oe=z.reactive("useCompression",!1),F=D("upload");async function J(){de.success("图床已切换")}async function W(){}async function K(ce){const q=pr(ce);if(!q.ok)return de.error(q.msg),!1;const De=Be.value||"default",Ae=await z.get(`${De}Config`);return De==="default"||Ae?!0:(de.error(`请先配置 ${De} 图床参数`),!1)}const le=D(!1),{open:Le,reset:pe,onChange:He}=Bl({accept:"image/*"});He(async ce=>{if(ce==null)return;const q=ce[0];await K(q)&&ue(q),pe()});async function We(ce){le.value=!1,ce.stopPropagation();const q=Array.from(ce.dataTransfer.files)[0];await K(q)&&ue(q)}const Ye=D(0),Ce=D("");function ue(ce){Ye.value=0;const q=setInterval(()=>{const Ae=Ye.value+1;Ae>=100||(Ye.value=Ae)},100);l("uploadImage",ce,(Ae,Pe)=>{clearInterval(q),Ye.value=100,Pe&&(Ce.value=`data:image/png;base64,${Pe}`),setTimeout(()=>{Ye.value=0,Ce.value=""},1e3)},!0)}function me(ce){if(ce.deltaY!==0){ce.preventDefault();const q=ce.currentTarget;q.scrollLeft+=ce.deltaY}}return(ce,q)=>{const De=gt,Ae=ft,Pe=Cn,qe=En,nt=Nt,Xe=Dt,Qe=Bt,St=Ot,Me=It,it=z0,Lt=Lr,Je=va,Se=Et,ve=Gr,ze=Ge,rt=Gt,Sn=H0,$n=kn,Tn=mt,An=pt;return v(),B(An,{open:e(r).isShowUploadImgDialog,"onUpdate:open":q[9]||(q[9]=S=>e(r).isShowUploadImgDialog=S)},{default:o(()=>[t(Tn,{class:"md:max-w-3xl max-h-[90vh] flex flex-col overflow-hidden",onPointerDownOutside:q[8]||(q[8]=S=>S.preventDefault())},{default:o(()=>[t(Ae,null,{default:o(()=>[t(De,null,{default:o(()=>[...q[10]||(q[10]=[m("本地上传",-1)])]),_:1})]),_:1}),t($n,{modelValue:e(F),"onUpdate:modelValue":q[7]||(q[7]=S=>_e(F)?F.value=S:null),class:"w-full md:w-full flex flex-col flex-1 overflow-hidden"},{default:o(()=>[t(qe,{class:"flex w-full justify-start overflow-x-auto flex-nowrap gap-1 pb-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden",onWheel:me},{default:o(()=>[t(Pe,{value:"upload",class:"text-xs md:text-sm whitespace-nowrap"},{default:o(()=>[...q[11]||(q[11]=[m(" 选择上传 ",-1)])]),_:1}),(v(!0),N(Te,null,Ne(xe.filter(S=>S.value!=="default"),S=>(v(),B(Pe,{key:S.value,value:S.value,class:"text-xs md:text-sm whitespace-nowrap"},{default:o(()=>[m(V(S.label),1)]),_:2},1032,["value"]))),128))]),_:1}),t(Je,{value:"upload",class:"flex-1 overflow-y-auto p-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},{default:o(()=>[t(Me,{modelValue:e(Be),"onUpdate:modelValue":[q[0]||(q[0]=S=>_e(Be)?Be.value=S:null),J],class:"my-4"},{default:o(()=>[t(Xe,null,{default:o(()=>[t(nt,{placeholder:"请选择图床"})]),_:1}),t(St,{class:"max-h-64 md:max-h-96"},{default:o(()=>[(v(),N(Te,null,Ne(xe,S=>t(Qe,{key:S.value,label:S.label,value:S.value},{default:o(()=>[m(V(S.label),1)]),_:2},1032,["label","value"])),64))]),_:1})]),_:1},8,["modelValue"]),c("div",W0,[c("div",Y0,[q[12]||(q[12]=c("span",{class:"text-sm"}," 开启图片压缩 ",-1)),t(it,{checked:e(Oe),"onUpdate:checked":[q[1]||(q[1]=S=>_e(Oe)?Oe.value=S:null),W],name:"UseCompression"},null,8,["checked"])]),c("div",J0,[q[13]||(q[13]=c("span",{class:"text-sm"}," 粘贴图片时自动转存 ",-1)),t(it,{checked:e(s),"onUpdate:checked":[q[2]||(q[2]=S=>_e(s)?s.value=S:null),e(i)],name:"EnableImageReupload"},null,8,["checked","onUpdate:checked"])]),q[14]||(q[14]=c("p",{class:"text-xs text-muted-foreground mt-1.5"}," 粘贴 Markdown 图片链接时自动转存到配置的图床 ",-1))]),c("div",{class:we(["bg-clip-padding mt-4 h-50 relative flex flex-col cursor-pointer items-center justify-evenly border-2 rounded border-dashed transition-colors hover:border-gray-700 hover:bg-gray-400/50 dark:hover:border-gray-200 dark:hover:bg-gray-500/50",{"border-gray-700 bg-gray-400/50 dark:border-gray-200 dark:bg-gray-500/50":e(le)}]),onClick:q[4]||(q[4]=S=>e(Le)()),onDrop:Ke(We,["prevent"]),onDragover:q[5]||(q[5]=Ke(S=>le.value=!0,["prevent"])),onDragleave:q[6]||(q[6]=Ke(S=>le.value=!1,["prevent"]))},[t(Lt,{modelValue:e(Ye),"onUpdate:modelValue":q[3]||(q[3]=S=>_e(Ye)?Ye.value=S:null),class:"absolute left-0 right-0 rounded-none",style:{top:"-24px",height:"2px"}},null,8,["modelValue"]),t(e(Hl),{class:"size-16 md:size-20"}),q[15]||(q[15]=c("p",{class:"text-center text-sm md:text-base px-4"},[m(" 将图片拖到此处，或 "),c("strong",null,"点击上传")],-1)),e(Ce)?(v(),N("div",Z0,[c("img",{src:e(Ce),class:"max-h-40 object-contain"},null,8,X0)])):fe("",!0)],34)]),_:1}),t(Je,{value:"github",class:"flex-1 flex flex-col overflow-hidden"},{default:o(()=>[t(e(bt),{"validation-schema":e(u),"initial-values":e(p),class:"flex flex-col flex-1 overflow-hidden",onSubmit:d},{default:o(()=>[c("div",Q0,[t(e(Ee),{name:"repo"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"GitHub 仓库",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：github.com/yanglbme/resource"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"branch"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"分支",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：release，可不填，默认 master"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"accessToken"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"Token",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,type:"password",placeholder:"如：cc1d0c1426d0fd0902bd2d7184b14da61b8abc46"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(ve,null,{default:o(()=>[t(ze,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token",target:"_blank"},{default:o(()=>[...q[16]||(q[16]=[m(" 如何获取 GitHub Token？ ",-1)])]),_:1})]),_:1})]),t(rt,{class:"p-1"},{default:o(()=>[t(ze,{type:"submit"},{default:o(()=>[...q[17]||(q[17]=[m(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),t(Je,{value:"aliOSS",class:"flex-1 flex flex-col overflow-hidden"},{default:o(()=>[t(e(bt),{"validation-schema":e(g),"initial-values":e(w),class:"flex flex-col flex-1 overflow-hidden",onSubmit:b},{default:o(()=>[c("div",ep,[t(e(Ee),{name:"accessKeyId"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"AccessKey ID",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：LTAI4GdoocsmdoxUf13ylbaNHk"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"accessKeySecret"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"AccessKey Secret",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,type:"password",placeholder:"如：cc1d0c142doocs0902bd2d7md4b14da6ylbabc46"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"bucket"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"Bucket",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：doocs"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"region"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"Bucket 所在区域",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：oss-cn-shenzhen"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"useSSL",type:"boolean"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"UseSSL",required:"",error:X},{default:o(()=>[t(it,{checked:S.value,name:S.name,"onUpdate:checked":S.onChange,onBlur:S.onBlur},null,8,["checked","name","onUpdate:checked","onBlur"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"cdnHost"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"自定义 CDN 域名",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：https://imagecdn.alidaodao.com，可不填"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"path"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"存储路径",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：img，可不填，默认为根目录"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(ve,null,{default:o(()=>[t(ze,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://help.aliyun.com/document_detail/31883.html",target:"_blank"},{default:o(()=>[...q[18]||(q[18]=[m(" 如何使用阿里云 OSS？ ",-1)])]),_:1})]),_:1})]),t(rt,{class:"p-1"},{default:o(()=>[t(ze,{type:"submit"},{default:o(()=>[...q[19]||(q[19]=[m(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),t(Je,{value:"txCOS",class:"flex-1 flex flex-col overflow-hidden"},{default:o(()=>[t(e(bt),{"validation-schema":e(k),"initial-values":e(y),class:"flex flex-col flex-1 overflow-hidden",onSubmit:h},{default:o(()=>[c("div",tp,[t(e(Ee),{name:"secretId"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"SecretId",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：AKIDnQp1w3DOOCSs8F5MDp9tdoocsmdUPonW3"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"secretKey"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"SecretKey",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,type:"password",placeholder:"如：ukLmdtEJ9271f3DOocsMDsCXdS3YlbW0"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"bucket"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"Bucket",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：doocs-3212520134"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"region"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"Bucket 所在区域",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：ap-guangzhou"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"cdnHost"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"自定义 CDN 域名",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：https://imagecdn.alidaodao.com，可不填"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"path"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"存储路径",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：img，可不填，默认根目录"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(ve,null,{default:o(()=>[t(ze,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://cloud.tencent.com/document/product/436/38484",target:"_blank"},{default:o(()=>[...q[20]||(q[20]=[m(" 如何使用腾讯云 COS？ ",-1)])]),_:1})]),_:1})]),t(rt,{class:"p-1"},{default:o(()=>[t(ze,{type:"submit"},{default:o(()=>[...q[21]||(q[21]=[m(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),t(Je,{value:"qiniu",class:"flex-1 flex flex-col overflow-hidden"},{default:o(()=>[t(e(bt),{"validation-schema":e($),"initial-values":e(E),class:"flex flex-col flex-1 overflow-hidden",onSubmit:f},{default:o(()=>[c("div",op,[t(e(Ee),{name:"accessKey"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"AccessKey",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：6DD3VaLJ_SQgOdoocsyTV_YWaDmdnL2n8EGx7kG"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"secretKey"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"SecretKey",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,type:"password",placeholder:"如：qgZa5qrvDOOcsmdKStD1oCjZ9nB7MDvJUs_34SIm"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"bucket"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"Bucket",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：md"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"domain"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"Bucket 对应域名",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：https://images.123ylb.cn"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"region"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"存储区域",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：z2，可不填"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"path"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"存储路径",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：img，可不填，默认为根目录"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(ve,null,{default:o(()=>[t(ze,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://developer.qiniu.com/kodo",target:"_blank"},{default:o(()=>[...q[22]||(q[22]=[m(" 如何使用七牛云 Kodo？ ",-1)])]),_:1})]),_:1})]),t(rt,{class:"p-1"},{default:o(()=>[t(ze,{type:"submit"},{default:o(()=>[...q[23]||(q[23]=[m(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),t(Je,{value:"minio",class:"flex-1 flex flex-col overflow-hidden"},{default:o(()=>[t(e(bt),{"validation-schema":e(_),"initial-values":e(U),class:"flex flex-col flex-1 overflow-hidden",onSubmit:C},{default:o(()=>[c("div",np,[t(e(Ee),{name:"endpoint"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"Endpoint",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：play.min.io"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"port"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"Port",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,type:"number",placeholder:"如：9000，可不填，http 默认为 80，https 默认为 443"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"useSSL",type:"boolean"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"UseSSL",required:"",error:X},{default:o(()=>[t(it,{checked:S.value,name:S.name,"onUpdate:checked":S.onChange,onBlur:S.onBlur},null,8,["checked","name","onUpdate:checked","onBlur"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"bucket"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"Bucket",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：doocs"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"accessKey"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"AccessKey",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：zhangsan"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"secretKey"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"SecretKey",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：asdasdasd"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(ve,null,{default:o(()=>[t(ze,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"http://docs.minio.org.cn/docs/master/minio-client-complete-guide",target:"_blank"},{default:o(()=>[...q[24]||(q[24]=[m(" 如何使用 MinIO？ ",-1)])]),_:1})]),_:1})]),t(rt,{class:"p-1"},{default:o(()=>[t(ze,{type:"submit"},{default:o(()=>[...q[25]||(q[25]=[m(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),t(Je,{value:"s3",class:"flex-1 flex flex-col overflow-hidden"},{default:o(()=>[t(e(bt),{"validation-schema":e(R),"initial-values":e(A),class:"flex flex-col flex-1 overflow-hidden",onSubmit:I},{default:o(()=>[c("div",ap,[t(e(Ee),{name:"endpoint"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"Endpoint",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：s3.amazonaws.com，可不填"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"region"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"Region",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：us-east-1"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"bucket"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"Bucket",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：bucket-name"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"accessKeyId"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"AccessKey ID",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：AKIAIOSFODNN7EXAMPLE"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"accessKeySecret"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"AccessKey Secret",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,type:"password",placeholder:"如：wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"path"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"存储路径",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：img，可不填，默认根目录"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"cdnHost"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"自定义域名",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：https://cdn.example.com"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"pathStyle",type:"boolean"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"Force Path Style",error:X},{default:o(()=>[t(it,{checked:S.value,name:S.name,"onUpdate:checked":S.onChange,onBlur:S.onBlur},null,8,["checked","name","onUpdate:checked","onBlur"])]),_:2},1032,["error"])]),_:1})]),t(rt,{class:"p-1"},{default:o(()=>[t(ze,{type:"submit"},{default:o(()=>[...q[26]||(q[26]=[m(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),t(Je,{value:"mp",class:"flex-1 flex flex-col overflow-hidden"},{default:o(()=>[t(e(bt),{"validation-schema":e(T),"initial-values":e(re),class:"flex flex-col flex-1 overflow-hidden",onSubmit:Q},{default:o(()=>[c("div",lp,[e(M)?(v(),B(e(Ee),{key:0,name:"proxyOrigin"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"代理域名",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:e(G)}),null,16,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["error"])]),_:1})):fe("",!0),t(e(Ee),{name:"appID"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"appID",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：wx6e1234567890efa3"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"appsecret"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"appsecret",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：d9f1abcdef01234567890abcdef82397"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(ve,null,{default:o(()=>[c("div",rp,[t(ze,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://developers.weixin.qq.com/doc/offiaccount/Getting_Started/Getting_Started_Guide.html",target:"_blank"},{default:o(()=>[...q[27]||(q[27]=[m(" 如何开启公众号开发者模式并获取应用账号密钥？ ",-1)])]),_:1}),t(ze,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://md-pages.doocs.org/tutorial/",target:"_blank"},{default:o(()=>[...q[28]||(q[28]=[m(" 如何在浏览器插件中使用公众号图床？ ",-1)])]),_:1})])]),_:1})]),t(rt,{class:"p-1"},{default:o(()=>[t(ze,{type:"submit"},{default:o(()=>[...q[29]||(q[29]=[m(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),t(Je,{value:"r2",class:"flex-1 flex flex-col overflow-hidden"},{default:o(()=>[t(e(bt),{"validation-schema":e(Z),"initial-values":e(ae),class:"flex flex-col flex-1 overflow-hidden",onSubmit:se},{default:o(()=>[c("div",sp,[t(e(Ee),{name:"accountId"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"AccountId",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如: 0030f123e55a57546f4c281c564e560",class:"w-full min-w-0 md:min-w-[350px]"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"accessKey"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"AccessKey",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如: 358090b3a12824a6b0787gae7ad0fc72"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"secretKey"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"SecretKey",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,type:"password",placeholder:"如: c1c4dbcb0b6b785ac6633422a06dff3dac055fe74fe40xj1b5c5fcf1bf128010"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"bucket"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"Bucket",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：md"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"domain"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"域名",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：https://oss.example.com"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"path"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"存储路径",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：img，可不填，默认为根目录"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(ve,null,{default:o(()=>[c("div",ip,[t(ze,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://developers.cloudflare.com/r2/api/s3/api/",target:"_blank"},{default:o(()=>[...q[30]||(q[30]=[m(" 如何使用 S3 API 操作 Cloudflare R2？ ",-1)])]),_:1}),t(ze,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://developers.cloudflare.com/r2/buckets/cors/",target:"_blank"},{default:o(()=>[...q[31]||(q[31]=[m(" 如何设置跨域(CORS)？ ",-1)])]),_:1})])]),_:1})]),t(rt,{class:"p-1"},{default:o(()=>[t(ze,{type:"submit"},{default:o(()=>[...q[32]||(q[32]=[m(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),t(Je,{value:"upyun",class:"flex-1 flex flex-col overflow-hidden"},{default:o(()=>[t(e(bt),{"validation-schema":e(ee),"initial-values":e(P),class:"flex flex-col flex-1 overflow-hidden",onSubmit:ye},{default:o(()=>[c("div",up,[t(e(Ee),{name:"bucket"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"Bucket",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如: md",class:"w-full min-w-0 md:min-w-[350px]"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"operator"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"操作员",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如: operator"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"password"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"操作员密码",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,type:"password",placeholder:"如: c1c4dbcb0b6b785ac6633422a06dff3dac055fe74fe40xj1b5c5fcf1bf128010"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"domain"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"域名",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：http://xxx.test.upcdn.net"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"path"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"存储路径",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：img，可不填，默认为根目录"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(ve,null,{default:o(()=>[t(ze,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://help.upyun.com/",target:"_blank"},{default:o(()=>[...q[33]||(q[33]=[m(" 如何使用 又拍云？ ",-1)])]),_:1})]),_:1})]),t(rt,{class:"p-1"},{default:o(()=>[t(ze,{type:"submit"},{default:o(()=>[...q[34]||(q[34]=[m(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),t(Je,{value:"telegram",class:"flex-1 flex flex-col overflow-hidden"},{default:o(()=>[t(e(bt),{"validation-schema":e(x),"initial-values":e(j),class:"flex flex-col flex-1 overflow-hidden",onSubmit:ne},{default:o(()=>[c("div",dp,[t(e(Ee),{name:"token"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"Bot Token",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：123456789:ABCdefGHIjkl-MNOPqrSTUvwxYZ"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"chatId"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"Chat ID",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：-1001234567890"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(ve,null,{default:o(()=>[t(ze,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://github.com/doocs/md/blob/main/docs/telegram-usage.md",target:"_blank"},{default:o(()=>[...q[35]||(q[35]=[m(" 如何使用 Telegram？ ",-1)])]),_:1})]),_:1})]),t(rt,{class:"p-1"},{default:o(()=>[t(ze,{type:"submit"},{default:o(()=>[...q[36]||(q[36]=[m(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),t(Je,{value:"cloudinary",class:"flex-1 flex flex-col overflow-hidden"},{default:o(()=>[t(e(bt),{"validation-schema":e(be),"initial-values":e(ie),class:"flex flex-col flex-1 overflow-hidden",onSubmit:H},{default:o(()=>[c("div",cp,[t(e(Ee),{name:"cloudName"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"Cloud Name",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：demo"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"apiKey"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"API Key",required:"",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：1234567890"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"apiSecret"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"API Secret",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,type:"password",placeholder:"用于签名上传，可不填"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"uploadPreset"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"Upload Preset",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"unsigned 时必填，signed 时可不填"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"folder"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"Folder",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：blog/image，可不填"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(e(Ee),{name:"domain"},{default:o(({field:S,errorMessage:X})=>[t(ve,{label:"自定义域名 / CDN",error:X},{default:o(()=>[t(Se,te(S,{modelValue:S.value,"onUpdate:modelValue":oe=>S.value=oe,placeholder:"如：https://cdn.example.com，可不填"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),t(ve,null,{default:o(()=>[t(ze,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://cloudinary.com/documentation/upload_images",target:"_blank"},{default:o(()=>[...q[37]||(q[37]=[m(" Cloudinary 使用文档 ",-1)])]),_:1})]),_:1})]),t(rt,{class:"p-1"},{default:o(()=>[t(ze,{type:"submit"},{default:o(()=>[...q[38]||(q[38]=[m(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),t(Je,{value:"formCustom",class:"flex-1 flex flex-col overflow-hidden"},{default:o(()=>[t(Sn)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["open"])}}}),mp={key:0,class:"sticky top-0 z-10 flex items-center justify-between -mx-4 px-4 py-3 border-b mb-4 bg-background"},fp={class:"space-y-2"},gp={class:"grid grid-cols-3 justify-items-center gap-2"},wp={class:"space-y-2"},vp={class:"grid grid-cols-3 justify-items-center gap-2"},hp={class:"space-y-2"},bp={class:"grid grid-cols-5 justify-items-center gap-2"},yp={class:"space-y-2"},xp={class:"grid grid-cols-3 justify-items-center gap-2"},_p={class:"space-y-2"},kp={class:"space-y-2"},Ep={class:"flex gap-2"},Cp={class:"space-y-2"},Sp={class:"space-y-2"},$p={class:"grid grid-cols-3 justify-items-center gap-2"},Tp={class:"space-y-2"},Ap={class:"grid grid-cols-5 justify-items-center gap-2"},Gp={class:"space-y-2"},Lp={class:"grid grid-cols-5 justify-items-center gap-2"},Rp={class:"space-y-2"},Ip={class:"grid grid-cols-5 justify-items-center gap-2"},Bp={class:"space-y-2"},Dp={class:"grid grid-cols-5 justify-items-center gap-2"},Np={class:"space-y-2"},Op={class:"grid grid-cols-5 justify-items-center gap-2"},Pp={class:"space-y-2"},Mp=Y({__name:"RightSlider",setup(n){const a=Ho(),l=Fe(),r=jt(),{theme:s,fontFamily:i,fontSize:u,primaryColor:p,codeBlockTheme:d,legend:g,isMacCodeBlock:w,isShowLineNumber:b,isCiteStatus:k,isUseIndent:y,isUseJustify:h}=Re(r),$=D("h2"),E=he({get:()=>r.getHeadingStyle($.value),set:ie=>{r.setHeadingStyle($.value,ie),ie==="custom"&&(l.isShowCssEditor=!0,_t(()=>{setTimeout(()=>{a.scrollToHeading($.value)},100)})),r.applyCurrentTheme(),A()}}),{isMobile:f,isOpenRightSlider:_,isDark:U}=Re(l),C=ot(),R=At();function A(){r.updateCodeTheme();const ie=C.getContent();R.render(ie)}function I(ie){r.theme=ie,r.applyCurrentTheme(),A()}function x(ie){r.fontFamily=ie,r.applyCurrentTheme(),A()}function j(ie){r.fontSize=ie,r.applyCurrentTheme(),A()}function ne(ie){r.primaryColor=ie,r.applyCurrentTheme(),A()}function L(ie){r.codeBlockTheme=ie,A()}function O(ie){r.legend=ie,A()}function M(){r.isMacCodeBlock=!r.isMacCodeBlock,A()}function G(){r.isShowLineNumber=!r.isShowLineNumber,A()}function T(){r.isCiteStatus=!r.isCiteStatus,A()}function re(){r.isUseIndent=!r.isUseIndent,r.applyCurrentTheme(),A()}function Q(){r.isUseJustify=!r.isUseJustify,r.applyCurrentTheme(),A()}function Z(){l.isOpenConfirmDialog=!0}const ae=D(!1);Ie(_,()=>{f.value&&(ae.value=!0)}),Ie(f,()=>{ae.value=!1});const se=D(!1),ee=D("");Ie(se,()=>{se.value&&(ee.value="")});const P=Yt("pickColorsContainer"),ye=D("rgb"),be=D(["rgb","hex","hsl","hsv"]);return(ie,H)=>{const xe=Ge,Be=Nt,Oe=Dt,F=Bt,J=Ot,W=It;return v(),N(Te,null,[e(f)&&e(_)?(v(),N("div",{key:0,class:"fixed inset-0 bg-black/50 z-40",onClick:H[0]||(H[0]=K=>_.value=!1)})):fe("",!0),c("div",{class:we(["overflow-hidden mobile-right-drawer",{"fixed top-0 right-0 w-full h-full z-55 bg-background border-l shadow-lg":e(f),animate:e(f)&&e(ae),"border-l-2 order-2 border-gray/20 bg-white transition-width duration-300 dark:bg-[#191919]":!e(f),"w-100":!e(f)&&e(_),"w-0 border-l-0":!e(f)&&!e(_)}]),style:Vt({transform:e(f)?e(_)?"translateX(0)":"translateX(100%)":"none"})},[c("div",{class:we(["space-y-4 h-full overflow-auto p-4",{"pt-0":e(f),"transition-transform":!e(f),"translate-x-0":!e(f)&&e(_),"translate-x-full":!e(f)&&!e(_)}])},[e(f)?(v(),N("div",mp,[H[16]||(H[16]=c("h2",{class:"text-lg font-semibold"}," 样式设置 ",-1)),t(xe,{variant:"ghost",size:"sm",onClick:H[1]||(H[1]=K=>_.value=!1)},{default:o(()=>[t(e(Jt),{class:"h-4 w-4"})]),_:1})])):fe("",!0),c("div",fp,[H[17]||(H[17]=c("h2",null,"主题",-1)),c("div",gp,[(v(!0),N(Te,null,Ne(e(an),({label:K,value:le})=>(v(),B(xe,{key:le,class:we(["w-full",{"border-black dark:border-white border-2":e(s)===le}]),variant:"outline",onClick:Le=>I(le)},{default:o(()=>[m(V(K),1)]),_:2},1032,["class","onClick"]))),128))])]),c("div",wp,[H[18]||(H[18]=c("h2",null,"字体",-1)),c("div",vp,[(v(!0),N(Te,null,Ne(e(ln),({label:K,value:le})=>(v(),B(xe,{key:le,variant:"outline",class:we(["w-full",{"border-black dark:border-white border-2":e(i)===le}]),onClick:Le=>x(le)},{default:o(()=>[m(V(K),1)]),_:2},1032,["class","onClick"]))),128))])]),c("div",hp,[H[19]||(H[19]=c("h2",null,"字号",-1)),c("div",bp,[(v(!0),N(Te,null,Ne(e(rn),({value:K,desc:le})=>(v(),B(xe,{key:K,variant:"outline",class:we(["w-full",{"border-black dark:border-white border-2":e(u)===K}]),onClick:Le=>j(K)},{default:o(()=>[m(V(le),1)]),_:2},1032,["class","onClick"]))),128))])]),c("div",yp,[H[20]||(H[20]=c("h2",null,"主题色",-1)),c("div",xp,[(v(!0),N(Te,null,Ne(e(sn),({label:K,value:le})=>(v(),B(xe,{key:le,class:we(["w-full",{"border-black dark:border-white border-2":e(p)===le}]),variant:"outline",onClick:Le=>ne(le)},{default:o(()=>[c("span",{class:"mr-2 inline-block h-4 w-4 rounded-full",style:Vt({background:le})},null,4),m(" "+V(K),1)]),_:2},1032,["class","onClick"]))),128))])]),c("div",_p,[H[21]||(H[21]=c("h2",null,"自定义主题色",-1)),c("div",{ref_key:"pickColorsContainer",ref:P},[e(P)?(v(),B(e(Mo),{key:0,value:e(p),"onUpdate:value":H[2]||(H[2]=K=>_e(p)?p.value=K:null),"show-alpha":"",format:e(ye),"format-options":e(be),theme:e(U)?"dark":"light","popup-container":e(P),onChange:ne},null,8,["value","format","format-options","theme","popup-container"])):fe("",!0)],512)]),c("div",kp,[H[22]||(H[22]=c("h2",null,"标题样式",-1)),c("div",Ep,[t(W,{modelValue:e($),"onUpdate:modelValue":H[3]||(H[3]=K=>_e($)?$.value=K:null)},{default:o(()=>[t(Oe,{class:"w-[120px]"},{default:o(()=>[t(Be,{placeholder:"选择标题"})]),_:1}),t(J,null,{default:o(()=>[(v(!0),N(Te,null,Ne(e(Yc),({label:K,value:le})=>(v(),B(F,{key:le,value:le},{default:o(()=>[m(V(K),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),t(W,{modelValue:e(E),"onUpdate:modelValue":H[4]||(H[4]=K=>_e(E)?E.value=K:null)},{default:o(()=>[t(Oe,{class:"flex-1"},{default:o(()=>[t(Be,{placeholder:"选择样式"})]),_:1}),t(J,null,{default:o(()=>[(v(!0),N(Te,null,Ne(e(Jc),({label:K,value:le})=>(v(),B(F,{key:le,value:le},{default:o(()=>[m(V(K),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])]),c("div",Cp,[H[23]||(H[23]=c("h2",null,"代码块主题",-1)),c("div",null,[t(W,{modelValue:e(d),"onUpdate:modelValue":[H[5]||(H[5]=K=>_e(d)?d.value=K:null),L]},{default:o(()=>[t(Oe,null,{default:o(()=>[t(Be,{placeholder:"Select a code block theme"})]),_:1}),t(J,null,{default:o(()=>[(v(!0),N(Te,null,Ne(e(un),({label:K,value:le})=>(v(),B(F,{key:K,value:le},{default:o(()=>[m(V(K),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])]),c("div",Sp,[H[24]||(H[24]=c("h2",null,"图注格式",-1)),c("div",$p,[(v(!0),N(Te,null,Ne(e(dn),({label:K,value:le})=>(v(),B(xe,{key:le,class:we(["w-full",{"border-black dark:border-white border-2":e(g)===le}]),variant:"outline",onClick:Le=>O(le)},{default:o(()=>[m(V(K),1)]),_:2},1032,["class","onClick"]))),128))])]),c("div",Tp,[H[27]||(H[27]=c("h2",null,"Mac 代码块",-1)),c("div",Ap,[t(xe,{class:we(["w-full",{"border-black dark:border-white border-2":e(w)}]),variant:"outline",onClick:H[6]||(H[6]=K=>!e(w)&&M())},{default:o(()=>[...H[25]||(H[25]=[m(" 开启 ",-1)])]),_:1},8,["class"]),t(xe,{class:we(["w-full",{"border-black dark:border-white border-2":!e(w)}]),variant:"outline",onClick:H[7]||(H[7]=K=>e(w)&&M())},{default:o(()=>[...H[26]||(H[26]=[m(" 关闭 ",-1)])]),_:1},8,["class"])])]),c("div",Gp,[H[30]||(H[30]=c("h2",null,"代码块行号",-1)),c("div",Lp,[t(xe,{class:we(["w-full",{"border-black dark:border-white border-2":e(b)}]),variant:"outline",onClick:H[8]||(H[8]=K=>!e(b)&&G())},{default:o(()=>[...H[28]||(H[28]=[m(" 开启 ",-1)])]),_:1},8,["class"]),t(xe,{class:we(["w-full",{"border-black dark:border-white border-2":!e(b)}]),variant:"outline",onClick:H[9]||(H[9]=K=>e(b)&&G())},{default:o(()=>[...H[29]||(H[29]=[m(" 关闭 ",-1)])]),_:1},8,["class"])])]),c("div",Rp,[H[33]||(H[33]=c("h2",null,"微信外链转底部引用",-1)),c("div",Ip,[t(xe,{class:we(["w-full",{"border-black dark:border-white border-2":e(k)}]),variant:"outline",onClick:H[10]||(H[10]=K=>!e(k)&&T())},{default:o(()=>[...H[31]||(H[31]=[m(" 开启 ",-1)])]),_:1},8,["class"]),t(xe,{class:we(["w-full",{"border-black dark:border-white border-2":!e(k)}]),variant:"outline",onClick:H[11]||(H[11]=K=>e(k)&&T())},{default:o(()=>[...H[32]||(H[32]=[m(" 关闭 ",-1)])]),_:1},8,["class"])])]),c("div",Bp,[H[36]||(H[36]=c("h2",null,"段落首行缩进",-1)),c("div",Dp,[t(xe,{class:we(["w-full",{"border-black dark:border-white border-2":e(y)}]),variant:"outline",onClick:H[12]||(H[12]=K=>!e(y)&&re())},{default:o(()=>[...H[34]||(H[34]=[m(" 开启 ",-1)])]),_:1},8,["class"]),t(xe,{class:we(["w-full",{"border-black dark:border-white border-2":!e(y)}]),variant:"outline",onClick:H[13]||(H[13]=K=>e(y)&&re())},{default:o(()=>[...H[35]||(H[35]=[m(" 关闭 ",-1)])]),_:1},8,["class"])])]),c("div",Np,[H[39]||(H[39]=c("h2",null,"段落两端对齐",-1)),c("div",Op,[t(xe,{class:we(["w-full",{"border-black dark:border-white border-2":e(h)}]),variant:"outline",onClick:H[14]||(H[14]=K=>!e(h)&&Q())},{default:o(()=>[...H[37]||(H[37]=[m(" 开启 ",-1)])]),_:1},8,["class"]),t(xe,{class:we(["w-full",{"border-black dark:border-white border-2":!e(h)}]),variant:"outline",onClick:H[15]||(H[15]=K=>e(h)&&Q())},{default:o(()=>[...H[38]||(H[38]=[m(" 关闭 ",-1)])]),_:1},8,["class"])])]),c("div",Pp,[H[41]||(H[41]=c("h2",null,"样式配置",-1)),t(xe,{variant:"destructive",onClick:Z},{default:o(()=>[...H[40]||(H[40]=[m(" 重置 ",-1)])]),_:1})])],2)],6)],64)}}}),Up=st(Mp,[["__scopeId","data-v-cfd58024"]]);function Vp(n){return new Promise((a,l)=>{try{const r=document.createElement("textarea");r.value=n,r.setAttribute("readonly","true"),r.style.position="fixed",r.style.opacity="0",document.body.appendChild(r),r.select();const s=document.execCommand("copy");document.body.removeChild(r),s?a():l(new Error("execCommand failed"))}catch(r){l(r)}})}async function To(n){if(window.isSecureContext&&navigator.clipboard?.writeText)try{await navigator.clipboard.writeText(n);return}catch{}await Vp(n)}const Hp={key:0,class:"sticky top-0 z-10 flex items-center justify-between px-4 py-3 border-b mb-2 bg-background"},zp={class:"flex items-center border-b bg-muted"},Fp={class:"space-y-4"},qp={class:"space-y-2"},Kp={class:"space-y-2"},jp={class:"space-y-4 flex-1 min-h-0 flex flex-col"},Wp={class:"space-y-2"},Yp={class:"flex-1 min-h-0 border rounded-lg overflow-auto"},Jp={class:"h-full overflow-auto p-4 bg-muted text-sm"},Zp=Y({__name:"CssEditor",setup(n){const a=Ho(),l=Fe(),r=At(),s=ot(),i=jt(),{isMobile:u}=Re(l),{cssContentConfig:p}=Re(a),d=D(!1);Ie(()=>l.isShowCssEditor,()=>{u.value&&(d.value=!0)}),Ie(()=>u.value,()=>{d.value=!1});const g=D(!1),w=D("");async function b(){await _t();const G=document.querySelector('[role="tab"][data-state="active"]');G&&G.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}function k(G){w.value=G,g.value=!0}function y(){if(!w.value.trim()){de.error("新建失败，方案名不可为空");return}if(!a.validatorTabName(w.value)){de.error("不能与现有方案重名");return}a.renameTab(w.value),g.value=!1,de.success("修改成功")}const h=D(!1),$=D(""),E=D("blank");async function f(){if(!$.value.trim()){de.error("新建失败，方案名不可为空");return}if(!a.validatorTabName($.value)){de.error("不能与现有方案重名");return}let G="";E.value==="blank"?G="":G=Wt[E.value];const T=$.value;a.addCssContentTab(T,G),h.value=!1,de.success("新建成功"),E.value="blank",b()}const _=D(!1),U=D("");function C(G){U.value=G,_.value=!0}function R(){const G=p.value.tabs;if(G.length===1){de.warning("至少保留一个方案");return}let T=p.value.active;T===U.value&&G.forEach((re,Q)=>{if(re.name===U.value){const Z=G[Q+1]||G[Q-1];Z&&(T=Z.name)}}),a.tabChanged(T),p.value.tabs=G.filter(re=>re.name!==U.value),de.success("删除成功")}function A(){$.value=`方案${p.value.tabs.length+1}`,E.value="blank",h.value=!0}const I=D(!1),x=D("default");function j(){x.value="default",I.value=!0}async function ne(){const G=Wt[x.value];await To(G),de.success("已复制到剪贴板")}function L(){I.value=!1,E.value=x.value,$.value=`基于${Yo[x.value].label}主题`,h.value=!0}function O(G){console.log("tabChanged",G),a.tabChanged(G),b()}ct(()=>{const G=()=>{i.applyCurrentTheme(),i.updateCodeTheme();const T=s.getContent();r.render(T)};a.setOnTabChangedCallback(G),a.initCssEditor(G),b()});function M(){const G=p.value.tabs.find(Q=>Q.name===p.value.active);if(!G){de.error("未找到当前方案");return}const T=G.title||G.name,re=i.theme==="default"?Wt.default:`${Wt.default}

${Wt[i.theme]}`;r1(G.content,re,{primaryColor:i.primaryColor,fontFamily:i.fontFamily,fontSize:i.fontSize},`${T}-merged`),de.success("主题导出成功")}return(G,T)=>{const re=Ge,Q=Cn,Z=En,ae=kn,se=gt,ee=Zt,P=ft,ye=Et,be=Nt,ie=Dt,H=Bt,xe=Ot,Be=It,Oe=Gt,F=mt,J=pt,W=_n,K=xn,le=yn,Le=bn,pe=hn,He=vn,We=wn,Ye=gn;return v(),N(Te,null,[e(u)&&e(l).isShowCssEditor?(v(),N("div",{key:0,class:"fixed inset-0 bg-black/50 z-40",onClick:T[0]||(T[0]=Ce=>e(l).isShowCssEditor=!1)})):fe("",!0),t(pn,{"enter-active-class":"bounceInRight"},{default:o(()=>[dt(c("div",{class:we(["cssEditor-wrapper h-full flex flex-col mobile-css-editor overflow-y-auto",{"fixed top-0 right-0 w-full h-full z-100 bg-background border-l shadow-lg":e(u),animate:e(u)&&e(d),"border-l-2 flex-1 order-2 border-gray/50 min-w-0":!e(u)}]),style:Vt({transform:e(u)?e(l).isShowCssEditor?"translateX(0)":"translateX(100%)":"none"})},[e(u)?(v(),N("div",Hp,[T[16]||(T[16]=c("h2",{class:"text-lg font-semibold"}," 自定义 CSS ",-1)),t(re,{variant:"ghost",size:"sm",onClick:T[1]||(T[1]=Ce=>e(l).isShowCssEditor=!1)},{default:o(()=>[t(e(Jt),{class:"h-4 w-4"})]),_:1})])):fe("",!0),t(ae,{modelValue:e(p).active,"onUpdate:modelValue":[T[2]||(T[2]=Ce=>e(p).active=Ce),O]},{default:o(()=>[c("div",zp,[t(Z,{class:"flex-1 overflow-x-auto justify-start border-0 bg-transparent h-auto p-0 custom-scrollbar"},{default:o(()=>[(v(!0),N(Te,null,Ne(e(p).tabs,Ce=>(v(),B(Q,{key:Ce.name,value:Ce.name,class:"flex-1"},{default:o(()=>[m(V(Ce.title)+" ",1),dt(t(e(zl),{class:"cursor-pointer inline size-4 rounded-full p-0.5 transition-color hover:bg-gray-200 dark:hover:bg-gray-600",onClick:ue=>k(Ce.name)},null,8,["onClick"]),[[qt,e(p).active===Ce.name]]),dt(t(e(Jt),{class:"cursor-pointer inline size-4 rounded-full p-0.5 transition-color hover:bg-gray-200 dark:hover:bg-gray-600",onClick:Ke(ue=>C(Ce.name),["self"])},null,8,["onClick"]),[[qt,e(p).active===Ce.name]])]),_:2},1032,["value"]))),128))]),_:1}),t(re,{variant:"ghost",size:"icon",class:"h-9 w-9 shrink-0 hover:bg-accent",onClick:A},{default:o(()=>[t(e(Do),{class:"h-5 w-5"})]),_:1})])]),_:1},8,["modelValue"]),T[36]||(T[36]=c("div",{class:"flex-1 min-h-0"},[c("textarea",{id:"cssEditor",type:"textarea",placeholder:"Your custom css here."})],-1)),t(J,{open:e(h),"onUpdate:open":T[7]||(T[7]=Ce=>_e(h)?h.value=Ce:null)},{default:o(()=>[t(F,{class:"sm:max-w-[425px]"},{default:o(()=>[t(P,null,{default:o(()=>[t(se,null,{default:o(()=>[...T[17]||(T[17]=[m("新建自定义 CSS",-1)])]),_:1}),t(ee,null,{default:o(()=>[...T[18]||(T[18]=[m(" 请输入方案名称，并选择初始模板 ",-1)])]),_:1})]),_:1}),c("div",Fp,[c("div",qp,[T[19]||(T[19]=c("label",{class:"text-sm font-medium"},"方案名称",-1)),t(ye,{modelValue:e($),"onUpdate:modelValue":T[3]||(T[3]=Ce=>_e($)?$.value=Ce:null),placeholder:"输入方案名称"},null,8,["modelValue"])]),c("div",Kp,[T[24]||(T[24]=c("label",{class:"text-sm font-medium"},"初始模板",-1)),t(Be,{modelValue:e(E),"onUpdate:modelValue":T[4]||(T[4]=Ce=>_e(E)?E.value=Ce:null)},{default:o(()=>[t(ie,null,{default:o(()=>[t(be,{placeholder:"选择初始模板"})]),_:1}),t(xe,null,{default:o(()=>[t(H,{value:"blank"},{default:o(()=>[...T[20]||(T[20]=[m(" 空白方案 ",-1)])]),_:1}),t(H,{value:"default"},{default:o(()=>[...T[21]||(T[21]=[m(" 基于经典主题 ",-1)])]),_:1}),t(H,{value:"grace"},{default:o(()=>[...T[22]||(T[22]=[m(" 基于优雅主题 ",-1)])]),_:1}),t(H,{value:"simple"},{default:o(()=>[...T[23]||(T[23]=[m(" 基于简洁主题 ",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),T[25]||(T[25]=c("p",{class:"text-xs text-muted-foreground"}," 选择一个内置主题作为起点，可以在其基础上进行修改 ",-1))])]),t(Oe,null,{default:o(()=>[t(re,{variant:"outline",onClick:T[5]||(T[5]=Ce=>h.value=!1)},{default:o(()=>[...T[26]||(T[26]=[m(" 取消 ",-1)])]),_:1}),t(re,{onClick:T[6]||(T[6]=Ce=>f())},{default:o(()=>[...T[27]||(T[27]=[m(" 创建 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(J,{open:e(g),"onUpdate:open":T[10]||(T[10]=Ce=>_e(g)?g.value=Ce:null)},{default:o(()=>[t(F,{class:"sm:max-w-[425px]"},{default:o(()=>[t(P,null,{default:o(()=>[t(se,null,{default:o(()=>[...T[28]||(T[28]=[m("编辑方案名称",-1)])]),_:1}),t(ee,null,{default:o(()=>[...T[29]||(T[29]=[m(" 请输入新的方案名称 ",-1)])]),_:1})]),_:1}),t(ye,{modelValue:e(w),"onUpdate:modelValue":T[8]||(T[8]=Ce=>_e(w)?w.value=Ce:null)},null,8,["modelValue"]),t(Oe,null,{default:o(()=>[t(re,{variant:"outline",onClick:T[9]||(T[9]=Ce=>g.value=!1)},{default:o(()=>[...T[30]||(T[30]=[m(" 取消 ",-1)])]),_:1}),t(re,{onClick:y},{default:o(()=>[...T[31]||(T[31]=[m(" 保存 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(Ye,{open:e(_),"onUpdate:open":T[11]||(T[11]=Ce=>_e(_)?_.value=Ce:null)},{default:o(()=>[t(We,null,{default:o(()=>[t(le,null,{default:o(()=>[t(W,null,{default:o(()=>[...T[32]||(T[32]=[m("提示",-1)])]),_:1}),t(K,null,{default:o(()=>[...T[33]||(T[33]=[m(" 此操作将删除该自定义方案，是否继续？ ",-1)])]),_:1})]),_:1}),t(He,null,{default:o(()=>[t(Le,null,{default:o(()=>[...T[34]||(T[34]=[m("取消",-1)])]),_:1}),t(pe,{onClick:R},{default:o(()=>[...T[35]||(T[35]=[m(" 确定 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],6),[[qt,e(l).isShowCssEditor]])]),_:1}),dt(t(re,{class:we(["fixed z-100 shadow-lg hover:bg-accent cursor-pointer transition-shadow bg-background text-background-foreground border",[e(u)?"bottom-16 right-4":"bottom-22 right-4"]]),size:"sm",variant:"outline",onClick:j},{default:o(()=>[t(e(ua),{class:"h-4 w-4 mr-2"}),T[37]||(T[37]=m(" 内置主题 ",-1))]),_:1},8,["class"]),[[qt,e(l).isShowCssEditor]]),dt(t(re,{class:we(["fixed z-100 shadow-lg hover:bg-accent cursor-pointer transition-shadow bg-background text-background-foreground border",[e(u)?"bottom-4 right-4":"bottom-10 right-4"]]),size:"sm",onClick:M},{default:o(()=>[t(e(fo),{class:"h-4 w-4 mr-2"}),T[38]||(T[38]=m(" 导出主题 ",-1))]),_:1},8,["class"]),[[qt,e(l).isShowCssEditor]]),t(J,{open:e(I),"onUpdate:open":T[15]||(T[15]=Ce=>_e(I)?I.value=Ce:null)},{default:o(()=>[t(F,{class:"sm:max-w-4xl max-h-[90vh] flex flex-col",onOpenAutoFocus:T[14]||(T[14]=Ke(()=>{},["prevent"]))},{default:o(()=>[t(P,null,{default:o(()=>[t(se,null,{default:o(()=>[...T[39]||(T[39]=[m("查看内置主题样式",-1)])]),_:1}),t(ee,null,{default:o(()=>[...T[40]||(T[40]=[m(" 查看并复制内置主题的 CSS 代码，或基于它们创建新方案 ",-1)])]),_:1})]),_:1}),c("div",jp,[c("div",Wp,[T[41]||(T[41]=c("label",{class:"text-sm font-medium"},"选择主题",-1)),t(Be,{modelValue:e(x),"onUpdate:modelValue":T[12]||(T[12]=Ce=>_e(x)?x.value=Ce:null)},{default:o(()=>[t(ie,{class:"w-full mt-2 sm:w-[200px] focus-visible:ring-0 focus-visible:ring-offset-0"},{default:o(()=>[t(be,{placeholder:"选择主题"})]),_:1}),t(xe,null,{default:o(()=>[t(H,{value:"default"},{default:o(()=>[m(V(e(Yo).default.label),1)]),_:1}),t(H,{value:"grace"},{default:o(()=>[m(V(e(Yo).grace.label),1)]),_:1}),t(H,{value:"simple"},{default:o(()=>[m(V(e(Yo).simple.label),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),c("div",Yp,[c("pre",Jp,[c("code",null,V(e(Wt)[e(x)]),1)])])]),t(Oe,{class:"flex-col sm:flex-row gap-2"},{default:o(()=>[t(re,{variant:"outline",onClick:T[13]||(T[13]=Ce=>I.value=!1)},{default:o(()=>[...T[42]||(T[42]=[m(" 关闭 ",-1)])]),_:1}),t(re,{variant:"outline",onClick:ne},{default:o(()=>[...T[43]||(T[43]=[m(" 复制全部 ",-1)])]),_:1}),t(re,{variant:"outline",onClick:L},{default:o(()=>[...T[44]||(T[44]=[m(" 基于此主题新建 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64)}}}),Xp=st(Zp,[["__scopeId","data-v-620b1f2f"]]),Qp=["href"],em=Y({__name:"FloatingToc",setup(n){const a=At(),l=Fe(),{isPinFloatingToc:r,isShowFloatingToc:s}=Re(l),i=D(!1);return(u,p)=>dt((v(),N("div",{class:"bg-background absolute left-0 top-0 border rounded-br-lg rounded-tr-lg rounded-bl-lg p-2 text-sm shadow-sm",onMouseenter:p[0]||(p[0]=()=>i.value=!0),onMouseleave:p[1]||(p[1]=()=>i.value=!1)},[t(e(on),{class:"size-6"}),c("ul",{class:we(["overflow-auto transition-all",{"max-h-0 w-0":!e(i)&&!e(r),"max-h-100 w-60 mt-2":e(i)||e(r)}])},[(v(!0),N(Te,null,Ne(e(a).titleList,(d,g)=>(v(),N("li",{key:g,class:"line-clamp-1 py-1 leading-6 hover:bg-gray-300 dark:hover:bg-gray-600",style:Vt({paddingLeft:`${d.level-.5}em`})},[c("a",{href:d.url},V(d.title),9,Qp)],4))),128))],2)],544)),[[qt,e(s)]])}}),tm=Y({__name:"BackTop",props:{left:{},top:{},right:{},bottom:{},visibilityHeight:{},target:{},onClick:{type:Function}},setup(n){const a=n,l=D(a.visibilityHeight??400),r=D(!1),s=D(null);function i(p){s.value?.scrollTo({top:0,left:0,behavior:"smooth"}),a.onClick?.(p)}const u=Nd(p=>{p instanceof HTMLElement?r.value=p.scrollTop>l.value:r.value=window.scrollY>l.value},200,{edges:["leading","trailing"]});return ct(()=>{a.target?s.value=document.getElementById(a.target):s.value=window,s.value.addEventListener("scroll",()=>{u(s.value)})}),Uo(()=>{s.value.removeEventListener("scroll",()=>{u(s.value)})}),(p,d)=>{const g=Ge;return e(r)?(v(),B(g,{key:0,variant:"outline",size:"icon",class:"absolute z-50 rounded-full",style:Vt({left:`${n.left}px`,top:`${n.top}px`,right:`${n.right}px`,bottom:`${n.bottom}px`}),onClick:i},{default:o(()=>[t(e(rd))]),_:1},8,["style"])):fe("",!0)}}}),om=Y({__name:"ContextMenu",props:{dir:{},modal:{type:Boolean}},emits:["update:open"],setup(n,{emit:a}){const s=je(n,a);return(i,u)=>(v(),B(e(fu),et(tt(e(s))),{default:o(()=>[ge(i.$slots,"default")]),_:3},16))}}),nm=Y({__name:"ContextMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},sticky:{},hideWhenDetached:{type:Boolean},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(n,{emit:a}){const l=n,r=a,s=he(()=>{const{class:u,...p}=l;return p}),i=je(s,r);return(u,p)=>(v(),B(e(wu),null,{default:o(()=>[t(e(gu),te(e(i),{class:e(ke)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",l.class)}),{default:o(()=>[ge(u.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),am=Y({__name:"ContextMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const a=n,l=he(()=>{const{class:r,...s}=a;return s});return(r,s)=>(v(),B(e(vu),te(e(l),{class:e(ke)("-mx-1 my-1 h-px bg-border",a.class)}),null,16,["class"]))}}),lm=Y({__name:"ContextMenuShortcut",props:{class:{}},setup(n){const a=n;return(l,r)=>(v(),N("span",{class:we(e(ke)("ml-auto text-xs tracking-widest text-muted-foreground",a.class))},[ge(l.$slots,"default")],2))}}),rm=Y({__name:"ContextMenuSub",props:{defaultOpen:{type:Boolean},open:{type:Boolean}},emits:["update:open"],setup(n,{emit:a}){const s=je(n,a);return(i,u)=>(v(),B(e(hu),et(tt(e(s))),{default:o(()=>[ge(i.$slots,"default")]),_:3},16))}}),sm=Y({__name:"ContextMenuSubContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},sideOffset:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(n,{emit:a}){const l=n,r=a,s=he(()=>{const{class:u,...p}=l;return p}),i=je(s,r);return(u,p)=>(v(),B(e(bu),te(e(i),{class:e(ke)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",l.class)}),{default:o(()=>[ge(u.$slots,"default")]),_:3},16,["class"]))}}),im=Y({__name:"ContextMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},emits:["select"],setup(n,{emit:a}){const l=n,r=a,s=he(()=>{const{class:u,...p}=l;return p}),i=je(s,r);return(u,p)=>(v(),B(e(yu),te(e(i),{class:e(ke)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",n.inset&&"pl-8",l.class)}),{default:o(()=>[ge(u.$slots,"default")]),_:3},16,["class"]))}}),um=Y({__name:"ContextMenuSubTrigger",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(n){const a=n,l=he(()=>{const{class:s,...i}=a;return i}),r=lt(l);return(s,i)=>(v(),B(e(xu),te(e(r),{class:e(ke)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",n.inset&&"pl-8",a.class)}),{default:o(()=>[ge(s.$slots,"default"),t(e(ko),{class:"ml-auto h-4 w-4"})]),_:3},16,["class"]))}}),dm=Y({__name:"ContextMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(n){const l=lt(n);return(r,s)=>(v(),B(e(_u),et(tt(e(l))),{default:o(()=>[ge(r.$slots,"default")]),_:3},16))}});function Rr(n){function a(l){const r=e(n);if(e(n))switch(l){case`${Ve}-B`:br(r);break;case`${Ve}-I`:yr(r);break;case`${Ve}-D`:xr(r);break;case`${Ve}-K`:_r(r);break;case`${Ve}-E`:kr(r);break;case`${Ve}-1`:xt(r,1);break;case`${Ve}-2`:xt(r,2);break;case`${Ve}-3`:xt(r,3);break;case`${Ve}-4`:xt(r,4);break;case`${Ve}-5`:xt(r,5);break;case`${Ve}-6`:xt(r,6);break;case`${Ve}-U`:Er(r);break;case`${Ve}-O`:Cr(r);break}}return{addFormat:a}}const ha=Ct("export",()=>{const n=Ht(),a=At(),l=Fe();return{editorContent2HTML:()=>{const g=fa();return document.querySelector("#output").innerHTML=a.output,g},exportEditorContent2HTML:async()=>{const g=n.currentPost;g&&(await u1(g.title),document.querySelector("#output").innerHTML=a.output)},exportEditorContent2PureHTML:g=>{const w=n.currentPost;w&&d1(g,w.title)},downloadAsCardImage:async()=>{const g=n.currentPost;if(!g)return;const w=document.querySelector("#output-wrapper>.preview");if(!w)return;const b=document.createElement("style");b.textContent=`
      .preview pre.code__pre,
      .preview .hljs.code__pre,
      .preview pre.code__pre > code,
      .preview .hljs.code__pre > code,
      .preview .code-scroll,
      .preview pre section,
      .preview code section {
        overflow: visible !important;
      }
      .preview pre.code__pre > code,
      .preview .code-scroll,
      .preview .code-scroll > div {
        white-space: pre-wrap !important;
        word-break: break-all !important;
        min-width: auto !important;
      }
    `,document.head.appendChild(b);try{await new Promise(y=>setTimeout(y,100));const k=await Od(w,{backgroundColor:l.isDark?"":"#fff",skipFonts:!0,pixelRatio:Math.max(window.devicePixelRatio||1,2),style:{margin:"0"}});$o(k,`${yo(g.title)}.png`,"image/png")}finally{b.remove()}},exportEditorContent2PDF:async()=>{const g=n.currentPost;g&&(await c1(g.title),document.querySelector("#output").innerHTML=a.output)},exportEditorContent2MD:g=>{const w=n.currentPost;w&&i1(g,w.title)}}}),cm={class:"mx-1 bg-gray-2 dark:bg-stone-9"},pm={class:"mx-1 bg-gray-2 dark:bg-stone-9"},mm={class:"mx-1 bg-gray-2 dark:bg-stone-9"},fm={class:"mx-1 bg-gray-2 dark:bg-stone-9"},gm={class:"mx-1 bg-gray-2 dark:bg-stone-9"},wm={class:"mx-1 bg-gray-2 dark:bg-stone-9"},vm={class:"mx-1 bg-gray-2 dark:bg-stone-9"},hm={class:"mx-1 bg-gray-2 dark:bg-stone-9"},bm={class:"mx-1 bg-gray-2 dark:bg-stone-9"},ym={class:"mx-1 bg-gray-2 dark:bg-stone-9"},xm={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_m={class:"mx-1 bg-gray-2 dark:bg-stone-9"},km={class:"mx-1 bg-gray-2 dark:bg-stone-9"},Em=Y({__name:"EditorContextMenu",setup(n){const a=ot(),l=Ht(),r=ha(),s=Fe(),{toggleShowInsertFormDialog:i,toggleShowInsertMpCardDialog:u,toggleShowUploadImgDialog:p,toggleShowImportMdDialog:d}=s,{editor:g}=Re(a),{addFormat:w}=Rr(g),b=[Io,Fl,ql,Kl,jl,Wl],k=cr.map((I,x)=>({...I,icon:b[x]}));async function y(){const I=await a.formatContent();I&&l.currentPost&&l.updatePostContent(l.currentPostId,I)}function h(){a.importContent(ta),de.success("文档已重置")}function $(){a.clearContent()}async function E(){const I=a.getSelection();To(I)}async function f(){try{const I=await navigator.clipboard.readText();a.replaceSelection(I)}catch(I){console.log("粘贴失败",I)}}function _(){s.isOpenConfirmDialog=!0}function U(){r.exportEditorContent2HTML()}function C(){r.exportEditorContent2PDF()}function R(){r.exportEditorContent2MD(a.getContent())}function A(){r.downloadAsCardImage()}return(I,x)=>{const j=dm,ne=um,L=im,O=sm,M=rm,G=lm,T=am,re=nm,Q=om;return v(),B(Q,null,{default:o(()=>[t(j,null,{default:o(()=>[ge(I.$slots,"default")]),_:3}),t(re,{class:"w-64 max-h-[80vh] overflow-y-auto"},{default:o(()=>[t(M,null,{default:o(()=>[t(ne,null,{default:o(()=>[t(e(sd),{class:"mr-2 h-4 w-4"}),x[20]||(x[20]=m(" 插入 ",-1))]),_:1}),t(O,{class:"w-48"},{default:o(()=>[t(L,{onClick:x[0]||(x[0]=Z=>e(p)())},{default:o(()=>[t(e(Ut),{class:"mr-2 h-4 w-4"}),x[21]||(x[21]=m(" 图片 ",-1))]),_:1}),t(L,{onClick:x[1]||(x[1]=Z=>e(i)())},{default:o(()=>[t(e(Vn),{class:"mr-2 h-4 w-4"}),x[22]||(x[22]=m(" 表格 ",-1))]),_:1}),t(L,{onClick:x[2]||(x[2]=Z=>e(u)())},{default:o(()=>[t(e(Rt),{class:"mr-2 h-4 w-4"}),x[23]||(x[23]=m(" 公众号名片 ",-1))]),_:1})]),_:1})]),_:1}),t(M,null,{default:o(()=>[t(ne,null,{default:o(()=>[t(e(so),{class:"mr-2 h-4 w-4"}),x[24]||(x[24]=m(" 文本格式 ",-1))]),_:1}),t(O,{class:"w-48"},{default:o(()=>[t(L,{onClick:x[3]||(x[3]=Z=>e(w)(`${e(Ve)}-B`))},{default:o(()=>[t(e(Hn),{class:"mr-2 h-4 w-4"}),x[26]||(x[26]=m(" 加粗 ",-1)),t(G,null,{default:o(()=>[c("kbd",cm,V(e(Ue)),1),x[25]||(x[25]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"B",-1))]),_:1})]),_:1}),t(L,{onClick:x[4]||(x[4]=Z=>e(w)(`${e(Ve)}-I`))},{default:o(()=>[t(e(zn),{class:"mr-2 h-4 w-4"}),x[28]||(x[28]=m(" 斜体 ",-1)),t(G,null,{default:o(()=>[c("kbd",pm,V(e(Ue)),1),x[27]||(x[27]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"I",-1))]),_:1})]),_:1}),t(L,{onClick:x[5]||(x[5]=Z=>e(w)(`${e(Ve)}-D`))},{default:o(()=>[t(e(Fn),{class:"mr-2 h-4 w-4"}),x[30]||(x[30]=m(" 删除线 ",-1)),t(G,null,{default:o(()=>[c("kbd",mm,V(e(Ue)),1),x[29]||(x[29]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"D",-1))]),_:1})]),_:1}),t(T),t(L,{onClick:x[6]||(x[6]=Z=>e(w)(`${e(Ve)}-K`))},{default:o(()=>[t(e(qn),{class:"mr-2 h-4 w-4"}),x[32]||(x[32]=m(" 超链接 ",-1)),t(G,null,{default:o(()=>[c("kbd",fm,V(e(Ue)),1),x[31]||(x[31]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"K",-1))]),_:1})]),_:1}),t(L,{onClick:x[7]||(x[7]=Z=>e(w)(`${e(Ve)}-E`))},{default:o(()=>[t(e(Pt),{class:"mr-2 h-4 w-4"}),x[34]||(x[34]=m(" 行内代码 ",-1)),t(G,null,{default:o(()=>[c("kbd",gm,V(e(Ue)),1),x[33]||(x[33]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"E",-1))]),_:1})]),_:1})]),_:1})]),_:1}),t(M,null,{default:o(()=>[t(ne,null,{default:o(()=>[t(e(Io),{class:"mr-2 h-4 w-4"}),x[35]||(x[35]=m(" 标题 ",-1))]),_:1}),t(O,{class:"w-48"},{default:o(()=>[(v(!0),N(Te,null,Ne(e(k),({level:Z,icon:ae,label:se})=>(v(),B(L,{key:Z,onClick:ee=>e(w)(`${e(Ve)}-${Z}`)},{default:o(()=>[(v(),B($t(ae),{class:"mr-2 h-4 w-4"})),m(" "+V(se)+" ",1),t(G,null,{default:o(()=>[c("kbd",wm,V(e(Ue)),1),c("kbd",vm,V(Z),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),t(L,{onClick:x[8]||(x[8]=Z=>e(w)(`${e(Ve)}-U`))},{default:o(()=>[t(e(on),{class:"mr-2 h-4 w-4"}),x[37]||(x[37]=m(" 无序列表 ",-1)),t(G,null,{default:o(()=>[c("kbd",hm,V(e(Ue)),1),x[36]||(x[36]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"U",-1))]),_:1})]),_:1}),t(L,{onClick:x[9]||(x[9]=Z=>e(w)(`${e(Ve)}-O`))},{default:o(()=>[t(e(Kn),{class:"mr-2 h-4 w-4"}),x[39]||(x[39]=m(" 有序列表 ",-1)),t(G,null,{default:o(()=>[c("kbd",bm,V(e(Ue)),1),x[38]||(x[38]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"O",-1))]),_:1})]),_:1}),t(T),t(L,{onClick:x[10]||(x[10]=Z=>e(d)(!0))},{default:o(()=>[t(e(id),{class:"mr-2 h-4 w-4"}),x[40]||(x[40]=m(" 导入 .md 文档 ",-1))]),_:1}),t(M,null,{default:o(()=>[t(ne,null,{default:o(()=>[t(e(Mn),{class:"mr-2 h-4 w-4"}),x[41]||(x[41]=m(" 导出 ",-1))]),_:1}),t(O,{class:"w-48"},{default:o(()=>[t(L,{onClick:x[11]||(x[11]=Z=>R())},{default:o(()=>[t(e(Mn),{class:"mr-2 h-4 w-4"}),x[42]||(x[42]=m(" 导出 .md 文档 ",-1))]),_:1}),t(L,{onClick:x[12]||(x[12]=Z=>U())},{default:o(()=>[t(e(Pt),{class:"mr-2 h-4 w-4"}),x[43]||(x[43]=m(" 导出 .html ",-1))]),_:1}),t(L,{onClick:x[13]||(x[13]=Z=>C())},{default:o(()=>[t(e(Rt),{class:"mr-2 h-4 w-4"}),x[44]||(x[44]=m(" 导出 .pdf ",-1))]),_:1}),t(L,{onClick:x[14]||(x[14]=Z=>A())},{default:o(()=>[t(e(ud),{class:"mr-2 h-4 w-4"}),x[45]||(x[45]=m(" 导出 .png ",-1))]),_:1})]),_:1})]),_:1}),t(T),t(L,{onClick:x[15]||(x[15]=Z=>y())},{default:o(()=>[t(e(so),{class:"mr-2 h-4 w-4"}),x[47]||(x[47]=m(" 格式化 ",-1)),t(G,null,{default:o(()=>[c("kbd",ym,V(e(Xn)),1),c("kbd",xm,V(e(Qn)),1),x[46]||(x[46]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"F",-1))]),_:1})]),_:1}),t(L,{onClick:x[16]||(x[16]=Z=>h())},{default:o(()=>[t(e(Yl),{class:"mr-2 h-4 w-4"}),x[48]||(x[48]=m(" 重置文档 ",-1))]),_:1}),t(L,{onClick:x[17]||(x[17]=Z=>_())},{default:o(()=>[t(e(jn),{class:"mr-2 h-4 w-4"}),x[49]||(x[49]=m(" 重置样式 ",-1))]),_:1}),t(L,{onClick:x[18]||(x[18]=Z=>$())},{default:o(()=>[t(e(wo),{class:"mr-2 h-4 w-4"}),x[50]||(x[50]=m(" 清空内容 ",-1))]),_:1}),t(T),t(L,{onClick:x[19]||(x[19]=Z=>E())},{default:o(()=>[t(e(io),{class:"mr-2 h-4 w-4"}),x[52]||(x[52]=m(" 复制 ",-1)),t(G,null,{default:o(()=>[c("kbd",_m,V(e(Ue)),1),x[51]||(x[51]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"C",-1))]),_:1})]),_:1}),t(L,{onClick:f},{default:o(()=>[t(e(Wn),{class:"mr-2 h-4 w-4"}),x[54]||(x[54]=m(" 粘贴 ",-1)),t(G,null,{default:o(()=>[c("kbd",km,V(e(Ue)),1),x[53]||(x[53]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"V",-1))]),_:1})]),_:1})]),_:1})]),_:3})}}}),Cm=Y({__name:"AlertDialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(n){const a=n;return(l,r)=>(v(),B(e(ku),et(tt(a)),{default:o(()=>[ge(l.$slots,"default")]),_:3},16))}}),Sm=Y({__name:"Separator",props:{orientation:{},decorative:{type:Boolean},asChild:{type:Boolean},as:{},class:{},label:{}},setup(n){const a=n,l=he(()=>{const{class:r,...s}=a;return s});return(r,s)=>(v(),B(e(Eu),te(e(l),{class:e(ke)("shrink-0 bg-border relative",a.orientation==="vertical"?"w-px h-full":"h-px w-full",a.class)}),{default:o(()=>[a.label?(v(),N("span",{key:0,class:we(e(ke)("text-xs text-muted-foreground bg-background absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex justify-center items-center",a.orientation==="vertical"?"w-px px-1 py-2":"h-px py-1 px-2"))},V(a.label),3)):fe("",!0)]),_:1},16,["class"]))}}),ba=Y({__name:"DropdownMenu",props:{defaultOpen:{type:Boolean},open:{type:Boolean},dir:{},modal:{type:Boolean}},emits:["update:open"],setup(n,{emit:a}){const s=je(n,a);return(i,u)=>(v(),B(e(Cu),et(tt(e(s))),{default:o(()=>[ge(i.$slots,"default")]),_:3},16))}}),ya=Y({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(n,{emit:a}){const l=n,r=a,s=he(()=>{const{class:u,...p}=l;return p}),i=je(s,r);return(u,p)=>(v(),B(e($u),null,{default:o(()=>[t(e(Su),te(e(i),{class:e(ke)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",l.class)}),{default:o(()=>[ge(u.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Ir=Y({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const a=n,l=he(()=>{const{class:r,...s}=a;return s});return(r,s)=>(v(),B(e(Tu),te(e(l),{class:e(ke)("-mx-1 my-1 h-px bg-muted",a.class)}),null,16,["class"]))}}),oa=Y({__name:"DropdownMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(n){const a=n,l=he(()=>{const{class:s,...i}=a;return i}),r=lt(l);return(s,i)=>(v(),B(e(Au),te(e(r),{class:e(ke)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-hidden transition-colors focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",n.inset&&"pl-8",a.class)}),{default:o(()=>[ge(s.$slots,"default")]),_:3},16,["class"]))}}),xa=Y({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(n){const l=lt(n);return(r,s)=>(v(),B(e(Gu),te({class:"outline-hidden"},e(l)),{default:o(()=>[ge(r.$slots,"default")]),_:3},16))}}),$m=["onDragstart","onDrop","onDragover","onClick"],Tm={class:"line-clamp-1"},Am={key:0,class:"space-y-1 ml-4 mt-1 border-l-2 border-gray-300 pl-1 dark:border-gray-700"},Gm=Y({__name:"PostItem",props:{parentId:{},sortedPosts:{},startRenamePost:{type:Function},openHistoryDialog:{type:Function},startDelPost:{type:Function},dropTargetId:{},setDropTargetId:{type:Function},dragSourceId:{},setDragSourceId:{type:Function},handleDrop:{type:Function},handleDragEnd:{type:Function},openAddPostDialog:{type:Function}},setup(n){const a=n,l=Ht(),r=Ar(),s=Fe(),{posts:i,currentPostId:u}=Re(l),{toggleShowTemplateDialog:p}=s,d=D(!1),g=D("");Ie(d,$=>{$&&(g.value="")});function w($,E){a.setDragSourceId($),E.dataTransfer?.setData("text/plain",$),E.dataTransfer.effectAllowed="move"}function b($){const E=i.value.find(f=>f.id===$);E&&(E.collapsed=!E.collapsed)}function k($){return a.sortedPosts.some(E=>E.parentId===$)}function y($){const E=i.value.find(f=>f.id===$);E&&r.createTemplate({name:E.title,content:E.content,description:`从「${E.title}」创建于 ${new Date().toLocaleString("zh-CN")}`})}function h($){u.value=$,p(!0)}return($,E)=>{const f=Ge,_=xa,U=oa,C=Ir,R=ya,A=ba,I=Rl("PostItem",!0);return v(!0),N(Te,null,Ne(a.sortedPosts.filter(x=>a.parentId==null&&x.parentId==null||x.parentId===a.parentId),x=>(v(),N("div",{key:x.id},[c("a",{class:we(["w-full inline-flex cursor-pointer items-center gap-1 rounded p-2 text-sm transition-colors",["hover:text-primary-foreground hover:bg-primary",{"bg-primary text-primary-foreground shadow-sm":e(u)===x.id,"opacity-50":a.dragSourceId===x.id,"outline-2 outline-dashed outline-primary  border-gray-200 bg-gray-400/50 dark:border-gray-200 dark:bg-gray-500/50":a.dropTargetId===x.id}]]),draggable:"true",onDragstart:j=>w(x.id,j),onDragend:E[0]||(E[0]=(...j)=>a.handleDragEnd&&a.handleDragEnd(...j)),onDrop:Ke(j=>a.handleDrop(x.id),["prevent"]),onDragover:Ke(j=>a.setDropTargetId(x.id),["stop","prevent"]),onDragleave:E[1]||(E[1]=Ke(j=>a.setDropTargetId(null),["prevent"])),onClick:j=>u.value=x.id},[t(f,{size:"xs",variant:"ghost",class:we(["h-max p-0.5",k(x.id)?"opacity-100":"opacity-0"]),onClick:Ke(j=>k(x.id)&&b(x.id),["stop"])},{default:o(()=>[t(e(ko),{class:we(["size-4 transition-transform",{"rotate-90":!x.collapsed}])},null,8,["class"])]),_:2},1032,["class","onClick"]),c("span",Tm,V(x.title),1),t(A,null,{default:o(()=>[t(_,{"as-child":""},{default:o(()=>[t(f,{size:"xs",variant:"ghost",class:"ml-auto h-max p-0.5"},{default:o(()=>[t(e(dd),{class:"size-4"})]),_:1})]),_:1}),t(R,null,{default:o(()=>[t(U,{onClick:Ke(j=>a.openAddPostDialog(x.id),["stop"])},{default:o(()=>[t(e(Jl),{class:"mr-2 size-4"}),E[2]||(E[2]=m(" 新增内容 ",-1))]),_:1},8,["onClick"]),t(U,{onClick:Ke(j=>a.startRenamePost(x.id),["stop"])},{default:o(()=>[t(e(zl),{class:"mr-2 size-4"}),E[3]||(E[3]=m(" 重命名 ",-1))]),_:1},8,["onClick"]),t(U,{onClick:Ke(j=>a.openHistoryDialog(x.id),["stop"])},{default:o(()=>[t(e(cd),{class:"mr-2 size-4"}),E[4]||(E[4]=m(" 历史记录 ",-1))]),_:1},8,["onClick"]),t(C),t(U,{onClick:Ke(j=>y(x.id),["stop"])},{default:o(()=>[t(e(Bo),{class:"mr-2 size-4"}),E[5]||(E[5]=m(" 存储为模板 ",-1))]),_:1},8,["onClick"]),t(U,{onClick:Ke(j=>h(x.id),["stop"])},{default:o(()=>[t(e(Pl),{class:"mr-2 size-4"}),E[6]||(E[6]=m(" 应用模板 ",-1))]),_:1},8,["onClick"]),t(C),e(i).length>1?(v(),B(U,{key:0,onClick:Ke(j=>a.startDelPost(x.id),["stop"])},{default:o(()=>[t(e(wo),{class:"mr-2 size-4"}),E[7]||(E[7]=m(" 删除 ",-1))]),_:1},8,["onClick"])):fe("",!0)]),_:2},1024)]),_:2},1024)],42,$m),k(x.id)&&!x.collapsed?(v(),N("div",Am,[t(I,{"parent-id":x.id,"sorted-posts":a.sortedPosts,"start-rename-post":a.startRenamePost,"open-history-dialog":a.openHistoryDialog,"start-del-post":a.startDelPost,"drag-source-id":a.dragSourceId,"set-drag-source-id":a.setDragSourceId,"drop-target-id":a.dropTargetId,"set-drop-target-id":a.setDropTargetId,"handle-drag-end":a.handleDragEnd,"handle-drop":a.handleDrop,"open-add-post-dialog":a.openAddPostDialog},null,8,["parent-id","sorted-posts","start-rename-post","open-history-dialog","start-del-post","drag-source-id","set-drag-source-id","drop-target-id","set-drop-target-id","handle-drag-end","handle-drop","open-add-post-dialog"])])):fe("",!0)]))),128)}}}),Lm=Y({__name:"DropdownMenuRadioGroup",props:{modelValue:{},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(n,{emit:a}){const s=je(n,a);return(i,u)=>(v(),B(e(Lu),et(tt(e(s))),{default:o(()=>[ge(i.$slots,"default")]),_:3},16))}}),Rm={class:"absolute left-2 h-3.5 w-3.5 flex items-center justify-center"},Im=Y({__name:"DropdownMenuRadioItem",props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},emits:["select"],setup(n,{emit:a}){const l=n,r=a,s=he(()=>{const{class:u,...p}=l;return p}),i=je(s,r);return(u,p)=>(v(),B(e(Iu),te(e(i),{class:e(ke)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-hidden transition-colors focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",l.class)}),{default:o(()=>[c("span",Rm,[t(e(Ru),null,{default:o(()=>[t(e(Ml),{class:"h-2 w-2 fill-current"})]),_:1})]),ge(u.$slots,"default")]),_:3},16,["class"]))}}),Br=Y({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(n){const a=n;return(l,r)=>(v(),B(e(Bu),et(tt(a)),{default:o(()=>[ge(l.$slots,"default")]),_:3},16))}}),Dr=Y({__name:"TooltipProvider",props:{delayDuration:{},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(n){const a=n;return(l,r)=>(v(),B(e(Du),et(tt(a)),{default:o(()=>[ge(l.$slots,"default")]),_:3},16))}}),Nr=Y({__name:"Tooltip",props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:["update:open"],setup(n,{emit:a}){const s=je(n,a);return(i,u)=>(v(),B(e(Nu),et(tt(e(s))),{default:o(()=>[ge(i.$slots,"default")]),_:3},16))}}),Or=Y({inheritAttrs:!1,__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(n,{emit:a}){const l=n,r=a,s=he(()=>{const{class:u,...p}=l;return p}),i=je(s,r);return(u,p)=>(v(),B(e(Pu),null,{default:o(()=>[t(e(Ou),te({...e(i),...u.$attrs},{class:e(ke)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",l.class)}),{default:o(()=>[ge(u.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Pr=Y({__name:"TooltipTrigger",props:{asChild:{type:Boolean},as:{}},setup(n){const a=n;return(l,r)=>(v(),B(e(Mu),et(tt(a)),{default:o(()=>[ge(l.$slots,"default")]),_:3},16))}}),Bm={key:0,class:"sticky top-0 z-10 flex items-center justify-between px-4 py-3 border-b mb-2 bg-background"},Dm={class:"space-x-4 mb-2 flex justify-center shrink-0 py-2"},Nm={class:"flex-1 overflow-y-auto space-y-1 px-1"},Om={class:"h-[50vh] flex"},Pm={class:"space-y-1.5 w-[180px]"},Mm=["onClick"],Um={class:"break-words w-full"},Vm={class:"space-y-2 max-h-full flex-1 overflow-y-auto"},Hm={class:"whitespace-pre-wrap p-2",style:{"word-wrap":"break-word","overflow-wrap":"break-word","word-break":"break-all",hyphens:"auto"}},zm=Y({__name:"index",setup(n){const a=Fe(),{isMobile:l,isOpenPostSlider:r}=Re(a),s=Ht(),{posts:i}=Re(s),u=ot(),{editor:p}=Re(u),d=D(!1);Ie(r,()=>{l.value&&(d.value=!0)}),Ie(l,()=>{d.value=!1});const g=D(null),w=D(!1),b=D("");Ie(w,ee=>{ee&&(b.value="",g.value=null)});function k(ee){w.value=!0,_t(()=>{g.value=ee})}function y(){if(!b.value.trim())return de.error("内容标题不可为空");if(i.value.some(ee=>ee.title===b.value.trim()))return de.error("内容标题已存在");s.addPost(b.value.trim(),g.value),w.value=!1,de.success("内容新增成功")}const h=D(null),$=D(!1),E=D("");function f(ee){h.value=ee,E.value=s.getPostById(ee).title,$.value=!0}function _(){if(!E.value.trim())return de.error("内容标题不可为空");if(i.value.some(ee=>ee.title===E.value.trim()&&ee.id!==h.value))return de.error("内容标题已存在");if(E.value===s.getPostById(h.value)?.title){$.value=!1;return}s.renamePost(h.value,E.value.trim()),de.success("内容重命名成功"),$.value=!1}const U=D(null),C=D(!1),R=he(()=>{const ee=s.getPostById(U.value||"")?.title??"";return`此操作将删除「${ee.length>20?`${ee.slice(0,20)}…`:ee}」，是否继续？`});function A(ee){U.value=ee,C.value=!0}function I(){s.delPost(U.value),C.value=!1,de.success("内容删除成功")}const x=D(!1),j=D(null),ne=D(0);function L(ee){j.value=ee,ne.value=0,x.value=!0}function O(){const ee=s.getPostById(j.value);if(!ee){x.value=!1;return}const P=ee.history[ne.value].content;ee.content=P;const ye=go(p.value);ye.dispatch({changes:{from:0,to:ye.state.doc.length,insert:P}}),de.success("记录恢复成功"),x.value=!1}const M=z.reactive(ut("sort_mode"),"create-old-new"),G=he(()=>[...i.value].sort((ee,P)=>{switch(M.value){case"A-Z":return ee.title.localeCompare(P.title);case"Z-A":return P.title.localeCompare(ee.title);case"update-new-old":return+new Date(P.updateDatetime)-+new Date(ee.updateDatetime);case"update-old-new":return+new Date(ee.updateDatetime)-+new Date(P.updateDatetime);case"create-new-old":return+new Date(P.createDatetime)-+new Date(ee.createDatetime);default:return+new Date(ee.createDatetime)-+new Date(P.createDatetime)}})),T=D(!1),re=D(null),Q=D(null);function Z(ee){const P=re.value;if(!P)return;const ye=be=>{if(!be)return!1;const ie=s.getPostById(be);return ie?ie.parentId===P?!0:ye(ie.parentId):!1};ye(ee)?de.error("不能将内容拖拽到其子内容下面"):P!==ee&&s.updatePostParentId(P,ee||null),re.value=null}function ae(ee){ee.preventDefault()}function se(){re.value=null,Q.value=null,T.value=!1}return(ee,P)=>{const ye=Ge,be=Pr,ie=Or,H=Nr,xe=Dr,Be=Br,Oe=gt,F=Zt,J=ft,W=Et,K=Gt,le=mt,Le=pt,pe=xa,He=Im,We=Ir,Ye=Lm,Ce=ya,ue=ba,me=Gm,ce=_n,q=xn,De=yn,Ae=bn,Pe=hn,qe=vn,nt=wn,Xe=gn,Qe=Sm,St=Cm;return v(),N(Te,null,[e(l)&&e(r)?(v(),N("div",{key:0,class:"fixed inset-0 bg-black/50 z-40",onClick:P[0]||(P[0]=Me=>r.value=!1)})):fe("",!0),c("div",{class:we(["h-full w-full overflow-hidden mobile-drawer",{"fixed top-0 left-0 z-55 bg-background border-r shadow-lg":e(l),animate:e(l)&&e(d),"border-2 border-[#0000] border-dashed bg-gray/20 transition-colors":!e(l),"border-gray-700 bg-gray-400/50 dark:border-gray-200 dark:bg-gray-500/50":!e(l)&&e(T)}]),style:Vt({transform:e(l)&&e(r)?"translateX(0)":e(l)&&!e(r)?"translateX(-100%)":void 0}),onDragover:P[6]||(P[6]=Ke(Me=>T.value=!0,["prevent"])),onDragleave:P[7]||(P[7]=Ke(Me=>T.value=!1,["prevent"])),onDragend:se},[c("nav",{class:we(["h-full flex flex-col transition-transform overflow-hidden",{"p-2":e(l)}]),onDragover:ae,onDrop:P[5]||(P[5]=Ke(Me=>Z(null),["prevent"]))},[e(l)?(v(),N("div",Bm,[P[13]||(P[13]=c("h2",{class:"text-lg font-semibold"}," 内容管理 ",-1)),t(ye,{variant:"ghost",size:"sm",onClick:P[1]||(P[1]=Me=>r.value=!1)},{default:o(()=>[t(e(Jt),{class:"h-4 w-4"})]),_:1})])):fe("",!0),c("div",Dm,[t(Le,{open:e(w),"onUpdate:open":P[3]||(P[3]=Me=>_e(w)?w.value=Me:null)},{default:o(()=>[t(Be,null,{default:o(()=>[t(xe,{"delay-duration":200},{default:o(()=>[t(H,null,{default:o(()=>[t(be,{"as-child":""},{default:o(()=>[t(ye,{variant:"ghost",size:"xs",class:"h-max p-1"},{default:o(()=>[t(e(Jl),{class:"size-5"})]),_:1})]),_:1}),t(ie,{side:"bottom"},{default:o(()=>[...P[14]||(P[14]=[m(" 新增内容 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(le,null,{default:o(()=>[t(J,null,{default:o(()=>[t(Oe,null,{default:o(()=>[...P[15]||(P[15]=[m("新增内容",-1)])]),_:1}),t(F,null,{default:o(()=>[...P[16]||(P[16]=[m("请输入内容名称",-1)])]),_:1})]),_:1}),t(W,{modelValue:e(b),"onUpdate:modelValue":P[2]||(P[2]=Me=>_e(b)?b.value=Me:null),onKeyup:en(y,["enter"])},null,8,["modelValue"]),t(K,null,{default:o(()=>[t(ye,{onClick:y},{default:o(()=>[...P[17]||(P[17]=[m(" 确 定 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(ue,null,{default:o(()=>[t(pe,null,{default:o(()=>[t(xe,{"delay-duration":200},{default:o(()=>[t(H,null,{default:o(()=>[t(be,{"as-child":""},{default:o(()=>[t(ye,{variant:"ghost",size:"xs",class:"h-max p-1"},{default:o(()=>[t(e(pd),{class:"size-5"})]),_:1})]),_:1}),t(ie,{side:"bottom"},{default:o(()=>[...P[18]||(P[18]=[m(" 排序模式 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(Ce,null,{default:o(()=>[t(Ye,{modelValue:e(M),"onUpdate:modelValue":P[4]||(P[4]=Me=>_e(M)?M.value=Me:null)},{default:o(()=>[t(He,{value:"A-Z"},{default:o(()=>[...P[19]||(P[19]=[m(" 文件名（A-Z） ",-1)])]),_:1}),t(He,{value:"Z-A"},{default:o(()=>[...P[20]||(P[20]=[m(" 文件名（Z-A） ",-1)])]),_:1}),t(We),t(He,{value:"update-new-old"},{default:o(()=>[...P[21]||(P[21]=[m(" 编辑时间（新→旧） ",-1)])]),_:1}),t(He,{value:"update-old-new"},{default:o(()=>[...P[22]||(P[22]=[m(" 编辑时间（旧→新） ",-1)])]),_:1}),t(We),t(He,{value:"create-new-old"},{default:o(()=>[...P[23]||(P[23]=[m(" 创建时间（新→旧） ",-1)])]),_:1}),t(He,{value:"create-old-new"},{default:o(()=>[...P[24]||(P[24]=[m(" 创建时间（旧→新） ",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(xe,{"delay-duration":200},{default:o(()=>[t(H,null,{default:o(()=>[t(be,{"as-child":""},{default:o(()=>[t(ye,{variant:"ghost",size:"xs",class:"h-max p-1",onClick:e(s).collapseAllPosts},{default:o(()=>[t(e(md),{class:"size-5"})]),_:1},8,["onClick"])]),_:1}),t(ie,{side:"bottom"},{default:o(()=>[...P[25]||(P[25]=[m(" 全部收起 ",-1)])]),_:1})]),_:1})]),_:1}),t(xe,{"delay-duration":200},{default:o(()=>[t(H,null,{default:o(()=>[t(be,{"as-child":""},{default:o(()=>[t(ye,{variant:"ghost",size:"xs",class:"h-max p-1",onClick:e(s).expandAllPosts},{default:o(()=>[t(e(fd),{class:"size-5"})]),_:1},8,["onClick"])]),_:1}),t(ie,{side:"bottom"},{default:o(()=>[...P[26]||(P[26]=[m(" 全部展开 ",-1)])]),_:1})]),_:1})]),_:1})]),c("div",Nm,[t(me,{"parent-id":null,"sorted-posts":e(G),"start-rename-post":f,"open-history-dialog":L,"start-del-post":A,"drop-target-id":e(Q),"set-drop-target-id":Me=>Q.value=Me,"drag-source-id":e(re),"set-drag-source-id":Me=>re.value=Me,"handle-drop":Z,"handle-drag-end":se,"open-add-post-dialog":k},null,8,["sorted-posts","drop-target-id","set-drop-target-id","drag-source-id","set-drag-source-id"])])],34)],38),t(Le,{open:e($),"onUpdate:open":P[10]||(P[10]=Me=>_e($)?$.value=Me:null)},{default:o(()=>[t(le,{class:"sm:max-w-[425px]"},{default:o(()=>[t(J,null,{default:o(()=>[t(Oe,null,{default:o(()=>[...P[27]||(P[27]=[m("编辑内容名称",-1)])]),_:1}),t(F,null,{default:o(()=>[...P[28]||(P[28]=[m("请输入新的内容名称",-1)])]),_:1})]),_:1}),t(W,{modelValue:e(E),"onUpdate:modelValue":P[8]||(P[8]=Me=>_e(E)?E.value=Me:null),onKeyup:en(_,["enter"])},null,8,["modelValue"]),t(K,null,{default:o(()=>[t(ye,{variant:"outline",onClick:P[9]||(P[9]=Me=>$.value=!1)},{default:o(()=>[...P[29]||(P[29]=[m(" 取消 ",-1)])]),_:1}),t(ye,{onClick:_},{default:o(()=>[...P[30]||(P[30]=[m(" 保存 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(Xe,{open:e(C),"onUpdate:open":P[11]||(P[11]=Me=>_e(C)?C.value=Me:null)},{default:o(()=>[t(nt,null,{default:o(()=>[t(De,null,{default:o(()=>[t(ce,null,{default:o(()=>[...P[31]||(P[31]=[m("提示",-1)])]),_:1}),t(q,null,{default:o(()=>[m(V(e(R)),1)]),_:1})]),_:1}),t(qe,null,{default:o(()=>[t(Ae,null,{default:o(()=>[...P[32]||(P[32]=[m("取消",-1)])]),_:1}),t(Pe,{onClick:I},{default:o(()=>[...P[33]||(P[33]=[m(" 确定 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(Le,{open:e(x),"onUpdate:open":P[12]||(P[12]=Me=>_e(x)?x.value=Me:null)},{default:o(()=>[t(le,{class:"sm:max-w-4xl"},{default:o(()=>[t(J,null,{default:o(()=>[t(Oe,null,{default:o(()=>[...P[34]||(P[34]=[m("历史记录",-1)])]),_:1}),t(F,null,{default:o(()=>[...P[35]||(P[35]=[m("每隔 30 秒自动保存，最多保留 10 条",-1)])]),_:1})]),_:1}),c("div",Om,[c("ul",Pm,[(v(!0),N(Te,null,Ne(e(s).getPostById(e(j))?.history,(Me,it)=>(v(),N("li",{key:Me.datetime,class:we(["min-h-[2.75rem] w-full inline-flex cursor-pointer items-center gap-2 rounded-md px-3 py-2.5 text-sm transition-colors leading-tight",["hover:bg-primary hover:text-primary-foreground",{"bg-primary text-primary-foreground shadow-sm":e(ne)===it}]]),onClick:Lt=>ne.value=it},[c("span",Um,V(Me.datetime),1)],10,Mm))),128))]),t(Qe,{orientation:"vertical",class:"mx-2"}),c("div",Vm,[c("div",Hm,V(e(s).getPostById(e(j))?.history[e(ne)].content??""),1)])]),t(K,null,{default:o(()=>[t(Xe,null,{default:o(()=>[t(St,null,{default:o(()=>[t(ye,null,{default:o(()=>[...P[36]||(P[36]=[m("恢 复",-1)])]),_:1})]),_:1}),t(nt,null,{default:o(()=>[t(De,null,{default:o(()=>[t(ce,null,{default:o(()=>[...P[37]||(P[37]=[m("提示",-1)])]),_:1}),t(q,null,{default:o(()=>[...P[38]||(P[38]=[m(" 此操作将用该记录替换当前文章内容，是否继续？ ",-1)])]),_:1})]),_:1}),t(qe,null,{default:o(()=>[t(Ae,null,{default:o(()=>[...P[39]||(P[39]=[m("取消",-1)])]),_:1}),t(Pe,{onClick:O},{default:o(()=>[...P[40]||(P[40]=[m(" 恢 复 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64)}}}),Fm=st(zm,[["__scopeId","data-v-91ce45d8"]]),Mr=Ct("AIImageConfig",()=>{const n=z.reactive("openai_image_type",Tt),a=z.reactive("openai_image_size","1024x1024"),l=z.reactive("openai_image_quality","standard"),r=z.reactive("openai_image_style","natural"),s=Zo((d,g)=>{let w="";return(async()=>n.value==="custom"?w=await z.get(`openai_image_endpoint_${n.value}`)||"":w=(Kt.find(y=>y.value===n.value)??Kt[0]).endpoint)(),{get(){return d(),w},set(k){w=k,g(),n.value==="custom"&&z.set(`openai_image_endpoint_${n.value}`,k)}}}),i=D(""),u=Zo((d,g)=>{let w="";return z.get(`openai_image_key_${n.value}`).then(b=>{w=b||dr}),{get(){return d(),w},set(b){w=b,g(),n.value!==Tt&&z.set(`openai_image_key_${n.value}`,b)}}});return Ie(n,async d=>{const g=Kt.find(w=>w.value===d)??Kt[0];if(d==="custom"){const w=await z.get(`openai_image_model_${d}`)||"";i.value=w}else{const w=await z.get(`openai_image_model_${d}`)||"";i.value=g.models.includes(w)?w:g.models[0],!g.models.includes(w)&&g.models[0]&&await z.set(`openai_image_model_${d}`,g.models[0])}},{immediate:!0}),Ie(i,async d=>{await z.set(`openai_image_model_${n.value}`,d)}),{type:n,endpoint:s,model:i,size:a,quality:l,style:r,apiKey:u,reset:async()=>{n.value=Tt,a.value="1024x1024",l.value="standard",r.value="natural",await Promise.all(Kt.map(async({value:d})=>{await z.remove(`openai_image_key_${d}`),await z.remove(`openai_image_model_${d}`),await z.remove(`openai_image_endpoint_${d}`)}))}}}),qm={class:"relative"},Km=["type","placeholder"],Ur=Y({__name:"PasswordInput",props:{defaultValue:{},modelValue:{},class:{},placeholder:{}},setup(n,{emit:a}){const l=n,s=ia(l,"modelValue",a,{passive:!0,defaultValue:l.defaultValue}),i=D(!1);function u(){i.value=!i.value}return(p,d)=>(v(),N("div",qm,[dt(c("input",{"onUpdate:modelValue":d[0]||(d[0]=g=>_e(s)?s.value=g:null),type:e(i)?"text":"password",placeholder:n.placeholder,class:we(e(ke)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 pr-10 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",l.class))},null,10,Km),[[Gl,e(s)]]),c("button",{type:"button",class:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors","aria-label":"切换密码可见性",onClick:u},[e(i)?(v(),B(e(gd),{key:1,class:"h-4 w-4"})):(v(),B(e(ua),{key:0,class:"h-4 w-4"}))])]))}}),jm={class:"space-y-4 max-w-full"},Wm=["readonly"],Ym={key:0},Jm={key:1},Zm={key:2},Xm={key:3,class:"flex items-start gap-2 p-3 bg-blue-50 dark:bg-blue-950/30 rounded-md text-sm"},Qm={key:4,class:"flex items-start gap-2 p-3 bg-orange-50 dark:bg-orange-950/30 rounded-md text-sm"},ef={class:"flex flex-wrap gap-2"},tf={key:5,class:"mt-1 text-xs text-gray-500"},of=Y({__name:"AIImageConfig",emits:["saved"],setup(n,{emit:a}){const l=a,r=Mr(),{type:s,endpoint:i,model:u,apiKey:p,size:d,quality:g,style:w}=Re(r),b=D(!1),k=D(""),y=he(()=>Kt.find(C=>C.value===s.value)||Kt[0]);Ie(s,()=>{k.value=""}),Ie(u,()=>{k.value=""}),Ie(i,()=>{k.value=""});function h(){if(!i.value.trim()||!u.value.trim()){k.value="❌ 请检查配置项是否完整";return}if(s.value!==Tt&&!p.value.trim()){k.value="❌ 请输入 API Key";return}try{new URL(i.value)}catch{k.value="❌ 端点格式有误";return}k.value="✅ 配置已保存",l("saved")}function $(){r.reset(),k.value="🗑️ 当前 AI 图像配置已清除"}async function E(){k.value="",b.value=!0;const C={"Content-Type":"application/json"};p.value&&s.value!==Tt&&(C.Authorization=`Bearer ${p.value}`);try{const R=new URL(i.value);!R.pathname.includes("/images/")&&!R.pathname.endsWith("/images/generations")&&(R.pathname=R.pathname.replace(/\/?$/,"/images/generations"));const A={model:u.value,prompt:"test connection",size:d.value,quality:g.value,style:w.value,n:1},I=await window.fetch(R.toString(),{method:"POST",headers:C,body:JSON.stringify(A)});if(I.ok)k.value="✅ 连接成功";else{const x=await I.text();k.value=`❌ 连接失败：${I.status} ${x}`}}catch(R){k.value=`❌ 连接失败：${R.message}`}finally{b.value=!1}}const f=[{label:"正方形 (1024x1024)",value:"1024x1024"},{label:"横版 (1792x1024)",value:"1792x1024"},{label:"竖版 (1024x1792)",value:"1024x1792"}],_=[{label:"标准",value:"standard"},{label:"高清",value:"hd"}],U=[{label:"自然",value:"natural"},{label:"鲜明",value:"vivid"}];return(C,R)=>(v(),N("div",jm,[R[19]||(R[19]=c("div",{class:"text-lg font-semibold border-b pb-2"}," AI 图像生成配置 ",-1)),c("div",null,[t(e(vt),{class:"mb-1 block text-sm font-medium"},{default:o(()=>[...R[8]||(R[8]=[m("服务商",-1)])]),_:1}),t(e(It),{modelValue:e(s),"onUpdate:modelValue":R[0]||(R[0]=A=>_e(s)?s.value=A:null)},{default:o(()=>[t(e(Dt),{class:"w-full"},{default:o(()=>[t(e(Nt),null,{default:o(()=>[m(V(e(y).label),1)]),_:1})]),_:1}),t(e(Ot),null,{default:o(()=>[(v(!0),N(Te,null,Ne(e(Kt),A=>(v(),B(e(Bt),{key:A.value,value:A.value},{default:o(()=>[m(V(A.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),c("div",null,[t(e(vt),{class:"mb-1 block text-sm font-medium"},{default:o(()=>[...R[9]||(R[9]=[m("API 端点",-1)])]),_:1}),dt(c("input",{"onUpdate:modelValue":R[1]||(R[1]=A=>_e(i)?i.value=A:null),type:"url",class:"w-full mt-1 p-2 border rounded-md bg-background focus:ring-2 focus:ring-primary focus:border-primary transition-colors",placeholder:"https://api.openai.com/v1",readonly:e(s)!=="custom"},null,8,Wm),[[Nn,e(i)]])]),e(s)!=="default"?(v(),N("div",Ym,[t(e(vt),{class:"mb-1 block text-sm font-medium"},{default:o(()=>[...R[10]||(R[10]=[m("API Key",-1)])]),_:1}),t(e(Ur),{modelValue:e(p),"onUpdate:modelValue":R[2]||(R[2]=A=>_e(p)?p.value=A:null),class:"w-full mt-1 focus:ring-2 focus:ring-primary focus:border-primary transition-colors",placeholder:"sk-..."},null,8,["modelValue"])])):fe("",!0),c("div",null,[t(e(vt),{class:"mb-1 block text-sm font-medium"},{default:o(()=>[...R[11]||(R[11]=[m("模型",-1)])]),_:1}),e(s)!=="custom"&&e(y).models.length>0?(v(),B(e(It),{key:0,modelValue:e(u),"onUpdate:modelValue":R[3]||(R[3]=A=>_e(u)?u.value=A:null)},{default:o(()=>[t(e(Dt),{class:"w-full"},{default:o(()=>[t(e(Nt),null,{default:o(()=>[m(V(e(u)||"请选择模型"),1)]),_:1})]),_:1}),t(e(Ot),null,{default:o(()=>[(v(!0),N(Te,null,Ne(e(y).models,A=>(v(),B(e(Bt),{key:A,value:A},{default:o(()=>[m(V(A),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])):dt((v(),N("input",{key:1,"onUpdate:modelValue":R[4]||(R[4]=A=>_e(u)?u.value=A:null),type:"text",class:"w-full mt-1 p-2 border rounded-md bg-background focus:ring-2 focus:ring-primary focus:border-primary transition-colors",placeholder:"输入模型名称，如：dall-e-3"},null,512)),[[Nn,e(u)]])]),c("div",null,[t(e(vt),{class:"mb-1 block text-sm font-medium"},{default:o(()=>[...R[12]||(R[12]=[m("图像尺寸",-1)])]),_:1}),t(e(It),{modelValue:e(d),"onUpdate:modelValue":R[5]||(R[5]=A=>_e(d)?d.value=A:null)},{default:o(()=>[t(e(Dt),{class:"w-full"},{default:o(()=>[t(e(Nt),null,{default:o(()=>[m(V(f.find(A=>A.value===e(d))?.label||e(d)),1)]),_:1})]),_:1}),t(e(Ot),null,{default:o(()=>[(v(),N(Te,null,Ne(f,A=>t(e(Bt),{key:A.value,value:A.value},{default:o(()=>[m(V(A.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"])]),e(u).includes("dall-e")?(v(),N("div",Jm,[t(e(vt),{class:"mb-1 block text-sm font-medium"},{default:o(()=>[...R[13]||(R[13]=[m("图像质量",-1)])]),_:1}),t(e(It),{modelValue:e(g),"onUpdate:modelValue":R[6]||(R[6]=A=>_e(g)?g.value=A:null)},{default:o(()=>[t(e(Dt),{class:"w-full"},{default:o(()=>[t(e(Nt),null,{default:o(()=>[m(V(_.find(A=>A.value===e(g))?.label||e(g)),1)]),_:1})]),_:1}),t(e(Ot),null,{default:o(()=>[(v(),N(Te,null,Ne(_,A=>t(e(Bt),{key:A.value,value:A.value},{default:o(()=>[m(V(A.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"])])):fe("",!0),e(u).includes("dall-e")?(v(),N("div",Zm,[t(e(vt),{class:"mb-1 block text-sm font-medium"},{default:o(()=>[...R[14]||(R[14]=[m("图像风格",-1)])]),_:1}),t(e(It),{modelValue:e(w),"onUpdate:modelValue":R[7]||(R[7]=A=>_e(w)?w.value=A:null)},{default:o(()=>[t(e(Dt),{class:"w-full"},{default:o(()=>[t(e(Nt),null,{default:o(()=>[m(V(U.find(A=>A.value===e(w))?.label||e(w)),1)]),_:1})]),_:1}),t(e(Ot),null,{default:o(()=>[(v(),N(Te,null,Ne(U,A=>t(e(Bt),{key:A.value,value:A.value},{default:o(()=>[m(V(A.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"])])):fe("",!0),e(s)==="default"?(v(),N("div",Xm,[t(e(No),{class:"h-4 w-4 text-blue-500 mt-0.5 flex-shrink-0"}),R[15]||(R[15]=c("div",{class:"text-blue-700 dark:text-blue-300"},[c("p",{class:"font-medium"}," 默认图像服务 "),c("p",null,"免费使用，无需配置 API Key，支持 Kwai-Kolors/Kolors 模型。")],-1))])):e(s)==="custom"?(v(),N("div",Qm,[t(e(No),{class:"h-4 w-4 text-orange-500 mt-0.5 flex-shrink-0"}),R[16]||(R[16]=c("div",{class:"text-orange-700 dark:text-orange-300"},[c("p",{class:"font-medium"}," 自定义服务 "),c("p",null,"可配置任何兼容 OpenAI 图像生成 API 的服务，如自建的 API 代理或其他第三方服务。"),c("p",{class:"mt-1 text-xs"}," 端点格式示例：https://your-api.com/v1 ")],-1))])):fe("",!0),c("div",ef,[t(e(Ge),{type:"button",class:"flex-1 min-w-[100px]",onClick:h},{default:o(()=>[...R[17]||(R[17]=[m(" 保存配置 ",-1)])]),_:1}),t(e(Ge),{variant:"outline",type:"button",class:"flex-1 min-w-[80px]",onClick:$},{default:o(()=>[...R[18]||(R[18]=[m(" 清空 ",-1)])]),_:1}),t(e(Ge),{size:"sm",variant:"outline",class:"flex-1 min-w-[100px]",disabled:e(b),onClick:E},{default:o(()=>[m(V(e(b)?"测试中...":"测试连接"),1)]),_:1},8,["disabled"])]),e(k)?(v(),N("div",tf,V(e(k)),1)):fe("",!0)]))}}),nf={class:"space-x-1 flex items-center"},af={key:0,class:"mb-4 w-full border rounded-md p-4 max-h-[60vh] overflow-y-auto flex-shrink-0"},lf={key:1,class:"flex flex-col space-y-4 flex-shrink-0"},rf={class:"flex items-center justify-center bg-gray-50 dark:bg-gray-800 rounded-lg min-h-[250px] sm:min-h-[300px]"},sf={key:0,class:"flex flex-col items-center gap-4"},uf={key:1,class:"w-full flex flex-col space-y-3"},df={key:0,class:"flex items-center justify-between p-2 bg-muted/20 rounded"},cf={class:"text-sm text-muted-foreground"},pf={class:"flex items-center justify-center p-2 sm:p-4"},mf=["src","alt"],ff={class:"px-2 sm:px-4 py-2 bg-muted/10 rounded space-y-1"},gf={class:"text-xs text-muted-foreground text-center"},wf={class:"text-xs text-muted-foreground break-words text-center"},vf={class:"ml-1"},hf={class:"text-xs text-muted-foreground text-center"},bf={class:"flex flex-wrap justify-center gap-2 p-2 sm:p-4 bg-muted/20 border-t border-border rounded-b-lg"},yf={key:2,class:"relative flex-shrink-0 mt-auto"},xf={class:"bg-background border-border flex flex-col items-baseline gap-2 border rounded-xl px-3 py-2 pr-12 shadow-inner"},_f=Y({__name:"AIImageGeneratorPanel",props:{open:{type:Boolean}},emits:["update:open"],setup(n,{emit:a}){const l=n,r=a,s=ot(),{editor:i}=Re(s),u=Fe(),{toggleAIDialog:p}=u,d=D(l.open);Ie(()=>l.open,F=>{d.value=F,F&&O()}),Ie(d,F=>r("update:open",F));const g=D(!1),w=D(!1),b=D(""),k=D(""),y=D([]),h=D([]),$=D([]),E=D(null),f=D(0),_=D(null),U=Mr(),{apiKey:C,endpoint:R,model:A,type:I,size:x,quality:j,style:ne}=Re(U);function L(F){return Date.now()-F>36e5}async function O(){const F=await z.get("ai_generated_images"),J=await z.get("ai_image_timestamps");if(!F)return;const W=await z.getJSON("ai_generated_images",[]),K=await z.getJSON("ai_image_prompts",[]),le=await z.getJSON("ai_image_timestamps",[]);if(!J||le.length===0){console.log("🧹 检测到旧版本数据，清除所有过期图片"),y.value=[],h.value=[],$.value=[],await z.remove("ai_generated_images"),await z.remove("ai_image_prompts"),await z.remove("ai_image_timestamps");return}const Le=[];le.forEach((Ye,Ce)=>{L(Ye)||Le.push(Ce)});const pe=Le.map(Ye=>W[Ye]).filter(Boolean),He=Le.map(Ye=>K[Ye]||"").filter((Ye,Ce)=>pe[Ce]),We=Le.map(Ye=>le[Ye]).filter(Boolean);y.value=pe,h.value=He,$.value=We,pe.length<W.length&&(console.log(`🧹 清除了 ${W.length-pe.length} 张过期图片`),pe.length>0?(await z.setJSON("ai_generated_images",pe),await z.setJSON("ai_image_prompts",He),await z.setJSON("ai_image_timestamps",We)):(await z.remove("ai_generated_images"),await z.remove("ai_image_prompts"),await z.remove("ai_image_timestamps"))),console.log("📊 过期检查完成，有效图片数量:",pe.length)}ct(async()=>{await O();const F=y.value.length,J=h.value.length,W=$.value.length,K=Math.max(F,J,W);F<K?(console.warn("⚠️ 数据不一致，清除所有数据"),y.value=[],h.value=[],$.value=[],await z.remove("ai_generated_images"),await z.remove("ai_image_prompts"),await z.remove("ai_image_timestamps")):(J<F&&(h.value=[...h.value,...Array.from({length:F-J},()=>"")]),W<F&&($.value=[...$.value,...Array.from({length:F-W},()=>Date.now())])),_.value=setInterval(()=>{y.value.length>0&&O()},3e4)}),Xo(()=>{_.value&&(clearInterval(_.value),_.value=null)});function M(){g.value=!1}function G(){r("update:open",!1),setTimeout(()=>{p(!0)},100)}function T(F){F.isComposing||F.keyCode===229||F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),re())}async function re(){if(!b.value.trim()||w.value)return;const F=b.value.trim();k.value=F,w.value=!0,E.value=new AbortController;const J={"Content-Type":"application/json"};C.value&&I.value!=="default"&&(J.Authorization=`Bearer ${C.value}`);try{const W=new URL(R.value);!W.pathname.includes("/images/")&&!W.pathname.endsWith("/images/generations")&&(W.pathname=W.pathname.replace(/\/?$/,"/images/generations"));const K={model:A.value,prompt:F,size:x.value,n:1};A.value.includes("dall-e")&&(K.quality=j.value,K.style=ne.value);const le=await window.fetch(W.toString(),{method:"POST",headers:J,body:JSON.stringify(K),signal:E.value.signal});if(!le.ok){const pe=await le.text();throw new Error(`${le.status}: ${pe}`)}const Le=await le.json();if(Le.data&&Le.data.length>0){const pe=Le.data[0].url||Le.data[0].b64_json;if(pe){const He=pe.startsWith("data:")||pe.startsWith("http")?pe:`data:image/png;base64,${pe}`,We=Date.now();y.value.unshift(He),h.value.unshift(F),$.value.unshift(We),f.value=0,y.value.length>20&&(y.value=y.value.slice(0,20),h.value=h.value.slice(0,20),$.value=$.value.slice(0,20)),await z.setJSON("ai_generated_images",y.value),await z.setJSON("ai_image_prompts",h.value),await z.setJSON("ai_image_timestamps",$.value),b.value=""}}else throw new Error("未收到有效的图像数据")}catch(W){W.name==="AbortError"?console.log("图像生成请求中止"):console.error("图像生成失败:",W)}finally{w.value=!1,E.value=null}}function Q(){E.value&&(E.value.abort(),E.value=null),w.value=!1}async function Z(){y.value=[],h.value=[],$.value=[],f.value=0,await z.remove("ai_generated_images"),await z.remove("ai_image_prompts"),await z.remove("ai_image_timestamps")}async function ae(F,J){try{const K=await(await fetch(F)).blob(),le=window.URL.createObjectURL(K),Le=document.createElement("a");Le.href=le;const pe=h.value[J]||"",He=pe?pe.substring(0,20).replace(/[^\w\s-]/g,"").replace(/\s+/g,"-"):"no-prompt";Le.download=`ai-image-${J+1}-${He}.png`,document.body.appendChild(Le),Le.click(),document.body.removeChild(Le),window.URL.revokeObjectURL(le)}catch(W){console.error("下载图像失败:",W)}}async function se(F){try{await To(F),console.log("✅ 图片链接已复制到剪贴板"),typeof de<"u"&&de.success("图片链接已复制到剪贴板")}catch(J){console.error("❌ 复制失败:",J),typeof de<"u"&&de.error("复制失败，请重试")}}function ee(){const F=h.value[f.value];F?(console.log("🔄 重新生成图像，使用当前图片的prompt:",F),P(F)):console.warn("⚠️ 没有找到当前图片的prompt")}async function P(F){if(!F.trim()||w.value)return;w.value=!0,E.value=new AbortController;const J={"Content-Type":"application/json"};C.value&&I.value!=="default"&&(J.Authorization=`Bearer ${C.value}`);try{const W=new URL(R.value);!W.pathname.includes("/images/")&&!W.pathname.endsWith("/images/generations")&&(W.pathname=W.pathname.replace(/\/?$/,"/images/generations"));const K={model:A.value,prompt:F.trim(),size:x.value,n:1};A.value.includes("dall-e")&&(K.quality=j.value,K.style=ne.value);const le=await window.fetch(W.toString(),{method:"POST",headers:J,body:JSON.stringify(K),signal:E.value.signal});if(!le.ok){const pe=await le.text();throw new Error(`${le.status}: ${pe}`)}const Le=await le.json();if(Le.data&&Le.data.length>0){const pe=Le.data[0].url||Le.data[0].b64_json;if(pe){const He=pe.startsWith("data:")||pe.startsWith("http")?pe:`data:image/png;base64,${pe}`,We=Date.now();y.value.unshift(He),h.value.unshift(F.trim()),$.value.unshift(We),f.value=0,y.value.length>20&&(y.value=y.value.slice(0,20),h.value=h.value.slice(0,20),$.value=$.value.slice(0,20)),await z.setJSON("ai_generated_images",y.value),await z.setJSON("ai_image_prompts",h.value),await z.setJSON("ai_image_timestamps",$.value)}}else throw new Error("未收到有效的图像数据")}catch(W){W.name==="AbortError"?console.log("图像生成请求中止"):console.error("图像生成失败:",W)}finally{w.value=!1,E.value=null}}function ye(){f.value>0&&f.value--}function be(){f.value<y.value.length-1&&f.value++}function ie(F){if(!i.value){console.warn("编辑器未初始化");return}try{const J=h.value[f.value]||"";console.log("🔗 插入图片，使用关联的prompt:",J);const K=`![${J.trim()?J.trim().substring(0,30).replace(/\n/g," "):"AI生成的图像"}](${F})`,le=i.value.state.selection.main.head;i.value.dispatch({changes:{from:le,insert:K},selection:{anchor:le+K.length}}),i.value.focus(),d.value=!1,console.log("✅ 图像已成功插入到光标位置")}catch(J){console.error("❌ 插入图像到光标位置失败:",J)}}function H(F){if(console.log("🔍 点击查看大图:",F),!F){console.error("❌ 图片URL为空");return}try{window.open(F,"_blank","width=800,height=600,scrollbars=yes,resizable=yes")||(console.error("❌ 无法打开新窗口，可能被浏览器阻止"),window.open(F,"_blank"))}catch(J){console.error("❌ 打开图片失败:",J)}}const xe=D(Date.now());ct(()=>{const J=setInterval(()=>{xe.value=Date.now()},1e3);Xo(()=>{clearInterval(J)})});function Be(F){if(!$.value[F])return"未知";const J=3600*1e3,W=$.value[F],K=xe.value-W,le=J-K;if(le<=0)return"已过期";const Le=Math.floor(le/(60*1e3)),pe=Math.floor(le%(60*1e3)/1e3);return Le>0?`${Le}分${pe}秒`:`${pe}秒`}function Oe(F){if(!$.value[F])return"text-muted-foreground";const J=3600*1e3,W=$.value[F],K=xe.value-W,le=J-K;return le<=0?"text-red-500 font-medium":le<600*1e3?"text-orange-500 font-medium":le<1800*1e3?"text-yellow-600":"text-green-600"}return(F,J)=>(v(),B(e(pt),{open:d.value,"onUpdate:open":J[8]||(J[8]=W=>d.value=W)},{default:o(()=>[t(e(mt),{class:"bg-card text-card-foreground flex flex-col w-[95vw] max-h-[90vh] sm:max-h-[85vh] sm:max-w-4xl overflow-y-auto"},{default:o(()=>[t(e(ft),{class:"space-y-1 flex flex-col items-start"},{default:o(()=>[c("div",nf,[t(e(gt),null,{default:o(()=>[...J[9]||(J[9]=[m("AI 文生图",-1)])]),_:1}),t(e(Ge),{title:g.value?"AI 文生图":"配置参数","aria-label":g.value?"AI 文生图":"配置参数",variant:"ghost",size:"icon",onClick:J[0]||(J[0]=W=>g.value=!g.value)},{default:o(()=>[g.value?(v(),B(e(Ut),{key:0,class:"h-4 w-4"})):(v(),B(e(da),{key:1,class:"h-4 w-4"}))]),_:1},8,["title","aria-label"]),t(e(Ge),{title:"AI 对话","aria-label":"AI 对话",variant:"ghost",size:"icon",onClick:J[1]||(J[1]=W=>G())},{default:o(()=>[t(e(Zl),{class:"h-4 w-4"})]),_:1}),t(e(Ge),{title:"清空图像","aria-label":"清空图像",variant:"ghost",size:"icon",onClick:Z},{default:o(()=>[t(e(wo),{class:"h-4 w-4"})]),_:1})]),t(e(Zt),{class:"text-muted-foreground text-sm"},{default:o(()=>[...J[10]||(J[10]=[m(" 使用 AI 根据文字描述生成图像 ",-1)])]),_:1})]),_:1}),g.value?(v(),N("div",af,[t(of,{onSaved:M})])):fe("",!0),!g.value&&(w.value||y.value.length>0)?(v(),N("div",lf,[c("div",rf,[w.value?(v(),N("div",sf,[t(e(vo),{class:"h-8 w-8 animate-spin text-primary"}),J[12]||(J[12]=c("p",{class:"text-sm text-muted-foreground"}," 正在生成图像... ",-1)),t(e(Ge),{variant:"outline",size:"sm",onClick:Q},{default:o(()=>[...J[11]||(J[11]=[m(" 取消生成 ",-1)])]),_:1})])):y.value.length>0?(v(),N("div",uf,[y.value.length>1?(v(),N("div",df,[t(e(Ge),{variant:"outline",size:"sm",disabled:f.value<=0,onClick:ye},{default:o(()=>[...J[13]||(J[13]=[m(" 上一张 ",-1)])]),_:1},8,["disabled"]),c("span",cf,V(f.value+1)+" / "+V(y.value.length),1),t(e(Ge),{variant:"outline",size:"sm",disabled:f.value>=y.value.length-1,onClick:be},{default:o(()=>[...J[14]||(J[14]=[m(" 下一张 ",-1)])]),_:1},8,["disabled"])])):fe("",!0),c("div",pf,[c("div",{class:"relative group cursor-pointer w-full max-w-sm",onClick:J[2]||(J[2]=W=>H(y.value[f.value]))},[c("img",{src:y.value[f.value],alt:`生成的图像 ${f.value+1}`,class:"w-full h-auto max-h-[300px] sm:max-h-[350px] object-contain rounded-lg shadow-lg border border-border transition-transform hover:scale-105"},null,8,mf),J[15]||(J[15]=c("div",{class:"absolute inset-0 bg-black/0 group-hover:bg-black/10 rounded-lg flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"},[c("div",{class:"bg-black/70 text-white px-3 py-1 rounded-md text-sm"}," 点击查看大图 ")],-1))])]),c("div",ff,[c("p",gf," 尺寸: "+V(e(x)),1),c("div",wf,[J[16]||(J[16]=c("span",{class:"font-medium"},"提示词:",-1)),c("span",vf,V(h.value[f.value]||"无关联提示词"),1)]),c("div",hf,[J[17]||(J[17]=c("span",{class:"font-medium"},"剩余有效期:",-1)),c("span",{class:we(["ml-1",Oe(f.value)])},V(Be(f.value)),3),J[18]||(J[18]=c("span",{class:"font-medium"},"，请及时下载保存",-1))])]),c("div",bf,[t(e(Ge),{variant:"outline",size:"sm",class:"flex-shrink-0 bg-background text-xs sm:text-sm",onClick:J[3]||(J[3]=W=>ie(y.value[f.value]))},{default:o(()=>[t(e(Ut),{class:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),J[19]||(J[19]=m(" 插入 ",-1))]),_:1}),t(e(Ge),{variant:"outline",size:"sm",class:"flex-shrink-0 bg-background text-xs sm:text-sm",onClick:J[4]||(J[4]=W=>ae(y.value[f.value],f.value))},{default:o(()=>[t(e(fo),{class:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),J[20]||(J[20]=m(" 下载 ",-1))]),_:1}),t(e(Ge),{variant:"outline",size:"sm",class:"flex-shrink-0 bg-background text-xs sm:text-sm",onClick:J[5]||(J[5]=W=>se(y.value[f.value]))},{default:o(()=>[t(e(io),{class:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),J[21]||(J[21]=m(" 复制 ",-1))]),_:1}),t(e(Ge),{variant:"outline",size:"sm",class:"flex-shrink-0 bg-background text-xs sm:text-sm",onClick:ee},{default:o(()=>[t(e(Xl),{class:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),J[22]||(J[22]=m(" 重新生成 ",-1))]),_:1})])])):fe("",!0)])])):fe("",!0),g.value?fe("",!0):(v(),N("div",yf,[c("div",xf,[t(e(uo),{modelValue:b.value,"onUpdate:modelValue":J[6]||(J[6]=W=>b.value=W),placeholder:"描述你想要生成的图像... (Enter 生成，Shift+Enter 换行)",rows:"2",class:"custom-scroll min-h-16 w-full resize-none border-none bg-transparent p-0 focus-visible:outline-hidden focus:outline-hidden focus-visible:ring-0 focus:ring-0 focus-visible:ring-offset-0 focus:ring-offset-0 focus-visible:ring-transparent focus:ring-transparent",onKeydown:T},null,8,["modelValue"]),t(e(Ge),{disabled:!b.value.trim()&&!w.value,size:"icon",class:we(["absolute bottom-3 right-3 rounded-full disabled:opacity-40","bg-primary hover:bg-primary/90 text-primary-foreground"]),"aria-label":w.value?"取消":"生成",onClick:J[7]||(J[7]=W=>w.value?Q():re())},{default:o(()=>[w.value?(v(),B(e(vo),{key:0,class:"h-4 w-4 animate-spin"})):(v(),B(e(Ut),{key:1,class:"h-4 w-4"}))]),_:1},8,["disabled","aria-label"])])]))]),_:1})]),_:1},8,["open"]))}}),Vr=st(_f,[["__scopeId","data-v-c781884c"]]),kf={class:"grid grid-cols-1 lg:grid-cols-2 my-5 h-[60vh] lg:h-96 gap-4 text-center"},Ef={class:"flex flex-col overflow-hidden"},Cf={key:0,class:"space-y-2 overflow-auto"},Sf=["id","onUpdate:modelValue"],$f=["for"],Tf={key:1},Af={class:"flex flex-col overflow-hidden"},Gf={class:"relative bg-white p-2 dark:bg-gray-900"},Lf={class:"w-full overflow-auto border rounded-md bg-gray-50 p-2 dark:bg-gray-800"},Rf={class:"text-left text-sm text-gray-500 dark:text-gray-400"},If={class:"col-span-1 lg:col-span-2 flex justify-end"},Bf={class:"grid grid-cols-1 lg:grid-cols-2 my-5 h-[60vh] lg:h-96 gap-4 text-center"},Df={class:"overflow-auto h-full flex flex-col"},Nf={class:"sticky top-0 z-10 bg-white p-2 dark:bg-gray-900"},Of={key:0,class:"m-4 flex-1 flex flex-col items-center justify-center border-2 rounded-lg border-dashed"},Pf={for:"json-import-input",class:"flex-1 w-full flex flex-col cursor-pointer items-center justify-center rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800"},Mf={key:1,class:"mt-4 border rounded-md bg-gray-50 p-2 dark:bg-gray-800"},Uf={class:"text-left text-sm text-gray-500 dark:text-gray-400"},Vf={class:"overflow-auto h-full flex flex-col"},Hf={key:0},zf={class:"space-y-2"},Ff=["id","onUpdate:modelValue"],qf=["for"],Kf={key:1,class:"flex-1 flex items-center justify-center text-gray-500 dark:text-gray-400"},jf={class:"flex-1 col-span-1 lg:col-span-2 flex justify-end"},Wf={class:"max-h-[70vh] overflow-hidden"},Yf={class:"h-full overflow-auto border rounded-md bg-gray-50 p-4 dark:bg-gray-800"},Jf={class:"break-all text-left text-sm text-gray-500 dark:text-gray-400"},Zf=Y({__name:"EditorStateDialog",props:{visible:{type:Boolean,default:!1}},emits:["close"],setup(n,{emit:a}){const l=n,r=a,s=jt(),i=Fe(),u=Ht(),p=Ho(),d=At();Ie(()=>l.visible,L=>{L&&h()});function g(L){L||r("close")}const w=D("import"),b=D([{value:"import",label:"导入配置"},{value:"export",label:"导出配置"}]),k=D({data:{},selected:{}});function y(){return{isDark:i.isDark,isEditOnLeft:i.isEditOnLeft,isOpenRightSlider:i.isOpenRightSlider,isOpenPostSlider:i.isOpenPostSlider,showAIToolbox:i.showAIToolbox,theme:s.theme,fontFamily:s.fontFamily,fontSize:s.fontSize,primaryColor:s.primaryColor,codeBlockTheme:s.codeBlockTheme,legend:s.legend,isMacCodeBlock:s.isMacCodeBlock,isShowLineNumber:s.isShowLineNumber,isCiteStatus:s.isCiteStatus,isCountStatus:s.isCountStatus,isUseIndent:s.isUseIndent,isUseJustify:s.isUseJustify,currentPostId:u.currentPostId,currentPostIndex:u.currentPostIndex,posts:u.posts,cssContentConfig:p.cssContentConfig,titleList:d.titleList,readingTime:d.readingTime,isShowCssEditor:i.isShowCssEditor,isShowInsertFormDialog:i.isShowInsertFormDialog,isShowUploadImgDialog:i.isShowUploadImgDialog,isShowInsertMpCardDialog:i.isShowInsertMpCardDialog,aiDialogVisible:i.aiDialogVisible,aiImageDialogVisible:i.aiImageDialogVisible}}async function h(){try{const L=y();k.value={data:L,selected:Object.keys(L).reduce((O,M)=>(O[M]=!0,O),{})}}catch{}}const $=he(()=>k.value.data?Object.keys(k.value.data).reduce((L,O)=>(k.value.selected[O]&&(L[O]=k.value.data[O]),L),{}):{}),E=D({data:{},selected:{}}),f=D(null),_=he(()=>E.value.data?Object.keys(E.value.data).reduce((L,O)=>(E.value.selected[O]&&(L[O]=E.value.data[O]),L),{}):{});function U(){const L=Object.keys(k.value.data).reduce((O,M)=>(k.value.selected[M]&&(O[M]=k.value.data[M]),O),{});$o(JSON.stringify(L,null,2),"exported_config.json","application/json"),de.success("配置文件导出成功"),r("close")}const C=D(!1),R=he(()=>w.value==="export"?$.value:w.value==="import"?_.value:{});function A(L){To(L),de.success("复制成功")}const I=D(null);function x(){I.value?.click()}function j(L){const O=L.target;if(!O.files?.length)return;const M=O.files[0],G=new FileReader;G.onload=T=>{try{const re=T.target?.result,Q=JSON.parse(re);if(typeof Q!="object"||Array.isArray(Q)){de.error("导入的文件格式不正确");return}const Z=Object.keys(k.value.data).concat(Object.keys(E.value.data)),ae=Object.keys(Q).reduce((se,ee)=>(Z.includes(ee)&&(se[ee]=Q[ee]),se),{});if(Object.keys(ae).length===0){de.error("导入的文件无可应用项目配置");return}f.value=Q,E.value={data:Q,selected:Object.keys(Q).reduce((se,ee)=>(se[ee]=!0,se),{})},de.success("配置文件导入成功")}catch{de.error("文件解析失败，请检查JSON格式")}},G.readAsText(M),O.value=""}function ne(){_.value&&(Object.keys(E.value.selected).forEach(L=>{if(E.value.selected[L]&&E.value.data?.[L]!==void 0){const O=E.value.data[L];L==="isDark"?i.isDark=O:L==="isEditOnLeft"?i.isEditOnLeft=O:L==="isOpenRightSlider"?i.isOpenRightSlider=O:L==="isOpenPostSlider"?i.isOpenPostSlider=O:L==="showAIToolbox"?i.showAIToolbox=O:L==="theme"?s.theme=O:L==="fontFamily"?s.fontFamily=O:L==="fontSize"?s.fontSize=O:L==="primaryColor"?s.primaryColor=O:L==="codeBlockTheme"?s.codeBlockTheme=O:L==="legend"?s.legend=O:L==="isMacCodeBlock"?s.isMacCodeBlock=O:L==="isShowLineNumber"?s.isShowLineNumber=O:L==="isCiteStatus"?s.isCiteStatus=O:L==="isCountStatus"?s.isCountStatus=O:L==="isUseIndent"?s.isUseIndent=O:L==="isUseJustify"?s.isUseJustify=O:L==="currentPostId"?u.currentPostId=O:L==="currentPostIndex"?u.currentPostIndex=O:L==="posts"?u.posts=O:L==="cssContentConfig"?p.cssContentConfig=O:L==="titleList"?d.titleList=O:L==="readingTime"?d.readingTime=O:L==="isShowCssEditor"?i.isShowCssEditor=O:L==="isShowInsertFormDialog"?i.isShowInsertFormDialog=O:L==="isShowUploadImgDialog"?i.isShowUploadImgDialog=O:L==="isShowInsertMpCardDialog"?i.isShowInsertMpCardDialog=O:L==="aiDialogVisible"?i.aiDialogVisible=O:L==="aiImageDialogVisible"&&(i.aiImageDialogVisible=O)}}),de.success("配置应用成功，请刷新页面查看效果"),r("close"))}return(L,O)=>{const M=gt,G=Zt,T=ft,re=Cn,Q=En,Z=Ge,ae=va,se=kn,ee=mt,P=pt,ye=Gt;return v(),N(Te,null,[t(P,{open:l.visible,"onUpdate:open":g},{default:o(()=>[t(ee,{class:"md:max-w-2/3"},{default:o(()=>[t(T,null,{default:o(()=>[t(M,null,{default:o(()=>[...O[5]||(O[5]=[m("导入/导出项目配置",-1)])]),_:1}),t(G,null,{default:o(()=>[...O[6]||(O[6]=[m(" 导入的配置将覆盖当前项目的配置，请谨慎操作。 ",-1)])]),_:1})]),_:1}),t(se,{modelValue:e(w),"onUpdate:modelValue":O[2]||(O[2]=be=>_e(w)?w.value=be:null),class:"w-full"},{default:o(()=>[t(Q,null,{default:o(()=>[t(re,{value:"import"},{default:o(()=>[...O[7]||(O[7]=[m(" 导入配置 ",-1)])]),_:1}),(v(!0),N(Te,null,Ne(e(b).filter(be=>be.value!=="import"),be=>(v(),B(re,{key:be.value,value:be.value},{default:o(()=>[m(V(be.label),1)]),_:2},1032,["value"]))),128))]),_:1}),t(ae,{value:"export"},{default:o(()=>[c("div",kf,[c("div",Ef,[O[9]||(O[9]=c("p",{class:"bg-white p-2 dark:bg-gray-900"}," 请选择需要导出的配置 ",-1)),e(k).data?(v(),N("ul",Cf,[(v(!0),N(Te,null,Ne(e(k).data,(be,ie)=>(v(),N("li",{key:ie,class:"space-x-2 flex items-center"},[dt(c("input",{id:`export-${ie}`,"onUpdate:modelValue":H=>e(k).selected[ie]=H,type:"checkbox",class:"h-4 w-4 border-gray-300 rounded text-indigo-600 focus:ring-indigo-500"},null,8,Sf),[[Sa,e(k).selected[ie]]]),c("label",{for:`export-${ie}`,class:"text-sm text-gray-700 dark:text-gray-300"},V(e(il)[ie]||ie),9,$f)]))),128))])):(v(),N("div",Tf,[...O[8]||(O[8]=[c("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," 加载中... ",-1)])]))]),c("div",Af,[c("p",Gf,[O[10]||(O[10]=c("span",null,"当前 JSON 预览",-1)),t(e(La),{class:"absolute right-2 top-2 cursor-pointer p-1 text-gray-500 dark:text-gray-400",onClick:O[0]||(O[0]=be=>C.value=!0)})]),c("div",Lf,[c("pre",Rf,V(JSON.stringify(e($),null,2)),1)])]),c("div",If,[t(Z,{type:"primary",disabled:Object.values(e(k).selected).every(be=>!be),onClick:U},{default:o(()=>[...O[11]||(O[11]=[m(" 导出选中配置 ",-1)])]),_:1},8,["disabled"])])])]),_:1}),t(ae,{value:"import"},{default:o(()=>[c("div",Bf,[c("div",Df,[c("p",Nf,[O[12]||(O[12]=c("span",null,"导入 JSON 配置文件",-1)),t(e(La),{class:"absolute right-2 top-2 cursor-pointer p-1 text-gray-500 dark:text-gray-400",onClick:O[1]||(O[1]=be=>C.value=!0)})]),e(f)?(v(),N("div",Mf,[c("pre",Uf,V(JSON.stringify(e(_),null,2)),1)])):(v(),N("div",Of,[c("input",{id:"json-import-input",ref_key:"fileInputRef",ref:I,type:"file",accept:".json",class:"hidden",onChange:j},null,544),c("label",Pf,[t(e(Hl),{class:"mb-2 size-16 text-gray-500 dark:text-gray-400"}),O[13]||(O[13]=c("span",{class:"text-sm text-gray-500 dark:text-gray-400"}," 点击或拖拽 JSON 文件到此处 ",-1)),O[14]||(O[14]=c("span",{class:"mt-1 text-xs text-gray-400 dark:text-gray-500"}," 支持格式: .json ",-1))])]))]),c("div",Vf,[O[15]||(O[15]=c("p",{class:"sticky top-0 z-10 bg-white p-2 dark:bg-gray-900"}," 选择要导入的配置项 ",-1)),e(f)?(v(),N("div",Hf,[c("ul",zf,[(v(!0),N(Te,null,Ne(e(E).data,(be,ie)=>(v(),N("li",{key:ie,class:"space-x-2 flex items-center"},[dt(c("input",{id:`import-${ie}`,"onUpdate:modelValue":H=>e(E).selected[ie]=H,type:"checkbox",class:"h-4 w-4 border-gray-300 rounded text-indigo-600 focus:ring-indigo-500"},null,8,Ff),[[Sa,e(E).selected[ie]]]),c("label",{for:`import-${ie}`,class:"text-sm text-gray-700 dark:text-gray-300"},V(e(il)[ie]||ie),9,qf)]))),128))])])):(v(),N("div",Kf," 请先导入JSON文件 "))]),c("div",jf,[c("input",{id:"json-import-input",ref_key:"fileInputRef",ref:I,type:"file",accept:".json",class:"hidden",onChange:j},null,544),t(Z,{variant:"ghost",class:"mr-2",onClick:x},{default:o(()=>[...O[16]||(O[16]=[m(" 重新导入 ",-1)])]),_:1}),t(Z,{disabled:Object.values(e(E).selected).every(be=>!be),onClick:ne},{default:o(()=>[...O[17]||(O[17]=[m(" 应用选中配置 ",-1)])]),_:1},8,["disabled"])])])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["open"]),t(P,{open:e(C),"onUpdate:open":O[4]||(O[4]=be=>C.value=be)},{default:o(()=>[t(ee,{class:"max-h-[90vh] max-w-[90vw] overflow-auto"},{default:o(()=>[t(T,null,{default:o(()=>[t(M,null,{default:o(()=>[...O[18]||(O[18]=[m("JSON 全屏预览",-1)])]),_:1}),t(G,null,{default:o(()=>[...O[19]||(O[19]=[m(" 当前配置的完整 JSON 数据 ",-1)])]),_:1})]),_:1}),c("div",Wf,[c("div",Yf,[c("pre",Jf,V(JSON.stringify(e(R),null,2)),1)])]),t(ye,null,{default:o(()=>[t(Z,{variant:"outline",onClick:O[3]||(O[3]=be=>A(JSON.stringify(e(R),null,2)))},{default:o(()=>[...O[20]||(O[20]=[m(" 复制 JSON 到剪贴板 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64)}}}),Xf={class:"text-center"},Qf={class:"grid grid-cols-2 my-5 gap-4"},eg=["src","alt"],tg=Y({__name:"FundDialog",props:{visible:{type:Boolean,default:!1}},emits:["close"],setup(n,{emit:a}){const l=n,r=a,s=[{name:"yanglbme",imageUrl:"https://cdn-doocs.oss-cn-shenzhen.aliyuncs.com/gh/doocs/md/images/support1.jpg",altText:"赞赏二维码 1"},{name:"yangfong",imageUrl:"https://cdn-doocs.oss-cn-shenzhen.aliyuncs.com/gh/doocs/md/images/support2.jpg",altText:"赞赏二维码 2"}];function i(u){u||r("close")}return(u,p)=>{const d=gt,g=ft,w=Ge,b=Gt,k=mt,y=pt;return v(),B(y,{open:l.visible,"onUpdate:open":i},{default:o(()=>[t(k,null,{default:o(()=>[t(g,null,{default:o(()=>[t(d,null,{default:o(()=>[...p[1]||(p[1]=[m("赞赏",-1)])]),_:1})]),_:1}),c("div",Xf,[p[2]||(p[2]=c("p",null,"若觉得项目不错，可以通过以下方式支持我们～",-1)),c("div",Qf,[(v(),N(Te,null,Ne(s,h=>c("div",{key:h.name,class:"text-center"},[c("img",{src:h.imageUrl,alt:h.altText,class:"mx-auto",style:{width:"90%","max-width":"200px","border-radius":"10%"}},null,8,eg)])),64))])]),t(b,{class:"sm:justify-evenly"},{default:o(()=>[t(w,{onClick:p[0]||(p[0]=h=>r("close"))},{default:o(()=>[...p[3]||(p[3]=[m(" 关闭 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}}),og=Y({__name:"AboutDialog",props:{visible:{type:Boolean,default:!1}},emits:["close"],setup(n,{emit:a}){const l=n,r=a;function s(p){p||r("close")}const i=[{label:"GitHub 仓库",url:"https://github.com/doocs/md"},{label:"Gitee 仓库",url:"https://gitee.com/doocs/md"},{label:"GitCode 仓库",url:"https://gitcode.com/doocs/md"}];function u(p){window.open(p,"_blank")}return(p,d)=>{const g=gt,w=ft,b=Ge,k=Gt,y=mt,h=pt;return v(),B(h,{open:l.visible,"onUpdate:open":s},{default:o(()=>[t(y,null,{default:o(()=>[t(w,null,{default:o(()=>[t(g,null,{default:o(()=>[...d[0]||(d[0]=[m("关于",-1)])]),_:1})]),_:1}),d[1]||(d[1]=c("div",{class:"text-center"},[c("h3",null,"一款高度简洁的微信 Markdown 编辑器"),c("p",null,"扫码关注公众号 Doocs，原创技术内容第一时间推送！"),c("img",{class:"mx-auto my-5",src:"https://cdn-doocs.oss-cn-shenzhen.aliyuncs.com/gh/doocs/md/images/1648303220922-7e14aefa-816e-44c1-8604-ade709ca1c69.png",alt:"Doocs Markdown 编辑器",style:{width:"40%"}})],-1)),t(k,{class:"sm:justify-evenly flex flex-wrap gap-2"},{default:o(()=>[(v(),N(Te,null,Ne(i,$=>t(b,{key:$.url,onClick:E=>u($.url)},{default:o(()=>[m(V($.label),1)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1})]),_:1},8,["open"])}}}),ng={class:"mt-4"},ag={key:0,class:"py-4 text-center"},lg={key:1,class:"max-h-[400px] flex flex-col overflow-y-auto"},rg={class:"mb-2 flex items-center gap-2"},sg=["src"],ig=["href"],ug=Y({__name:"PostTaskDialog",props:{post:{},open:{type:Boolean}},emits:["update:open"],setup(n,{emit:a}){const l=n,r=a,s=he({get:()=>l.open,set:d=>r("update:open",d)}),i=D(null),u=D(!1);async function p(){if(!l.post)return;const d={post:{title:l.post.title,content:l.post.content,markdown:l.post.markdown,thumb:l.post.thumb,desc:l.post.desc},accounts:l.post.accounts.filter(b=>b.checked)},g=b=>{i.value=b},w=()=>{u.value=!1};try{window.$cose?.addTask(d,g,w)}catch(b){console.error("发布失败:",b)}}return Ie(()=>l.open,d=>{d&&p()}),(d,g)=>(v(),B(e(pt),{open:e(s),"onUpdate:open":g[0]||(g[0]=w=>_e(s)?s.value=w:null)},{default:o(()=>[t(e(mt),null,{default:o(()=>[t(e(ft),null,{default:o(()=>[t(e(gt),null,{default:o(()=>[...g[1]||(g[1]=[m("提交发布任务",-1)])]),_:1})]),_:1}),c("div",ng,[e(i)?(v(),N("div",lg,[(v(!0),N(Te,null,Ne(e(i)?.accounts,w=>(v(),N("div",{key:w.uid+w.displayName,class:"border-b py-4 last:border-b-0"},[c("div",rg,[w.icon?(v(),N("img",{key:0,src:w.icon,class:"object-cover h-5 w-5",alt:""},null,8,sg)):fe("",!0),c("span",null,V(w.title)+" - "+V(w.displayName||w.home),1)]),c("div",{class:we(["w-full flex-1 gap-2 overflow-auto pl-7 text-sm",{"text-yellow-600":w.status==="uploading","text-red-600":w.status==="failed","text-green-600":w.status==="done"}])},[w.status==="uploading"?(v(),N(Te,{key:0},[m(V(w.msg||"发布中"),1)],64)):fe("",!0),w.status==="failed"?(v(),N(Te,{key:1},[m(" 同步失败, 错误内容："+V(w.error),1)],64)):fe("",!0),w.status==="done"&&w.editResp?(v(),N(Te,{key:2},[g[2]||(g[2]=m(" 同步成功 ",-1)),w.type!=="wordpress"&&w.editResp?(v(),N("a",{key:0,href:w.editResp.draftLink,class:"ml-2 text-blue-500 hover:underline",referrerPolicy:"no-referrer",target:"_blank"},"查看草稿",8,ig)):fe("",!0)],64)):fe("",!0)],2)]))),128))])):(v(),N("div",ag," 等待发布.. "))])]),_:1})]),_:1},8,["open"]))}}),dg=st(ug,[["__scopeId","data-v-f1fb6789"]]),cg=Y({__name:"AlertTitle",props:{class:{}},setup(n){const a=n;return(l,r)=>(v(),N("h5",{class:we(e(ke)("mb-1 font-medium leading-none tracking-tight",a.class))},[ge(l.$slots,"default")],2))}}),pg=Y({__name:"AlertDescription",props:{class:{}},setup(n){const a=n;return(l,r)=>(v(),N("div",{class:we(e(ke)("text-sm [&_p]:leading-relaxed",a.class))},[ge(l.$slots,"default")],2))}}),mg=Ol("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),fg=Y({__name:"Alert",props:{class:{},variant:{}},setup(n){const a=n;return(l,r)=>(v(),N("div",{class:we(e(ke)(e(mg)({variant:n.variant}),a.class)),role:"alert"},[ge(l.$slots,"default")],2))}}),gg={class:"flex-1 overflow-y-auto p-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden flex flex-col gap-4"},wg={class:"w-full flex items-center gap-4"},vg={class:"w-full flex items-center gap-4"},hg={class:"w-full flex items-start gap-4"},bg={class:"w-full flex items-start gap-4"},yg={class:"flex-1 space-y-3"},xg={class:"flex items-center gap-2 mb-2"},_g=["onClick"],kg={class:"text-xs"},Eg={class:"flex items-center gap-1 ml-2"},Cg={class:"grid grid-cols-2 gap-x-8 gap-y-2 pl-5"},Sg=["src"],$g={class:"text-sm font-medium"},Tg=["src"],Ag={class:"text-sm text-muted-foreground"},Gg=Y({inheritAttrs:!1,__name:"PostInfo",setup(n){const a=ot(),{editor:l}=Re(a),r=At(),{output:s}=Re(r),i=Fe(),{isMobile:u}=Re(i),p=D(!1),d=D(!1),g=D([]),w=D(!1),b=D(!1),k=D({title:"",desc:"",thumb:"",content:"",markdown:"",accounts:[]}),y=he(()=>d.value&&g.value.some(M=>M.checked&&M.loggedIn)),h=[{name:"媒体平台",platforms:["wechat","toutiao","zhihu","baijiahao","wangyihao","sohu","weibo","bilibili","sspai","twitter","douyin","xiaohongshu"]},{name:"博客平台",platforms:["csdn","cnblogs","juejin","medium","cto51","segmentfault","oschina","infoq","jianshu"]},{name:"云平台及开发者社区",platforms:["tencentcloud","aliyun","huaweicloud","huaweidev","qianfan","alipayopen","modelscope","volcengine","elecfans"]}],$=D(new Set(["云平台及开发者社区"]));function E(M){$.value.has(M)?$.value.delete(M):$.value.add(M)}const f=he(()=>h.map(M=>({name:M.name,accounts:M.platforms.map(G=>g.value.find(T=>T.type===G)).filter(G=>G!==void 0)})));function _(M){const G=M.filter(T=>T.loggedIn);return G.length>0&&G.every(T=>T.checked)}function U(M){const G=M.filter(re=>re.loggedIn),T=G.filter(re=>re.checked).length;return T>0&&T<G.length}function C(M){const G=M.filter(re=>re.loggedIn),T=G.every(re=>re.checked);G.forEach(re=>re.checked=!T)}async function R(){d.value&&g.value.length===0&&I();let M={thumb:"",title:"",desc:"",content:"",markdown:"",accounts:[]};const G=g.value.filter(T=>!["ipfs"].includes(T.type));try{M={thumb:document.querySelector("#output img")?.src??"",title:[1,2,3,4,5,6].map(T=>document.querySelector(`#output h${T}`)).find(T=>T)?.textContent??"",desc:document.querySelector("#output p")?.textContent?.trim()??"",content:s.value,markdown:l.value?.state.doc.toString()??"",accounts:G}}catch(T){console.log("error",T)}finally{k.value={...M}}}Ie(p,M=>{M&&R()});function A(){return window.$cose!==void 0&&typeof window.$cose.getPlatforms=="function"?window.$cose.getPlatforms().map(M=>({...M,checked:!1,loggedIn:!1,isChecking:!0})):[]}function I(){if(window.$cose===void 0)return;const M=A();M.length>0&&(g.value=M),b.value=!0;let G=!1;const T=setTimeout(()=>{G||(console.log("[COSE] 登录检测超时，停止检测"),g.value=g.value.map(re=>({...re,isChecking:!1})),b.value=!1)},15e3);typeof window.$cose.getAccountsProgressive=="function"?window.$cose.getAccountsProgressive((re,Q,Z)=>{G=!0;const ae=g.value.findIndex(se=>se.type===re.type);ae!==-1&&(g.value[ae]={...re,checked:!1,isChecking:!1})},()=>{clearTimeout(T),b.value=!1}):window.$cose.getAccounts(re=>{G=!0,clearTimeout(T),g.value=re.map(Q=>({...Q,checked:!1,isChecking:!1})),b.value=!1})}async function x(){return new Promise(M=>{I(),M()})}function j(){k.value.accounts=k.value.accounts.filter(M=>M.checked),w.value=!0,p.value=!1}function ne(M){M||(p.value=!1)}function L(M){return{csdn:"https://blog.csdn.net",juejin:"https://juejin.cn",wechat:"https://mp.weixin.qq.com",zhihu:"https://www.zhihu.com/signin",toutiao:"https://mp.toutiao.com",segmentfault:"https://segmentfault.com/user/login",cnblogs:"https://account.cnblogs.com/signin",oschina:"https://www.oschina.net/home/login",cto51:"https://home.51cto.com/index",infoq:"https://account.geekbang.org/infoq/login/sms",jianshu:"https://www.jianshu.com/sign_in",baijiahao:"https://baijiahao.baidu.com",wangyihao:"https://mp.163.com/login.html",tencentcloud:"https://cloud.tencent.com/developer",medium:"https://medium.com/m/signin",sspai:"https://sspai.com/login",sohu:"https://mp.sohu.com/mpfe/v4/login",bilibili:"https://passport.bilibili.com/login",weibo:"https://passport.weibo.com/sso/signin",aliyun:"https://account.aliyun.com/login/login.htm",huaweicloud:"https://auth.huaweicloud.com/authui/login.html?service=https%3A%2F%2Fbbs.huaweicloud.com%2F&locale=zh-cn#/login",huaweidev:"https://developer.huawei.com/consumer/cn/blog/create",twitter:"https://x.com/i/flow/login",qianfan:"https://qianfan.cloud.baidu.com/qianfandev/topic/create",alipayopen:"https://open.alipay.com/portal/forum/post/add#article",modelscope:"https://modelscope.cn/learn/create",volcengine:"https://developer.volcengine.com/articles/draft",douyin:"https://creator.douyin.com/creator-micro/content/post/article?default-tab=5&enter_from=publish_page&media_type=article&type=new",xiaohongshu:"https://creator.xiaohongshu.com/publish/publish?from=menu&target=article",elecfans:"https://www.elecfans.com/d/article/md/"}[M]||"#"}function O(){if(window.$cose!==void 0){d.value=!0,x();return}let M=0;const G=setInterval(async()=>{if(window.$cose!==void 0){d.value=!0,await x(),clearInterval(G);return}M++,M>10&&clearInterval(G)},500)}return Ll(()=>{O()}),(M,G)=>{const T=Ge,re=Br,Q=gt,Z=Zt,ae=ft,se=pg,ee=fg,P=cg,ye=vt,be=Et,ie=uo,H=Gt,xe=mt,Be=pt,Oe=dg;return v(),N("div",et(tt(M.$attrs)),[t(Be,{open:e(p),"onUpdate:open":[G[5]||(G[5]=F=>_e(p)?p.value=F:null),ne]},{default:o(()=>[t(re,null,{default:o(()=>[e(u)?fe("",!0):(v(),B(T,{key:0,variant:"outline",class:"h-9"},{default:o(()=>[t(e(Ql),{class:"mr-2 h-4 w-4"}),G[7]||(G[7]=m(" 发布 ",-1))]),_:1}))]),_:1}),t(xe,{class:"!w-[750px] !max-w-[95vw] max-h-[85vh] flex flex-col overflow-hidden"},{default:o(()=>[t(ae,null,{default:o(()=>[t(Q,null,{default:o(()=>[...G[8]||(G[8]=[m("发布",-1)])]),_:1}),t(Z,null,{default:o(()=>[...G[9]||(G[9]=[m(" 将文章发布到多个平台 ",-1)])]),_:1})]),_:1}),c("div",gg,[t(ee,null,{default:o(()=>[t(e(No),{class:"h-4 w-4"}),t(se,null,{default:o(()=>[...G[10]||(G[10]=[m(" 此功能由 ",-1),c("a",{href:"https://github.com/doocs/cose",target:"_blank",class:"underline"}," GitHub 开源插件 COSE",-1),m(" 支持，完全本地运行，不收集、不存储任何用户信息。",-1),c("br",null,null,-1),m("如需添加更多平台或改善同步准确度，欢迎提 ",-1),c("a",{href:"https://github.com/doocs/cose/issues",target:"_blank",class:"underline"},"Issue",-1),m(" 或 PR。 ",-1)])]),_:1})]),_:1}),e(d)?fe("",!0):(v(),B(ee,{key:0},{default:o(()=>[t(e(No),{class:"h-4 w-4"}),t(P,null,{default:o(()=>[...G[11]||(G[11]=[m("未检测到插件",-1)])]),_:1}),t(se,null,{default:o(()=>[...G[12]||(G[12]=[m(" 请安装 ",-1),c("a",{href:"https://chromewebstore.google.com/detail/ilhikcdphhpjofhlnbojifbihhfmmhfk",target:"_blank",class:"underline text-primary"},"cose 文章同步助手",-1),m(" 浏览器扩展 ",-1)])]),_:1})]),_:1})),c("div",wg,[t(ye,{for:"thumb",class:"w-10 text-end"},{default:o(()=>[...G[13]||(G[13]=[m(" 封面 ",-1)])]),_:1}),t(be,{id:"thumb",modelValue:e(k).thumb,"onUpdate:modelValue":G[0]||(G[0]=F=>e(k).thumb=F),placeholder:"自动提取第一张图"},null,8,["modelValue"])]),c("div",vg,[t(ye,{for:"title",class:"w-10 text-end"},{default:o(()=>[...G[14]||(G[14]=[m(" 标题 ",-1)])]),_:1}),t(be,{id:"title",modelValue:e(k).title,"onUpdate:modelValue":G[1]||(G[1]=F=>e(k).title=F),placeholder:"自动提取第一个标题"},null,8,["modelValue"])]),c("div",hg,[t(ye,{for:"desc",class:"w-10 text-end"},{default:o(()=>[...G[15]||(G[15]=[m(" 描述 ",-1)])]),_:1}),t(ie,{id:"desc",modelValue:e(k).desc,"onUpdate:modelValue":G[2]||(G[2]=F=>e(k).desc=F),placeholder:"自动提取第一个段落"},null,8,["modelValue"])]),c("div",bg,[t(ye,{class:"w-10 text-end"},{default:o(()=>[...G[16]||(G[16]=[m(" 平台 ",-1)])]),_:1}),c("div",yg,[(v(!0),N(Te,null,Ne(e(f),F=>(v(),N("div",{key:F.name},[c("div",xg,[c("div",{class:"flex items-center gap-1 cursor-pointer select-none text-sm font-medium text-muted-foreground hover:text-foreground",onClick:J=>E(F.name)},[e($).has(F.name)?(v(),B(e(ko),{key:1,class:"h-4 w-4"})):(v(),B(e(bo),{key:0,class:"h-4 w-4"})),c("span",null,V(F.name),1),c("span",kg,"("+V(F.accounts.length)+")",1)],8,_g),c("div",Eg,[t(e(Aa),{checked:_(F.accounts)?!0:U(F.accounts)?"indeterminate":!1,class:"bg-background hover:bg-muted h-[18px] w-[18px] flex shrink-0 appearance-none items-center justify-center border border-gray-300 rounded-[3px] outline-hidden",onClick:Ke(J=>C(F.accounts),["stop"])},{default:o(()=>[t(e(Ga),null,{default:o(()=>[_(F.accounts)?(v(),B(e(ho),{key:0,class:"h-3 w-3"})):U(F.accounts)?(v(),B(e(Ul),{key:1,class:"h-3 w-3"})):fe("",!0)]),_:2},1024)]),_:2},1032,["checked","onClick"]),G[17]||(G[17]=c("span",{class:"text-xs text-muted-foreground"},"全选",-1))])]),dt(c("div",Cg,[(v(!0),N(Te,null,Ne(F.accounts,J=>(v(),N("div",{key:J.uid,class:"flex items-center gap-2 whitespace-nowrap"},[t(e(Aa),{checked:J.checked,"onUpdate:checked":W=>J.checked=W,disabled:!J.loggedIn,class:"bg-background hover:bg-muted h-[18px] w-[18px] flex shrink-0 appearance-none items-center justify-center border border-gray-300 rounded-[3px] outline-hidden disabled:opacity-50 disabled:cursor-not-allowed"},{default:o(()=>[t(e(Ga),null,{default:o(()=>[J.checked?(v(),B(e(ho),{key:0,class:"h-3 w-3"})):fe("",!0)]),_:2},1024)]),_:2},1032,["checked","onUpdate:checked","disabled"]),c("img",{src:J.icon,alt:"",class:"inline-block h-[16px] w-[16px] shrink-0"},null,8,Sg),c("span",$g,V(J.title),1),J.isChecking?(v(),N(Te,{key:0},[t(e(vo),{class:"ml-1 h-3.5 w-3.5 animate-spin text-muted-foreground"}),G[18]||(G[18]=c("span",{class:"text-xs text-muted-foreground"},"检测中",-1))],64)):J.loggedIn?(v(),N(Te,{key:1},[J.avatar?(v(),N("img",{key:0,src:J.avatar,alt:"",class:"ml-1 h-4 w-4 rounded-full object-cover",referrerpolicy:"no-referrer",onError:G[3]||(G[3]=W=>W.target.style.display="none")},null,40,Tg)):fe("",!0),c("span",Ag,"@"+V(J.displayName),1)],64)):(v(),B(e(Dl),{key:2,as:"a",href:L(J.type),target:"_blank",class:"ml-1 text-sm text-muted-foreground hover:underline"},{default:o(()=>[...G[19]||(G[19]=[m(" 登录 ",-1)])]),_:1},8,["href"]))]))),128))],512),[[qt,!e($).has(F.name)]])]))),128))])])]),t(H,null,{default:o(()=>[t(T,{variant:"outline",onClick:G[4]||(G[4]=F=>p.value=!1)},{default:o(()=>[...G[20]||(G[20]=[m(" 取 消 ",-1)])]),_:1}),t(T,{disabled:!e(y),onClick:j},{default:o(()=>[...G[21]||(G[21]=[m(" 确 定 ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),t(Oe,{open:e(w),"onUpdate:open":G[6]||(G[6]=F=>_e(w)?w.value=F:null),post:e(k)},null,8,["open","post"])],16)}}}),Xt=Y({__name:"MenubarMenu",props:{value:{}},setup(n){const a=n;return(l,r)=>(v(),B(e(Uu),et(tt(a)),{default:o(()=>[ge(l.$slots,"default")]),_:3},16))}}),Qt=Y({__name:"MenubarContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{default:8},align:{default:"start"},alignOffset:{default:-4},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(n){const a=n,l=he(()=>{const{class:s,...i}=a;return i}),r=lt(l);return(s,i)=>(v(),B(e(Nl),null,{default:o(()=>[t(e(Vu),te(e(r),{class:e(ke)("z-50 min-w-48 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a.class)}),{default:o(()=>[ge(s.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),eo=Y({__name:"MenubarTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(n){const a=n,l=he(()=>{const{class:s,...i}=a;return i}),r=lt(l);return(s,i)=>(v(),B(e(Hu),te(e(r),{class:e(ke)("flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-hidden hover:bg-accent focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",a.class)}),{default:o(()=>[ge(s.$slots,"default")]),_:3},16,["class"]))}}),Lg=Y({__name:"Menubar",props:{modelValue:{},defaultValue:{},dir:{},loop:{type:Boolean},class:{}},emits:["update:modelValue"],setup(n,{emit:a}){const l=n,r=a,s=he(()=>{const{class:u,...p}=l;return p}),i=je(s,r);return(u,p)=>(v(),B(e(zu),te(e(i),{class:e(ke)("flex h-10 items-center gap-x-1 rounded-md border bg-background p-1",l.class)}),{default:o(()=>[ge(u.$slots,"default")]),_:3},16,["class"]))}}),to=Y({__name:"MenubarSub",props:{defaultOpen:{type:Boolean},open:{type:Boolean}},emits:["update:open"],setup(n,{emit:a}){const s=je(n,a);return(i,u)=>(v(),B(e(Fu),et(tt(e(s))),{default:o(()=>[ge(i.$slots,"default")]),_:3},16))}}),oo=Y({__name:"MenubarSubContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},sideOffset:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(n,{emit:a}){const l=n,r=a,s=he(()=>{const{class:u,...p}=l;return p}),i=je(s,r);return(u,p)=>(v(),B(e(Nl),null,{default:o(()=>[t(e(qu),te(e(i),{class:e(ke)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",l.class)}),{default:o(()=>[ge(u.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),zo=Y({__name:"MenubarSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const a=n,l=he(()=>{const{class:s,...i}=a;return i}),r=lt(l);return(s,i)=>(v(),B(e(Ku),te({class:e(ke)("-mx-1 my-1 h-px bg-muted",a.class)},e(r)),null,16,["class"]))}}),Ao=Y({__name:"MenubarItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},emits:["select"],setup(n,{emit:a}){const l=n,r=a,s=he(()=>{const{class:u,...p}=l;return p}),i=je(s,r);return(u,p)=>(v(),B(e(ju),te(e(i),{class:e(ke)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",n.inset&&"pl-8",l.class)}),{default:o(()=>[ge(u.$slots,"default")]),_:3},16,["class"]))}}),Hr=Y({__name:"MenubarShortcut",props:{class:{}},setup(n){const a=n;return(l,r)=>(v(),N("span",{class:we(e(ke)("ml-auto text-xs tracking-widest text-muted-foreground",a.class))},[ge(l.$slots,"default")],2))}}),no=Y({__name:"MenubarSubTrigger",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(n){const a=n,l=he(()=>{const{class:s,...i}=a;return i}),r=lt(l);return(s,i)=>(v(),B(e(Wu),te(e(r),{class:e(ke)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",n.inset&&"pl-8",a.class)}),{default:o(()=>[ge(s.$slots,"default"),t(e(ko),{class:"ml-auto h-4 w-4"})]),_:3},16,["class"]))}}),Rg={class:"mx-1 bg-gray-2 dark:bg-stone-9"},Ig={class:"mx-1 bg-gray-2 dark:bg-stone-9"},Bg={class:"mx-1 bg-gray-2 dark:bg-stone-9"},Dg={class:"mx-1 bg-gray-2 dark:bg-stone-9"},Ng={class:"mx-1 bg-gray-2 dark:bg-stone-9"},Og={class:"mx-1 bg-gray-2 dark:bg-stone-9"},Pg={class:"mx-1 bg-gray-2 dark:bg-stone-9"},Mg={class:"mx-1 bg-gray-2 dark:bg-stone-9"},Ug={class:"mx-1 bg-gray-2 dark:bg-stone-9"},Vg={class:"mx-1 bg-gray-2 dark:bg-stone-9"},Hg={class:"mx-1 bg-gray-2 dark:bg-stone-9"},zg={class:"mx-1 bg-gray-2 dark:bg-stone-9"},Fg={class:"mx-1 bg-gray-2 dark:bg-stone-9"},qg={class:"mx-1 bg-gray-2 dark:bg-stone-9"},Kg={class:"mx-1 bg-gray-2 dark:bg-stone-9"},jg={class:"mx-1 bg-gray-2 dark:bg-stone-9"},dl=Y({__name:"EditDropdown",props:{asSub:{type:Boolean,default:!1}},emits:["copy"],setup(n,{emit:a}){const l=n,r=a,{asSub:s}=co(l),i=ot(),u=Ht(),p=Fe(),{editor:d}=Re(i);async function g(){const E=await i.formatContent();E&&u.currentPost&&u.updatePostContent(u.currentPostId,E)}async function w(){const E=i.getSelection();To(E)}async function b(){try{const E=await navigator.clipboard.readText();i.replaceSelection(E)}catch(E){console.log("粘贴失败",E)}}function k(){if(d.value)try{const E=go(d.value);Sr(E),E.focus()}catch(E){console.error("Undo failed:",E)}}function y(){if(d.value)try{const E=go(d.value);$r(E),E.focus()}catch(E){console.error("Redo failed:",E)}}function h(){if(d.value){const E=d.value.state.selection.main,f=d.value.state.doc.sliceString(E.from,E.to).trim();p.openSearchTab(f)}}function $(){if(d.value){const E=d.value.state.selection.main,f=d.value.state.doc.sliceString(E.from,E.to).trim();p.openSearchTab(f,!0)}}return(E,f)=>{const _=no,U=Hr,C=Ao,R=zo,A=oo,I=to,x=eo,j=Qt,ne=Xt;return e(s)?(v(),B(I,{key:0},{default:o(()=>[t(_,null,{default:o(()=>[...f[24]||(f[24]=[m(" 编辑 ",-1)])]),_:1}),t(A,{class:"w-64"},{default:o(()=>[t(C,{onClick:f[0]||(f[0]=L=>k())},{default:o(()=>[t(e(Ra),{class:"mr-2 h-4 w-4"}),f[26]||(f[26]=m(" 撤销 ",-1)),t(U,null,{default:o(()=>[c("kbd",Rg,V(e(Ue)),1),f[25]||(f[25]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"Z",-1))]),_:1})]),_:1}),t(C,{onClick:f[1]||(f[1]=L=>y())},{default:o(()=>[t(e(Ia),{class:"mr-2 h-4 w-4"}),f[28]||(f[28]=m(" 重做 ",-1)),t(U,null,{default:o(()=>[c("kbd",Ig,V(e(Ue)),1),f[27]||(f[27]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"Y",-1))]),_:1})]),_:1}),t(R),t(I,null,{default:o(()=>[t(_,null,{default:o(()=>[t(e(io),{class:"mr-2 h-4 w-4"}),f[29]||(f[29]=m(" 复制 ",-1))]),_:1}),t(A,null,{default:o(()=>[t(C,{onClick:f[2]||(f[2]=L=>r("copy","txt"))},{default:o(()=>[...f[30]||(f[30]=[m(" 公众号格式 ",-1)])]),_:1}),t(C,{onClick:f[3]||(f[3]=L=>r("copy","html"))},{default:o(()=>[...f[31]||(f[31]=[m(" HTML 格式 ",-1)])]),_:1}),t(C,{onClick:f[4]||(f[4]=L=>r("copy","html-without-style"))},{default:o(()=>[...f[32]||(f[32]=[m(" HTML 格式（无样式） ",-1)])]),_:1}),t(C,{onClick:f[5]||(f[5]=L=>r("copy","html-and-style"))},{default:o(()=>[...f[33]||(f[33]=[m(" HTML 格式（兼容样式） ",-1)])]),_:1}),t(C,{onClick:f[6]||(f[6]=L=>r("copy","md"))},{default:o(()=>[...f[34]||(f[34]=[m(" MD 格式 ",-1)])]),_:1}),t(R),t(C,{onClick:f[7]||(f[7]=L=>w())},{default:o(()=>[f[36]||(f[36]=m(" 复制选中内容 ",-1)),t(U,null,{default:o(()=>[c("kbd",Bg,V(e(Ue)),1),f[35]||(f[35]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"C",-1))]),_:1})]),_:1})]),_:1})]),_:1}),t(C,{onClick:f[8]||(f[8]=L=>b())},{default:o(()=>[t(e(Wn),{class:"mr-2 h-4 w-4"}),f[38]||(f[38]=m(" 粘贴 ",-1)),t(U,null,{default:o(()=>[c("kbd",Dg,V(e(Ue)),1),f[37]||(f[37]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"V",-1))]),_:1})]),_:1}),t(R),t(C,{onClick:f[9]||(f[9]=L=>g())},{default:o(()=>[t(e(so),{class:"mr-2 h-4 w-4"}),f[40]||(f[40]=m(" 格式化文档 ",-1)),t(U,null,{default:o(()=>[c("kbd",Ng,V(e(Xn)),1),c("kbd",Og,V(e(Qn)),1),f[39]||(f[39]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"F",-1))]),_:1})]),_:1}),t(R),t(C,{onClick:f[10]||(f[10]=L=>h())},{default:o(()=>[t(e(On),{class:"mr-2 h-4 w-4"}),f[42]||(f[42]=m(" 查找 ",-1)),t(U,null,{default:o(()=>[c("kbd",Pg,V(e(Ue)),1),f[41]||(f[41]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"F",-1))]),_:1})]),_:1}),t(C,{onClick:f[11]||(f[11]=L=>$())},{default:o(()=>[t(e(Yn),{class:"mr-2 h-4 w-4"}),f[44]||(f[44]=m(" 替换 ",-1)),t(U,null,{default:o(()=>[c("kbd",Mg,V(e(Ue)),1),f[43]||(f[43]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"H",-1))]),_:1})]),_:1})]),_:1})]),_:1})):(v(),B(ne,{key:1},{default:o(()=>[t(x,null,{default:o(()=>[...f[45]||(f[45]=[m(" 编辑 ",-1)])]),_:1}),t(j,{class:"w-64",align:"start"},{default:o(()=>[t(C,{onClick:f[12]||(f[12]=L=>k())},{default:o(()=>[t(e(Ra),{class:"mr-2 h-4 w-4"}),f[47]||(f[47]=m(" 撤销 ",-1)),t(U,null,{default:o(()=>[c("kbd",Ug,V(e(Ue)),1),f[46]||(f[46]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"Z",-1))]),_:1})]),_:1}),t(C,{onClick:f[13]||(f[13]=L=>y())},{default:o(()=>[t(e(Ia),{class:"mr-2 h-4 w-4"}),f[49]||(f[49]=m(" 重做 ",-1)),t(U,null,{default:o(()=>[c("kbd",Vg,V(e(Ue)),1),f[48]||(f[48]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"Y",-1))]),_:1})]),_:1}),t(R),t(I,null,{default:o(()=>[t(_,null,{default:o(()=>[t(e(io),{class:"mr-2 h-4 w-4"}),f[50]||(f[50]=m(" 复制 ",-1))]),_:1}),t(A,null,{default:o(()=>[t(C,{onClick:f[14]||(f[14]=L=>r("copy","txt"))},{default:o(()=>[...f[51]||(f[51]=[m(" 公众号格式 ",-1)])]),_:1}),t(C,{onClick:f[15]||(f[15]=L=>r("copy","html"))},{default:o(()=>[...f[52]||(f[52]=[m(" HTML 格式 ",-1)])]),_:1}),t(C,{onClick:f[16]||(f[16]=L=>r("copy","html-without-style"))},{default:o(()=>[...f[53]||(f[53]=[m(" HTML 格式（无样式） ",-1)])]),_:1}),t(C,{onClick:f[17]||(f[17]=L=>r("copy","html-and-style"))},{default:o(()=>[...f[54]||(f[54]=[m(" HTML 格式（兼容样式） ",-1)])]),_:1}),t(C,{onClick:f[18]||(f[18]=L=>r("copy","md"))},{default:o(()=>[...f[55]||(f[55]=[m(" MD 格式 ",-1)])]),_:1}),t(R),t(C,{onClick:f[19]||(f[19]=L=>w())},{default:o(()=>[f[57]||(f[57]=m(" 复制选中内容 ",-1)),t(U,null,{default:o(()=>[c("kbd",Hg,V(e(Ue)),1),f[56]||(f[56]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"C",-1))]),_:1})]),_:1})]),_:1})]),_:1}),t(C,{onClick:f[20]||(f[20]=L=>b())},{default:o(()=>[t(e(Wn),{class:"mr-2 h-4 w-4"}),f[59]||(f[59]=m(" 粘贴 ",-1)),t(U,null,{default:o(()=>[c("kbd",zg,V(e(Ue)),1),f[58]||(f[58]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"V",-1))]),_:1})]),_:1}),t(R),t(C,{onClick:f[21]||(f[21]=L=>g())},{default:o(()=>[t(e(so),{class:"mr-2 h-4 w-4"}),f[61]||(f[61]=m(" 格式化文档 ",-1)),t(U,null,{default:o(()=>[c("kbd",Fg,V(e(Xn)),1),c("kbd",qg,V(e(Qn)),1),f[60]||(f[60]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"F",-1))]),_:1})]),_:1}),t(R),t(C,{onClick:f[22]||(f[22]=L=>h())},{default:o(()=>[t(e(On),{class:"mr-2 h-4 w-4"}),f[63]||(f[63]=m(" 查找 ",-1)),t(U,null,{default:o(()=>[c("kbd",Kg,V(e(Ue)),1),f[62]||(f[62]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"F",-1))]),_:1})]),_:1}),t(C,{onClick:f[23]||(f[23]=L=>$())},{default:o(()=>[t(e(Yn),{class:"mr-2 h-4 w-4"}),f[65]||(f[65]=m(" 替换 ",-1)),t(U,null,{default:o(()=>[c("kbd",jg,V(e(Ue)),1),f[64]||(f[64]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"H",-1))]),_:1})]),_:1})]),_:1})]),_:1}))}}}),cl=Y({__name:"FileDropdown",props:{asSub:{type:Boolean,default:!1}},emits:["openEditorState"],setup(n,{emit:a}){const l=n,r=a,{asSub:s}=co(l),i=ot(),u=ha(),p=Fe(),{isOpenPostSlider:d,isOpenFolderPanel:g}=Re(p),{toggleShowTemplateDialog:w,toggleShowImportMdDialog:b}=p;function k(){r("openEditorState")}function y(){w(!0)}function h(){u.exportEditorContent2HTML()}function $(){u.exportEditorContent2PureHTML(i.getContent())}function E(){u.exportEditorContent2MD(i.getContent())}function f(){u.downloadAsCardImage()}function _(){u.exportEditorContent2PDF()}return(U,C)=>{const R=no,A=Ao,I=zo,x=oo,j=to,ne=eo,L=Qt,O=Xt;return e(s)?(v(),B(j,{key:0},{default:o(()=>[t(R,null,{default:o(()=>[...C[20]||(C[20]=[m(" 文件 ",-1)])]),_:1}),t(x,{class:"w-56"},{default:o(()=>[t(A,{onClick:C[0]||(C[0]=M=>g.value=!e(g))},{default:o(()=>[t(e(Oo),{class:"mr-2 size-4"}),C[21]||(C[21]=m(" 本地文件夹 ",-1))]),_:1}),t(I),t(j,null,{default:o(()=>[t(R,null,{default:o(()=>[t(e(Un),{class:"mr-2 size-4"}),C[22]||(C[22]=m(" 导入 ",-1))]),_:1}),t(x,{class:"w-56"},{default:o(()=>[t(A,{onClick:C[1]||(C[1]=M=>e(b)(!0))},{default:o(()=>[t(e(Rt),{class:"mr-2 size-4"}),C[23]||(C[23]=m(" 导入 Markdown ",-1))]),_:1})]),_:1})]),_:1}),t(j,null,{default:o(()=>[t(R,null,{default:o(()=>[t(e(fo),{class:"mr-2 size-4"}),C[24]||(C[24]=m(" 导出 ",-1))]),_:1}),t(x,{class:"w-56"},{default:o(()=>[t(A,{onClick:C[2]||(C[2]=M=>E())},{default:o(()=>[t(e(Rt),{class:"mr-2 size-4"}),C[25]||(C[25]=m(" Markdown 文件 ",-1))]),_:1}),t(I),t(A,{onClick:C[3]||(C[3]=M=>h())},{default:o(()=>[t(e(Pt),{class:"mr-2 size-4"}),C[26]||(C[26]=m(" HTML 文件 ",-1))]),_:1}),t(A,{onClick:C[4]||(C[4]=M=>$())},{default:o(()=>[t(e(Pt),{class:"mr-2 size-4"}),C[27]||(C[27]=m(" HTML（无样式） ",-1))]),_:1}),t(I),t(A,{onClick:C[5]||(C[5]=M=>_())},{default:o(()=>[t(e(Rt),{class:"mr-2 size-4"}),C[28]||(C[28]=m(" PDF 文档 ",-1))]),_:1}),t(A,{onClick:C[6]||(C[6]=M=>f())},{default:o(()=>[t(e(fo),{class:"mr-2 size-4"}),C[29]||(C[29]=m(" PNG 图片 ",-1))]),_:1})]),_:1})]),_:1}),t(I),t(A,{onClick:C[7]||(C[7]=M=>y())},{default:o(()=>[t(e(Bo),{class:"mr-2 size-4"}),C[30]||(C[30]=m(" 模板管理 ",-1))]),_:1}),t(A,{onClick:C[8]||(C[8]=M=>d.value=!e(d))},{default:o(()=>[t(e(Ba),{class:"mr-2 size-4"}),C[31]||(C[31]=m(" 内容管理 ",-1))]),_:1}),t(I),t(A,{onClick:C[9]||(C[9]=M=>k())},{default:o(()=>[t(e(Da),{class:"mr-2 size-4"}),C[32]||(C[32]=m(" 项目配置 ",-1))]),_:1})]),_:1})]),_:1})):(v(),B(O,{key:1},{default:o(()=>[t(ne,null,{default:o(()=>[...C[33]||(C[33]=[m(" 文件 ",-1)])]),_:1}),t(L,{class:"w-56",align:"start"},{default:o(()=>[t(A,{onClick:C[10]||(C[10]=M=>g.value=!e(g))},{default:o(()=>[t(e(Oo),{class:"mr-2 size-4"}),C[34]||(C[34]=m(" 本地文件夹 ",-1))]),_:1}),t(I),t(j,null,{default:o(()=>[t(R,null,{default:o(()=>[t(e(Un),{class:"mr-2 size-4"}),C[35]||(C[35]=m(" 导入 ",-1))]),_:1}),t(x,{class:"w-56"},{default:o(()=>[t(A,{onClick:C[11]||(C[11]=M=>e(b)(!0))},{default:o(()=>[t(e(Rt),{class:"mr-2 size-4"}),C[36]||(C[36]=m(" 导入 Markdown ",-1))]),_:1})]),_:1})]),_:1}),t(j,null,{default:o(()=>[t(R,null,{default:o(()=>[t(e(fo),{class:"mr-2 size-4"}),C[37]||(C[37]=m(" 导出 ",-1))]),_:1}),t(x,{class:"w-56"},{default:o(()=>[t(A,{onClick:C[12]||(C[12]=M=>E())},{default:o(()=>[t(e(Rt),{class:"mr-2 size-4"}),C[38]||(C[38]=m(" Markdown 文件 ",-1))]),_:1}),t(I),t(A,{onClick:C[13]||(C[13]=M=>h())},{default:o(()=>[t(e(Pt),{class:"mr-2 size-4"}),C[39]||(C[39]=m(" HTML 文件 ",-1))]),_:1}),t(A,{onClick:C[14]||(C[14]=M=>$())},{default:o(()=>[t(e(Pt),{class:"mr-2 size-4"}),C[40]||(C[40]=m(" HTML（无样式） ",-1))]),_:1}),t(I),t(A,{onClick:C[15]||(C[15]=M=>_())},{default:o(()=>[t(e(Rt),{class:"mr-2 size-4"}),C[41]||(C[41]=m(" PDF 文档 ",-1))]),_:1}),t(A,{onClick:C[16]||(C[16]=M=>f())},{default:o(()=>[t(e(fo),{class:"mr-2 size-4"}),C[42]||(C[42]=m(" PNG 图片 ",-1))]),_:1})]),_:1})]),_:1}),t(I),t(A,{onClick:C[17]||(C[17]=M=>y())},{default:o(()=>[t(e(Bo),{class:"mr-2 size-4"}),C[43]||(C[43]=m(" 模板管理 ",-1))]),_:1}),t(A,{onClick:C[18]||(C[18]=M=>d.value=!e(d))},{default:o(()=>[t(e(Ba),{class:"mr-2 size-4"}),C[44]||(C[44]=m(" 内容管理 ",-1))]),_:1}),t(I),t(A,{onClick:C[19]||(C[19]=M=>k())},{default:o(()=>[t(e(Da),{class:"mr-2 size-4"}),C[45]||(C[45]=m(" 项目配置 ",-1))]),_:1})]),_:1})]),_:1}))}}}),zr=Y({__name:"HoverCard",props:{defaultOpen:{type:Boolean},open:{type:Boolean},openDelay:{},closeDelay:{}},emits:["update:open"],setup(n,{emit:a}){const s=je(n,a);return(i,u)=>(v(),B(e(Yu),et(tt(e(s))),{default:o(()=>[ge(i.$slots,"default")]),_:3},16))}}),Fr=Y({__name:"HoverCardContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(n){const a=n,l=he(()=>{const{class:s,...i}=a;return i}),r=lt(l);return(s,i)=>(v(),B(e(Zu),null,{default:o(()=>[t(e(Ju),te(e(r),{class:e(ke)("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-hidden data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a.class)}),{default:o(()=>[ge(s.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),qr=Y({__name:"HoverCardTrigger",props:{asChild:{type:Boolean},as:{}},setup(n){const a=n;return(l,r)=>(v(),B(e(Xu),et(tt(a)),{default:o(()=>[ge(l.$slots,"default")]),_:3},16))}}),Wg={class:"mx-1 bg-gray-2 dark:bg-stone-9"},Yg={class:"mx-1 bg-gray-2 dark:bg-stone-9"},Jg={class:"mx-1 bg-gray-2 dark:bg-stone-9"},Zg={class:"mx-1 bg-gray-2 dark:bg-stone-9"},Xg={class:"mx-1 bg-gray-2 dark:bg-stone-9"},Qg={class:"mx-1 bg-gray-2 dark:bg-stone-9"},ew={class:"mx-1 bg-gray-2 dark:bg-stone-9"},tw={class:"mx-1 bg-gray-2 dark:bg-stone-9"},ow={class:"mx-1 bg-gray-2 dark:bg-stone-9"},nw={class:"mx-1 bg-gray-2 dark:bg-stone-9"},aw={class:"mx-1 bg-gray-2 dark:bg-stone-9"},lw={class:"mx-1 bg-gray-2 dark:bg-stone-9"},rw={class:"mx-1 bg-gray-2 dark:bg-stone-9"},sw={class:"mx-1 bg-gray-2 dark:bg-stone-9"},iw={class:"mx-1 bg-gray-2 dark:bg-stone-9"},uw={class:"mx-1 bg-gray-2 dark:bg-stone-9"},dw={class:"mx-1 bg-gray-2 dark:bg-stone-9"},cw={class:"mx-1 bg-gray-2 dark:bg-stone-9"},pl=Y({__name:"FormatDropdown",props:{asSub:{type:Boolean,default:!1}},setup(n){const a=n,{asSub:l}=co(a),r=ot(),s=jt(),i=At(),u=Fe(),{editor:p}=Re(r),{addFormat:d}=Rr(p);function g(){s.updateCodeTheme();const f=r.getContent();i.render(f)}function w(){s.isCiteStatus=!s.isCiteStatus,g()}function b(){s.isCountStatus=!s.isCountStatus,g()}const k=Yt("pickColorsContainer"),y=Qo({format:"rgb",formatOptions:["rgb"],textColor:"rgba(0, 0, 0, 1)"}),h=[Io,Fl,ql,Kl,jl,Wl],$=cr.map((f,_)=>({...f,icon:h[_]}));function E(f){y.textColor=f;const _=p.value;p.value&&x1(_,f)}return(f,_)=>{const U=no,C=Hr,R=Ao,A=qr,I=Fr,x=zr,j=zo,ne=oo,L=to,O=eo,M=Qt,G=Xt;return e(l)?(v(),B(L,{key:0},{default:o(()=>[t(U,null,{default:o(()=>[..._[21]||(_[21]=[m(" 格式 ",-1)])]),_:1}),t(ne,{class:"w-64"},{default:o(()=>[t(R,{onClick:_[0]||(_[0]=T=>e(d)(`${e(Ve)}-B`))},{default:o(()=>[t(e(Hn),{class:"mr-2 h-4 w-4"}),_[23]||(_[23]=m(" 加粗 ",-1)),t(C,null,{default:o(()=>[c("kbd",Wg,V(e(Ue)),1),_[22]||(_[22]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"B",-1))]),_:1})]),_:1}),t(R,{onClick:_[1]||(_[1]=T=>e(d)(`${e(Ve)}-I`))},{default:o(()=>[t(e(zn),{class:"mr-2 h-4 w-4"}),_[25]||(_[25]=m(" 斜体 ",-1)),t(C,null,{default:o(()=>[c("kbd",Yg,V(e(Ue)),1),_[24]||(_[24]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"I",-1))]),_:1})]),_:1}),t(R,{onClick:_[2]||(_[2]=T=>e(d)(`${e(Ve)}-D`))},{default:o(()=>[t(e(Fn),{class:"mr-2 h-4 w-4"}),_[27]||(_[27]=m(" 删除线 ",-1)),t(C,null,{default:o(()=>[c("kbd",Jg,V(e(Ue)),1),_[26]||(_[26]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"D",-1))]),_:1})]),_:1}),t(R,{onClick:_[3]||(_[3]=T=>e(d)(`${e(Ve)}-K`))},{default:o(()=>[t(e(qn),{class:"mr-2 h-4 w-4"}),_[29]||(_[29]=m(" 超链接 ",-1)),t(C,null,{default:o(()=>[c("kbd",Zg,V(e(Ue)),1),_[28]||(_[28]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"K",-1))]),_:1})]),_:1}),t(R,{onClick:_[4]||(_[4]=T=>e(d)(`${e(Ve)}-E`))},{default:o(()=>[t(e(nn),{class:"mr-2 h-4 w-4"}),_[31]||(_[31]=m(" 行内代码 ",-1)),t(C,null,{default:o(()=>[c("kbd",Xg,V(e(Ue)),1),_[30]||(_[30]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"E",-1))]),_:1})]),_:1}),t(x,{"open-delay":100},{default:o(()=>[t(A,{"as-child":""},{default:o(()=>[t(R,{onClick:_[5]||(_[5]=Ke(()=>{},["prevent"]))},{default:o(()=>[t(e(Na),{class:"mr-2 h-4 w-4"}),_[32]||(_[32]=m(" 文字颜色 ",-1))]),_:1})]),_:1}),t(I,{side:"right",class:"w-min"},{default:o(()=>[c("div",{ref_key:"pickColorsContainer",ref:k},[t(e(Mo),{value:e(y).textColor,"show-alpha":"",format:e(y).format,"format-options":e(y).formatOptions,theme:e(u).isDark?"dark":"light","popup-container":e(k),onChange:E},null,8,["value","format","format-options","theme","popup-container"])],512)]),_:1})]),_:1}),t(j),t(L,null,{default:o(()=>[t(U,null,{default:o(()=>[t(e(Io),{class:"mr-2 h-4 w-4"}),_[33]||(_[33]=m(" 标题 ",-1))]),_:1}),t(ne,{class:"w-48"},{default:o(()=>[(v(!0),N(Te,null,Ne(e($),({level:T,icon:re,label:Q})=>(v(),B(R,{key:T,onClick:Z=>e(d)(`${e(Ve)}-${T}`)},{default:o(()=>[(v(),B($t(re),{class:"mr-2 h-4 w-4"})),m(" "+V(Q)+" ",1),t(C,null,{default:o(()=>[c("kbd",Qg,V(e(Ue)),1),c("kbd",ew,V(T),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),t(R,{onClick:_[6]||(_[6]=T=>e(d)(`${e(Ve)}-U`))},{default:o(()=>[t(e(on),{class:"mr-2 h-4 w-4"}),_[35]||(_[35]=m(" 无序列表 ",-1)),t(C,null,{default:o(()=>[c("kbd",tw,V(e(Ue)),1),_[34]||(_[34]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"U",-1))]),_:1})]),_:1}),t(R,{onClick:_[7]||(_[7]=T=>e(d)(`${e(Ve)}-O`))},{default:o(()=>[t(e(Kn),{class:"mr-2 h-4 w-4"}),_[37]||(_[37]=m(" 有序列表 ",-1)),t(C,null,{default:o(()=>[c("kbd",ow,V(e(Ue)),1),_[36]||(_[36]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"O",-1))]),_:1})]),_:1}),t(j),t(R,{onClick:_[8]||(_[8]=T=>w())},{default:o(()=>[t(e(Oa),{class:"mr-2 h-4 w-4"}),_[38]||(_[38]=m(" 微信外链转引用 ",-1))]),_:1}),t(R,{onClick:_[9]||(_[9]=T=>b())},{default:o(()=>[t(e(Pn),{class:"mr-2 h-4 w-4"}),_[39]||(_[39]=m(" 统计字数时间 ",-1))]),_:1})]),_:1})]),_:1})):(v(),B(G,{key:1},{default:o(()=>[t(O,null,{default:o(()=>[..._[40]||(_[40]=[m(" 格式 ",-1)])]),_:1}),t(M,{class:"w-64",align:"start"},{default:o(()=>[t(R,{onClick:_[10]||(_[10]=T=>e(d)(`${e(Ve)}-B`))},{default:o(()=>[t(e(Hn),{class:"mr-2 h-4 w-4"}),_[42]||(_[42]=m(" 加粗 ",-1)),t(C,null,{default:o(()=>[c("kbd",nw,V(e(Ue)),1),_[41]||(_[41]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"B",-1))]),_:1})]),_:1}),t(R,{onClick:_[11]||(_[11]=T=>e(d)(`${e(Ve)}-I`))},{default:o(()=>[t(e(zn),{class:"mr-2 h-4 w-4"}),_[44]||(_[44]=m(" 斜体 ",-1)),t(C,null,{default:o(()=>[c("kbd",aw,V(e(Ue)),1),_[43]||(_[43]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"I",-1))]),_:1})]),_:1}),t(R,{onClick:_[12]||(_[12]=T=>e(d)(`${e(Ve)}-D`))},{default:o(()=>[t(e(Fn),{class:"mr-2 h-4 w-4"}),_[46]||(_[46]=m(" 删除线 ",-1)),t(C,null,{default:o(()=>[c("kbd",lw,V(e(Ue)),1),_[45]||(_[45]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"D",-1))]),_:1})]),_:1}),t(R,{onClick:_[13]||(_[13]=T=>e(d)(`${e(Ve)}-K`))},{default:o(()=>[t(e(qn),{class:"mr-2 h-4 w-4"}),_[48]||(_[48]=m(" 超链接 ",-1)),t(C,null,{default:o(()=>[c("kbd",rw,V(e(Ue)),1),_[47]||(_[47]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"K",-1))]),_:1})]),_:1}),t(R,{onClick:_[14]||(_[14]=T=>e(d)(`${e(Ve)}-E`))},{default:o(()=>[t(e(nn),{class:"mr-2 h-4 w-4"}),_[50]||(_[50]=m(" 行内代码 ",-1)),t(C,null,{default:o(()=>[c("kbd",sw,V(e(Ue)),1),_[49]||(_[49]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"E",-1))]),_:1})]),_:1}),t(x,{"open-delay":100},{default:o(()=>[t(A,{"as-child":""},{default:o(()=>[t(R,{onClick:_[15]||(_[15]=Ke(()=>{},["prevent"]))},{default:o(()=>[t(e(Na),{class:"mr-2 h-4 w-4"}),_[51]||(_[51]=m(" 文字颜色 ",-1))]),_:1})]),_:1}),t(I,{side:"right",class:"w-min"},{default:o(()=>[c("div",{ref_key:"pickColorsContainer",ref:k},[t(e(Mo),{value:e(y).textColor,"onUpdate:value":_[16]||(_[16]=T=>e(y).textColor=T),"show-alpha":"",format:e(y).format,"format-options":e(y).formatOptions,theme:e(u).isDark?"dark":"light","popup-container":e(k),onChange:E},null,8,["value","format","format-options","theme","popup-container"])],512)]),_:1})]),_:1}),t(j),t(L,null,{default:o(()=>[t(U,null,{default:o(()=>[t(e(Io),{class:"mr-2 h-4 w-4"}),_[52]||(_[52]=m(" 标题 ",-1))]),_:1}),t(ne,{class:"w-48"},{default:o(()=>[(v(!0),N(Te,null,Ne(e($),({level:T,icon:re,label:Q})=>(v(),B(R,{key:T,onClick:Z=>e(d)(`${e(Ve)}-${T}`)},{default:o(()=>[(v(),B($t(re),{class:"mr-2 h-4 w-4"})),m(" "+V(Q)+" ",1),t(C,null,{default:o(()=>[c("kbd",iw,V(e(Ue)),1),c("kbd",uw,V(T),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),t(R,{onClick:_[17]||(_[17]=T=>e(d)(`${e(Ve)}-U`))},{default:o(()=>[t(e(on),{class:"mr-2 h-4 w-4"}),_[54]||(_[54]=m(" 无序列表 ",-1)),t(C,null,{default:o(()=>[c("kbd",dw,V(e(Ue)),1),_[53]||(_[53]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"U",-1))]),_:1})]),_:1}),t(R,{onClick:_[18]||(_[18]=T=>e(d)(`${e(Ve)}-O`))},{default:o(()=>[t(e(Kn),{class:"mr-2 h-4 w-4"}),_[56]||(_[56]=m(" 有序列表 ",-1)),t(C,null,{default:o(()=>[c("kbd",cw,V(e(Ue)),1),_[55]||(_[55]=c("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"O",-1))]),_:1})]),_:1}),t(j),t(R,{onClick:_[19]||(_[19]=T=>w())},{default:o(()=>[t(e(Oa),{class:"mr-2 h-4 w-4"}),_[57]||(_[57]=m(" 微信外链转引用 ",-1))]),_:1}),t(R,{onClick:_[20]||(_[20]=T=>b())},{default:o(()=>[t(e(Pn),{class:"mr-2 h-4 w-4"}),_[58]||(_[58]=m(" 统计字数时间 ",-1))]),_:1})]),_:1})]),_:1}))}}}),ml=Y({__name:"HelpDropdown",props:{asSub:{type:Boolean,default:!1}},emits:["openAbout","openFund"],setup(n,{emit:a}){const l=n,r=a,{asSub:s}=co(l);function i(){r("openAbout")}function u(){r("openFund")}function p(){window.open("https://github.com/doocs/md/issues","_blank")}function d(){window.open("https://github.com/doocs/md/releases","_blank")}return(g,w)=>{const b=no,k=Ao,y=oo,h=to,$=eo,E=Qt,f=Xt;return e(s)?(v(),B(h,{key:0},{default:o(()=>[t(b,null,{default:o(()=>[...w[8]||(w[8]=[m(" 帮助 ",-1)])]),_:1}),t(y,{align:"start"},{default:o(()=>[t(k,{onClick:w[0]||(w[0]=_=>p())},{default:o(()=>[t(e(Pa),{class:"mr-2 h-4 w-4"}),w[9]||(w[9]=m(" 反馈 ",-1))]),_:1}),t(k,{onClick:w[1]||(w[1]=_=>d())},{default:o(()=>[t(e(Ma),{class:"mr-2 h-4 w-4"}),w[10]||(w[10]=m(" 版本历史 ",-1))]),_:1}),t(k,{onClick:w[2]||(w[2]=_=>i())},{default:o(()=>[t(e(Ua),{class:"mr-2 h-4 w-4"}),w[11]||(w[11]=m(" 关于 ",-1))]),_:1}),t(k,{onClick:w[3]||(w[3]=_=>u())},{default:o(()=>[t(e(Va),{class:"mr-2 h-4 w-4"}),w[12]||(w[12]=m(" 赞赏 ",-1))]),_:1})]),_:1})]),_:1})):(v(),B(f,{key:1},{default:o(()=>[t($,null,{default:o(()=>[...w[13]||(w[13]=[m("帮助",-1)])]),_:1}),t(E,{align:"start"},{default:o(()=>[t(k,{onClick:w[4]||(w[4]=_=>p())},{default:o(()=>[t(e(Pa),{class:"mr-2 h-4 w-4"}),w[14]||(w[14]=m(" 反馈 ",-1))]),_:1}),t(k,{onClick:w[5]||(w[5]=_=>d())},{default:o(()=>[t(e(Ma),{class:"mr-2 h-4 w-4"}),w[15]||(w[15]=m(" 版本历史 ",-1))]),_:1}),t(k,{onClick:w[6]||(w[6]=_=>i())},{default:o(()=>[t(e(Ua),{class:"mr-2 h-4 w-4"}),w[16]||(w[16]=m(" 关于 ",-1))]),_:1}),t(k,{onClick:w[7]||(w[7]=_=>u())},{default:o(()=>[t(e(Va),{class:"mr-2 h-4 w-4"}),w[17]||(w[17]=m(" 赞赏 ",-1))]),_:1})]),_:1})]),_:1}))}}}),fl=Y({__name:"InsertDropdown",props:{asSub:{type:Boolean,default:!1}},setup(n){const a=n,{asSub:l}=co(a),r=Fe(),{toggleShowInsertFormDialog:s,toggleShowUploadImgDialog:i,toggleShowInsertMpCardDialog:u}=r;return(p,d)=>{const g=no,w=Ao,b=oo,k=to,y=eo,h=Qt,$=Xt;return e(l)?(v(),B(k,{key:0},{default:o(()=>[t(g,null,{default:o(()=>[...d[6]||(d[6]=[m(" 插入 ",-1)])]),_:1}),t(b,{class:"w-52"},{default:o(()=>[t(w,{onClick:d[0]||(d[0]=E=>e(i)())},{default:o(()=>[t(e(Ut),{class:"mr-2 h-4 w-4"}),d[7]||(d[7]=m(" 插入图片 ",-1))]),_:1}),t(w,{onClick:d[1]||(d[1]=E=>e(s)())},{default:o(()=>[t(e(Vn),{class:"mr-2 h-4 w-4"}),d[8]||(d[8]=m(" 插入表格 ",-1))]),_:1}),t(w,{onClick:d[2]||(d[2]=E=>e(u)())},{default:o(()=>[t(e(Ha),{class:"mr-2 h-4 w-4"}),d[9]||(d[9]=m(" 公众号名片 ",-1))]),_:1})]),_:1})]),_:1})):(v(),B($,{key:1},{default:o(()=>[t(y,null,{default:o(()=>[...d[10]||(d[10]=[m(" 插入 ",-1)])]),_:1}),t(h,{class:"w-52",align:"start"},{default:o(()=>[t(w,{onClick:d[3]||(d[3]=E=>e(i)())},{default:o(()=>[t(e(Ut),{class:"mr-2 h-4 w-4"}),d[11]||(d[11]=m(" 插入图片 ",-1))]),_:1}),t(w,{onClick:d[4]||(d[4]=E=>e(s)())},{default:o(()=>[t(e(Vn),{class:"mr-2 h-4 w-4"}),d[12]||(d[12]=m(" 插入表格 ",-1))]),_:1}),t(w,{onClick:d[5]||(d[5]=E=>e(u)())},{default:o(()=>[t(e(Ha),{class:"mr-2 h-4 w-4"}),d[13]||(d[13]=m(" 公众号名片 ",-1))]),_:1})]),_:1})]),_:1}))}}}),pw={class:"absolute left-2 h-3.5 w-3.5 flex items-center justify-center"},_a=Y({__name:"MenubarCheckboxItem",props:{checked:{type:[Boolean,String]},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},emits:["select","update:checked"],setup(n,{emit:a}){const l=n,r=a,s=he(()=>{const{class:u,...p}=l;return p}),i=je(s,r);return(u,p)=>(v(),B(e(ed),te(e(i),{class:e(ke)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",l.class)}),{default:o(()=>[c("span",pw,[t(e(Qu),null,{default:o(()=>[t(e(ho),{class:"h-4 w-4"})]),_:1})]),ge(u.$slots,"default")]),_:3},16,["class"]))}}),mw=Y({__name:"DropdownMenuShortcut",props:{class:{}},setup(n){const a=n;return(l,r)=>(v(),N("span",{class:we(e(ke)("ml-auto text-xs tracking-widest opacity-60",a.class))},[ge(l.$slots,"default")],2))}}),fw={key:1,class:"mr-2 h-4 w-4"},gw=Y({__name:"StyleOptionMenu",props:{title:{},options:{},current:{},change:{type:Function},icon:{}},setup(n){const a=n;function l(r,s){switch(r){case"字体":return{fontFamily:s};case"字号":return{fontSize:s};case"主题色":case"文字颜色":return{color:s};default:return{}}}return(r,s)=>{const i=no,u=mw,p=_a,d=oo,g=to;return v(),B(g,null,{default:o(()=>[t(i,null,{default:o(()=>[a.icon?(v(),B($t(a.icon),{key:0,class:"mr-2 h-4 w-4"})):(v(),N("span",fw)),c("span",null,V(a.title),1)]),_:1}),t(d,{class:"max-h-56 overflow-auto"},{default:o(()=>[(v(!0),N(Te,null,Ne(n.options,({label:w,value:b,desc:k})=>(v(),B(p,{key:b,label:w,"model-value":b,class:"w-50",checked:n.current===b,onClick:y=>n.change(b)},{default:o(()=>[m(V(w)+" ",1),t(u,{style:Vt(l(n.title,b))},{default:o(()=>[m(V(k),1)]),_:2},1032,["style"])]),_:2},1032,["label","model-value","checked","onClick"]))),128))]),_:1})]),_:1})}}}),gl=Y({__name:"StyleDropdown",props:{asSub:{type:Boolean,default:!1}},setup(n){const a=n,{asSub:l}=co(a),r=jt(),s=Fe(),i=ot(),u=At(),{toggleShowCssEditor:p}=s,{theme:d,fontFamily:g,fontSize:w,primaryColor:b,codeBlockTheme:k,legend:y}=Re(r),{isDark:h}=Re(s);function $(){r.updateCodeTheme();const G=i.getContent();u.render(G)}function E(G){r.theme=G,r.applyCurrentTheme(),$()}function f(G){r.fontFamily=G,r.applyCurrentTheme(),$()}function _(G){r.fontSize=G,r.applyCurrentTheme(),$()}function U(G){r.primaryColor=G,r.applyCurrentTheme(),$()}function C(G){r.codeBlockTheme=G,$()}function R(G){r.legend=G,$()}function A(){r.isMacCodeBlock=!r.isMacCodeBlock,$()}function I(){s.isOpenConfirmDialog=!0}const x=D(null);function j(){x.value?.show()}function ne(){p()}const L=Yt("pickColorsContainer"),O=D("rgb"),M=D(["rgb","hex","hsl","hsv"]);return(G,T)=>{const re=no,Q=gw,Z=zo,ae=qr,se=Fr,ee=zr,P=_a,ye=oo,be=to,ie=eo,H=Qt,xe=Xt;return e(l)?(v(),B(be,{key:0},{default:o(()=>[t(re,null,{default:o(()=>[...T[2]||(T[2]=[m(" 样式 ",-1)])]),_:1}),t(ye,{class:"w-56"},{default:o(()=>[t(Q,{title:"主题",options:e(an),current:e(d),change:E,icon:e(Po)},null,8,["options","current","icon"]),t(Z),t(Q,{title:"字体",options:e(ln),current:e(g),change:f,icon:e(za)},null,8,["options","current","icon"]),t(Q,{title:"字号",options:e(rn),current:e(w),change:_,icon:e(Fa)},null,8,["options","current","icon"]),t(Q,{title:"主题色",options:e(sn),current:e(b),change:U,icon:e(qa)},null,8,["options","current","icon"]),t(Q,{title:"代码块主题",options:e(un),current:e(k),change:C,icon:e(nn)},null,8,["options","current","icon"]),t(Q,{title:"图注格式",options:e(dn),current:e(y),change:R,icon:e(Ut)},null,8,["options","current","icon"]),t(Z),t(P,{class:"pl-2",onClick:Ke(j,["self","prevent"])},{default:o(()=>[t(ee,{"open-delay":100},{default:o(()=>[t(ae,{class:"w-full flex"},{default:o(()=>[t(e(Ka),{class:"mr-2 h-4 w-4"}),T[3]||(T[3]=m(" 自定义主题色 ",-1))]),_:1}),t(se,{side:"right",class:"w-min"},{default:o(()=>[c("div",{ref_key:"pickColorsContainer",ref:L},[t(e(Mo),{value:e(b),"onUpdate:value":T[0]||(T[0]=Be=>_e(b)?b.value=Be:null),"show-alpha":"",format:e(O),"format-options":e(M),theme:e(h)?"dark":"light","popup-container":e(L),onChange:U},null,8,["value","format","format-options","theme","popup-container"])],512)]),_:1})]),_:1})]),_:1}),t(P,{class:"pl-2",onClick:ne},{default:o(()=>[t(e(Pt),{class:"mr-2 h-4 w-4"}),T[4]||(T[4]=m(" 自定义 CSS ",-1))]),_:1}),t(Z),t(P,{class:"pl-2",onClick:A},{default:o(()=>[t(e(ja),{class:"mr-2 h-4 w-4"}),T[5]||(T[5]=m(" Mac 代码块 ",-1))]),_:1}),t(Z),t(P,{class:"pl-2",divided:"",onClick:I},{default:o(()=>[t(e(jn),{class:"mr-2 h-4 w-4"}),T[6]||(T[6]=m(" 重置 ",-1))]),_:1})]),_:1})]),_:1})):(v(),B(xe,{key:1},{default:o(()=>[t(ie,null,{default:o(()=>[...T[7]||(T[7]=[m(" 样式 ",-1)])]),_:1}),t(H,{class:"w-56",align:"start"},{default:o(()=>[t(Q,{title:"主题",options:e(an),current:e(d),change:E,icon:e(Po)},null,8,["options","current","icon"]),t(Z),t(Q,{title:"字体",options:e(ln),current:e(g),change:f,icon:e(za)},null,8,["options","current","icon"]),t(Q,{title:"字号",options:e(rn),current:e(w),change:_,icon:e(Fa)},null,8,["options","current","icon"]),t(Q,{title:"主题色",options:e(sn),current:e(b),change:U,icon:e(qa)},null,8,["options","current","icon"]),t(Q,{title:"代码块主题",options:e(un),current:e(k),change:C,icon:e(nn)},null,8,["options","current","icon"]),t(Q,{title:"图注格式",options:e(dn),current:e(y),change:R,icon:e(Ut)},null,8,["options","current","icon"]),t(Z),t(P,{class:"pl-2",onClick:Ke(j,["self","prevent"])},{default:o(()=>[t(ee,{"open-delay":100},{default:o(()=>[t(ae,{class:"w-full flex"},{default:o(()=>[t(e(Ka),{class:"mr-2 h-4 w-4"}),T[8]||(T[8]=m(" 自定义主题色 ",-1))]),_:1}),t(se,{side:"right",class:"w-min"},{default:o(()=>[c("div",{ref_key:"pickColorsContainer",ref:L},[t(e(Mo),{value:e(b),"onUpdate:value":T[1]||(T[1]=Be=>_e(b)?b.value=Be:null),"show-alpha":"",format:e(O),"format-options":e(M),theme:e(h)?"dark":"light","popup-container":e(L),onChange:U},null,8,["value","format","format-options","theme","popup-container"])],512)]),_:1})]),_:1})]),_:1}),t(P,{class:"pl-2",onClick:ne},{default:o(()=>[t(e(Pt),{class:"mr-2 h-4 w-4"}),T[9]||(T[9]=m(" 自定义 CSS ",-1))]),_:1}),t(Z),t(P,{class:"pl-2",onClick:A},{default:o(()=>[t(e(ja),{class:"mr-2 h-4 w-4"}),T[10]||(T[10]=m(" Mac 代码块 ",-1))]),_:1}),t(Z),t(P,{class:"pl-2",divided:"",onClick:I},{default:o(()=>[t(e(jn),{class:"mr-2 h-4 w-4"}),T[11]||(T[11]=m(" 重置 ",-1))]),_:1})]),_:1})]),_:1}))}}}),wl=Y({__name:"ViewDropdown",props:{asSub:{type:Boolean,default:!1}},setup(n){const a=n,{asSub:l}=co(a),r=Fe(),s=jt(),{isDark:i,isEditOnLeft:u,isShowCssEditor:p,isOpenRightSlider:d}=Re(r),{previewWidth:g}=Re(s),w=ea[0].value,b=ea[1].value;function k(y){s.previewWidth=y}return(y,h)=>{const $=no,E=_a,f=oo,_=to,U=zo,C=Ao,R=eo,A=Qt,I=Xt;return e(l)?(v(),B(_,{key:0},{default:o(()=>[t($,null,{default:o(()=>[...h[22]||(h[22]=[m(" 视图 ",-1)])]),_:1}),t(f,null,{default:o(()=>[t(_,null,{default:o(()=>[t($,null,{default:o(()=>[(v(),B($t(e(i)?e(Wa):e(Ya)),{class:"mr-2 h-4 w-4"})),h[23]||(h[23]=m(" 外观 ",-1))]),_:1}),t(f,null,{default:o(()=>[t(E,{checked:!e(i),onClick:h[0]||(h[0]=x=>i.value=!1)},{default:o(()=>[...h[24]||(h[24]=[m(" 浅色模式 ",-1)])]),_:1},8,["checked"]),t(E,{checked:e(i),onClick:h[1]||(h[1]=x=>i.value=!0)},{default:o(()=>[...h[25]||(h[25]=[m(" 深色模式 ",-1)])]),_:1},8,["checked"])]),_:1})]),_:1}),t(_,null,{default:o(()=>[t($,null,{default:o(()=>[t(e(qo),{class:"mr-2 h-4 w-4"}),h[26]||(h[26]=m(" 编辑模式 ",-1))]),_:1}),t(f,null,{default:o(()=>[t(E,{checked:e(u),onClick:h[2]||(h[2]=x=>u.value=!0)},{default:o(()=>[...h[27]||(h[27]=[m(" 左侧编辑 ",-1)])]),_:1},8,["checked"]),t(E,{checked:!e(u),onClick:h[3]||(h[3]=x=>u.value=!1)},{default:o(()=>[...h[28]||(h[28]=[m(" 右侧编辑 ",-1)])]),_:1},8,["checked"])]),_:1})]),_:1}),t(_,null,{default:o(()=>[t($,null,{default:o(()=>[(v(),B($t(e(g)===e(w)?e(Ja):e(Za)),{class:"mr-2 h-4 w-4"})),h[29]||(h[29]=m(" 预览模式 ",-1))]),_:1}),t(f,null,{default:o(()=>[t(E,{checked:e(g)===e(w),onClick:h[4]||(h[4]=x=>k(e(w)))},{default:o(()=>[...h[30]||(h[30]=[m(" 移动端 ",-1)])]),_:1},8,["checked"]),t(E,{checked:e(g)===e(b),onClick:h[5]||(h[5]=x=>k(e(b)))},{default:o(()=>[...h[31]||(h[31]=[m(" 电脑端 ",-1)])]),_:1},8,["checked"])]),_:1})]),_:1}),t(_,null,{default:o(()=>[t($,null,{default:o(()=>[t(e(qo),{class:"mr-2 h-4 w-4"}),h[32]||(h[32]=m(" 浮动目录 ",-1))]),_:1}),t(f,null,{default:o(()=>[t(E,{checked:e(r).isShowFloatingToc&&e(r).isPinFloatingToc,onClick:h[6]||(h[6]=()=>{e(r).isShowFloatingToc=!0,e(r).isPinFloatingToc=!0})},{default:o(()=>[...h[33]||(h[33]=[m(" 常驻显示 ",-1)])]),_:1},8,["checked"]),t(E,{checked:e(r).isShowFloatingToc&&!e(r).isPinFloatingToc,onClick:h[7]||(h[7]=()=>{e(r).isShowFloatingToc=!0,e(r).isPinFloatingToc=!1})},{default:o(()=>[...h[34]||(h[34]=[m(" 移入触发 ",-1)])]),_:1},8,["checked"]),t(E,{checked:!e(r).isShowFloatingToc,onClick:h[8]||(h[8]=()=>{e(r).isShowFloatingToc=!1})},{default:o(()=>[...h[35]||(h[35]=[m(" 隐藏 ",-1)])]),_:1},8,["checked"])]),_:1})]),_:1}),t(U),t(C,{onClick:h[9]||(h[9]=x=>d.value=!e(d))},{default:o(()=>[t(e(Po),{class:"mr-2 h-4 w-4"}),h[36]||(h[36]=m(" 样式面板 ",-1))]),_:1}),t(C,{onClick:h[10]||(h[10]=x=>p.value=!e(p))},{default:o(()=>[t(e(Pt),{class:"mr-2 h-4 w-4"}),h[37]||(h[37]=m(" CSS 编辑器 ",-1))]),_:1})]),_:1})]),_:1})):(v(),B(I,{key:1},{default:o(()=>[t(R,null,{default:o(()=>[...h[38]||(h[38]=[m(" 视图 ",-1)])]),_:1}),t(A,{align:"start"},{default:o(()=>[t(_,null,{default:o(()=>[t($,null,{default:o(()=>[(v(),B($t(e(i)?e(Wa):e(Ya)),{class:"mr-2 h-4 w-4"})),h[39]||(h[39]=m(" 外观 ",-1))]),_:1}),t(f,null,{default:o(()=>[t(E,{checked:!e(i),onClick:h[11]||(h[11]=x=>i.value=!1)},{default:o(()=>[...h[40]||(h[40]=[m(" 浅色模式 ",-1)])]),_:1},8,["checked"]),t(E,{checked:e(i),onClick:h[12]||(h[12]=x=>i.value=!0)},{default:o(()=>[...h[41]||(h[41]=[m(" 深色模式 ",-1)])]),_:1},8,["checked"])]),_:1})]),_:1}),t(_,null,{default:o(()=>[t($,null,{default:o(()=>[t(e(qo),{class:"mr-2 h-4 w-4"}),h[42]||(h[42]=m(" 编辑模式 ",-1))]),_:1}),t(f,null,{default:o(()=>[t(E,{checked:e(u),onClick:h[13]||(h[13]=x=>u.value=!0)},{default:o(()=>[...h[43]||(h[43]=[m(" 左侧编辑 ",-1)])]),_:1},8,["checked"]),t(E,{checked:!e(u),onClick:h[14]||(h[14]=x=>u.value=!1)},{default:o(()=>[...h[44]||(h[44]=[m(" 右侧编辑 ",-1)])]),_:1},8,["checked"])]),_:1})]),_:1}),t(_,null,{default:o(()=>[t($,null,{default:o(()=>[(v(),B($t(e(g)===e(w)?e(Ja):e(Za)),{class:"mr-2 h-4 w-4"})),h[45]||(h[45]=m(" 预览模式 ",-1))]),_:1}),t(f,null,{default:o(()=>[t(E,{checked:e(g)===e(w),onClick:h[15]||(h[15]=x=>k(e(w)))},{default:o(()=>[...h[46]||(h[46]=[m(" 移动端 ",-1)])]),_:1},8,["checked"]),t(E,{checked:e(g)===e(b),onClick:h[16]||(h[16]=x=>k(e(b)))},{default:o(()=>[...h[47]||(h[47]=[m(" 电脑端 ",-1)])]),_:1},8,["checked"])]),_:1})]),_:1}),t(_,null,{default:o(()=>[t($,null,{default:o(()=>[t(e(qo),{class:"mr-2 h-4 w-4"}),h[48]||(h[48]=m(" 浮动目录 ",-1))]),_:1}),t(f,null,{default:o(()=>[t(E,{checked:e(r).isShowFloatingToc&&e(r).isPinFloatingToc,onClick:h[17]||(h[17]=()=>{e(r).isShowFloatingToc=!0,e(r).isPinFloatingToc=!0})},{default:o(()=>[...h[49]||(h[49]=[m(" 常驻显示 ",-1)])]),_:1},8,["checked"]),t(E,{checked:e(r).isShowFloatingToc&&!e(r).isPinFloatingToc,onClick:h[18]||(h[18]=()=>{e(r).isShowFloatingToc=!0,e(r).isPinFloatingToc=!1})},{default:o(()=>[...h[50]||(h[50]=[m(" 移入触发 ",-1)])]),_:1},8,["checked"]),t(E,{checked:!e(r).isShowFloatingToc,onClick:h[19]||(h[19]=()=>{e(r).isShowFloatingToc=!1})},{default:o(()=>[...h[51]||(h[51]=[m(" 隐藏 ",-1)])]),_:1},8,["checked"])]),_:1})]),_:1}),t(U),t(C,{onClick:h[20]||(h[20]=x=>d.value=!e(d))},{default:o(()=>[t(e(Po),{class:"mr-2 h-4 w-4"}),h[52]||(h[52]=m(" 样式面板 ",-1))]),_:1}),t(C,{onClick:h[21]||(h[21]=x=>p.value=!e(p))},{default:o(()=>[t(e(Pt),{class:"mr-2 h-4 w-4"}),h[53]||(h[53]=m(" CSS 编辑器 ",-1))]),_:1})]),_:1})]),_:1}))}}}),ww={class:"header-container h-15 flex flex-wrap items-center justify-between px-5 relative"},vw={class:"space-x-1 hidden md:flex"},hw={class:"md:hidden"},bw={class:"flex flex-wrap items-center gap-2"},yw=Y({__name:"index",emits:["startCopy","endCopy"],setup(n,{emit:a}){const l=a,r=ot(),s=jt(),i=At(),u=Fe(),p=ha(),{editor:d}=Re(r),{output:g}=Re(i),{primaryColor:w}=Re(s),{isOpenRightSlider:b}=Re(u);function k(){s.updateCodeTheme();const O=r.getContent();i.render(O)}const y=D(!1),h=D(!1),$=D(!1);function E(){y.value=!0}function f(){h.value=!0}function _(){$.value=!0}const U=z.reactive(ut("copyMode"),"txt"),{copy:C}=Ci({legacy:!0}),R=O=>new Promise(M=>window.setTimeout(M,O)),A=O=>O instanceof Error?O.message:String(O);async function I(O){if(!navigator.clipboard?.write)throw new Error("Clipboard API not available.");await R(0),await navigator.clipboard.write(O)}function x(O){const M=window.getSelection();if(!M)return!1;const G=document.createElement("div");G.innerHTML=O,G.style.position="fixed",G.style.left="-9999px",G.style.top="0",G.style.opacity="0",G.style.pointerEvents="none",G.style.setProperty("background-color","#ffffff","important"),G.style.setProperty("color","#000000","important"),document.body.appendChild(G);const T=document.documentElement,re=T.classList.contains("dark");let Q=!1;try{re&&T.classList.remove("dark");const Z=document.createRange();Z.selectNodeContents(G),M.removeAllRanges(),M.addRange(Z),Q=document.execCommand("copy")}catch{Q=!1}finally{M.removeAllRanges(),G.remove(),re&&T.classList.add("dark")}return Q}async function j(){if(U.value==="md"){const O=d.value?.state.doc.toString()||"";await C(O),de.success("已复制 Markdown 源码到剪贴板。");return}l("startCopy"),setTimeout(()=>{_t(async()=>{try{await v1(w.value)}catch(G){de.error(`处理 HTML 失败，请联系开发者。${A(G)}`),k(),l("endCopy");return}const O=document.getElementById("output");if(!O){de.error("未找到复制输出区域，请刷新页面后重试。"),k(),l("endCopy");return}O.focus(),window.getSelection()?.removeAllRanges();const M=O.innerHTML;if(U.value==="txt")try{if(typeof ClipboardItem>"u")throw new TypeError("ClipboardItem is not supported in this browser.");const G=O.textContent||"",T=new ClipboardItem({"text/html":new Blob([M],{type:"text/html"}),"text/plain":new Blob([G],{type:"text/plain"})});await I([T])}catch(G){if(!x(M)){O.innerHTML=g.value,window.getSelection()?.removeAllRanges(),k(),de.error(`复制失败，请联系开发者。${A(G)}`),l("endCopy");return}}O.innerHTML=g.value,U.value==="html"?await C(M):U.value==="html-without-style"?await C(await vr(d.value.state.doc.toString())):U.value==="html-and-style"&&await C(p.editorContent2HTML()),de.success(U.value==="html"?"已复制 HTML 源码，请进行下一步操作。":"已复制渲染后的内容到剪贴板，可直接到公众号后台粘贴。"),window.dispatchEvent(new CustomEvent("copyToMp",{detail:{content:g.value}})),k(),l("endCopy")})},350)}function ne(O){U.value=O,j()}function L(){U.value="txt",j()}return(O,M)=>{const G=Lg,T=Ge,re=eo,Q=Qt,Z=Xt,ae=Gg,se=og,ee=tg,P=Zf,ye=Vr;return v(),N(Te,null,[c("header",ww,[c("div",vw,[t(G,{class:"menubar border-0"},{default:o(()=>[t(cl,{onOpenEditorState:_}),t(dl,{onCopy:ne}),t(pl),t(fl),t(gl),t(wl),t(ml,{onOpenAbout:E,onOpenFund:f})]),_:1})]),c("div",hw,[t(G,{class:"menubar border-0 p-0"},{default:o(()=>[t(Z,null,{default:o(()=>[t(re,{class:"p-0"},{default:o(()=>[t(T,{variant:"outline",size:"icon"},{default:o(()=>[t(e(wd),{class:"size-4"})]),_:1})]),_:1}),t(Q,{align:"start"},{default:o(()=>[t(cl,{"as-sub":!0,onOpenEditorState:_}),t(dl,{"as-sub":!0,onCopy:ne}),t(pl,{"as-sub":!0}),t(fl,{"as-sub":!0}),t(gl,{"as-sub":!0}),t(wl,{"as-sub":!0}),t(ml,{"as-sub":!0,onOpenAbout:E,onOpenFund:f})]),_:1})]),_:1})]),_:1})]),c("div",bw,[t(T,{variant:"outline",class:"h-9",onClick:L},{default:o(()=>[t(e(io),{class:"mr-2 h-4 w-4"}),M[5]||(M[5]=c("span",null,"复制",-1))]),_:1}),t(ae,{class:"hidden md:inline-flex"}),t(T,{variant:"outline",class:we(["h-9",{"bg-accent text-accent-foreground":e(b)}]),onClick:M[0]||(M[0]=be=>b.value=!e(b))},{default:o(()=>[t(e(Po),{class:"mr-2 h-4 w-4"}),M[6]||(M[6]=c("span",null,"样式",-1))]),_:1},8,["class"])])]),t(se,{visible:e(y),onClose:M[1]||(M[1]=be=>y.value=!1)},null,8,["visible"]),t(ee,{visible:e(h),onClose:M[2]||(M[2]=be=>h.value=!1)},null,8,["visible"]),t(P,{visible:e($),onClose:M[3]||(M[3]=be=>$.value=!1)},null,8,["visible"]),t(ye,{open:e(u).aiImageDialogVisible,"onUpdate:open":M[4]||(M[4]=be=>e(u).aiImageDialogVisible=be)},null,8,["open"])],64)}}}),xw=st(yw,[["__scopeId","data-v-a5d4f213"]]),ka=Ct("AIConfig",()=>{const n=z.reactive("openai_type",Tt),a=z.reactive("openai_temperature",rl),l=z.reactive("openai_max_token",sl),r=D(""),s=D(""),i=Zo((p,d)=>{let g="";return z.get(`openai_key_${n.value}`).then(w=>{g=w||dr}),{get(){return p(),g},set(w){g=w,d(),n.value!==Tt&&z.set(`openai_key_${n.value}`,w)}}});return Ie(n,async p=>{const d=ro.find(w=>w.value===p)??ro[0];r.value=d.endpoint;const g=await z.get(`openai_model_${p}`)||"";s.value=d.models.includes(g)?g:d.models[0],await z.set(`openai_model_${p}`,s.value)},{immediate:!0}),Ie(s,async p=>{await z.set(`openai_model_${n.value}`,p)}),{type:n,endpoint:r,model:s,temperature:a,maxToken:l,apiKey:i,reset:async()=>{n.value=Tt,a.value=rl,l.value=sl,await Promise.all(ro.map(async({value:p})=>{await z.remove(`openai_key_${p}`),await z.remove(`openai_model_${p}`)}))}}}),_w={class:"custom-scroll space-y-4 max-h-[calc(100dvh-10rem)] overflow-y-auto pr-1 text-xs sm:max-h-none sm:text-sm"},kw={key:0},Ew={key:1},Cw={class:"mt-2 flex flex-col gap-2 sm:flex-row"},Sw={key:2,class:"mt-1 text-xs text-gray-500"},$w=Y({__name:"AIConfig",emits:["saved"],setup(n,{emit:a}){const l=a,r=ka(),{type:s,endpoint:i,model:u,apiKey:p,temperature:d,maxToken:g}=Re(r),w=D(!1),b=D(""),k=he(()=>ro.find(E=>E.value===s.value)||ro[0]);Ie(s,()=>{b.value=""}),Ie(u,()=>{b.value=""});function y(E=!0){E&&(b.value="✅ 配置已保存",l("saved"))}function h(){r.reset(),b.value="🗑️ 当前 AI 配置已清除"}async function $(){b.value="",w.value=!0;const E={"Content-Type":"application/json"};p.value&&s.value!==Tt&&(E.Authorization=`Bearer ${p.value}`);try{const f=new URL(i.value);f.pathname.endsWith("/chat/completions")||(f.pathname=f.pathname.replace(/\/?$/,"/chat/completions"));const _={model:u.value,messages:[{role:"user",content:"ping"}],temperature:0,max_tokens:1,stream:!1},U=await window.fetch(f.toString(),{method:"POST",headers:E,body:JSON.stringify(_)});if(U.ok)b.value="✅ 测试成功，/chat/completions 可用",y(!1);else{const C=await U.text();try{const{error:R}=JSON.parse(C);if(U.status===404&&(R?.code==="ModelNotOpen"||/not activated|未开通/i.test(R?.message))){b.value=`⚠️ 测试成功，但当前模型未开通：${u.value}`,y(!1);return}}catch{}b.value=`❌ 测试失败：${U.status} ${U.statusText}，${C}`}}catch(f){b.value=`❌ 测试失败：${f.message}`}finally{w.value=!1}}return(E,f)=>{const _=vt,U=Nt,C=Dt,R=Bt,A=Ot,I=It,x=Et,j=Pr,ne=Or,L=Nr,O=Dr,M=Ge;return v(),N("div",_w,[f[16]||(f[16]=c("div",{class:"font-medium"}," AI 配置 ",-1)),c("div",null,[t(_,{class:"mb-1 block text-sm font-medium"},{default:o(()=>[...f[7]||(f[7]=[m("服务类型",-1)])]),_:1}),t(I,{modelValue:e(s),"onUpdate:modelValue":f[0]||(f[0]=G=>_e(s)?s.value=G:null)},{default:o(()=>[t(C,{class:"w-full"},{default:o(()=>[t(U,null,{default:o(()=>[m(V(e(k).label),1)]),_:1})]),_:1}),t(A,null,{default:o(()=>[(v(!0),N(Te,null,Ne(e(ro),G=>(v(),B(R,{key:G.value,value:G.value},{default:o(()=>[m(V(G.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),e(s)!==e(Tt)?(v(),N("div",kw,[t(_,{class:"mb-1 block text-sm font-medium"},{default:o(()=>[...f[8]||(f[8]=[m("API 端点",-1)])]),_:1}),t(x,{modelValue:e(i),"onUpdate:modelValue":f[1]||(f[1]=G=>_e(i)?i.value=G:null),placeholder:"输入 API 端点 URL",class:"focus:border-gray-400 focus:ring-1 focus:ring-gray-300"},null,8,["modelValue"])])):fe("",!0),e(s)!==e(Tt)?(v(),N("div",Ew,[t(_,{class:"mb-1 block text-sm font-medium"},{default:o(()=>[...f[9]||(f[9]=[m("API 密钥",-1)])]),_:1}),t(e(Ur),{modelValue:e(p),"onUpdate:modelValue":f[2]||(f[2]=G=>_e(p)?p.value=G:null),placeholder:"sk-...",class:"focus:border-gray-400 focus:ring-1 focus:ring-gray-300"},null,8,["modelValue"])])):fe("",!0),c("div",null,[t(_,{class:"mb-1 block text-sm font-medium"},{default:o(()=>[...f[10]||(f[10]=[m("模型名称",-1)])]),_:1}),e(k).models.length>0?(v(),B(I,{key:0,modelValue:e(u),"onUpdate:modelValue":f[3]||(f[3]=G=>_e(u)?u.value=G:null)},{default:o(()=>[t(C,{class:"w-full"},{default:o(()=>[t(U,null,{default:o(()=>[m(V(e(u)||"请选择模型"),1)]),_:1})]),_:1}),t(A,null,{default:o(()=>[(v(!0),N(Te,null,Ne(e(k).models,G=>(v(),B(R,{key:G,value:G},{default:o(()=>[m(V(G),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])):(v(),B(x,{key:1,modelValue:e(u),"onUpdate:modelValue":f[4]||(f[4]=G=>_e(u)?u.value=G:null),placeholder:"输入模型名称",class:"focus:border-gray-400 focus:ring-1 focus:ring-gray-300"},null,8,["modelValue"]))]),c("div",null,[t(_,{class:"mb-1 flex items-center gap-1 text-sm font-medium"},{default:o(()=>[f[12]||(f[12]=m(" 温度 ",-1)),t(O,null,{default:o(()=>[t(L,null,{default:o(()=>[t(j,{"as-child":""},{default:o(()=>[t(e(No),{class:"text-gray-500",size:16})]),_:1}),t(ne,{side:"top",class:"z-[250]"},{default:o(()=>[...f[11]||(f[11]=[c("div",null,"控制输出的随机性：较小值使输出更确定，较大值使其更随机。",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(x,{modelValue:e(d),"onUpdate:modelValue":f[5]||(f[5]=G=>_e(d)?d.value=G:null),modelModifiers:{number:!0},type:"number",step:"0.1",min:"0",max:"2",placeholder:"0 ~ 2，默认 1",class:"focus:border-gray-400 focus:ring-1 focus:ring-gray-300"},null,8,["modelValue"])]),c("div",null,[t(_,{class:"mb-1 block text-sm font-medium"},{default:o(()=>[...f[13]||(f[13]=[m("最大 Token 数",-1)])]),_:1}),t(x,{modelValue:e(g),"onUpdate:modelValue":f[6]||(f[6]=G=>_e(g)?g.value=G:null),modelModifiers:{number:!0},type:"number",min:"1",max:"32768",placeholder:"比如 1024",class:"focus:border-gray-400 focus:ring-1 focus:ring-gray-300"},null,8,["modelValue"])]),c("div",Cw,[t(M,{size:"sm",onClick:y},{default:o(()=>[...f[14]||(f[14]=[m(" 保存 ",-1)])]),_:1}),t(M,{size:"sm",variant:"ghost",onClick:h},{default:o(()=>[...f[15]||(f[15]=[m(" 清空 ",-1)])]),_:1}),t(M,{size:"sm",variant:"outline",disabled:e(w),onClick:$},{default:o(()=>[m(V(e(w)?"测试中...":"测试连接"),1)]),_:1},8,["disabled"])]),e(b)?(v(),N("div",Sw,V(e(b)),1)):fe("",!0)])}}}),Kr=st($w,[["__scopeId","data-v-670209a6"]]),vl="quick_commands";function Lo(n){return{...n,buildPrompt:(a="")=>n.template.replace(/\{\{\s*sel\s*\}\}/gi,a)}}const hl=[{id:"polish",label:"润色",template:`请润色以下内容：

{{sel}}`},{id:"to-en",label:"翻译成英文",template:`请将以下内容翻译为英文：

{{sel}}`},{id:"to-zh",label:"翻译成中文",template:`Please translate the following content into Chinese:

{{sel}}`},{id:"summary",label:"总结",template:`请对以下内容进行总结：

{{sel}}`}],jr=Ct("quickCommands",()=>{const n=D([]);async function a(){const u=n.value.map(({id:p,label:d,template:g})=>({id:p,label:d,template:g}));await z.setJSON(vl,u)}async function l(){const u=await z.getJSON(vl);if(u&&Array.isArray(u))try{n.value=u.map(Lo)}catch(p){console.warn("解析快捷指令失败，已恢复默认值",p),n.value=hl.map(Lo),await a()}else n.value=hl.map(Lo),await a()}function r(u,p){const d=crypto.randomUUID();n.value.push(Lo({id:d,label:u,template:p}))}function s(u,p,d){const g=n.value.findIndex(w=>w.id===u);g!==-1&&(n.value[g]=Lo({id:u,label:p,template:d}))}function i(u){n.value=n.value.filter(p=>p.id!==u)}return l(),Ie(n,a,{deep:!0}),{commands:n,add:r,update:s,remove:i}}),Tw={class:"space-y-4 flex-1 overflow-y-auto pr-1"},Aw={class:"flex justify-end gap-2"},Gw={key:1,class:"flex items-center justify-between"},Lw={class:"break-all text-sm"},Rw={class:"flex gap-1"},Iw={class:"space-y-2 mt-4 border rounded-md p-3"},Bw=Y({__name:"QuickCommandManager",props:{open:{type:Boolean}},emits:["update:open"],setup(n,{emit:a}){const l=n,r=a,s=D(l.open);Ie(()=>l.open,$=>s.value=$),Ie(s,$=>r("update:open",$));const i=jr(),u=D(""),p=D("");function d(){!u.value.trim()||!p.value.trim()||(i.add(u.value.trim(),p.value.trim()),u.value="",p.value="")}const g=D(null),w=D(""),b=D("");function k($){g.value=$.id,w.value=$.label,b.value=$.template}function y(){g.value=null}function h(){!w.value.trim()||!b.value.trim()||(i.update(g.value,w.value.trim(),b.value.trim()),g.value=null)}return($,E)=>(v(),B(e(pt),{open:s.value,"onUpdate:open":E[4]||(E[4]=f=>s.value=f)},{default:o(()=>[t(e(mt),{class:"max-h-[90vh] w-[92vw] flex flex-col sm:max-w-lg"},{default:o(()=>[t(e(ft),null,{default:o(()=>[t(e(gt),null,{default:o(()=>[...E[5]||(E[5]=[m("管理快捷指令",-1)])]),_:1})]),_:1}),c("div",Tw,[(v(!0),N(Te,null,Ne(e(i).commands,f=>(v(),N("div",{key:f.id,class:"flex flex-col gap-2 border rounded-md p-3"},[g.value===f.id?(v(),N(Te,{key:0},[t(e(Et),{modelValue:w.value,"onUpdate:modelValue":E[0]||(E[0]=_=>w.value=_),placeholder:"指令名称"},null,8,["modelValue"]),t(e(uo),{modelValue:b.value,"onUpdate:modelValue":E[1]||(E[1]=_=>b.value=_),rows:"2",placeholder:"模板内容，支持 {{sel}} 占位"},null,8,["modelValue"]),c("div",Aw,[t(e(Ge),{size:"xs",onClick:h},{default:o(()=>[...E[6]||(E[6]=[m(" 保存 ",-1)])]),_:1}),t(e(Ge),{variant:"ghost",size:"xs",onClick:y},{default:o(()=>[...E[7]||(E[7]=[m(" 取消 ",-1)])]),_:1})])],64)):(v(),N("div",Gw,[c("span",Lw,V(f.label),1),c("div",Rw,[t(e(Ge),{variant:"ghost",size:"xs",onClick:_=>k(f)},{default:o(()=>[...E[8]||(E[8]=[m(" 编辑 ",-1)])]),_:1},8,["onClick"]),t(e(Ge),{variant:"outline",size:"xs",onClick:_=>e(i).remove(f.id)},{default:o(()=>[...E[9]||(E[9]=[m(" 删除 ",-1)])]),_:1},8,["onClick"])])]))]))),128))]),c("div",Iw,[t(e(Et),{modelValue:u.value,"onUpdate:modelValue":E[2]||(E[2]=f=>u.value=f),placeholder:"指令名称 (如：改写为 SEO 文案)"},null,8,["modelValue"]),t(e(uo),{modelValue:p.value,"onUpdate:modelValue":E[3]||(E[3]=f=>p.value=f),rows:"2",placeholder:"模板，可用 {{sel}} 占位，例如：\\n请把以下文字改写为 SEO 友好的标题：\\n\\n{{sel}}"},null,8,["modelValue"]),t(e(Ge),{class:"w-full",onClick:d},{default:o(()=>[...E[10]||(E[10]=[m(" 添加 ",-1)])]),_:1})])]),_:1})]),_:1},8,["open"]))}}),Dw={class:"space-x-1 flex items-center"},Nw={class:"flex-1 truncate"},Ow={key:0,class:"mb-3 flex flex-wrap gap-2 overflow-x-auto pb-1"},Pw={key:1,class:"text-muted-foreground flex items-center gap-2 border rounded-md border-dashed px-3 py-1 text-xs"},Mw={key:2,class:"custom-scroll space-y-3 chat-container mb-4 flex-1 overflow-y-auto pr-2"},Uw={key:0,class:"text-muted-foreground mb-1 italic"},Vw={key:3,class:"relative mt-2"},Hw={class:"bg-background border-border flex flex-col items-baseline gap-2 border rounded-xl px-3 py-2 pr-12 shadow-inner"},mo="ai_memory_context",Ro="ai_conversation_list",zw=Y({__name:"AIAssistantPanel",props:{open:{type:Boolean}},emits:["update:open"],setup(n,{emit:a}){const l=n,r=a,s=ot(),{editor:i}=Re(s),u=Fe(),{toggleAIImageDialog:p}=u,d=D(l.open);Ie(()=>l.open,W=>d.value=W),Ie(d,W=>{r("update:open",W),W&&xe(!0)});const g=D(""),w=D([]),b=D(null),k=D(!1),y=D(!1),h=D(null),$=D(null),E=D(!1),f=D(!1),_=D(null),U=D([]),C=D([]),R=ka(),{apiKey:A,endpoint:I,model:x,temperature:j,maxToken:ne,type:L}=Re(R),O=jr();function M(){try{const W=i.value;return W&&typeof W.getSelection=="function"&&W.getSelection()||""}catch(W){return console.warn("获取选中文本失败",W),""}}function G(W){const K=M();g.value=W.buildPrompt(K),b.value=null,_t(()=>{const le=document.querySelector('textarea[placeholder*="说些什么" ]');le?.focus(),le&&le.setSelectionRange(le.value.length,le.value.length)})}ct(async()=>{const W=await z.get(Ro);W&&(U.value=JSON.parse(W));const K=await z.get(mo);C.value=K?JSON.parse(K).map(le=>({...le,id:le.id||crypto.randomUUID()})):T(),await xe(!0)});function T(){return[{role:"assistant",content:"你好，我是 AI 助手，有什么可以帮你的？",id:crypto.randomUUID()}]}function re(){const W=C.value.find(le=>le.role==="user");if(!W)return`对话 ${new Date().toLocaleString()}`;let K=W.content.trim();return K.length>20&&(K=`${K.substring(0,20)}...`),K}async function Q(){if(!(C.value.length<=1)){if(_.value){const W=U.value.find(K=>K.id===_.value);W&&(W.timestamp=Date.now(),await z.setJSON(Ro,U.value))}else{_.value=crypto.randomUUID();const W={id:_.value,name:re(),timestamp:Date.now()};U.value.unshift(W),await z.setJSON(Ro,U.value)}await z.setJSON(`ai_conversation_${_.value}`,C.value)}}async function Z(){await Q(),_.value=null,C.value=T(),await z.setJSON(mo,C.value),await xe(!0),de.success("已创建新会话")}async function ae(W){await Q();const K=await z.getJSON(`ai_conversation_${W}`,[]);K.length>0&&(C.value=K.map(le=>({...le,id:le.id||crypto.randomUUID()})),_.value=W,await z.setJSON(mo,C.value),await xe(!0),de.success("对话已加载"))}async function se(W){U.value=U.value.filter(K=>K.id!==W),await z.setJSON(Ro,U.value),await z.remove(`ai_conversation_${W}`),_.value===W&&(_.value=null,C.value=T(),await z.setJSON(mo,C.value)),de.success("对话已删除")}function ee(){k.value=!1,xe(!0)}function P(){r("update:open",!1),setTimeout(()=>{p(!0)},100)}function ye(W){if(!(W.isComposing||W.keyCode===229)){if(W.key==="Enter"&&!W.shiftKey)W.preventDefault(),J();else if(W.key==="ArrowUp"){if(W.preventDefault(),w.value.length===0)return;b.value===null?b.value=w.value.length-1:b.value>0&&b.value--,g.value=w.value[b.value]||""}else if(W.key==="ArrowDown"){if(W.preventDefault(),b.value===null)return;b.value<w.value.length-1?(b.value++,g.value=w.value[b.value]||""):(b.value=null,g.value="")}}}async function be(W,K){To(W),$.value=K,setTimeout(()=>$.value=null,1500)}async function ie(){h.value&&(h.value.abort(),h.value=null),_.value&&(U.value=U.value.filter(W=>W.id!==_.value),await z.setJSON(Ro,U.value),await z.remove(`ai_conversation_${_.value}`),_.value=null),C.value=T(),await z.setJSON(mo,C.value),xe(!0),de.success("会话已清空")}function H(){h.value&&(h.value.abort(),h.value=null),y.value=!1;const W=C.value[C.value.length-1];W?.role==="assistant"&&(W.done=!0),xe(!0)}async function xe(W=!1){await _t();const K=document.querySelector(".chat-container");if(K){const le=K.scrollTop+K.clientHeight>=K.scrollHeight-50;(W||le)&&(K.scrollTop=K.scrollHeight,await new Promise(Le=>setTimeout(Le,50)))}}function Be(){E.value=!E.value}async function Oe(){if(y.value)return;const W=C.value.length-1;if(W<0||C.value[W].role!=="assistant")return;C.value.splice(W,1),y.value=!0;const K={role:"assistant",content:"",reasoning:"",done:!1};C.value.push(K);const le=C.value[C.value.length-1];await xe(!0),await F(le)}async function F(W){const K=C.value.slice(-12).filter((Ce,ue,me)=>!(ue===me.length-1&&Ce.role==="assistant"&&!Ce.done)&&!(ue===0&&Ce.role==="assistant"));let le;if(E.value){const Ce=[];for(let ue=K.length-1;ue>=0&&Ce.length<2;ue--){const me=K[ue];(Ce.length===0||me.role==="user"||me.role==="assistant")&&Ce.unshift(me)}le=Ce}else le=K.slice(-10);const Le=E.value?[{role:"system",content:`下面是一篇 Markdown 文章全文，请严格以此为主完成后续指令：

${i.value?.state.doc.toString()}`}]:[],pe=[{role:"system",content:"你是一个专业的 Markdown 编辑器助手，请用简洁中文回答。"},...Le,...le],He={model:x.value,messages:pe,temperature:j.value,max_tokens:ne.value,stream:!0},We={"Content-Type":"application/json"};A.value&&L.value!=="default"&&(We.Authorization=`Bearer ${A.value}`),h.value=new AbortController;const Ye=h.value.signal;try{const Ce=new URL(I.value);Ce.pathname.endsWith("/chat/completions")||(Ce.pathname=Ce.pathname.replace(/\/?$/,"/chat/completions"));const ue=await window.fetch(Ce.toString(),{method:"POST",headers:We,body:JSON.stringify(He),signal:Ye});if(!ue.ok||!ue.body)throw new Error(`响应错误：${ue.status} ${ue.statusText}`);const me=ue.body.getReader(),ce=new TextDecoder("utf-8");let q="";for(;;){const{value:De,done:Ae}=await me.read();if(Ae){const qe=C.value[C.value.length-1];qe.role==="assistant"&&(qe.done=!0,await xe(!0));break}q+=ce.decode(De,{stream:!0});const Pe=q.split(`
`);q=Pe.pop()||"";for(const qe of Pe)if(!(!qe.trim()||qe.trim()==="data: [DONE]"))try{const Xe=JSON.parse(qe.replace(/^data: /,"")).choices?.[0]?.delta||{},Qe=C.value[C.value.length-1];if(Qe!==W)return;Xe.content?Qe.content+=Xe.content:Xe.reasoning_content&&(Qe.reasoning=(Qe.reasoning||"")+Xe.reasoning_content),await xe()}catch{}}}catch(Ce){Ce.name!=="AbortError"&&(C.value[C.value.length-1].content=`❌ 请求失败: ${Ce.message}`),await xe(!0)}finally{await z.setJSON(mo,C.value),await Q(),y.value=!1,h.value=null}}async function J(){if(!g.value.trim()||y.value)return;w.value.push(g.value.trim()),b.value=null,y.value=!0;const W=g.value.trim();C.value.push({role:"user",content:W}),g.value="";const K={role:"assistant",content:"",reasoning:"",done:!1};C.value.push(K);const le=C.value[C.value.length-1];await xe(!0),await F(le)}return(W,K)=>{const le=Bw,Le=Kr;return v(),B(e(pt),{open:e(d),"onUpdate:open":K[6]||(K[6]=pe=>_e(d)?d.value=pe:null)},{default:o(()=>[t(e(mt),{class:"bg-card text-card-foreground h-dvh max-h-dvh w-full flex flex-col rounded-none shadow-xl sm:max-h-[80vh] sm:max-w-2xl sm:rounded-xl"},{default:o(()=>[t(e(ft),{class:"space-y-1 flex flex-col items-start"},{default:o(()=>[c("div",Dw,[t(e(gt),null,{default:o(()=>[...K[7]||(K[7]=[m("AI 对话",-1)])]),_:1}),t(e(Ge),{title:e(k)?"AI 对话":"配置参数","aria-label":e(k)?"AI 对话":"配置参数",variant:"ghost",size:"icon",onClick:K[0]||(K[0]=pe=>k.value=!e(k))},{default:o(()=>[e(k)?(v(),B(e(Zl),{key:0,class:"h-4 w-4"})):(v(),B(e(da),{key:1,class:"h-4 w-4"}))]),_:1},8,["title","aria-label"]),t(e(Ge),{title:"AI 文生图","aria-label":"AI 文生图",variant:"ghost",size:"icon",onClick:K[1]||(K[1]=pe=>P())},{default:o(()=>[t(e(Ut),{class:"h-4 w-4"})]),_:1}),t(e(Ge),{title:"新建会话","aria-label":"新建会话",variant:"ghost",size:"icon",onClick:Z},{default:o(()=>[t(e(Do),{class:"h-4 w-4"})]),_:1}),t(e(ba),null,{default:o(()=>[t(e(xa),{"as-child":""},{default:o(()=>[t(e(Ge),{title:"加载对话","aria-label":"加载对话",variant:"ghost",size:"icon"},{default:o(()=>[t(e(Oo),{class:"h-4 w-4"})]),_:1})]),_:1}),t(e(ya),{align:"end",class:"max-h-64 overflow-y-auto w-64 z-[9999]"},{default:o(()=>[e(U).length===0?(v(),B(e(oa),{key:0,disabled:"",class:"text-muted-foreground text-sm"},{default:o(()=>[...K[8]||(K[8]=[m(" 暂无保存的对话 ",-1)])]),_:1})):fe("",!0),(v(!0),N(Te,null,Ne(e(U),pe=>(v(),B(e(oa),{key:pe.id,class:"flex items-center justify-between gap-2 cursor-pointer",onClick:He=>ae(pe.id)},{default:o(()=>[c("span",Nw,V(pe.name),1),t(e(Ge),{variant:"ghost",size:"icon",class:"h-6 w-6 flex-shrink-0",onClick:Ke(He=>se(pe.id),["stop"])},{default:o(()=>[t(e(wo),{class:"h-3 w-3"})]),_:1},8,["onClick"])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),t(e(Ge),{title:"清空对话内容","aria-label":"清空对话内容",variant:"ghost",size:"icon",onClick:ie},{default:o(()=>[t(e(wo),{class:"h-4 w-4"})]),_:1})]),t(e(Zt),{class:"text-muted-foreground text-sm"},{default:o(()=>[...K[9]||(K[9]=[m(" 使用 AI 助手帮助您编写和优化内容 ",-1)])]),_:1})]),_:1}),e(k)?fe("",!0):(v(),N("div",Ow,[e(O).commands.length?(v(!0),N(Te,{key:0},Ne(e(O).commands,pe=>(v(),B(e(Ge),{key:pe.id,variant:"secondary",size:"sm",class:"text-xs",onClick:He=>G(pe)},{default:o(()=>[m(V(pe.label),1)]),_:2},1032,["onClick"]))),128)):(v(),N("div",Pw," 还没有任何快捷指令，点击右侧添加 ")),t(e(Ge),{variant:"ghost",size:"sm",title:"管理指令",onClick:K[2]||(K[2]=pe=>f.value=!0)},{default:o(()=>[t(e(Do),{class:"h-4 w-4"})]),_:1}),t(le,{open:e(f),"onUpdate:open":K[3]||(K[3]=pe=>_e(f)?f.value=pe:null)},null,8,["open"])])),e(k)?(v(),B(Le,{key:1,class:"mb-4 w-full border rounded-md p-4",onSaved:ee})):fe("",!0),e(k)?fe("",!0):(v(),N("div",Mw,[(v(!0),N(Te,null,Ne(e(C),(pe,He)=>(v(),N("div",{key:pe.id||He,class:we(["relative flex",pe.role==="user"?"justify-end":"justify-start"])},[c("div",{class:we(["ring-border/20 max-w-[75%] rounded-2xl px-4 py-2 text-sm leading-relaxed shadow-xs ring-1",pe.role==="user"?"bg-black text-white dark:bg-primary dark:text-primary-foreground":"bg-gray-100 text-gray-800 dark:bg-muted/60 dark:text-muted-foreground"])},[pe.reasoning?(v(),N("div",Uw,V(pe.reasoning),1)):fe("",!0),c("div",{class:we(["whitespace-pre-wrap",pe.content?"":"animate-pulse text-muted-foreground"])},V(pe.content||(pe.role==="assistant"&&!pe.done?"思考中…":"")),3),c("div",{class:we(["mt-1 flex",pe.role==="user"?"justify-end":"justify-start"])},[He>0&&!(pe.role==="assistant"&&He===e(C).length-1&&!pe.done)?(v(),B(e(Ge),{key:0,variant:"ghost",size:"icon",class:"ml-0 h-5 w-5 p-1","aria-label":"复制内容",onClick:We=>be(pe.content,He)},{default:o(()=>[e($)===He?(v(),B(e(ho),{key:0,class:"h-3 w-3 text-green-600"})):(v(),B(e(io),{key:1,class:"text-muted-foreground h-3 w-3"}))]),_:2},1032,["onClick"])):fe("",!0),pe.role==="assistant"&&pe.done&&He===e(C).length-1?(v(),B(e(Ge),{key:1,variant:"ghost",size:"icon",class:"ml-1 h-5 w-5 p-1","aria-label":"重新生成",onClick:Oe},{default:o(()=>[t(e(Xl),{class:"text-muted-foreground h-3 w-3"})]),_:1})):fe("",!0)],2)],2)],2))),128))])),e(k)?fe("",!0):(v(),N("div",Vw,[c("div",Hw,[t(e(uo),{modelValue:e(g),"onUpdate:modelValue":K[4]||(K[4]=pe=>_e(g)?g.value=pe:null),placeholder:"说些什么… (Enter 发送，Shift+Enter 换行)",rows:"2",class:"custom-scroll min-h-16 w-full resize-none border-none bg-transparent p-0 focus-visible:outline-hidden focus:outline-hidden focus-visible:ring-0 focus:ring-0 focus-visible:ring-offset-0 focus:ring-offset-0 focus-visible:ring-transparent focus:ring-transparent",onKeydown:ye},null,8,["modelValue"]),t(e(Ge),{size:"sm",variant:"outline",class:we(["h-8 flex items-center gap-1 rounded-md px-3 font-medium transition-colors duration-150",[e(E)?"bg-primary text-white border-primary dark:bg-white dark:text-black dark:border-white":"bg-background text-muted-foreground border-border hover:text-foreground hover:border-foreground dark:bg-muted dark:text-gray-400 dark:hover:text-white dark:hover:border-white/60"]]),"aria-label":"引用全文",onClick:Be},{default:o(()=>[(v(),B($t(e(E)?e(ho):e(io)),{class:"h-4 w-4"})),K[10]||(K[10]=c("span",{class:"text-xs"},"引用全文",-1))]),_:1},8,["class"]),t(e(Ge),{disabled:!e(g).trim()&&!e(y),size:"icon",class:we(["absolute bottom-3 right-3 rounded-full disabled:opacity-40","bg-primary hover:bg-primary/90 text-primary-foreground"]),"aria-label":e(y)?"暂停":"发送",onClick:K[5]||(K[5]=pe=>e(y)?H():J())},{default:o(()=>[e(y)?(v(),B(e(er),{key:0,class:"h-4 w-4"})):(v(),B(e(Ql),{key:1,class:"h-4 w-4"}))]),_:1},8,["disabled","aria-label"])])]))]),_:1})]),_:1},8,["open"])}}}),Fw=st(zw,[["__scopeId","data-v-6dff03fd"]]),qw={class:"space-x-1 flex items-center"},Kw={key:1,class:"custom-scroll space-y-3 flex-1 overflow-y-auto px-6 pb-3"},jw={class:"border-border custom-scroll bg-muted/20 text-muted-foreground max-h-32 overflow-y-auto whitespace-pre-line border rounded px-3 py-2 text-sm"},Ww={key:0},Yw={class:"custom-scroll border-border max-h-24 min-h-[40px] flex flex-wrap gap-2 overflow-y-auto border rounded px-2 py-1"},Jw=["onClick"],Zw={key:1,class:"min-h-[20px] flex items-center text-xs text-red-500"},Xw={key:2},Qw={key:2,class:"flex justify-end gap-2 px-6 py-3.5 mt-auto"},e2=Y({__name:"ToolBoxPopover",props:{open:{type:Boolean},selectedText:{},isMobile:{type:Boolean}},emits:["update:open"],setup(n,{expose:a,emit:l}){const r=n,s=l,i=D(!1),u=D(r.open),p=D(""),d=D(!1),g=D(null),w=D([]),b=D(!1),k=D("optimize"),y=D(""),h=D(""),$=ot(),E=D(null);Ie(()=>r.open,Q=>{u.value=Q,Q&&r.selectedText.trim()&&(y.value=r.selectedText,L())}),Ie(u,Q=>s("update:open",Q));const f=ka(),{apiKey:_,endpoint:U,model:C,temperature:R,maxToken:A,type:I}=Re(f),x=[{value:"optimize",label:"优化文本",defaultPrompt:"请优化文本，使其更通顺易读。"},{value:"summarize",label:"文章总结",defaultPrompt:"请对文本进行摘要，输出主要观点和结论。"},{value:"spellcheck",label:"错别字纠正",defaultPrompt:"请找出并纠正文本中的错别字、标点和语法错误。"},{value:"translate-zh",label:"翻译为中文",defaultPrompt:"请将文本翻译为地道的中文。"},{value:"translate-en",label:"翻译为英文",defaultPrompt:"请将文本翻译为自然流畅的英文。"},{value:"custom",label:"自定义",defaultPrompt:""}];Ie(p,async()=>{await _t(),E.value?.scrollTo({top:E.value.scrollHeight})}),Ie(k,Q=>{Q!=="custom"&&(w.value=[])}),Ie(()=>r.selectedText,Q=>{u.value&&(y.value=Q,L())});function j(Q){const Z=Q.target,ae=Z.value.trim();ae&&!w.value.includes(ae)&&w.value.push(ae),Z.value=""}function ne(Q){w.value.splice(Q,1)}function L(){p.value="",d.value=!1,b.value=!1,h.value="",g.value?.abort(),g.value=null}async function O(){const Q=y.value.trim();if(!Q||d.value)return;L(),d.value=!0,g.value=new AbortController;const Z="你是一名专业的多语言文本助手，请根据用户的指令处理下列内容。在输出时，不要输出任何额外的信息，只输出处理后的文本。",ae=x.find(ie=>ie.value===k.value),se=[];ae.defaultPrompt&&se.push(ae.defaultPrompt),w.value.length&&se.push(`请同时满足以下要求：${w.value.join("、")}。`),se.length||se.push("请根据最佳实践优化文本。");const ee=se.join(" "),P=[{role:"system",content:Z},{role:"user",content:`${ee}

待处理文本：
${Q}`}],ye={model:C.value,messages:P,temperature:R.value,max_tokens:A.value,stream:!0},be={"Content-Type":"application/json"};_.value&&I.value!=="default"&&(be.Authorization=`Bearer ${_.value}`);try{const ie=new URL(U.value);ie.pathname.endsWith("/chat/completions")||(ie.pathname=ie.pathname.replace(/\/?$/,"/chat/completions"));const H=await window.fetch(ie.toString(),{method:"POST",headers:be,body:JSON.stringify(ye),signal:g.value.signal});if(!H.ok||!H.body)throw new Error(`响应错误：${H.status}`);const xe=H.body.getReader(),Be=new TextDecoder("utf-8");let Oe="";for(;;){const{value:F,done:J}=await xe.read();if(J)break;Oe+=Be.decode(F,{stream:!0});const W=Oe.split(`
`);Oe=W.pop()||"";for(const K of W)if(!(!K.trim()||K.trim()==="data: [DONE]"))try{const Le=JSON.parse(K.replace(/^data: /,"")).choices?.[0]?.delta?.content;Le?.trim()&&(p.value+=Le,b.value=!0)}catch{}}}catch(ie){ie.name==="AbortError"?console.log("Request aborted by user."):(console.error("请求失败：",ie),h.value=ie.message||"请求失败")}finally{d.value=!1}}function M(){d.value&&g.value&&(g.value.abort(),d.value=!1)}function G(){const Q=go($.editor),Z=Q.state.selection.main;Q.dispatch(Q.state.replaceSelection(p.value));const ae=Q.state.selection.main;Q.dispatch({selection:{anchor:Z.from,head:ae.head}}),Q.focus(),y.value=p.value,L()}function T(){u.value=!0}function re(){u.value=!1,w.value=[],k.value="optimize",L()}return a({dialogVisible:u,runAIAction:O,replaceText:G,show:T,close:re,stopAI:M}),(Q,Z)=>{const ae=Kr;return v(),B(e(pt),{open:e(u),"onUpdate:open":Z[3]||(Z[3]=se=>_e(u)?u.value=se:null)},{default:o(()=>[t(e(mt),{class:"bg-card text-card-foreground flex flex-col w-[95vw] max-h-[90vh] sm:max-h-[85vh] sm:max-w-2xl overflow-hidden p-0"},{default:o(()=>[t(e(ft),{class:"space-y-1 flex flex-col items-start px-6 pt-6 pb-4"},{default:o(()=>[c("div",qw,[t(e(gt),null,{default:o(()=>[...Z[4]||(Z[4]=[m("AI 工具箱",-1)])]),_:1}),t(e(Ge),{title:e(i)?"AI 工具箱":"配置参数","aria-label":e(i)?"AI 工具箱":"配置参数",variant:"ghost",size:"icon",onClick:Z[0]||(Z[0]=se=>i.value=!e(i))},{default:o(()=>[e(i)?(v(),B(e(so),{key:0,class:"h-4 w-4"})):(v(),B(e(da),{key:1,class:"h-4 w-4"}))]),_:1},8,["title","aria-label"])])]),_:1}),e(i)?(v(),B(ae,{key:0,class:"border-border mx-6 mb-4 w-auto border rounded-md p-4",onSaved:Z[1]||(Z[1]=()=>i.value=!1)})):(v(),N("div",Kw,[c("div",null,[Z[5]||(Z[5]=c("div",{class:"mb-1.5 text-sm font-medium"}," 选择操作 ",-1)),t(e(It),{modelValue:e(k),"onUpdate:modelValue":Z[2]||(Z[2]=se=>_e(k)?k.value=se:null)},{default:o(()=>[t(e(Dt),{class:"w-full"},{default:o(()=>[t(e(Nt),{placeholder:"请选择要执行的操作"})]),_:1}),t(e(Ot),null,{default:o(()=>[t(e(F0),null,{default:o(()=>[(v(),N(Te,null,Ne(x,se=>t(e(Bt),{key:se.value,value:se.value},{default:o(()=>[m(V(se.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),c("div",null,[Z[6]||(Z[6]=c("div",{class:"mb-1.5 text-sm font-medium"}," 原文 ",-1)),c("div",jw,V(e(y)),1)]),e(k)==="custom"?(v(),N("div",Ww,[Z[7]||(Z[7]=c("div",{class:"mb-1.5 text-sm font-medium"}," 自定义提示词（可选） ",-1)),c("div",Yw,[(v(!0),N(Te,null,Ne(e(w),(se,ee)=>(v(),N("div",{key:ee,class:"text-muted-foreground bg-muted flex items-center gap-1 rounded-full px-2 py-1 text-sm"},[c("span",null,V(se),1),c("button",{class:"hover:bg-muted/60 h-4 w-4 flex items-center justify-center rounded-full",onClick:P=>ne(ee)},[t(e(Jt),{class:"h-3 w-3"})],8,Jw)]))),128)),c("input",{class:"min-w-[100px] flex-1 bg-transparent py-1 text-sm focus:outline-hidden",placeholder:"输入提示词后按回车",onKeydown:en(j,["enter"])},null,32)])])):fe("",!0),e(h)?(v(),N("div",Zw,V(e(h)),1)):fe("",!0),e(p)?(v(),N("div",Xw,[Z[8]||(Z[8]=c("div",{class:"mb-1.5 text-sm font-medium"}," 处理结果 ",-1)),c("div",{ref_key:"resultContainer",ref:E,class:"custom-scroll border-border bg-background max-h-40 min-h-[60px] overflow-y-auto whitespace-pre-line border rounded px-3 py-2 text-sm"},V(e(p)),513)])):fe("",!0)])),e(i)?fe("",!0):(v(),N("div",Qw,[e(d)?(v(),B(e(Ge),{key:0,variant:"secondary",onClick:M},{default:o(()=>[t(e(er),{class:"mr-1 h-4 w-4"}),Z[9]||(Z[9]=m(" 终止 ",-1))]),_:1})):fe("",!0),e(b)&&!e(d)?(v(),B(e(Ge),{key:1,variant:"default",onClick:G},{default:o(()=>[...Z[10]||(Z[10]=[m(" 接受 ",-1)])]),_:1})):fe("",!0),e(d)?fe("",!0):(v(),B(e(Ge),{key:2,variant:"outline",disabled:!e(b)&&!!e(p),onClick:O},{default:o(()=>[m(V(e(b)?"重试":"AI 处理"),1)]),_:1},8,["disabled"]))]))]),_:1})]),_:1},8,["open"])}}}),t2=st(e2,[["__scopeId","data-v-71e2c135"]]),o2={key:0,class:"editor-ai-toolbar absolute top-1/2 -translate-y-1/2 right-0 z-30 transition-all duration-300 ease-out"},n2={key:0,class:"hint-bubble absolute right-full mr-3 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white text-sm font-medium rounded-lg shadow-xl whitespace-nowrap pointer-events-none animate-bounce-gentle z-50",style:{top:"50%",transform:"translateY(-50%)"}},a2={class:"relative flex items-center gap-2"},l2={key:1,class:"bg-white/95 dark:bg-gray-900/95 backdrop-blur-lg border-l border-gray-200/50 dark:border-gray-700/50 shadow-lg overflow-hidden transition-all duration-300 w-12 rounded-l-md",style:{height:"auto"}},r2={class:"flex flex-col py-2 gap-2"},s2={class:"flex flex-col items-center gap-1 px-1"},i2={class:"flex flex-col items-center gap-1 px-1"},u2={key:0,class:"mx-1.5"},d2={key:1,class:"flex flex-col items-center gap-1 px-1"},c2=Y({__name:"SidebarAIToolbar",props:{isMobile:{type:Boolean},showEditor:{type:Boolean}},setup(n){const a=Fe(),{aiDialogVisible:l,aiImageDialogVisible:r}=Re(a),{toggleAIDialog:s,toggleAIImageDialog:i}=a,u=ot(),{editor:p}=Re(u),{hasShownAIToolboxHint:d}=Re(a),g=D(!1),w=D(!1),b=D(!1);let k=null,y=null,h="";function $(){try{if(!p.value)return"";const I=p.value.state.selection.main;return p.value.state.doc.sliceString(I.from,I.to).trim()}catch{return""}}function E(){if(d.value)return;const I=$();I!==h&&(h=I,k&&(clearTimeout(k),k=null),I&&!g.value?(b.value=!0,d.value=!0,k=setTimeout(()=>{b.value=!1},3e3)):b.value=!1)}const f=he(()=>!p.value||!g.value?!1:$().length>0),_=he(()=>w.value?$():"");function U(){g.value=!g.value,g.value&&(b.value=!1,k&&(clearTimeout(k),k=null))}function C(){s(!0)}function R(){i(!0)}function A(){w.value=!0}return ct(()=>{y=setInterval(()=>{E()},300);const I=x=>{if(!g.value)return;const j=x.target;if(!j)return;const ne=document.querySelector(".editor-ai-toolbar");if(ne&&ne.contains(j))return;["dialog",".popover",".modal",'[role="dialog"]',"nav",".menu",".dropdown",".tooltip",".floating",".ai-assistant-panel",".ai-image-generator-panel"].some(M=>j.closest(M))||(g.value=!1)};document.addEventListener("click",I,!0),document.addEventListener("touchstart",I,!0),Uo(()=>{document.removeEventListener("click",I,!0),document.removeEventListener("touchstart",I,!0),k&&(clearTimeout(k),k=null),y&&(clearInterval(y),y=null)})}),(I,x)=>!n.isMobile||n.isMobile&&n.showEditor?(v(),N("div",o2,[e(g)?(v(),N("div",l2,[c("div",r2,[c("div",s2,[c("button",{class:"group relative w-7 h-7 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white shadow-md hover:shadow-lg transform hover:scale-105 active:scale-95 transition-all duration-200 flex items-center justify-center utools-ai-button",title:"AI助手",onClick:C},[t(e(hd),{class:"h-4 w-4"})]),x[5]||(x[5]=c("span",{class:"text-[9px] text-gray-500 dark:text-gray-400 font-medium text-center leading-tight"}," 助手 ",-1))]),x[9]||(x[9]=c("div",{class:"mx-1.5"},[c("div",{class:"h-px bg-gray-200/50 dark:bg-gray-700/50"})],-1)),c("div",i2,[c("button",{class:"group relative w-7 h-7 rounded-lg bg-gradient-to-br from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white shadow-md hover:shadow-lg transform hover:scale-105 active:scale-95 transition-all duration-200 flex items-center justify-center utools-ai-button",title:"AI文生图",onClick:R},[t(e(Ut),{class:"h-4 w-4"})]),x[6]||(x[6]=c("span",{class:"text-[9px] text-gray-500 dark:text-gray-400 font-medium text-center leading-tight"}," 文生图 ",-1))]),e(f)&&e(g)?(v(),N("div",u2,[...x[7]||(x[7]=[c("div",{class:"h-px bg-gray-200/50 dark:bg-gray-700/50"},null,-1)])])):fe("",!0),e(f)&&e(g)?(v(),N("div",d2,[c("button",{class:"group relative w-7 h-7 rounded-lg bg-gradient-to-br from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white shadow-md hover:shadow-lg transform hover:scale-105 active:scale-95 transition-all duration-200 flex items-center justify-center utools-ai-button",title:"AI工具箱",onClick:A},[t(e(so),{class:"h-4 w-4"})]),x[8]||(x[8]=c("span",{class:"text-[9px] text-gray-500 dark:text-gray-400 font-medium text-center leading-tight"}," 工具箱 ",-1))])):fe("",!0)])])):(v(),N("div",{key:0,class:we(["w-5 h-16 bg-gradient-to-b from-blue-500/90 to-purple-500/90 hover:from-blue-600/95 hover:to-purple-600/95 dark:from-blue-400/90 dark:to-purple-400/90 dark:hover:from-blue-500/95 dark:hover:to-purple-500/95 backdrop-blur-lg border-l border-y border-blue-300/50 dark:border-blue-600/50 cursor-pointer transition-all duration-200 flex items-center justify-center rounded-l-lg shadow-lg group utools-sidebar-edge",{"animate-pulse-hint":e(b)}]),title:"展开AI工具栏",onClick:U},[t(e(vd),{class:"h-4 w-4 text-white drop-shadow-sm group-hover:scale-110 transition-transform duration-200"}),t(pn,{name:"hint-fade"},{default:o(()=>[e(b)?(v(),N("div",n2,[c("div",a2,[t(e(so),{class:"h-4 w-4"}),x[3]||(x[3]=c("span",null,"点击打开 AI 工具箱",-1)),x[4]||(x[4]=c("div",{class:"hint-arrow absolute top-1/2 -right-2 -translate-y-1/2 w-0 h-0 border-t-[6px] border-b-[6px] border-l-[6px] border-transparent border-l-purple-500"},null,-1))])])):fe("",!0)]),_:1})],2)),t(Fw,{open:e(l),"onUpdate:open":x[0]||(x[0]=j=>_e(l)?l.value=j:null)},null,8,["open"]),t(Vr,{open:e(r),"onUpdate:open":x[1]||(x[1]=j=>_e(r)?r.value=j:null)},null,8,["open"]),t(e(t2),{open:e(w),"onUpdate:open":x[2]||(x[2]=j=>_e(w)?w.value=j:null),"selected-text":e(_),"is-mobile":n.isMobile},null,8,["open","selected-text","is-mobile"])])):fe("",!0)}}),p2=st(c2,[["__scopeId","data-v-91021d01"]]),Wr=Ct("folderSource",()=>{const n=new Map,a=D(null),l=D([]),r=D(""),s=D(!1),i=D(""),u=he(()=>a.value&&n.get(a.value)||null),p=he(()=>Array.from(n.values()).map(R=>({id:R.id,name:R.name,handle:R.handle,permission:!0}))),d=he(()=>u.value?{id:u.value.id,name:u.value.name,handle:u.value.handle,permission:!0}:null),g=D([]),w=he(()=>typeof window<"u"&&"showDirectoryPicker"in window);async function b(){if(!w.value){de.error("您的浏览器不支持 File System Access API");return}try{s.value=!0,i.value="";const R=await window.showDirectoryPicker({mode:"readwrite",startIn:"documents"});if(await R.requestPermission({mode:"readwrite"})!=="granted"){de.error("未授予文件夹访问权限");return}let I;const x=Array.from(n.values()).find(j=>j.name===R.name);if(x)I=x.id,x.handle=R;else{I=C();const j={id:I,name:R.name,handle:R};n.set(I,j)}a.value=I,await h(R),de.success(`文件夹「${R.name}」已打开`)}catch(R){if(R.name==="AbortError")return;i.value=R.message||"打开文件夹失败",de.error(`打开文件夹失败: ${R.message}`)}finally{s.value=!1}}function k(){a.value=null,l.value=[],r.value=""}function y(R){n.delete(R),a.value===R&&k()}async function h(R){try{const A=await $(R,R.name);l.value=[A]}catch(A){throw i.value=A.message||"加载文件树失败",A}}async function $(R,A){const I={name:R.name,path:A,type:"directory",children:[],handle:R};try{for await(const x of R.values()){const j=`${A}/${x.name}`;if(x.kind==="file")x.name.toLowerCase().endsWith(".md")&&I.children.push({name:x.name,path:j,type:"file",handle:x});else if(x.kind==="directory"){const ne=await $(x,j);I.children.push(ne)}}I.children.sort((x,j)=>x.type!==j.type?x.type==="directory"?-1:1:x.name.localeCompare(j.name,"zh-CN"))}catch(x){console.error(`读取目录失败: ${A}`,x)}return I}async function E(R){if(!u.value)throw new Error("未选择文件夹");try{const A=_(l.value,R);if(!A)throw new Error(`文件不存在: ${R}`);if(A.type!=="file")throw new Error(`不是文件: ${R}`);return await(await A.handle.getFile()).text()}catch(A){throw de.error(`读取文件失败: ${A.message}`),A}}async function f(R,A){if(!u.value)throw new Error("未选择文件夹");try{const I=R.split("/").slice(1);let x=u.value.handle;for(let O=0;O<I.length-1;O++){const M=I[O];try{x=await x.getDirectoryHandle(M)}catch{x=await x.getDirectoryHandle(M,{create:!0})}}const j=I[I.length-1],L=await(await x.getFileHandle(j,{create:!0})).createWritable();await L.write(A),await L.close()}catch(I){throw console.error(`保存文件失败: ${I.message}`),I}}function _(R,A){for(const I of R){if(I.path===A)return I;if(I.children){const x=_(I.children,A);if(x)return x}}return null}function U(R=l.value){const A=[];for(const I of R)I.type==="file"&&A.push(I),I.children&&A.push(...U(I.children));return A}function C(){return`folder_${Date.now()}_${Math.random().toString(36).slice(2,9)}`}return{folderHandles:p,currentFolderHandle:d,savedFolders:g,fileTree:l,selectedFilePath:r,isLoading:s,loadError:i,isFileSystemAPISupported:w,selectFolder:b,closeFolder:k,removeFolder:y,loadFileTree:h,readFile:E,writeFile:f,findNodeByPath:_,getAllMarkdownFiles:U}});function m2(){const n=Ht(),a=Wr(),l=D(null);let r=null;const s=1e3;function i(d){l.value=d}async function u(d,g){if(d)try{await a.writeFile(d,g)}catch(w){console.error("文件同步失败:",w)}}function p(){!l.value||!n.currentPost||(r&&clearTimeout(r),r=setTimeout(()=>{const d=n.currentPost?.content||"";u(l.value,d)},s))}return Ie(()=>n.currentPost?.content,()=>{p()},{deep:!1}),Ie(()=>l.value,(d,g)=>{g&&d!==g&&r&&(clearTimeout(r),r=null)}),Xo(()=>{r&&clearTimeout(r)}),{currentFilePath:l,setCurrentFilePath:i}}const f2={class:"folder-tree"},g2=["onClick"],w2=["onClick"],v2={key:1,class:"toggle-icon-placeholder"},h2={class:"node-icon"},b2=["title"],y2=Y({__name:"FolderTree",props:{nodes:{},selectedPath:{},expandedPaths:{default:()=>new Set},level:{default:0}},emits:["select","toggleExpand"],setup(n,{emit:a}){const l=n,r=a,s=d=>l.selectedPath===d,i=d=>l.expandedPaths.has(d);function u(d,g){g.stopPropagation(),d.type==="file"?r("select",d):r("toggleExpand",d.path)}function p(d,g){g.stopPropagation(),d.type==="directory"&&r("toggleExpand",d.path)}return(d,g)=>{const w=Rl("FolderTree",!0);return v(),N("div",f2,[(v(!0),N(Te,null,Ne(n.nodes,b=>(v(),N(Te,{key:b.path},[c("div",{class:we(["tree-node",{selected:s(b.path),directory:b.type==="directory",file:b.type==="file"}]),style:Vt({paddingLeft:`${n.level*16+8}px`}),onClick:k=>u(b,k)},[b.type==="directory"?(v(),N("span",{key:0,class:"toggle-icon",onClick:k=>p(b,k)},[i(b.path)?(v(),B(e(bo),{key:1,class:"h-4 w-4"})):(v(),B(e(ko),{key:0,class:"h-4 w-4"}))],8,w2)):(v(),N("span",v2)),c("span",h2,[b.type==="directory"&&!i(b.path)?(v(),B(e(bd),{key:0,class:"h-4 w-4"})):b.type==="directory"&&i(b.path)?(v(),B(e(Oo),{key:1,class:"h-4 w-4"})):(v(),B(e(yd),{key:2,class:"h-4 w-4"}))]),c("span",{class:"node-name",title:b.name},V(b.name),9,b2)],14,g2),b.type==="directory"&&i(b.path)&&b.children?(v(),B(w,{key:0,nodes:b.children,"selected-path":n.selectedPath,"expanded-paths":n.expandedPaths,level:n.level+1,onSelect:g[0]||(g[0]=k=>r("select",k)),onToggleExpand:g[1]||(g[1]=k=>r("toggleExpand",k))},null,8,["nodes","selected-path","expanded-paths","level"])):fe("",!0)],64))),128))])}}}),x2=st(y2,[["__scopeId","data-v-a8a577e8"]]),_2={class:"folder-source-panel h-full flex flex-col"},k2={class:"panel-header sticky top-0 z-10 bg-background border-b p-2"},E2={class:"flex items-center justify-between mb-2"},C2={class:"text-sm font-semibold flex items-center gap-2"},S2={class:"flex gap-1"},$2={class:"panel-content flex-1 overflow-y-auto p-2"},T2={key:0,class:"flex flex-col items-center justify-center h-full text-center p-4 text-muted-foreground"},A2={key:1,class:"flex flex-col items-center justify-center h-full"},G2={key:2,class:"flex flex-col items-center justify-center h-full text-center p-4 text-destructive"},L2={class:"text-sm"},R2={key:3,class:"flex flex-col items-center justify-center h-full text-center p-4 text-muted-foreground"},I2={key:4,class:"file-tree-container"},B2={class:"text-xs text-muted-foreground mb-2 px-2"},D2=Y({__name:"FolderSourcePanel",setup(n){const a=Wr(),l=Ht(),{setCurrentFilePath:r}=m2(),{currentFolderHandle:s,fileTree:i,selectedFilePath:u,isLoading:p,loadError:d,isFileSystemAPISupported:g}=Re(a),w=D(new Set);function b(E){w.value.has(E)?w.value.delete(E):w.value.add(E),w.value=new Set(w.value)}async function k(){await a.selectFolder(),await _t(),i.value.length>0&&w.value.add(i.value[0].path)}async function y(){s.value&&await a.loadFileTree(s.value.handle)}function h(){a.closeFolder(),w.value.clear(),r(null)}async function $(E){try{const f=await a.readFile(E.path),_=E.name.replace(/\.md$/i,"");l.addPost(_),l.updatePostContent(l.currentPostId,f),r(E.path),de.success(`已加载文件: ${E.name}`)}catch(f){console.error("打开文件失败:",f)}}return(E,f)=>{const _=Ge;return v(),N("div",_2,[c("div",k2,[c("div",E2,[c("h3",C2,[t(e(xd),{class:"h-4 w-4"}),f[0]||(f[0]=m(" 本地文件夹 ",-1))]),e(s)?(v(),B(_,{key:0,variant:"ghost",size:"sm",class:"h-7 w-7 p-0",onClick:h},{default:o(()=>[t(e(Jt),{class:"h-3 w-3"})]),_:1})):fe("",!0)]),c("div",S2,[t(_,{variant:"outline",size:"sm",class:"flex-1 text-xs",disabled:e(p)||!e(g),onClick:k},{default:o(()=>[e(p)?(v(),B(e(vo),{key:1,class:"h-3 w-3 mr-1 animate-spin"})):(v(),B(e(_d),{key:0,class:"h-3 w-3 mr-1"})),f[1]||(f[1]=m(" 打开文件夹 ",-1))]),_:1},8,["disabled"]),e(s)?(v(),B(_,{key:0,variant:"outline",size:"sm",class:"text-xs",disabled:e(p),onClick:y},{default:o(()=>[t(e(Yl),{class:we(["h-3 w-3",{"animate-spin":e(p)}])},null,8,["class"])]),_:1},8,["disabled"])):fe("",!0)])]),c("div",$2,[e(g)?e(p)?(v(),N("div",A2,[t(e(vo),{class:"h-8 w-8 animate-spin text-primary"}),f[4]||(f[4]=c("p",{class:"text-sm text-muted-foreground mt-2"}," 加载中... ",-1))])):e(d)?(v(),N("div",G2,[c("p",L2,V(e(d)),1)])):e(s)?(v(),N("div",I2,[c("div",B2,V(e(s).name),1),t(x2,{nodes:e(i),"selected-path":e(u),"expanded-paths":e(w),onSelect:$,onToggleExpand:b},null,8,["nodes","selected-path","expanded-paths"])])):(v(),N("div",R2,[t(e(Oo),{class:"h-12 w-12 mb-2 opacity-50"}),f[5]||(f[5]=c("p",{class:"text-sm"}," 未打开文件夹 ",-1)),f[6]||(f[6]=c("p",{class:"text-xs mt-1"}," 点击上方按钮打开本地文件夹 ",-1))])):(v(),N("div",T2,[t(e(kd),{class:"h-12 w-12 mb-2 opacity-50"}),f[2]||(f[2]=c("p",{class:"text-sm"}," 您的浏览器不支持本地文件夹访问 ",-1)),f[3]||(f[3]=c("p",{class:"text-xs mt-1"}," 请使用 Chrome、Edge 或 Opera 浏览器 ",-1))]))])])}}}),N2=st(D2,[["__scopeId","data-v-423cbc50"]]),O2={key:0,class:"bg-border z-10 h-4 w-3 flex items-center justify-center border rounded-sm"},bl=Y({__name:"ResizableHandle",props:{id:{},hitAreaMargins:{},tabindex:{},disabled:{type:Boolean},nonce:{},asChild:{type:Boolean},as:{},class:{},withHandle:{type:Boolean}},emits:["dragging"],setup(n,{emit:a}){const l=n,r=a,s=mn(l,"class"),i=ca(s,r);return(u,p)=>(v(),B(e(Bd),te(e(i),{class:e(ke)("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[orientation=vertical]:h-px data-[orientation=vertical]:w-full data-[orientation=vertical]:after:left-0 data-[orientation=vertical]:after:h-1 data-[orientation=vertical]:after:w-full data-[orientation=vertical]:after:-translate-y-1/2 data-[orientation=vertical]:after:translate-x-0 [&[data-orientation=vertical]>div]:rotate-90",l.class)}),{default:o(()=>[l.withHandle?(v(),N("div",O2,[t(e(Ed),{class:"h-2.5 w-2.5"})])):fe("",!0)]),_:1},16,["class"]))}}),P2=Y({__name:"ResizablePanelGroup",props:{id:{},autoSaveId:{},direction:{},keyboardResizeBy:{},storage:{},asChild:{type:Boolean},as:{},class:{}},emits:["layout"],setup(n,{emit:a}){const l=n,r=a,s=mn(l,"class"),i=ca(s,r);return(u,p)=>(v(),B(e(Dd),te(e(i),{class:e(ke)("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",l.class)}),{default:o(()=>[ge(u.$slots,"default")]),_:3},16,["class"]))}}),M2={class:"flex flex-col gap-0.5"},U2={class:"flex items-center gap-1"},V2={class:"w-10 select-none text-center text-xs"},H2={key:0,class:"flex items-center gap-1"},z2=Y({__name:"SearchTab",props:{editorView:{}},setup(n,{expose:a}){const l=n,r=D(!1),s=D(null),i=D(""),u=D(!1),p=D(!1),d=D(!1),g=D(0),w=D(!1),b=D(""),k=D(null),y=D([]),h=he(()=>y.value.length),$=he(()=>Z()?y.value[g.value]:null),E=Ca.define(),f=Cs.define({create(){return Fo.none},update(ae,se){for(const ee of se.effects)if(ee.is(E))return ee.value;return ae},provide:ae=>Mt.decorations.from(ae)});ct(()=>{l.editorView.state.field(f,!1)||l.editorView.dispatch({effects:Ca.appendConfig.of(f)})}),Ie([i,u,p,d],()=>{Si(()=>{y.value=[],i.value===""?_():(g.value=0,C())},300)()}),Ie([g,y],()=>{U()}),Ie(r,async()=>{if(!r.value)_(),d.value=!1,k.value=null;else{const ae=l.editorView.state.selection.main;ae.empty||(d.value=!0,k.value={from:ae.from,to:ae.to}),U(),await _t(),setTimeout(()=>{s.value?.focus(),s.value?.select()},0)}});function _(){l.editorView.dispatch({effects:E.of(Fo.none)})}function U(){const ae=[];y.value.forEach((ee,P)=>{const ye=ee[0],be=ee[1],ie=l.editorView.state.doc.line(ye.line+1),H=l.editorView.state.doc.line(be.line+1),xe=ie.from+ye.ch,Be=H.from+be.ch,Oe=P===g.value,F=Fo.mark({class:Oe?"cm-searchMatch-selected":"cm-searchMatch"});ae.push(F.range(xe,Be))});const se=Fo.set(ae,!0);if(l.editorView.dispatch({effects:E.of(se)}),y.value[g.value]?.[0]){const ee=y.value[g.value][0],ye=l.editorView.state.doc.line(ee.line+1).from+ee.ch;l.editorView.dispatch({selection:{anchor:ye,head:ye},scrollIntoView:!0})}}function C(){if(!i.value||!r.value)return;let ae=0,se=l.editorView.state.doc.length;d.value&&k.value&&(ae=k.value.from,se=k.value.to);const ee=l.editorView.state.sliceDoc(ae,se),P=i.value,ye=[];if(P)if(u.value)try{const be=`gm${p.value?"":"i"}`,ie=new RegExp(P,be);let H;for(;(H=ie.exec(ee))!==null;){if(H[0].length===0){ie.lastIndex++;continue}const xe=H.index+ae,Be=H.index+H[0].length+ae,Oe=l.editorView.state.doc.lineAt(xe),F=l.editorView.state.doc.lineAt(Be);ye.push([{line:Oe.number-1,ch:xe-Oe.from},{line:F.number-1,ch:Be-F.from}])}}catch(be){console.warn("Invalid Regex",be)}else{const be=ee.split(`
`),ie=p.value?P:P.toLowerCase();be.forEach((H,xe)=>{const Be=p.value?H:H.toLowerCase();let Oe=0,F=Be.indexOf(ie,Oe);for(;F!==-1;){const W=l.editorView.state.doc.lineAt(ae).number-1+xe;ye.push([{line:W,ch:F},{line:W,ch:F+P.length}]),Oe=F+1,F=Be.indexOf(ie,Oe)}})}y.value=ye,y.value.length>0&&g.value>=y.value.length&&(g.value=y.value.length-1)}function R(){Z()&&(g.value=(g.value+1)%h.value)}function A(){Z()&&(g.value=(g.value-1+h.value)%h.value)}function I(){w.value=!w.value}function x(){u.value=!u.value}function j(){p.value=!p.value}function ne(){if(d.value)k.value=null;else{const ae=l.editorView.state.selection.main;ae.empty?k.value={from:0,to:l.editorView.state.doc.length}:k.value={from:ae.from,to:ae.to}}d.value=!d.value}function L(){r.value=!1}function O(ae){ae.key==="Enter"&&(R(),ae.preventDefault())}function M(ae){ae.key==="Enter"&&(G(),ae.preventDefault())}function G(){if(!Z()||!$.value)return;const ae=$.value[0],se=$.value[1],ee=l.editorView.state.doc.line(ae.line+1),P=l.editorView.state.doc.line(se.line+1),ye=ee.from+ae.ch,be=P.from+se.ch;let ie=b.value;if(u.value)try{ie=l.editorView.state.sliceDoc(ye,be).replace(new RegExp(i.value,"gm"),b.value)}catch(H){console.warn("Invalid Regex Replacement",H)}l.editorView.dispatch({changes:{from:ye,to:be,insert:ie},selection:{anchor:ye+ie.length}}),C()}function T(){if(!Z()||!$.value)return;const se=[...y.value].sort((ee,P)=>ee[0].line!==P[0].line?P[0].line-ee[0].line:P[0].ch-ee[0].ch).map(ee=>{const P=ee[0],ye=ee[1],be=l.editorView.state.doc.line(P.line+1),ie=l.editorView.state.doc.line(ye.line+1),H=be.from+P.ch,xe=ie.from+ye.ch;let Be=b.value;if(u.value)try{Be=l.editorView.state.sliceDoc(H,xe).replace(new RegExp(i.value,"gm"),b.value)}catch(Oe){console.warn("Invalid Regex Replacement",Oe)}return{from:H,to:xe,insert:Be}});l.editorView.dispatch({changes:se}),C()}function re(ae){i.value=ae,r.value?setTimeout(()=>{s.value?.focus(),s.value?.select()},0):r.value=!0}function Q(ae){i.value=ae,w.value=!0,r.value?setTimeout(()=>{s.value?.focus(),s.value?.select()},0):r.value=!0}Uo(()=>{_()});function Z(){return h.value>0}return a({showSearchTab:r,searchWord:i,setSearchWord:re,setSearchWithReplace:Q,showReplace:w}),(ae,se)=>{const ee=Ge,P=Et;return v(),B(pn,{name:"slide-down"},{default:o(()=>[e(r)?(v(),N("div",{key:0,class:we(["bg-background absolute right-0 top-0 z-50 min-w-[300px] w-fit flex gap-1 border rounded-lg px-2 py-1 shadow-md transition-all",e(w)?"items-start":"items-center"])},[t(ee,{variant:"ghost",title:"切换替换","aria-label":"切换替换",class:"h-7 w-5 flex items-center justify-center p-0",onClick:I},{default:o(()=>[(v(),B($t(e(w)?e(bo):e(ko)),{class:"h-3.5 w-3.5"}))]),_:1}),c("div",M2,[c("div",U2,[t(P,{ref_key:"searchInputRef",ref:s,modelValue:e(i),"onUpdate:modelValue":se[0]||(se[0]=ye=>_e(i)?i.value=ye:null),placeholder:"查找",class:"h-7 w-40 text-sm",onKeydown:O},null,8,["modelValue"]),t(ee,{variant:"ghost",size:"xs",title:"区分大小写","aria-label":"区分大小写",class:we(["h-6 w-6 p-0",{"bg-accent":e(p)}]),onClick:j},{default:o(()=>[t(e(Cd),{class:"h-3 w-3"})]),_:1},8,["class"]),t(ee,{variant:"ghost",size:"xs",title:"正则表达式","aria-label":"正则表达式",class:we(["h-6 w-6 p-0",{"bg-accent":e(u)}]),onClick:x},{default:o(()=>[t(e(Sd),{class:"h-3 w-3"})]),_:1},8,["class"]),t(ee,{variant:"ghost",size:"xs",title:"在选区内查找","aria-label":"在选区内查找",class:we(["h-6 w-6 p-0",{"bg-accent":e(d)}]),onClick:ne},{default:o(()=>[t(e($d),{class:"h-3 w-3"})]),_:1},8,["class"]),c("span",V2,V(e(h)?e(g)+1:0)+"/"+V(e(h)),1),t(ee,{variant:"ghost",size:"xs",title:"上一处","aria-label":"上一处",class:"h-6 w-6 p-0",onClick:A},{default:o(()=>[t(e(Vl),{class:"h-3 w-3"})]),_:1}),t(ee,{variant:"ghost",size:"xs",title:"下一处","aria-label":"下一处",class:"h-6 w-6 p-0",onClick:R},{default:o(()=>[t(e(bo),{class:"h-3 w-3"})]),_:1}),t(ee,{variant:"ghost",size:"xs",title:"关闭","aria-label":"关闭",class:"h-6 w-6 p-0",onClick:L},{default:o(()=>[t(e(Jt),{class:"h-3 w-3"})]),_:1})]),e(w)?(v(),N("div",H2,[t(P,{modelValue:e(b),"onUpdate:modelValue":se[1]||(se[1]=ye=>_e(b)?b.value=ye:null),placeholder:"替换",class:"h-7 w-40 text-sm",onKeydown:M},null,8,["modelValue"]),t(ee,{variant:"ghost",size:"xs",title:"替换","aria-label":"替换",class:"h-6 w-6 p-0",onClick:G},{default:o(()=>[t(e(Yn),{class:"h-3 w-3"})]),_:1}),t(ee,{variant:"ghost",size:"xs",title:"全部替换","aria-label":"全部替换",class:"h-6 w-6 p-0",onClick:T},{default:o(()=>[t(e(Td),{class:"h-3 w-3"})]),_:1})])):fe("",!0)])],2)):fe("",!0)]),_:1})}}}),F2=st(z2,[["__scopeId","data-v-aa4ec3a4"]]);async function Yr(n,a){if(n){const s=a==="github"?Mc:Uc,{username:i,repoList:u,branch:p,accessTokenList:d}=s,g=Math.floor(Math.random()*d.length),w=d[g].replace("doocsmd",""),b=Math.floor(Math.random()*u.length),k=u[b];return{username:i,repo:k,branch:p,accessToken:w}}const l=await z.getJSON(`${a}Config`,{})||{},r=l.repo.replace(`https://${a}.com/`,"").replace(`http://${a}.com/`,"").replace(`${a}.com/`,"").split("/");return{username:r[0],repo:r[1],branch:l.branch||"master",accessToken:l.accessToken}}function Ea(){const n=new Date,a=n.getFullYear(),l=(n.getMonth()+1).toString().padStart(2,"0"),r=n.getDate().toString().padStart(2,"0");return`${a}/${l}/${r}`}function zt(n){const a=new Date().getTime(),l=n.split(".").pop();return`${a}-${ao()}.${l}`}async function yl(n,a){const l=await z.get("imgHost")==="default",{username:r,repo:s,branch:i,accessToken:u}=await Yr(l,"github"),p=Ea(),d=`https://api.github.com/repos/${r}/${s}/contents/${p}/`,g=zt(a),w=await kt({url:d+g,method:"put",headers:{Authorization:`token ${u}`},data:{content:n,branch:i,message:`Upload by ${window.location.href}`}}),b=`raw.githubusercontent.com/${r}/${s}/${i}/`,k=`fastly.jsdelivr.net/gh/${r}/${s}@${i}/`;return w.content=w.data?.content||w.content,l?w.content.download_url.replace(b,k):w.content.download_url}async function q2(n,a){const l=await z.get("imgHost")==="default",{username:r,repo:s,branch:i,accessToken:u}=await Yr(l,"gitee"),p=Ea(),d=zt(a),g=`https://gitee.com/api/v5/repos/${r}/${s}/contents/${p}/${d}`,w=await kt({url:g,method:"POST",data:{content:n,branch:i,access_token:u,message:`Upload by ${window.location.href}`}});return w.content=w.data?.content||w.content,encodeURI(w.content.download_url)}function K2(n,a,l){const r=JSON.stringify(l),s=gr(fr(r)),u=lo.HmacSHA1(s,a).toString(lo.enc.Base64);return`${n}:${wr(u)}:${s}`}async function j2(n){const a=await z.get("qiniuConfig"),{accessKey:l,secretKey:r,bucket:s,region:i,path:u,domain:p}=JSON.parse(a),d=K2(l,r,{scope:s,deadline:Math.trunc(new Date().getTime()/1e3)+3600}),w=(u?`${u}/`:"")+zt(n.name),b=Hd(n,w,d,{},{region:i});return new Promise((k,y)=>{b.subscribe({next:h=>{console.log(h)},error:h=>{y(h.message)},complete:h=>{k(`${p}/${h.key}`)}})})}async function W2(n){const a=zt(n.name),l=await z.getJSON("aliOSSConfig",{region:"",bucket:"",accessKeyId:"",accessKeySecret:"",useSSL:!0,cdnHost:"",path:""}),{region:r,bucket:s,accessKeyId:i,accessKeySecret:u,useSSL:p,cdnHost:d,path:g}=l||{region:"",bucket:"",accessKeyId:"",accessKeySecret:"",useSSL:!0,cdnHost:"",path:""},b=p===void 0||p?"https":"http",k=`${b}://${r}.aliyuncs.com`,y={region:r,credentials:{accessKeyId:i,secretAccessKey:u},endpoint:k,forcePathStyle:!1},h=new So(y),E=(g?`${g}/`:"")+a,f=new Co({Bucket:s,Key:E,ContentType:n.type});try{const _=await Eo(h,f,{expiresIn:300}),U=await window.fetch(_,{method:"PUT",headers:{"Content-Type":n.type},body:n});if(!U.ok)throw new Error(`Upload failed: ${U.statusText}`);return d?`${d.endsWith("/")?d.slice(0,-1):d}/${E}`:`${b}://${s}.${r}.aliyuncs.com/${E}`}catch(_){return Promise.reject(_)}}async function Y2(n){const a=zt(n.name),l=await z.get("txCOSConfig"),{secretId:r,secretKey:s,bucket:i,region:u,path:p,cdnHost:d}=JSON.parse(l),g=`https://cos.${u}.myqcloud.com`,w={region:u,credentials:{accessKeyId:r,secretAccessKey:s},endpoint:g,forcePathStyle:!1},b=new So(w),y=(p?`${p}/`:"")+a,h=new Co({Bucket:i,Key:y,ContentType:n.type});try{const $=await Eo(b,h,{expiresIn:300}),E=await window.fetch($,{method:"PUT",headers:{"Content-Type":n.type},body:n});if(!E.ok)throw new Error(`Upload failed: ${E.statusText}`);return d?p===""?`${d}/${a}`:`${d}/${p}/${a}`:`https://${i}.cos.${u}.myqcloud.com/${y}`}catch($){return Promise.reject($)}}async function J2(n){const a=zt(n.name),l=await z.get("minioConfig"),{endpoint:r,port:s,useSSL:i,bucket:u,accessKey:p,secretKey:d}=JSON.parse(l),g=new So({endpoint:`${i?"https":"http"}://${r}${s?`:${s}`:""}`,credentials:{accessKeyId:p,secretAccessKey:d},region:"auto",forcePathStyle:!0}),w=new Co({Bucket:u,Key:a,ContentType:n.type}),b=await Eo(g,w,{expiresIn:300});return await kt(b,{method:"PUT",headers:{"Content-Type":n.type},data:n}).catch(k=>{console.log(k)}),`${i?"https":"http"}://${r}${s?`:${s}`:""}/${u}/${a}`}async function Z2(n){const a=zt(n.name),l=await z.getJSON("s3Config",{endpoint:"",region:"",bucket:"",accessKeyId:"",accessKeySecret:"",path:"",cdnHost:"",pathStyle:!1}),{endpoint:r,region:s,bucket:i,accessKeyId:u,accessKeySecret:p,path:d,cdnHost:g,pathStyle:w}=l,b={region:s,credentials:{accessKeyId:u,secretAccessKey:p},forcePathStyle:w};r&&(b.endpoint=r.startsWith("http")?r:`https://${r}`);const k=new So(b),h=(d?`${d}/`:"")+a,$=new Co({Bucket:i,Key:h,ContentType:n.type});try{const E=await Eo(k,$,{expiresIn:300}),f=await window.fetch(E,{method:"PUT",headers:{"Content-Type":n.type},body:n});if(!f.ok)throw new Error(`Upload failed: ${f.statusText}`);if(g)return`${g.endsWith("/")?g.slice(0,-1):g}/${h}`;if(r){const _=b.endpoint.startsWith("https")?"https":"http",U=b.endpoint.replace(/^https?:\/\//,"");return w?`${_}://${U}/${i}/${h}`:`${_}://${i}.${U}/${h}`}return`https://${i}.s3.${s}.amazonaws.com/${h}`}catch(E){throw console.error(E),E}}async function X2(n,a,l){const r=await z.get(`mpToken:${n}`);if(r){const p=JSON.parse(r);if(p.expire&&p.expire>new Date().getTime())return p.access_token}const s={method:"POST",data:{grant_type:"client_credential",appid:n,secret:a}};let i="https://api.weixin.qq.com/cgi-bin/stable_token";l&&(i=`${l}/cgi-bin/stable_token`);const u=await kt(i,s);if(u.access_token){const p={...u,expire:new Date().getTime()+u.expires_in*1e3};return await z.setJSON(`mpToken:${n}`,p),u.access_token}return""}async function Q2(n){const a=await z.get("mpConfig");let{appID:l,appsecret:r,proxyOrigin:s}=JSON.parse(a);const i=await X2(l,r,s);if(!i)throw new Error("获取 access_token 失败");const u=new FormData;u.append("media",n,n.name);const p={method:"POST",data:u};let d=`https://api.weixin.qq.com/cgi-bin/material/add_material?access_token=${i}&type=image`;const g=n.size/(1024*1024),w=n.type.toLowerCase();g<1&&(w==="image/jpeg"||w==="image/png")&&(d=`https://api.weixin.qq.com/cgi-bin/media/uploadimg?access_token=${i}`),s&&(d=d.replace("https://api.weixin.qq.com",s));const b=await kt(d,p);if(!b.url)throw new Error("上传失败，未获取到URL");let k=b.url;return s&&window.location.href.startsWith("http")&&(k=`https://wsrv.nl?url=${encodeURIComponent(k)}`),k}async function ev(n){const a=await z.get("r2Config"),{accountId:l,accessKey:r,secretKey:s,bucket:i,path:u,domain:p}=JSON.parse(a),g=(u?`${u}/`:"")+zt(n.name),w=new So({region:"auto",endpoint:`https://${l}.r2.cloudflarestorage.com`,credentials:{accessKeyId:r,secretAccessKey:s}}),b=await Eo(w,new Co({Bucket:i,Key:g,ContentType:n.type}),{expiresIn:300});return await kt(b,{method:"PUT",headers:{"Content-Type":n.type},data:n}).catch(k=>{console.log(k)}),`${p}/${g}`}async function tv(n){const a=await z.get("upyunConfig"),{bucket:l,operator:r,password:s,path:i,domain:u}=JSON.parse(a),p=`${i}/${zt(n.name)}`,d=`/${l}/${p}`,g=await n.arrayBuffer(),w=new Date().toUTCString(),k=["PUT",d,w].join("&"),y=lo.MD5(s).toString(),h=lo.HmacSHA1(k,y).toString(lo.enc.Base64),$=`UPYUN ${r}:${h}`,E=`https://v0.api.upyun.com${d}`,f=await window.fetch(E,{method:"PUT",headers:{Authorization:$,"X-Date":w,"Content-Type":n.type},body:g});if(!f.ok)throw new Error(`上传失败: ${await f.text()}`);return`${u}/${p}`}async function ov(n){const a=await z.getJSON("telegramConfig",{token:"",chatId:""}),{token:l,chatId:r}=a||{token:"",chatId:""},s=new FormData;s.append("chat_id",r),s.append("photo",n,n.name);const i=await kt({url:`https://api.telegram.org/bot${l}/sendPhoto`,method:"POST",data:s});if(!i.ok||!i.result.photo.length)throw new Error("Telegram sendPhoto 失败");const u=i.result.photo[i.result.photo.length-1].file_id,p=await kt({url:`https://api.telegram.org/bot${l}/getFile?file_id=${u}`,method:"GET"});if(!p.ok)throw new Error("Telegram getFile 失败");const d=p.result.file_path;return`https://api.telegram.org/file/bot${l}/${d}`}async function nv(n){const a=await z.getJSON("cloudinaryConfig",{cloudName:"",apiKey:"",apiSecret:"",uploadPreset:"",folder:"",domain:""}),{cloudName:l,apiKey:r,apiSecret:s,uploadPreset:i,folder:u="",domain:p}=a||{cloudName:"",apiKey:"",apiSecret:"",uploadPreset:"",folder:"",domain:""};if(!l||!r)throw new Error("Cloudinary 配置缺少 cloudName / apiKey");const d=Math.floor(Date.now()/1e3),g=new FormData;if(g.append("file",n),g.append("api_key",r),g.append("timestamp",`${d}`),s){const y=[];u&&y.push(`folder=${u}`),i&&y.push(`upload_preset=${i}`),y.push(`timestamp=${d}`);const h=y.sort().join("&"),$=lo.SHA1(h+s).toString();g.append("signature",$)}else if(i)g.append("upload_preset",i);else throw new Error("未配置 apiSecret 时必须提供 uploadPreset");u&&g.append("folder",u);const w=`https://api.cloudinary.com/v1_1/${l}/image/upload`,b=await kt(w,{method:"POST",data:g}),k=b.secure_url||b.url;if(!k)throw new Error("Cloudinary 返回缺少 url 字段");if(p){const{pathname:y,search:h}=new URL(k);return`${p}${y}${h}`}return k}async function av(n,a){const r=`
    async (CUSTOM_ARG) => {
      ${await z.get("formCustomConfig")}
    }
  `;return new Promise((s,i)=>{const u={content:n,file:a,util:{axios:kt,CryptoJS:lo,Buffer:Ud,uuidv4:ao,qiniu:Vd,tokenTools:l1,getDir:Ea,getDateFilename:zt,S3:{S3Client:So,PutObjectCommand:Co,getSignedUrl:Eo}},okCb:s,errCb:i};new Function(`return ${r}`)()(u).catch(d=>{console.error(d),i(d)})})}async function Jr(n,a){const l=await z.get("imgHost");switch(l||await z.set("imgHost","default"),l){case"aliOSS":return W2(a);case"minio":return J2(a);case"s3":return Z2(a);case"txCOS":return Y2(a);case"qiniu":return j2(a);case"gitee":return q2(n,a.name);case"github":return yl(n,a.name);case"mp":return Q2(a);case"r2":return ev(a);case"upyun":return tv(a);case"telegram":return ov(a);case"cloudinary":return nv(a);case"formCustom":return av(n,a);default:return yl(n,a.name)}}const xl="uploaded_image_map";function lv(){const n=D(!1),a=D(null),l=()=>{try{const p=localStorage.getItem(xl);return p?JSON.parse(p):{}}catch{return{}}},r=(p,d)=>{const g=l();g[p]=d,localStorage.setItem(xl,JSON.stringify(g))},s=p=>new Promise((d,g)=>{const w=new FileReader,b=new Md.ArrayBuffer;w.onload=k=>{k.target?.result?(b.append(k.target.result),d(b.end())):g(new Error("文件读取失败"))},w.onerror=()=>g(new Error("文件读取错误")),w.readAsArrayBuffer(p)}),i=async p=>{const g=(b=>b.split("/").pop()?.split("?")[0]||`image-${Date.now()}.png`)(p),w=async(b,k)=>{const y=await fetch(b,k);if(!y.ok)throw new Error(`Status: ${y.status}`);return await y.blob()};try{const b=await w(p,{referrerPolicy:"no-referrer"});return new File([b],g,{type:b.type})}catch(b){console.warn(`Direct fetch failed for ${p}, trying proxy...`,b);try{const k=`https://wsrv.nl/?url=${encodeURIComponent(p)}`,y=await w(k);return new File([y],g,{type:y.type})}catch(k){console.error(`Proxy fetch failed for ${p}`,k);const h=k.message.includes("Failed to fetch")||k.name==="TypeError"?"跨域请求失败：目标图片禁止了跨域访问，且代理服务也无法获取。":`图片下载失败: ${k.message}`;throw new Error(h)}}};return{upload:async p=>{n.value=!0,a.value=null;try{let d;typeof p=="string"?d=await i(p):d=p;const g=await s(d);console.log("File Hash:",g);const w=l();if(w[g])return console.log("⚡️ 命中缓存，跳过上传"),w[g];const b=await mr(d);console.log("🚀 调用 fileUpload 上传...");const k=await Jr(b,d);return k&&r(g,k),k}catch(d){console.error(d);const g=d.message||"上传失败";throw a.value=g,new Error(g)}finally{n.value=!1}},isUploading:n,error:a}}const rv={class:"container flex flex-col"},sv={class:"container-main flex flex-1 flex-col"},iv={class:"container-main-section border-radius-10 relative flex flex-1 overflow-hidden border"},uv=["innerHTML"],dv={key:0,class:"loading-mask"},cv={key:0,class:"fixed bottom-16 right-6 z-50 flex flex-col gap-2"},pv=Y({__name:"CodemirrorEditor",setup(n){const a=ot(),l=Ht(),r=At(),s=jt(),i=Fe(),u=Ho(),{upload:p}=lv(),{editor:d}=Re(a),{output:g}=Re(r),{isDark:w}=Re(i),{posts:b,currentPostIndex:k}=Re(l),{previewWidth:y}=Re(s),{isMobile:h,isEditOnLeft:$,isOpenPostSlider:E,isOpenFolderPanel:f,isOpenRightSlider:_,isOpenConfirmDialog:U,enableImageReupload:C}=Re(i),{toggleShowUploadImgDialog:R}=i;function A(){s.updateCodeTheme();const ue=a.getContent();r.render(ue)}function I(){s.resetStyle(),u.resetCssConfig(),s.applyCurrentTheme(),A(),de.success("样式已重置")}Ie(g,()=>{_t(()=>{const ue=document.getElementById("output");ue&&Jd(tn,ue)})});const x=D(!1),j=D(!1);function ne(){return document.querySelector(".cm-scroller")||document.querySelector(".CodeMirror-scroll")}function L(){x.value=!0,j.value=!0}function O(){x.value=!1,setTimeout(()=>{j.value=!1},800)}const M=D(!0);function G(){M.value=!M.value}const T=Yt("previewRef"),re=D(),Q=D(null),Z=new sa;function ae(){const ue=De=>{let Ae,Pe;if(clearTimeout(re.value),De==="preview"){if(Ae=T.value,Pe=ne(),!Pe){console.warn("Cannot find CodeMirror scroll container");return}const St=ne();St&&(St.removeEventListener("scroll",me),re.value=setTimeout(()=>{St.addEventListener("scroll",me)},300))}else{if(Ae=ne(),Pe=T.value,!Ae){console.warn("Cannot find CodeMirror scroll container");return}Pe.removeEventListener("scroll",ce,!1),re.value=setTimeout(()=>{Pe.addEventListener("scroll",ce,!1)},300)}if(!Ae||!Pe)return;const qe=Ae.scrollHeight-Ae.offsetHeight,nt=Pe.scrollHeight-Pe.offsetHeight;if(qe<=0||nt<=0)return;const Qe=Ae.scrollTop/qe*nt;Pe.scrollTo(0,Qe)};function me(){ue("editor")}function ce(){ue("preview")}T.value&&T.value.addEventListener("scroll",ce,!1);const q=ne();q&&q.addEventListener("scroll",me)}ct(()=>{setTimeout(()=>{ae()},300)});const se=Yt("searchTabRef"),ee=D(null);function P(ue){const me=ue.state.selection.main,ce=ue.state.doc.sliceString(me.from,me.to).trim();se.value?ce?se.value.setSearchWord(ce):se.value.showSearchTab=!0:ee.value={selected:ce}}function ye(ue){const me=ue.state.selection.main,ce=ue.state.doc.sliceString(me.from,me.to).trim();se.value?se.value.setSearchWithReplace(ce):i.openSearchTab(ce,!0)}Ie(se,ue=>{if(ue&&ee.value){const{selected:me}=ee.value;me?ue.setSearchWord(me):ue.showSearchTab=!0,ee.value=null}});const{searchTabRequest:be}=Re(i);Ie(be,ue=>{if(ue&&se.value){const{word:me,showReplace:ce}=ue;ce?se.value.setSearchWithReplace(me):me?se.value.setSearchWord(me):se.value.showSearchTab=!0,i.clearSearchTabRequest()}});function ie(ue){const me=Q.value;ue.key==="Escape"&&se.value?.showSearchTab&&(se.value.showSearchTab=!1,ue.preventDefault(),me?.focus())}ct(()=>{document.addEventListener("keydown",ie,{passive:!1,capture:!1})});async function H(ue){const me=pr(ue);if(!me.ok)return de.error(me.msg),!1;const ce=await z.get("imgHost")||"default";await z.set("imgHost",ce);const q=await z.get(`${ce}Config`);return ce==="default"||q?!0:(de.error(`请先配置 ${ce} 图床参数`),!1)}function xe(ue){if(!ue){de.error("上传图片未知异常");return}setTimeout(()=>{R(!1)},1e3);const me=`![](${ue})`;Q.value&&Q.value.dispatch(Q.value.state.replaceSelection(`
${me}
`)),de.success("图片上传成功")}const Be=D(!1);async function Oe(ue){return await Pd(ue,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0})}async function F(ue,me,ce){try{Be.value=!0,await z.get("useCompression")==="true"&&(ue=await Oe(ue));const De=await mr(ue),Ae=await Jr(De,ue);if(me?me(Ae,De):xe(Ae),ce)return xe(Ae)}catch(q){de.error(q.message)}finally{Be.value=!1}}async function J({list:ue}){return new Promise(me=>{const{path:ce,file:q}=ue.find(Ae=>Ae.path.match(/\.md$/)),De=new FileReader;De.readAsText(q,"UTF-8"),De.onload=Ae=>{me({str:Ae.target.result,file:q,path:ce})}})}async function W(ue){const me=[];let ce="";try{const q=[ue];for(const De of q){ce+=`${De.name}/`;for await(const[,Ae]of De)Ae.kind==="file"?me.push({path:ce+Ae.name,file:await Ae.getFile()}):(me.push({path:`${ce+Ae.name}/`}),q.push(Ae))}}catch(q){console.error(q)}return me}async function K({md:ue,list:me}){const ce=[...ue.str.matchAll(/!\[(.*?)\]\((.*?)\)/g)||[]].filter(Ae=>Ae),q=ue.path.match(/.+?\//)[0];(await Promise.all(ce.map(Ae=>new Promise(Pe=>{let[,,qe]=Ae;qe=qe.replace(/^.\//,"");const{file:nt}=me.find(Xe=>Xe.path===`${q}${qe}`)||{};F(nt,Xe=>Pe({matchStr:qe,url:Xe}))})))).forEach(Ae=>{ue.str=ue.str.replace(`](./${Ae.matchStr})`,`](${Ae.url})`).replace(`](${Ae.matchStr})`,`](${Ae.url})`)}),Q.value&&Q.value.dispatch({changes:{from:0,to:Q.value.state.doc.length,insert:ue.str}})}const le=Yt("codeMirrorWrapper");function Le(){const ue=le.value;ue.ondragover=me=>me.preventDefault(),ue.ondrop=async me=>{if(me.preventDefault(),!(me.dataTransfer==null||!Array.isArray(me.dataTransfer.items)))for(const ce of me.dataTransfer.items.filter(q=>q.kind==="file"))ce.getAsFileSystemHandle().then(async q=>{if(q.kind==="directory"){const De=await W(q),Ae=await J({list:De});K({md:Ae,list:De})}else{const De=await q.getFile();console.log("file",De),await H(De)&&F(De)}})}}const pe=D(),He=Yt("editorRef"),We=D(0);function Ye(ue){const me=cn.create({doc:b.value[k.value].content,extensions:[$1({onSearch:P,onReplace:ye}),Z.of(xo(w.value)),Mt.updateListener.of(q=>{if(q.docChanged){const De=q.state.doc.toString();clearTimeout(pe.value),pe.value=setTimeout(()=>{A();const Ae=b.value[k.value];De!==Ae.content&&(Ae.updateDatetime=new Date,Ae.content=De)},300)}}),Mt.domEventHandlers({paste:(q,De)=>{if(q.clipboardData?.items&&[...q.clipboardData.items].some(Pe=>Pe.kind==="file"))return Be.value||Promise.all([...q.clipboardData.items].map(Pe=>Pe.getAsFile()).filter(Pe=>Pe!=null).map(async Pe=>await H(Pe)?Pe:null)).then(Pe=>{const qe=Pe.filter(Qe=>Qe!=null);if(qe.length===0)return;const nt=setInterval(()=>{const Qe=We.value+1;Qe>=100||(We.value=Qe)},100);(async()=>{for(const Qe of qe)await F(Qe);clearInterval(nt),We.value=100,setTimeout(()=>{We.value=0},1e3)})()}),!0;const Ae=q.clipboardData?.getData("text/plain");if(Ae){const Pe=/!\[(.*?)\]\((https?:\/\/[^)]+)\)/g,qe=[...Ae.matchAll(Pe)];if(qe.length>0){Be.value=!0;let nt=Ae;const Xe=new Map;let Qe=0;nt=nt.replace(Pe,(Me,it,Lt)=>{const Je=`LOADING_${Date.now()}_${Qe++}`;return Xe.set(Je,{originalUrl:Lt,originalAlt:it}),`![⏳ 转存中...](${Je})`}),De.dispatch(De.state.replaceSelection(nt));const St=[...new Set(qe.map(Me=>Me[2]))];return Promise.all(St.map(async Me=>{try{const it=C.value?await p(Me):Me;for(const[Lt,Je]of Xe.entries())if(Je.originalUrl===Me){const Se=`![⏳ 转存中...](${Lt})`,ze=De.state.doc.toString().indexOf(Se);if(ze!==-1){const rt=`![${Je.originalAlt}](${it})`;De.dispatch({changes:{from:ze,to:ze+Se.length,insert:rt}})}}}catch(it){console.error(`转存失败: ${Me}`,it);for(const[Lt,Je]of Xe.entries())if(Je.originalUrl===Me){const Se=`![⏳ 转存中...](${Lt})`,ze=De.state.doc.toString().indexOf(Se);if(ze!==-1){const rt=`![${Je.originalAlt}](${Je.originalUrl})`;De.dispatch({changes:{from:ze,to:ze+Se.length,insert:rt}})}}de.error("图片转存失败，已保留原链接")}})).finally(()=>{Be.value=!1}),!0}}return!1}})]}),ce=new Mt({state:me,parent:ue});return Q.value=ce,ce}ct(()=>{const ue=He.value;ue!=null&&(r.initRendererInstance({isMacCodeBlock:s.isMacCodeBlock,isShowLineNumber:s.isShowLineNumber}),s.applyCurrentTheme(),_t(()=>{const me=Ye(ue);d.value=me,A(),Le()}))}),Ie(w,()=>{Q.value&&Q.value.dispatch({effects:Z.reconfigure(xo(w.value))}),A()}),Ie(k,()=>{if(!Q.value)return;const ue=b.value[k.value];if(!ue)return;Q.value.state.doc.toString()!==ue.content&&(Q.value.dispatch({changes:{from:0,to:Q.value.state.doc.length,insert:ue.content}}),A())});const Ce=D();return ct(()=>{Ce.value=setInterval(()=>{const ue=b.value[k.value];(ue.history||[])[0]?.content!==ue.content&&(ue.history??=[],ue.history.unshift({content:ue.content,datetime:new Date().toLocaleString("zh-CN")}),ue.history.length=Math.min(ue.history.length,10))},30*1e3)}),Uo(()=>{clearTimeout(Ce.value),clearTimeout(re.value),clearTimeout(pe.value),document.removeEventListener("keydown",ie)}),(ue,me)=>{const ce=Lr,q=xw,De=Fm,Ae=Em,Pe=tm,qe=em,nt=Xp,Xe=Up,Qe=pp,St=O0,Me=A0,it=g0,Lt=r0,Je=_n,Se=xn,ve=yn,ze=bn,rt=hn,Sn=vn,$n=wn,Tn=gn,An=R1;return v(),N("div",rv,[t(ce,{modelValue:e(We),"onUpdate:modelValue":me[0]||(me[0]=S=>_e(We)?We.value=S:null),class:"absolute left-0 right-0 rounded-none",style:{height:"2px"}},null,8,["modelValue"]),t(q,{onStartCopy:L,onEndCopy:O}),c("main",sv,[c("div",iv,[t(e(P2),{direction:"horizontal"},{default:o(()=>[t(e(Gn),{"default-size":15,"max-size":e(E)?20:0,"min-size":e(E)?10:0},{default:o(()=>[t(De)]),_:1},8,["max-size","min-size"]),t(e(bl),{class:"hidden md:block"}),t(e(Gn),{"default-size":e(f)?15:0,"max-size":e(f)?25:0,"min-size":e(f)?10:0},{default:o(()=>[t(N2)]),_:1},8,["default-size","max-size","min-size"]),e(f)?(v(),B(e(bl),{key:0,class:"hidden md:block"})):fe("",!0),t(e(Gn),{class:"flex"},{default:o(()=>[dt(c("div",{ref_key:"codeMirrorWrapper",ref:le,class:we(["codeMirror-wrapper relative flex-1",{"order-1 border-l":!e($),"border-r":e($)}])},[e(Q)?(v(),B(e(F2),{key:0,ref_key:"searchTabRef",ref:se,"editor-view":e(Q)},null,8,["editor-view"])):fe("",!0),t(e(p2),{"is-mobile":e(h),"show-editor":e(M)},null,8,["is-mobile","show-editor"]),t(Ae,null,{default:o(()=>[c("div",{id:"editor",ref_key:"editorRef",ref:He,class:"codemirror-container"},null,512)]),_:1})],2),[[qt,!e(h)||e(h)&&e(M)]]),dt(c("div",{class:we(["relative flex-1 overflow-x-hidden transition-width",[e(_)?"w-0":"w-100"]])},[c("div",{id:"preview",ref_key:"previewRef",ref:T,class:"preview-wrapper w-full p-5 flex justify-center"},[c("div",{id:"output-wrapper",class:we(["w-full max-w-full",{output_night:!e(x)}])},[c("div",{class:we(["preview border-x shadow-xl mx-auto",[e(h)?"w-full":e(y),e(s).previewWidth==="w-[375px]"?"max-w-full":""]])},[c("section",{id:"output",class:"w-full",innerHTML:e(g)},null,8,uv),e(j)?(v(),N("div",dv,[...me[2]||(me[2]=[c("div",{class:"loading-mask-box"},[c("div",{class:"loading__img"}),c("span",null,"正在生成")],-1)])])):fe("",!0)],2)],2),t(Pe,{target:"preview",right:e(h)?24:20,bottom:e(h)?90:20},null,8,["right","bottom"])],512),t(qe)],2),[[qt,!e(h)||e(h)&&!e(M)]]),t(nt),t(Xe)]),_:1})]),_:1})]),e(h)?(v(),N("div",cv,[c("button",{class:"bg-primary flex items-center justify-center rounded-full p-3 text-white shadow-lg transition active:scale-95 hover:scale-105 dark:bg-gray-700 dark:text-white dark:ring-2 dark:ring-white/30","aria-label":"切换编辑/预览",onClick:G},[(v(),B($t(e(M)?e(ua):e(Ad)),{class:"h-5 w-5"}))])])):fe("",!0),t(Qe,{onUploadImage:F}),t(St),t(Me),t(it),t(Lt),t(Tn,{open:e(U),"onUpdate:open":me[1]||(me[1]=S=>_e(U)?U.value=S:null)},{default:o(()=>[t($n,null,{default:o(()=>[t(ve,null,{default:o(()=>[t(Je,null,{default:o(()=>[...me[3]||(me[3]=[m("提示",-1)])]),_:1}),t(Se,null,{default:o(()=>[...me[4]||(me[4]=[m(" 此操作将丢失本地自定义样式，是否继续？ ",-1)])]),_:1})]),_:1}),t(Sn,null,{default:o(()=>[t(ze,null,{default:o(()=>[...me[5]||(me[5]=[m("取消",-1)])]),_:1}),t(rt,{onClick:I},{default:o(()=>[...me[6]||(me[6]=[m(" 确定 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),t(An)])}}}),mv=st(pv,[["__scopeId","data-v-be4b9f4f"]]),fv=Y({__name:"App",setup(n){const a=Fe(),{isDark:l}=Re(a),r=D(!1);return ct(()=>{r.value=!!window.__MD_UTOOLS__,r.value&&document.documentElement.classList.add("is-utools");const s=new URLSearchParams(window.location.search),i=s.get("open");if(i&&URL.canParse(i)&&/^https?:\/\//i.test(i)){a.importMdOpenUrl=i,a.isShowImportMdDialog=!0,s.delete("open");const u=s.toString(),p=window.location.pathname+(u?`?${u}`:"")+window.location.hash;window.history.replaceState({},"",p)}}),(s,i)=>{const u=oc;return v(),N(Te,null,[t(u),t(mv),t(e(nc),{"rich-colors":"",position:"top-center",theme:e(l)?"dark":"light"},null,8,["theme"])],64)}}});class gv extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const a=this.dataset.nickname||"",l=this.dataset.headimg||"",r=this.dataset.signature||"",s=this.dataset.service_type||"1",i=this.dataset.verify_status||"0";this.shadowRoot.innerHTML=`
      <style>
        :host {
          all: initial;
          -webkit-text-size-adjust: inherit;

        }
      </style>
      <style>@media (prefers-color-scheme:dark){.wx-root:not([data-weui-theme=light]),body:not([data-weui-theme=light]){--weui-BG-0:#111;--weui-BG-1:#1e1e1e;--weui-BG-2:#191919;--weui-BG-3:#202020;--weui-BG-4:#404040;--weui-BG-5:#2c2c2c;--weui-BLUE-100:#10aeff;--weui-BLUE-120:#0c8bcc;--weui-BLUE-170:#04344d;--weui-BLUE-80:#3fbeff;--weui-BLUE-90:#28b6ff;--weui-BLUE-BG-100:#48a6e2;--weui-BLUE-BG-110:#4095cb;--weui-BLUE-BG-130:#32749e;--weui-BLUE-BG-90:#5aafe4;--weui-BRAND-100:#07c160;--weui-BRAND-120:#059a4c;--weui-BRAND-170:#023a1c;--weui-BRAND-80:#38cd7f;--weui-BRAND-90:#20c770;--weui-BRAND-BG-100:#2aae67;--weui-BRAND-BG-110:#259c5c;--weui-BRAND-BG-130:#1d7a48;--weui-BRAND-BG-90:#3eb575;--weui-FG-0:hsla(0,0%,100%,0.8);--weui-FG-0_5:hsla(0,0%,100%,0.6);--weui-FG-1:hsla(0,0%,100%,0.5);--weui-FG-2:hsla(0,0%,100%,0.3);--weui-FG-3:hsla(0,0%,100%,0.1);--weui-FG-4:hsla(0,0%,100%,0.15);--weui-GLYPH-0:hsla(0,0%,100%,0.8);--weui-GLYPH-1:hsla(0,0%,100%,0.5);--weui-GLYPH-2:hsla(0,0%,100%,0.3);--weui-GLYPH-WHITE-0:hsla(0,0%,100%,0.8);--weui-GLYPH-WHITE-1:hsla(0,0%,100%,0.5);--weui-GLYPH-WHITE-2:hsla(0,0%,100%,0.3);--weui-GLYPH-WHITE-3:#fff;--weui-GREEN-100:#74a800;--weui-GREEN-120:#5c8600;--weui-GREEN-170:#233200;--weui-GREEN-80:#8fb933;--weui-GREEN-90:#82b01a;--weui-GREEN-BG-100:#789833;--weui-GREEN-BG-110:#6b882d;--weui-GREEN-BG-130:#65802b;--weui-GREEN-BG-90:#85a247;--weui-INDIGO-100:#1196ff;--weui-INDIGO-120:#0d78cc;--weui-INDIGO-170:#052d4d;--weui-INDIGO-80:#40abff;--weui-INDIGO-90:#28a0ff;--weui-INDIGO-BG-100:#0d78cc;--weui-INDIGO-BG-110:#0b6bb7;--weui-INDIGO-BG-130:#09548f;--weui-INDIGO-BG-90:#2585d1;--weui-LIGHTGREEN-100:#3eb575;--weui-LIGHTGREEN-120:#31905d;--weui-LIGHTGREEN-170:#123522;--weui-LIGHTGREEN-80:#64c390;--weui-LIGHTGREEN-90:#51bc83;--weui-LIGHTGREEN-BG-100:#31905d;--weui-LIGHTGREEN-BG-110:#2c8153;--weui-LIGHTGREEN-BG-130:#226541;--weui-LIGHTGREEN-BG-90:#31905d;--weui-LINK-100:#7d90a9;--weui-LINK-120:#647387;--weui-LINK-170:#252a32;--weui-LINK-80:#97a6ba;--weui-LINK-90:#899ab1;--weui-LINKFINDER-100:#dee9ff;--weui-MATERIAL-ATTACHMENTCOLUMN:rgba(32,32,32,0.93);--weui-MATERIAL-NAVIGATIONBAR:rgba(18,18,18,0.9);--weui-MATERIAL-REGULAR:rgba(37,37,37,0.6);--weui-MATERIAL-THICK:rgba(34,34,34,0.9);--weui-MATERIAL-THIN:rgba(95,95,95,0.4);--weui-MATERIAL-TOOLBAR:rgba(35,35,35,0.93);--weui-ORANGE-100:#c87d2f;--weui-ORANGE-120:#a06425;--weui-ORANGE-170:#3b250e;--weui-ORANGE-80:#d39758;--weui-ORANGE-90:#cd8943;--weui-ORANGE-BG-100:#bb6000;--weui-ORANGE-BG-110:#a85600;--weui-ORANGE-BG-130:#824300;--weui-ORANGE-BG-90:#c1701a;--weui-ORANGERED-100:#ff6146;--weui-OVERLAY:rgba(0,0,0,0.8);--weui-OVERLAY-WHITE:hsla(0,0%,94.9%,0.8);--weui-PURPLE-100:#8183ff;--weui-PURPLE-120:#6768cc;--weui-PURPLE-170:#26274c;--weui-PURPLE-80:#9a9bff;--weui-PURPLE-90:#8d8fff;--weui-PURPLE-BG-100:#6768cc;--weui-PURPLE-BG-110:#5c5db7;--weui-PURPLE-BG-130:#48498f;--weui-PURPLE-BG-90:#7677d1;--weui-RED-100:#fa5151;--weui-RED-120:#c84040;--weui-RED-170:#4b1818;--weui-RED-80:#fb7373;--weui-RED-90:#fa6262;--weui-RED-BG-100:#cf5148;--weui-RED-BG-110:#ba4940;--weui-RED-BG-130:#913832;--weui-RED-BG-90:#d3625a;--weui-SECONDARY-BG:hsla(0,0%,100%,0.1);--weui-SEPARATOR-0:hsla(0,0%,100%,0.05);--weui-SEPARATOR-1:hsla(0,0%,100%,0.15);--weui-STATELAYER-HOVERED:rgba(0,0,0,0.02);--weui-STATELAYER-PRESSED:hsla(0,0%,100%,0.1);--weui-STATELAYER-PRESSEDSTRENGTHENED:hsla(0,0%,100%,0.2);--weui-YELLOW-100:#cc9c00;--weui-YELLOW-120:#a37c00;--weui-YELLOW-170:#3d2f00;--weui-YELLOW-80:#d6af33;--weui-YELLOW-90:#d1a519;--weui-YELLOW-BG-100:#bf9100;--weui-YELLOW-BG-110:#ab8200;--weui-YELLOW-BG-130:#866500;--weui-YELLOW-BG-90:#c59c1a;--weui-FG-HALF:hsla(0,0%,100%,0.6);--weui-RED:#fa5151;--weui-ORANGERED:#ff6146;--weui-ORANGE:#c87d2f;--weui-YELLOW:#cc9c00;--weui-GREEN:#74a800;--weui-LIGHTGREEN:#3eb575;--weui-TEXTGREEN:#259c5c;--weui-BRAND:#07c160;--weui-BLUE:#10aeff;--weui-INDIGO:#1196ff;--weui-PURPLE:#8183ff;--weui-LINK:#7d90a9;--weui-REDORANGE:#ff6146;--weui-TAG-TEXT-BLACK:hsla(0,0%,100%,0.5);--weui-TAG-BACKGROUND-BLACK:hsla(0,0%,100%,0.05);--weui-WHITE:hsla(0,0%,100%,0.8);--weui-FG:#fff;--weui-BG:#000;--weui-FG-5:hsla(0,0%,100%,0.1);--weui-TAG-BACKGROUND-ORANGE:rgba(250,157,59,0.1);--weui-TAG-BACKGROUND-GREEN:rgba(6,174,86,0.1);--weui-TAG-TEXT-RED:rgba(250,81,81,0.6);--weui-TAG-BACKGROUND-RED:rgba(250,81,81,0.1);--weui-TAG-BACKGROUND-BLUE:rgba(16,174,255,0.1);--weui-TAG-TEXT-ORANGE:rgba(250,157,59,0.6);--weui-TAG-TEXT-GREEN:rgba(6,174,86,0.6);--weui-TAG-TEXT-BLUE:rgba(16,174,255,0.6)}}@media (prefers-color-scheme:dark){.wx-root[data-weui-mode=care]:not([data-weui-theme=light]),body[data-weui-mode=care]:not([data-weui-theme=light]){--weui-BG-0:#111;--weui-BG-1:#1e1e1e;--weui-BG-2:#191919;--weui-BG-3:#202020;--weui-BG-4:#404040;--weui-BG-5:#2c2c2c;--weui-BLUE-100:#10aeff;--weui-BLUE-120:#0c8bcc;--weui-BLUE-170:#04344d;--weui-BLUE-80:#3fbeff;--weui-BLUE-90:#28b6ff;--weui-BLUE-BG-100:#48a6e2;--weui-BLUE-BG-110:#4095cb;--weui-BLUE-BG-130:#32749e;--weui-BLUE-BG-90:#5aafe4;--weui-BRAND-100:#07c160;--weui-BRAND-120:#059a4c;--weui-BRAND-170:#023a1c;--weui-BRAND-80:#38cd7f;--weui-BRAND-90:#20c770;--weui-BRAND-BG-100:#2aae67;--weui-BRAND-BG-110:#259c5c;--weui-BRAND-BG-130:#1d7a48;--weui-BRAND-BG-90:#3eb575;--weui-FG-0:hsla(0,0%,100%,0.85);--weui-FG-0_5:hsla(0,0%,100%,0.65);--weui-FG-1:hsla(0,0%,100%,0.55);--weui-FG-2:hsla(0,0%,100%,0.35);--weui-FG-3:hsla(0,0%,100%,0.1);--weui-FG-4:hsla(0,0%,100%,0.15);--weui-GLYPH-0:hsla(0,0%,100%,0.85);--weui-GLYPH-1:hsla(0,0%,100%,0.55);--weui-GLYPH-2:hsla(0,0%,100%,0.35);--weui-GLYPH-WHITE-0:hsla(0,0%,100%,0.85);--weui-GLYPH-WHITE-1:hsla(0,0%,100%,0.55);--weui-GLYPH-WHITE-2:hsla(0,0%,100%,0.35);--weui-GLYPH-WHITE-3:#fff;--weui-GREEN-100:#74a800;--weui-GREEN-120:#5c8600;--weui-GREEN-170:#233200;--weui-GREEN-80:#8fb933;--weui-GREEN-90:#82b01a;--weui-GREEN-BG-100:#789833;--weui-GREEN-BG-110:#6b882d;--weui-GREEN-BG-130:#65802b;--weui-GREEN-BG-90:#85a247;--weui-INDIGO-100:#1196ff;--weui-INDIGO-120:#0d78cc;--weui-INDIGO-170:#052d4d;--weui-INDIGO-80:#40abff;--weui-INDIGO-90:#28a0ff;--weui-INDIGO-BG-100:#0d78cc;--weui-INDIGO-BG-110:#0b6bb7;--weui-INDIGO-BG-130:#09548f;--weui-INDIGO-BG-90:#2585d1;--weui-LIGHTGREEN-100:#3eb575;--weui-LIGHTGREEN-120:#31905d;--weui-LIGHTGREEN-170:#123522;--weui-LIGHTGREEN-80:#64c390;--weui-LIGHTGREEN-90:#51bc83;--weui-LIGHTGREEN-BG-100:#31905d;--weui-LIGHTGREEN-BG-110:#2c8153;--weui-LIGHTGREEN-BG-130:#226541;--weui-LIGHTGREEN-BG-90:#31905d;--weui-LINK-100:#7d90a9;--weui-LINK-120:#647387;--weui-LINK-170:#252a32;--weui-LINK-80:#97a6ba;--weui-LINK-90:#899ab1;--weui-LINKFINDER-100:#dee9ff;--weui-MATERIAL-ATTACHMENTCOLUMN:rgba(32,32,32,0.93);--weui-MATERIAL-NAVIGATIONBAR:rgba(18,18,18,0.9);--weui-MATERIAL-REGULAR:rgba(37,37,37,0.6);--weui-MATERIAL-THICK:rgba(34,34,34,0.9);--weui-MATERIAL-THIN:hsla(0,0%,96.1%,0.4);--weui-MATERIAL-TOOLBAR:rgba(35,35,35,0.93);--weui-ORANGE-100:#c87d2f;--weui-ORANGE-120:#a06425;--weui-ORANGE-170:#3b250e;--weui-ORANGE-80:#d39758;--weui-ORANGE-90:#cd8943;--weui-ORANGE-BG-100:#bb6000;--weui-ORANGE-BG-110:#a85600;--weui-ORANGE-BG-130:#824300;--weui-ORANGE-BG-90:#c1701a;--weui-ORANGERED-100:#ff6146;--weui-OVERLAY:rgba(0,0,0,0.8);--weui-OVERLAY-WHITE:hsla(0,0%,94.9%,0.8);--weui-PURPLE-100:#8183ff;--weui-PURPLE-120:#6768cc;--weui-PURPLE-170:#26274c;--weui-PURPLE-80:#9a9bff;--weui-PURPLE-90:#8d8fff;--weui-PURPLE-BG-100:#6768cc;--weui-PURPLE-BG-110:#5c5db7;--weui-PURPLE-BG-130:#48498f;--weui-PURPLE-BG-90:#7677d1;--weui-RED-100:#fa5151;--weui-RED-120:#c84040;--weui-RED-170:#4b1818;--weui-RED-80:#fb7373;--weui-RED-90:#fa6262;--weui-RED-BG-100:#cf5148;--weui-RED-BG-110:#ba4940;--weui-RED-BG-130:#913832;--weui-RED-BG-90:#d3625a;--weui-SECONDARY-BG:hsla(0,0%,100%,0.15);--weui-SEPARATOR-0:hsla(0,0%,100%,0.05);--weui-SEPARATOR-1:hsla(0,0%,100%,0.15);--weui-STATELAYER-HOVERED:rgba(0,0,0,0.02);--weui-STATELAYER-PRESSED:hsla(0,0%,100%,0.1);--weui-STATELAYER-PRESSEDSTRENGTHENED:hsla(0,0%,100%,0.2);--weui-YELLOW-100:#cc9c00;--weui-YELLOW-120:#a37c00;--weui-YELLOW-170:#3d2f00;--weui-YELLOW-80:#d6af33;--weui-YELLOW-90:#d1a519;--weui-YELLOW-BG-100:#bf9100;--weui-YELLOW-BG-110:#ab8200;--weui-YELLOW-BG-130:#866500;--weui-YELLOW-BG-90:#c59c1a;--weui-FG-HALF:hsla(0,0%,100%,0.65);--weui-RED:#fa5151;--weui-ORANGERED:#ff6146;--weui-ORANGE:#c87d2f;--weui-YELLOW:#cc9c00;--weui-GREEN:#74a800;--weui-LIGHTGREEN:#3eb575;--weui-TEXTGREEN:#259c5c;--weui-BRAND:#07c160;--weui-BLUE:#10aeff;--weui-INDIGO:#1196ff;--weui-PURPLE:#8183ff;--weui-LINK:#7d90a9;--weui-REDORANGE:#ff6146;--weui-TAG-BACKGROUND-BLACK:hsla(0,0%,100%,0.05);--weui-FG:#fff;--weui-WHITE:hsla(0,0%,100%,0.8);--weui-FG-5:hsla(0,0%,100%,0.1);--weui-TAG-BACKGROUND-ORANGE:rgba(250,157,59,0.1);--weui-TAG-BACKGROUND-GREEN:rgba(6,174,86,0.1);--weui-TAG-TEXT-RED:rgba(250,81,81,0.6);--weui-TAG-BACKGROUND-RED:rgba(250,81,81,0.1);--weui-TAG-BACKGROUND-BLUE:rgba(16,174,255,0.1);--weui-TAG-TEXT-ORANGE:rgba(250,157,59,0.6);--weui-BG:#000;--weui-TAG-TEXT-GREEN:rgba(6,174,86,0.6);--weui-TAG-TEXT-BLUE:rgba(16,174,255,0.6);--weui-TAG-TEXT-BLACK:hsla(0,0%,100%,0.5)}}.wx-root,body,page{--weui-BTN-HEIGHT:48;--weui-BTN-HEIGHT-MEDIUM:40;--weui-BTN-HEIGHT-SMALL:32}.wx-root,body{--weui-BTN-ACTIVE-MASK:rgba(0,0,0,0.1)}.wx-root[data-weui-theme=dark],body[data-weui-theme=dark]{--weui-BTN-ACTIVE-MASK:hsla(0,0%,100%,0.1)}@media (prefers-color-scheme:dark){.wx-root:not([data-weui-theme=light]),body:not([data-weui-theme=light]){--weui-BTN-ACTIVE-MASK:hsla(0,0%,100%,0.1)}}.wx-root,body{--weui-BTN-DEFAULT-ACTIVE-BG:#e6e6e6}.wx-root[data-weui-theme=dark],body[data-weui-theme=dark]{--weui-BTN-DEFAULT-ACTIVE-BG:hsla(0,0%,100%,0.126)}@media (prefers-color-scheme:dark){.wx-root:not([data-weui-theme=light]),body:not([data-weui-theme=light]){--weui-BTN-DEFAULT-ACTIVE-BG:hsla(0,0%,100%,0.126)}}.wx-root,body{--weui-DIALOG-LINE-COLOR:rgba(0,0,0,0.1)}.wx-root[data-weui-theme=dark],body[data-weui-theme=dark]{--weui-DIALOG-LINE-COLOR:hsla(0,0%,100%,0.1)}@media (prefers-color-scheme:dark){.wx-root:not([data-weui-theme=light]),body:not([data-weui-theme=light]){--weui-DIALOG-LINE-COLOR:hsla(0,0%,100%,0.1)}}.weui-flex{display:flex}.weui-flex__item{flex:1}.wx-root,body{--weui-BG-COLOR-ACTIVE:#ececec}.wx-root[data-weui-theme=dark],body[data-weui-theme=dark]{--weui-BG-COLOR-ACTIVE:#373737}@media (prefers-color-scheme:dark){.wx-root:not([data-weui-theme=light]),body:not([data-weui-theme=light]){--weui-BG-COLOR-ACTIVE:#373737}}[class*=" weui-icon-"][class*=" weui-icon-"],[class*=" weui-icon-"][class^=weui-icon-],[class^=weui-icon-][class*=" weui-icon-"],[class^=weui-icon-][class^=weui-icon-]{display:inline-block;vertical-align:middle;font-size:10px;width:2.4em;height:2.4em;-webkit-mask-position:50% 50%;mask-position:50% 50%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100%;mask-size:100%;background-color:currentColor}.weui-icon-circle{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='1000' height='1000' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M500 916.667C269.881 916.667 83.333 730.119 83.333 500 83.333 269.881 269.881 83.333 500 83.333c230.119 0 416.667 186.548 416.667 416.667 0 230.119-186.548 416.667-416.667 416.667zm0-50c202.504 0 366.667-164.163 366.667-366.667 0-202.504-164.163-366.667-366.667-366.667-202.504 0-366.667 164.163-366.667 366.667 0 202.504 164.163 366.667 366.667 366.667z' fill-rule='evenodd' fill-opacity='.9'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='1000' height='1000' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M500 916.667C269.881 916.667 83.333 730.119 83.333 500 83.333 269.881 269.881 83.333 500 83.333c230.119 0 416.667 186.548 416.667 416.667 0 230.119-186.548 416.667-416.667 416.667zm0-50c202.504 0 366.667-164.163 366.667-366.667 0-202.504-164.163-366.667-366.667-366.667-202.504 0-366.667 164.163-366.667 366.667 0 202.504 164.163 366.667 366.667 366.667z' fill-rule='evenodd' fill-opacity='.9'/%3E%3C/svg%3E")}.weui-icon-download{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11.25 12.04l-1.72-1.72-1.06 1.06 2.828 2.83a1 1 0 001.414-.001l2.828-2.828-1.06-1.061-1.73 1.73V7h-1.5v5.04zm0-5.04V2h1.5v5h6.251c.55 0 .999.446.999.996v13.008a.998.998 0 01-.996.996H4.996A.998.998 0 014 21.004V7.996A1 1 0 014.999 7h6.251z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11.25 12.04l-1.72-1.72-1.06 1.06 2.828 2.83a1 1 0 001.414-.001l2.828-2.828-1.06-1.061-1.73 1.73V7h-1.5v5.04zm0-5.04V2h1.5v5h6.251c.55 0 .999.446.999.996v13.008a.998.998 0 01-.996.996H4.996A.998.998 0 014 21.004V7.996A1 1 0 014.999 7h6.251z'/%3E%3C/svg%3E")}.weui-icon-info{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-.75-12v7h1.5v-7h-1.5zM12 9a1 1 0 100-2 1 1 0 000 2z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-.75-12v7h1.5v-7h-1.5zM12 9a1 1 0 100-2 1 1 0 000 2z'/%3E%3C/svg%3E")}.weui-icon-safe-success{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1000 1000'%3E%3Cpath d='M500.9 4.6C315.5 46.7 180.4 93.1 57.6 132c0 129.3.2 231.7.2 339.7 0 304.2 248.3 471.6 443.1 523.7C695.7 943.3 944 775.9 944 471.7c0-108 .2-210.4.2-339.7C821.4 93.1 686.3 46.7 500.9 4.6zm248.3 349.1l-299.7 295c-2.1 2-5.3 2-7.4-.1L304.4 506.1c-2-2.1-2.3-5.7-.6-8l18.3-24.9c1.7-2.3 5-2.8 7.2-1l112.2 86c2.3 1.8 6 1.7 8.1-.1l274.7-228.9c2.2-1.8 5.7-1.7 7.7.3l17 16.8c2.2 2.1 2.2 5.3.2 7.4z' fill-rule='evenodd' clip-rule='evenodd' fill='%23070202'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1000 1000'%3E%3Cpath d='M500.9 4.6C315.5 46.7 180.4 93.1 57.6 132c0 129.3.2 231.7.2 339.7 0 304.2 248.3 471.6 443.1 523.7C695.7 943.3 944 775.9 944 471.7c0-108 .2-210.4.2-339.7C821.4 93.1 686.3 46.7 500.9 4.6zm248.3 349.1l-299.7 295c-2.1 2-5.3 2-7.4-.1L304.4 506.1c-2-2.1-2.3-5.7-.6-8l18.3-24.9c1.7-2.3 5-2.8 7.2-1l112.2 86c2.3 1.8 6 1.7 8.1-.1l274.7-228.9c2.2-1.8 5.7-1.7 7.7.3l17 16.8c2.2 2.1 2.2 5.3.2 7.4z' fill-rule='evenodd' clip-rule='evenodd' fill='%23070202'/%3E%3C/svg%3E")}.weui-icon-safe-warn{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1000 1000'%3E%3Cpath d='M500.9 4.5c-185.4 42-320.4 88.4-443.2 127.3 0 129.3.2 231.7.2 339.6 0 304.1 248.2 471.4 443 523.6 194.7-52.2 443-219.5 443-523.6 0-107.9.2-210.3.2-339.6C821.3 92.9 686.2 46.5 500.9 4.5zm-26.1 271.1h52.1c5.8 0 10.3 4.7 10.1 10.4l-11.6 313.8c-.1 2.8-2.5 5.2-5.4 5.2h-38.2c-2.9 0-5.3-2.3-5.4-5.2L464.8 286c-.2-5.8 4.3-10.4 10-10.4zm26.1 448.3c-20.2 0-36.5-16.3-36.5-36.5s16.3-36.5 36.5-36.5 36.5 16.3 36.5 36.5-16.4 36.5-36.5 36.5z' fill-rule='evenodd' clip-rule='evenodd' fill='%23020202'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1000 1000'%3E%3Cpath d='M500.9 4.5c-185.4 42-320.4 88.4-443.2 127.3 0 129.3.2 231.7.2 339.6 0 304.1 248.2 471.4 443 523.6 194.7-52.2 443-219.5 443-523.6 0-107.9.2-210.3.2-339.6C821.3 92.9 686.2 46.5 500.9 4.5zm-26.1 271.1h52.1c5.8 0 10.3 4.7 10.1 10.4l-11.6 313.8c-.1 2.8-2.5 5.2-5.4 5.2h-38.2c-2.9 0-5.3-2.3-5.4-5.2L464.8 286c-.2-5.8 4.3-10.4 10-10.4zm26.1 448.3c-20.2 0-36.5-16.3-36.5-36.5s16.3-36.5 36.5-36.5 36.5 16.3 36.5 36.5-16.4 36.5-36.5 36.5z' fill-rule='evenodd' clip-rule='evenodd' fill='%23020202'/%3E%3C/svg%3E")}.weui-icon-success{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-1.177-7.86l-2.765-2.767L7 12.431l3.119 3.121a1 1 0 001.414 0l5.952-5.95-1.062-1.062-5.6 5.6z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-1.177-7.86l-2.765-2.767L7 12.431l3.119 3.121a1 1 0 001.414 0l5.952-5.95-1.062-1.062-5.6 5.6z'/%3E%3C/svg%3E")}.weui-icon-success-circle{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6zm-1.172-6.242l5.809-5.808.848.849-5.95 5.95a1 1 0 01-1.414 0L7 12.426l.849-.849 2.98 2.98z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6zm-1.172-6.242l5.809-5.808.848.849-5.95 5.95a1 1 0 01-1.414 0L7 12.426l.849-.849 2.98 2.98z'/%3E%3C/svg%3E")}.weui-icon-success-no-circle{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.657 18.435L3 12.778l1.414-1.414 4.95 4.95L20.678 5l1.414 1.414-12.02 12.021a1 1 0 01-1.415 0z' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.657 18.435L3 12.778l1.414-1.414 4.95 4.95L20.678 5l1.414 1.414-12.02 12.021a1 1 0 01-1.415 0z' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-waiting{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.75 11.38V6h-1.5v6l4.243 4.243 1.06-1.06-3.803-3.804zM12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10z' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.75 11.38V6h-1.5v6l4.243 4.243 1.06-1.06-3.803-3.804zM12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10z' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-waiting-circle{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.6 11.503l3.891 3.891-.848.849L11.4 12V6h1.2v5.503zM12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.6 11.503l3.891 3.891-.848.849L11.4 12V6h1.2v5.503zM12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6z'/%3E%3C/svg%3E")}.weui-icon-warn{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-.763-15.864l.11 7.596h1.305l.11-7.596h-1.525zm.759 10.967c.512 0 .902-.383.902-.882 0-.5-.39-.882-.902-.882a.878.878 0 00-.896.882c0 .499.396.882.896.882z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-.763-15.864l.11 7.596h1.305l.11-7.596h-1.525zm.759 10.967c.512 0 .902-.383.902-.882 0-.5-.39-.882-.902-.882a.878.878 0 00-.896.882c0 .499.396.882.896.882z'/%3E%3C/svg%3E")}.weui-icon-outlined-warn{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M2 12c0 5.523 4.477 10 10 10s10-4.477 10-10S17.523 2 12 2 2 6.477 2 12zm18.8 0a8.8 8.8 0 11-17.6 0 8.8 8.8 0 0117.6 0zm-8.14-5.569l-.089 7.06H11.43l-.088-7.06h1.318zm-1.495 9.807c0 .469.366.835.835.835a.82.82 0 00.835-.835.817.817 0 00-.835-.835.821.821 0 00-.835.835z' fill='%23000'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M2 12c0 5.523 4.477 10 10 10s10-4.477 10-10S17.523 2 12 2 2 6.477 2 12zm18.8 0a8.8 8.8 0 11-17.6 0 8.8 8.8 0 0117.6 0zm-8.14-5.569l-.089 7.06H11.43l-.088-7.06h1.318zm-1.495 9.807c0 .469.366.835.835.835a.82.82 0 00.835-.835.817.817 0 00-.835-.835.821.821 0 00-.835.835z' fill='%23000'/%3E%3C/svg%3E")}.weui-icon-info-circle{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6zM11.4 10h1.2v7h-1.2v-7zm.6-1a1 1 0 110-2 1 1 0 010 2z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6zM11.4 10h1.2v7h-1.2v-7zm.6-1a1 1 0 110-2 1 1 0 010 2z'/%3E%3C/svg%3E")}.weui-icon-cancel{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill-rule='evenodd'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6z' fill-rule='nonzero'/%3E%3Cpath d='M12.849 12l3.11 3.111-.848.849L12 12.849l-3.111 3.11-.849-.848L11.151 12l-3.11-3.111.848-.849L12 11.151l3.111-3.11.849.848L12.849 12z'/%3E%3C/g%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill-rule='evenodd'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6z' fill-rule='nonzero'/%3E%3Cpath d='M12.849 12l3.11 3.111-.848.849L12 12.849l-3.111 3.11-.849-.848L11.151 12l-3.11-3.111.848-.849L12 11.151l3.111-3.11.849.848L12.849 12z'/%3E%3C/g%3E%3C/svg%3E")}.weui-icon-search{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M16.31 15.561l4.114 4.115-.848.848-4.123-4.123a7 7 0 11.857-.84zM16.8 11a5.8 5.8 0 10-11.6 0 5.8 5.8 0 0011.6 0z' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M16.31 15.561l4.114 4.115-.848.848-4.123-4.123a7 7 0 11.857-.84zM16.8 11a5.8 5.8 0 10-11.6 0 5.8 5.8 0 0011.6 0z' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-clear{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M13.06 12l3.006-3.005-1.06-1.06L12 10.938 8.995 7.934l-1.06 1.06L10.938 12l-3.005 3.005 1.06 1.06L12 13.062l3.005 3.005 1.06-1.06L13.062 12zM12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M13.06 12l3.006-3.005-1.06-1.06L12 10.938 8.995 7.934l-1.06 1.06L10.938 12l-3.005 3.005 1.06 1.06L12 13.062l3.005 3.005 1.06-1.06L13.062 12zM12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10z'/%3E%3C/svg%3E")}.weui-icon-back{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm1.999-6.563L10.68 12 14 8.562 12.953 7.5 9.29 11.277a1.045 1.045 0 000 1.446l3.663 3.777L14 15.437z' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm1.999-6.563L10.68 12 14 8.562 12.953 7.5 9.29 11.277a1.045 1.045 0 000 1.446l3.663 3.777L14 15.437z' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-delete{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6.774 6.4l.812 13.648a.8.8 0 00.798.752h7.232a.8.8 0 00.798-.752L17.226 6.4H6.774zm11.655 0l-.817 13.719A2 2 0 0115.616 22H8.384a2 2 0 01-1.996-1.881L5.571 6.4H3.5v-.7a.5.5 0 01.5-.5h16a.5.5 0 01.5.5v.7h-2.071zM14 3a.5.5 0 01.5.5v.7h-5v-.7A.5.5 0 0110 3h4zM9.5 9h1.2l.5 9H10l-.5-9zm3.8 0h1.2l-.5 9h-1.2l.5-9z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6.774 6.4l.812 13.648a.8.8 0 00.798.752h7.232a.8.8 0 00.798-.752L17.226 6.4H6.774zm11.655 0l-.817 13.719A2 2 0 0115.616 22H8.384a2 2 0 01-1.996-1.881L5.571 6.4H3.5v-.7a.5.5 0 01.5-.5h16a.5.5 0 01.5.5v.7h-2.071zM14 3a.5.5 0 01.5.5v.7h-5v-.7A.5.5 0 0110 3h4zM9.5 9h1.2l.5 9H10l-.5-9zm3.8 0h1.2l-.5 9h-1.2l.5-9z'/%3E%3C/svg%3E")}.weui-icon-success-no-circle-thin{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.864 16.617l-5.303-5.303-1.061 1.06 5.657 5.657a1 1 0 001.414 0L21.238 6.364l-1.06-1.06L8.864 16.616z' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.864 16.617l-5.303-5.303-1.061 1.06 5.657 5.657a1 1 0 001.414 0L21.238 6.364l-1.06-1.06L8.864 16.616z' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-arrow{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='12' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M2.454 6.58l1.06-1.06 5.78 5.779a.996.996 0 010 1.413l-5.78 5.779-1.06-1.061 5.425-5.425-5.425-5.424z' fill='%23B2B2B2' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='12' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M2.454 6.58l1.06-1.06 5.78 5.779a.996.996 0 010 1.413l-5.78 5.779-1.06-1.061 5.425-5.425-5.425-5.424z' fill='%23B2B2B2' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-arrow-bold{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg height='24' width='12' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.157 12.711L4.5 18.368l-1.414-1.414 4.95-4.95-4.95-4.95L4.5 5.64l5.657 5.657a1 1 0 010 1.414z' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg height='24' width='12' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.157 12.711L4.5 18.368l-1.414-1.414 4.95-4.95-4.95-4.95L4.5 5.64l5.657 5.657a1 1 0 010 1.414z' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-back-arrow{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='12' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M3.343 12l7.071 7.071L9 20.485l-7.778-7.778a1 1 0 010-1.414L9 3.515l1.414 1.414L3.344 12z' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='12' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M3.343 12l7.071 7.071L9 20.485l-7.778-7.778a1 1 0 010-1.414L9 3.515l1.414 1.414L3.344 12z' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-back-arrow-thin{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='12' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 19.438L8.955 20.5l-7.666-7.79a1.02 1.02 0 010-1.42L8.955 3.5 10 4.563 2.682 12 10 19.438z' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='12' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 19.438L8.955 20.5l-7.666-7.79a1.02 1.02 0 010-1.42L8.955 3.5 10 4.563 2.682 12 10 19.438z' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-close{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M12.25 10.693L6.057 4.5 5 5.557l6.193 6.193L5 17.943 6.057 19l6.193-6.193L18.443 19l1.057-1.057-6.193-6.193L19.5 5.557 18.443 4.5l-6.193 6.193z' fill='%23000'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M12.25 10.693L6.057 4.5 5 5.557l6.193 6.193L5 17.943 6.057 19l6.193-6.193L18.443 19l1.057-1.057-6.193-6.193L19.5 5.557 18.443 4.5l-6.193 6.193z' fill='%23000'/%3E%3C/svg%3E")}.weui-icon-close-thin{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.25 10.693L6.057 4.5 5 5.557l6.193 6.193L5 17.943 6.057 19l6.193-6.193L18.443 19l1.057-1.057-6.193-6.193L19.5 5.557 18.443 4.5z' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.25 10.693L6.057 4.5 5 5.557l6.193 6.193L5 17.943 6.057 19l6.193-6.193L18.443 19l1.057-1.057-6.193-6.193L19.5 5.557 18.443 4.5z' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-back-circle{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6zm1.999-5.363L12.953 16.5 9.29 12.723a1.045 1.045 0 010-1.446L12.953 7.5 14 8.563 10.68 12 14 15.438z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6zm1.999-5.363L12.953 16.5 9.29 12.723a1.045 1.045 0 010-1.446L12.953 7.5 14 8.563 10.68 12 14 15.438z'/%3E%3C/svg%3E")}.weui-icon-success{color:var(--weui-BRAND)}.weui-icon-waiting{color:var(--weui-BLUE)}.weui-icon-warn{color:var(--weui-RED)}.weui-icon-info{color:var(--weui-BLUE)}.weui-icon-success-circle,.weui-icon-success-no-circle,.weui-icon-success-no-circle-thin{color:var(--weui-BRAND)}.weui-icon-waiting-circle{color:var(--weui-BLUE)}.weui-icon-circle{color:var(--weui-FG-2)}.weui-icon-download{color:var(--weui-BRAND)}.weui-icon-info-circle{color:var(--weui-FG-2)}.weui-icon-safe-success{color:var(--weui-BRAND)}.weui-icon-safe-warn{color:var(--weui-YELLOW)}.weui-icon-cancel{color:var(--weui-RED)}.weui-icon-search{color:var(--weui-FG-1)}.weui-icon-clear{color:var(--weui-FG-2)}.weui-icon-clear:active{color:var(--weui-FG-1)}.weui-icon-delete.weui-icon_gallery-delete{color:var(--weui-WHITE)}.weui-icon-arrow-bold.weui-icon-arrow,.weui-icon-arrow-bold.weui-icon-arrow-bold,.weui-icon-arrow-bold.weui-icon-back-arrow,.weui-icon-arrow-bold.weui-icon-back-arrow-thin,.weui-icon-arrow.weui-icon-arrow,.weui-icon-arrow.weui-icon-arrow-bold,.weui-icon-arrow.weui-icon-back-arrow,.weui-icon-arrow.weui-icon-back-arrow-thin,.weui-icon-back-arrow-thin.weui-icon-arrow,.weui-icon-back-arrow-thin.weui-icon-arrow-bold,.weui-icon-back-arrow-thin.weui-icon-back-arrow,.weui-icon-back-arrow-thin.weui-icon-back-arrow-thin,.weui-icon-back-arrow.weui-icon-arrow,.weui-icon-back-arrow.weui-icon-arrow-bold,.weui-icon-back-arrow.weui-icon-back-arrow,.weui-icon-back-arrow.weui-icon-back-arrow-thin{width:1.2em}.weui-icon-arrow,.weui-icon-arrow-bold{color:var(--weui-FG-2)}.weui-icon-back,.weui-icon-back-arrow,.weui-icon-back-arrow-thin,.weui-icon-back-circle{color:var(--weui-FG-0)}.weui-icon_msg.weui-icon_msg{width:6.4em;height:6.4em}.weui-icon_msg.weui-icon_msg.weui-icon-warn{color:var(--weui-RED)}.weui-icon_msg.weui-icon_msg.weui-icon-info-circle{color:var(--weui-BLUE)}.weui-icon_msg-primary.weui-icon_msg-primary{width:6.4em;height:6.4em}.weui-icon_msg-primary.weui-icon_msg-primary.weui-icon-warn{color:var(--weui-YELLOW)}.wx-root,body{--weui-BG-0:#ededed;--weui-BG-1:#f7f7f7;--weui-BG-2:#fff;--weui-BG-3:#f7f7f7;--weui-BG-4:#4c4c4c;--weui-BG-5:#fff;--weui-BLUE-100:#10aeff;--weui-BLUE-120:#3fbeff;--weui-BLUE-170:#b7e6ff;--weui-BLUE-80:#0c8bcc;--weui-BLUE-90:#0e9ce6;--weui-BLUE-BG-100:#48a6e2;--weui-BLUE-BG-110:#5aafe4;--weui-BLUE-BG-130:#7fc0ea;--weui-BLUE-BG-90:#4095cb;--weui-BRAND-100:#07c160;--weui-BRAND-120:#38cd7f;--weui-BRAND-170:#b4ecce;--weui-BRAND-80:#059a4c;--weui-BRAND-90:#06ae56;--weui-BRAND-BG-100:#2aae67;--weui-BRAND-BG-110:#3eb575;--weui-BRAND-BG-130:#69c694;--weui-BRAND-BG-90:#259c5c;--weui-FG-0:rgba(0,0,0,0.9);--weui-FG-0_5:rgba(0,0,0,0.9);--weui-FG-1:rgba(0,0,0,0.55);--weui-FG-2:rgba(0,0,0,0.3);--weui-FG-3:rgba(0,0,0,0.1);--weui-FG-4:rgba(0,0,0,0.15);--weui-GLYPH-0:rgba(0,0,0,0.9);--weui-GLYPH-1:rgba(0,0,0,0.55);--weui-GLYPH-2:rgba(0,0,0,0.3);--weui-GLYPH-WHITE-0:hsla(0,0%,100%,0.8);--weui-GLYPH-WHITE-1:hsla(0,0%,100%,0.5);--weui-GLYPH-WHITE-2:hsla(0,0%,100%,0.3);--weui-GLYPH-WHITE-3:#fff;--weui-GREEN-100:#91d300;--weui-GREEN-120:#a7db33;--weui-GREEN-170:#def1b3;--weui-GREEN-80:#74a800;--weui-GREEN-90:#82bd00;--weui-GREEN-BG-100:#96be40;--weui-GREEN-BG-110:#a0c452;--weui-GREEN-BG-130:#b5d179;--weui-GREEN-BG-90:#86aa39;--weui-INDIGO-100:#1485ee;--weui-INDIGO-120:#439df1;--weui-INDIGO-170:#b8daf9;--weui-INDIGO-80:#106abe;--weui-INDIGO-90:#1277d6;--weui-INDIGO-BG-100:#2b77bf;--weui-INDIGO-BG-110:#3f84c5;--weui-INDIGO-BG-130:#6ba0d2;--weui-INDIGO-BG-90:#266aab;--weui-LIGHTGREEN-100:#95ec69;--weui-LIGHTGREEN-120:#aaef87;--weui-LIGHTGREEN-170:#def9d1;--weui-LIGHTGREEN-80:#77bc54;--weui-LIGHTGREEN-90:#85d35e;--weui-LIGHTGREEN-BG-100:#72cf60;--weui-LIGHTGREEN-BG-110:#80d370;--weui-LIGHTGREEN-BG-130:#9cdd90;--weui-LIGHTGREEN-BG-90:#66b956;--weui-LINK-100:#576b95;--weui-LINK-120:#7888aa;--weui-LINK-170:#ccd2de;--weui-LINK-80:#455577;--weui-LINK-90:#4e6085;--weui-LINKFINDER-100:#002666;--weui-MATERIAL-ATTACHMENTCOLUMN:hsla(0,0%,96.1%,0.95);--weui-MATERIAL-NAVIGATIONBAR:hsla(0,0%,92.9%,0.94);--weui-MATERIAL-REGULAR:hsla(0,0%,96.9%,0.3);--weui-MATERIAL-THICK:hsla(0,0%,96.9%,0.8);--weui-MATERIAL-THIN:hsla(0,0%,100%,0.2);--weui-MATERIAL-TOOLBAR:hsla(0,0%,96.5%,0.82);--weui-ORANGE-100:#fa9d3b;--weui-ORANGE-120:#fbb062;--weui-ORANGE-170:#fde1c3;--weui-ORANGE-80:#c87d2f;--weui-ORANGE-90:#e08c34;--weui-ORANGE-BG-100:#ea7800;--weui-ORANGE-BG-110:#ec8519;--weui-ORANGE-BG-130:#f0a04d;--weui-ORANGE-BG-90:#d26b00;--weui-ORANGERED-100:#ff6146;--weui-OVERLAY:rgba(0,0,0,0.5);--weui-OVERLAY-WHITE:hsla(0,0%,94.9%,0.8);--weui-PURPLE-100:#6467f0;--weui-PURPLE-120:#8385f3;--weui-PURPLE-170:#d0d1fa;--weui-PURPLE-80:#5052c0;--weui-PURPLE-90:#595cd7;--weui-PURPLE-BG-100:#6769ba;--weui-PURPLE-BG-110:#7678c1;--weui-PURPLE-BG-130:#9496ce;--weui-PURPLE-BG-90:#5c5ea7;--weui-RED-100:#fa5151;--weui-RED-120:#fb7373;--weui-RED-170:#fdcaca;--weui-RED-80:#c84040;--weui-RED-90:#e14949;--weui-RED-BG-100:#cf5148;--weui-RED-BG-110:#d3625a;--weui-RED-BG-130:#dd847e;--weui-RED-BG-90:#b94840;--weui-SECONDARY-BG:rgba(0,0,0,0.05);--weui-SEPARATOR-0:rgba(0,0,0,0.1);--weui-SEPARATOR-1:rgba(0,0,0,0.15);--weui-STATELAYER-HOVERED:rgba(0,0,0,0.02);--weui-STATELAYER-PRESSED:rgba(0,0,0,0.1);--weui-STATELAYER-PRESSEDSTRENGTHENED:rgba(0,0,0,0.2);--weui-YELLOW-100:#ffc300;--weui-YELLOW-120:#ffcf33;--weui-YELLOW-170:#ffecb2;--weui-YELLOW-80:#cc9c00;--weui-YELLOW-90:#e6af00;--weui-YELLOW-BG-100:#efb600;--weui-YELLOW-BG-110:#f0bd19;--weui-YELLOW-BG-130:#f3cc4d;--weui-YELLOW-BG-90:#d7a400;--weui-FG-HALF:rgba(0,0,0,0.9);--weui-RED:#fa5151;--weui-ORANGERED:#ff6146;--weui-ORANGE:#fa9d3b;--weui-YELLOW:#ffc300;--weui-GREEN:#91d300;--weui-LIGHTGREEN:#95ec69;--weui-TEXTGREEN:#06ae56;--weui-BRAND:#07c160;--weui-BLUE:#10aeff;--weui-INDIGO:#1485ee;--weui-PURPLE:#6467f0;--weui-LINK:#576b95;--weui-TAG-TEXT-ORANGE:#fa9d3b;--weui-TAG-TEXT-GREEN:#06ae56;--weui-TAG-TEXT-BLUE:#10aeff;--weui-REDORANGE:#ff6146;--weui-TAG-TEXT-BLACK:rgba(0,0,0,0.5);--weui-TAG-BACKGROUND-BLACK:rgba(0,0,0,0.05);--weui-WHITE:#fff;--weui-BG:#fff;--weui-FG:#000;--weui-FG-5:rgba(0,0,0,0.05);--weui-TAG-BACKGROUND-ORANGE:rgba(250,157,59,0.1);--weui-TAG-BACKGROUND-GREEN:rgba(6,174,86,0.1);--weui-TAG-TEXT-RED:rgba(250,81,81,0.6);--weui-TAG-BACKGROUND-RED:rgba(250,81,81,0.1);--weui-TAG-BACKGROUND-BLUE:rgba(16,174,255,0.1)}@media (prefers-color-scheme:dark){.wx-root:not([data-weui-theme=light]),body:not([data-weui-theme=light]){--weui-BG-0:#111;--weui-BG-1:#1e1e1e;--weui-BG-2:#191919;--weui-BG-3:#202020;--weui-BG-4:#404040;--weui-BG-5:#2c2c2c;--weui-BLUE-100:#10aeff;--weui-BLUE-120:#0c8bcc;--weui-BLUE-170:#04344d;--weui-BLUE-80:#3fbeff;--weui-BLUE-90:#28b6ff;--weui-BLUE-BG-100:#48a6e2;--weui-BLUE-BG-110:#4095cb;--weui-BLUE-BG-130:#32749e;--weui-BLUE-BG-90:#5aafe4;--weui-BRAND-100:#07c160;--weui-BRAND-120:#059a4c;--weui-BRAND-170:#023a1c;--weui-BRAND-80:#38cd7f;--weui-BRAND-90:#20c770;--weui-BRAND-BG-100:#2aae67;--weui-BRAND-BG-110:#259c5c;--weui-BRAND-BG-130:#1d7a48;--weui-BRAND-BG-90:#3eb575;--weui-FG-0:hsla(0,0%,100%,0.8);--weui-FG-0_5:hsla(0,0%,100%,0.6);--weui-FG-1:hsla(0,0%,100%,0.5);--weui-FG-2:hsla(0,0%,100%,0.3);--weui-FG-3:hsla(0,0%,100%,0.1);--weui-FG-4:hsla(0,0%,100%,0.15);--weui-GLYPH-0:hsla(0,0%,100%,0.8);--weui-GLYPH-1:hsla(0,0%,100%,0.5);--weui-GLYPH-2:hsla(0,0%,100%,0.3);--weui-GLYPH-WHITE-0:hsla(0,0%,100%,0.8);--weui-GLYPH-WHITE-1:hsla(0,0%,100%,0.5);--weui-GLYPH-WHITE-2:hsla(0,0%,100%,0.3);--weui-GLYPH-WHITE-3:#fff;--weui-GREEN-100:#74a800;--weui-GREEN-120:#5c8600;--weui-GREEN-170:#233200;--weui-GREEN-80:#8fb933;--weui-GREEN-90:#82b01a;--weui-GREEN-BG-100:#789833;--weui-GREEN-BG-110:#6b882d;--weui-GREEN-BG-130:#65802b;--weui-GREEN-BG-90:#85a247;--weui-INDIGO-100:#1196ff;--weui-INDIGO-120:#0d78cc;--weui-INDIGO-170:#052d4d;--weui-INDIGO-80:#40abff;--weui-INDIGO-90:#28a0ff;--weui-INDIGO-BG-100:#0d78cc;--weui-INDIGO-BG-110:#0b6bb7;--weui-INDIGO-BG-130:#09548f;--weui-INDIGO-BG-90:#2585d1;--weui-LIGHTGREEN-100:#3eb575;--weui-LIGHTGREEN-120:#31905d;--weui-LIGHTGREEN-170:#123522;--weui-LIGHTGREEN-80:#64c390;--weui-LIGHTGREEN-90:#51bc83;--weui-LIGHTGREEN-BG-100:#31905d;--weui-LIGHTGREEN-BG-110:#2c8153;--weui-LIGHTGREEN-BG-130:#226541;--weui-LIGHTGREEN-BG-90:#31905d;--weui-LINK-100:#7d90a9;--weui-LINK-120:#647387;--weui-LINK-170:#252a32;--weui-LINK-80:#97a6ba;--weui-LINK-90:#899ab1;--weui-LINKFINDER-100:#dee9ff;--weui-MATERIAL-ATTACHMENTCOLUMN:rgba(32,32,32,0.93);--weui-MATERIAL-NAVIGATIONBAR:rgba(18,18,18,0.9);--weui-MATERIAL-REGULAR:rgba(37,37,37,0.6);--weui-MATERIAL-THICK:rgba(34,34,34,0.9);--weui-MATERIAL-THIN:rgba(95,95,95,0.4);--weui-MATERIAL-TOOLBAR:rgba(35,35,35,0.93);--weui-ORANGE-100:#c87d2f;--weui-ORANGE-120:#a06425;--weui-ORANGE-170:#3b250e;--weui-ORANGE-80:#d39758;--weui-ORANGE-90:#cd8943;--weui-ORANGE-BG-100:#bb6000;--weui-ORANGE-BG-110:#a85600;--weui-ORANGE-BG-130:#824300;--weui-ORANGE-BG-90:#c1701a;--weui-ORANGERED-100:#ff6146;--weui-OVERLAY:rgba(0,0,0,0.8);--weui-OVERLAY-WHITE:hsla(0,0%,94.9%,0.8);--weui-PURPLE-100:#8183ff;--weui-PURPLE-120:#6768cc;--weui-PURPLE-170:#26274c;--weui-PURPLE-80:#9a9bff;--weui-PURPLE-90:#8d8fff;--weui-PURPLE-BG-100:#6768cc;--weui-PURPLE-BG-110:#5c5db7;--weui-PURPLE-BG-130:#48498f;--weui-PURPLE-BG-90:#7677d1;--weui-RED-100:#fa5151;--weui-RED-120:#c84040;--weui-RED-170:#4b1818;--weui-RED-80:#fb7373;--weui-RED-90:#fa6262;--weui-RED-BG-100:#cf5148;--weui-RED-BG-110:#ba4940;--weui-RED-BG-130:#913832;--weui-RED-BG-90:#d3625a;--weui-SECONDARY-BG:hsla(0,0%,100%,0.1);--weui-SEPARATOR-0:hsla(0,0%,100%,0.05);--weui-SEPARATOR-1:hsla(0,0%,100%,0.15);--weui-STATELAYER-HOVERED:rgba(0,0,0,0.02);--weui-STATELAYER-PRESSED:hsla(0,0%,100%,0.1);--weui-STATELAYER-PRESSEDSTRENGTHENED:hsla(0,0%,100%,0.2);--weui-YELLOW-100:#cc9c00;--weui-YELLOW-120:#a37c00;--weui-YELLOW-170:#3d2f00;--weui-YELLOW-80:#d6af33;--weui-YELLOW-90:#d1a519;--weui-YELLOW-BG-100:#bf9100;--weui-YELLOW-BG-110:#ab8200;--weui-YELLOW-BG-130:#866500;--weui-YELLOW-BG-90:#c59c1a;--weui-FG-HALF:hsla(0,0%,100%,0.6);--weui-RED:#fa5151;--weui-ORANGERED:#ff6146;--weui-ORANGE:#c87d2f;--weui-YELLOW:#cc9c00;--weui-GREEN:#74a800;--weui-LIGHTGREEN:#3eb575;--weui-TEXTGREEN:#259c5c;--weui-BRAND:#07c160;--weui-BLUE:#10aeff;--weui-INDIGO:#1196ff;--weui-PURPLE:#8183ff;--weui-LINK:#7d90a9;--weui-REDORANGE:#ff6146;--weui-TAG-TEXT-BLACK:hsla(0,0%,100%,0.5);--weui-TAG-BACKGROUND-BLACK:hsla(0,0%,100%,0.05);--weui-WHITE:hsla(0,0%,100%,0.8);--weui-FG:#fff;--weui-BG:#000;--weui-FG-5:hsla(0,0%,100%,0.1);--weui-TAG-BACKGROUND-ORANGE:rgba(250,157,59,0.1);--weui-TAG-BACKGROUND-GREEN:rgba(6,174,86,0.1);--weui-TAG-TEXT-RED:rgba(250,81,81,0.6);--weui-TAG-BACKGROUND-RED:rgba(250,81,81,0.1);--weui-TAG-BACKGROUND-BLUE:rgba(16,174,255,0.1);--weui-TAG-TEXT-ORANGE:rgba(250,157,59,0.6);--weui-TAG-TEXT-GREEN:rgba(6,174,86,0.6);--weui-TAG-TEXT-BLUE:rgba(16,174,255,0.6)}}.wx-root[data-weui-theme=dark],body[data-weui-theme=dark]{--weui-BG-0:#111;--weui-BG-1:#1e1e1e;--weui-BG-2:#191919;--weui-BG-3:#202020;--weui-BG-4:#404040;--weui-BG-5:#2c2c2c;--weui-BLUE-100:#10aeff;--weui-BLUE-120:#0c8bcc;--weui-BLUE-170:#04344d;--weui-BLUE-80:#3fbeff;--weui-BLUE-90:#28b6ff;--weui-BLUE-BG-100:#48a6e2;--weui-BLUE-BG-110:#4095cb;--weui-BLUE-BG-130:#32749e;--weui-BLUE-BG-90:#5aafe4;--weui-BRAND-100:#07c160;--weui-BRAND-120:#059a4c;--weui-BRAND-170:#023a1c;--weui-BRAND-80:#38cd7f;--weui-BRAND-90:#20c770;--weui-BRAND-BG-100:#2aae67;--weui-BRAND-BG-110:#259c5c;--weui-BRAND-BG-130:#1d7a48;--weui-BRAND-BG-90:#3eb575;--weui-FG-0:hsla(0,0%,100%,0.8);--weui-FG-0_5:hsla(0,0%,100%,0.6);--weui-FG-1:hsla(0,0%,100%,0.5);--weui-FG-2:hsla(0,0%,100%,0.3);--weui-FG-3:hsla(0,0%,100%,0.1);--weui-FG-4:hsla(0,0%,100%,0.15);--weui-GLYPH-0:hsla(0,0%,100%,0.8);--weui-GLYPH-1:hsla(0,0%,100%,0.5);--weui-GLYPH-2:hsla(0,0%,100%,0.3);--weui-GLYPH-WHITE-0:hsla(0,0%,100%,0.8);--weui-GLYPH-WHITE-1:hsla(0,0%,100%,0.5);--weui-GLYPH-WHITE-2:hsla(0,0%,100%,0.3);--weui-GLYPH-WHITE-3:#fff;--weui-GREEN-100:#74a800;--weui-GREEN-120:#5c8600;--weui-GREEN-170:#233200;--weui-GREEN-80:#8fb933;--weui-GREEN-90:#82b01a;--weui-GREEN-BG-100:#789833;--weui-GREEN-BG-110:#6b882d;--weui-GREEN-BG-130:#65802b;--weui-GREEN-BG-90:#85a247;--weui-INDIGO-100:#1196ff;--weui-INDIGO-120:#0d78cc;--weui-INDIGO-170:#052d4d;--weui-INDIGO-80:#40abff;--weui-INDIGO-90:#28a0ff;--weui-INDIGO-BG-100:#0d78cc;--weui-INDIGO-BG-110:#0b6bb7;--weui-INDIGO-BG-130:#09548f;--weui-INDIGO-BG-90:#2585d1;--weui-LIGHTGREEN-100:#3eb575;--weui-LIGHTGREEN-120:#31905d;--weui-LIGHTGREEN-170:#123522;--weui-LIGHTGREEN-80:#64c390;--weui-LIGHTGREEN-90:#51bc83;--weui-LIGHTGREEN-BG-100:#31905d;--weui-LIGHTGREEN-BG-110:#2c8153;--weui-LIGHTGREEN-BG-130:#226541;--weui-LIGHTGREEN-BG-90:#31905d;--weui-LINK-100:#7d90a9;--weui-LINK-120:#647387;--weui-LINK-170:#252a32;--weui-LINK-80:#97a6ba;--weui-LINK-90:#899ab1;--weui-LINKFINDER-100:#dee9ff;--weui-MATERIAL-ATTACHMENTCOLUMN:rgba(32,32,32,0.93);--weui-MATERIAL-NAVIGATIONBAR:rgba(18,18,18,0.9);--weui-MATERIAL-REGULAR:rgba(37,37,37,0.6);--weui-MATERIAL-THICK:rgba(34,34,34,0.9);--weui-MATERIAL-THIN:rgba(95,95,95,0.4);--weui-MATERIAL-TOOLBAR:rgba(35,35,35,0.93);--weui-ORANGE-100:#c87d2f;--weui-ORANGE-120:#a06425;--weui-ORANGE-170:#3b250e;--weui-ORANGE-80:#d39758;--weui-ORANGE-90:#cd8943;--weui-ORANGE-BG-100:#bb6000;--weui-ORANGE-BG-110:#a85600;--weui-ORANGE-BG-130:#824300;--weui-ORANGE-BG-90:#c1701a;--weui-ORANGERED-100:#ff6146;--weui-OVERLAY:rgba(0,0,0,0.8);--weui-OVERLAY-WHITE:hsla(0,0%,94.9%,0.8);--weui-PURPLE-100:#8183ff;--weui-PURPLE-120:#6768cc;--weui-PURPLE-170:#26274c;--weui-PURPLE-80:#9a9bff;--weui-PURPLE-90:#8d8fff;--weui-PURPLE-BG-100:#6768cc;--weui-PURPLE-BG-110:#5c5db7;--weui-PURPLE-BG-130:#48498f;--weui-PURPLE-BG-90:#7677d1;--weui-RED-100:#fa5151;--weui-RED-120:#c84040;--weui-RED-170:#4b1818;--weui-RED-80:#fb7373;--weui-RED-90:#fa6262;--weui-RED-BG-100:#cf5148;--weui-RED-BG-110:#ba4940;--weui-RED-BG-130:#913832;--weui-RED-BG-90:#d3625a;--weui-SECONDARY-BG:hsla(0,0%,100%,0.1);--weui-SEPARATOR-0:hsla(0,0%,100%,0.05);--weui-SEPARATOR-1:hsla(0,0%,100%,0.15);--weui-STATELAYER-HOVERED:rgba(0,0,0,0.02);--weui-STATELAYER-PRESSED:hsla(0,0%,100%,0.1);--weui-STATELAYER-PRESSEDSTRENGTHENED:hsla(0,0%,100%,0.2);--weui-YELLOW-100:#cc9c00;--weui-YELLOW-120:#a37c00;--weui-YELLOW-170:#3d2f00;--weui-YELLOW-80:#d6af33;--weui-YELLOW-90:#d1a519;--weui-YELLOW-BG-100:#bf9100;--weui-YELLOW-BG-110:#ab8200;--weui-YELLOW-BG-130:#866500;--weui-YELLOW-BG-90:#c59c1a;--weui-FG-HALF:hsla(0,0%,100%,0.6);--weui-RED:#fa5151;--weui-ORANGERED:#ff6146;--weui-ORANGE:#c87d2f;--weui-YELLOW:#cc9c00;--weui-GREEN:#74a800;--weui-LIGHTGREEN:#3eb575;--weui-TEXTGREEN:#259c5c;--weui-BRAND:#07c160;--weui-BLUE:#10aeff;--weui-INDIGO:#1196ff;--weui-PURPLE:#8183ff;--weui-LINK:#7d90a9;--weui-REDORANGE:#ff6146;--weui-TAG-TEXT-BLACK:hsla(0,0%,100%,0.5);--weui-TAG-BACKGROUND-BLACK:hsla(0,0%,100%,0.05);--weui-WHITE:hsla(0,0%,100%,0.8);--weui-FG:#fff;--weui-BG:#000;--weui-FG-5:hsla(0,0%,100%,0.1);--weui-TAG-BACKGROUND-ORANGE:rgba(250,157,59,0.1);--weui-TAG-BACKGROUND-GREEN:rgba(6,174,86,0.1);--weui-TAG-TEXT-RED:rgba(250,81,81,0.6);--weui-TAG-BACKGROUND-RED:rgba(250,81,81,0.1);--weui-TAG-BACKGROUND-BLUE:rgba(16,174,255,0.1);--weui-TAG-TEXT-ORANGE:rgba(250,157,59,0.6);--weui-TAG-TEXT-GREEN:rgba(6,174,86,0.6);--weui-TAG-TEXT-BLUE:rgba(16,174,255,0.6)}.wx-root[data-weui-mode=care],body[data-weui-mode=care]{--weui-BG-0:#ededed;--weui-BG-1:#f7f7f7;--weui-BG-2:#fff;--weui-BG-3:#f7f7f7;--weui-BG-4:#4c4c4c;--weui-BG-5:#fff;--weui-BLUE-100:#007dbb;--weui-BLUE-120:#3fbeff;--weui-BLUE-170:#b7e6ff;--weui-BLUE-80:#0c8bcc;--weui-BLUE-90:#0e9ce6;--weui-BLUE-BG-100:#48a6e2;--weui-BLUE-BG-110:#5aafe4;--weui-BLUE-BG-130:#7fc0ea;--weui-BLUE-BG-90:#4095cb;--weui-BRAND-100:#018942;--weui-BRAND-120:#38cd7f;--weui-BRAND-170:#b4ecce;--weui-BRAND-80:#059a4c;--weui-BRAND-90:#06ae56;--weui-BRAND-BG-100:#2aae67;--weui-BRAND-BG-110:#3eb575;--weui-BRAND-BG-130:#69c694;--weui-BRAND-BG-90:#259c5c;--weui-FG-0:#000;--weui-FG-0_5:#000;--weui-FG-1:rgba(0,0,0,0.6);--weui-FG-2:rgba(0,0,0,0.42);--weui-FG-3:rgba(0,0,0,0.1);--weui-FG-4:rgba(0,0,0,0.15);--weui-GLYPH-0:#000;--weui-GLYPH-1:rgba(0,0,0,0.6);--weui-GLYPH-2:rgba(0,0,0,0.42);--weui-GLYPH-WHITE-0:hsla(0,0%,100%,0.85);--weui-GLYPH-WHITE-1:hsla(0,0%,100%,0.55);--weui-GLYPH-WHITE-2:hsla(0,0%,100%,0.35);--weui-GLYPH-WHITE-3:#fff;--weui-GREEN-100:#4f8400;--weui-GREEN-120:#a7db33;--weui-GREEN-170:#def1b3;--weui-GREEN-80:#74a800;--weui-GREEN-90:#82bd00;--weui-GREEN-BG-100:#96be40;--weui-GREEN-BG-110:#a0c452;--weui-GREEN-BG-130:#b5d179;--weui-GREEN-BG-90:#86aa39;--weui-INDIGO-100:#0075e2;--weui-INDIGO-120:#439df1;--weui-INDIGO-170:#b8daf9;--weui-INDIGO-80:#106abe;--weui-INDIGO-90:#1277d6;--weui-INDIGO-BG-100:#2b77bf;--weui-INDIGO-BG-110:#3f84c5;--weui-INDIGO-BG-130:#6ba0d2;--weui-INDIGO-BG-90:#266aab;--weui-LIGHTGREEN-100:#2e8800;--weui-LIGHTGREEN-120:#aaef87;--weui-LIGHTGREEN-170:#def9d1;--weui-LIGHTGREEN-80:#77bc54;--weui-LIGHTGREEN-90:#85d35e;--weui-LIGHTGREEN-BG-100:#72cf60;--weui-LIGHTGREEN-BG-110:#80d370;--weui-LIGHTGREEN-BG-130:#9cdd90;--weui-LIGHTGREEN-BG-90:#66b956;--weui-LINK-100:#576b95;--weui-LINK-120:#7888aa;--weui-LINK-170:#ccd2de;--weui-LINK-80:#455577;--weui-LINK-90:#4e6085;--weui-LINKFINDER-100:#002666;--weui-MATERIAL-ATTACHMENTCOLUMN:hsla(0,0%,96.1%,0.95);--weui-MATERIAL-NAVIGATIONBAR:hsla(0,0%,92.9%,0.94);--weui-MATERIAL-REGULAR:hsla(0,0%,96.9%,0.3);--weui-MATERIAL-THICK:hsla(0,0%,96.9%,0.8);--weui-MATERIAL-THIN:hsla(0,0%,100%,0.2);--weui-MATERIAL-TOOLBAR:hsla(0,0%,96.5%,0.82);--weui-ORANGE-100:#e17719;--weui-ORANGE-120:#fbb062;--weui-ORANGE-170:#fde1c3;--weui-ORANGE-80:#c87d2f;--weui-ORANGE-90:#e08c34;--weui-ORANGE-BG-100:#ea7800;--weui-ORANGE-BG-110:#ec8519;--weui-ORANGE-BG-130:#f0a04d;--weui-ORANGE-BG-90:#d26b00;--weui-ORANGERED-100:#d14730;--weui-OVERLAY:rgba(0,0,0,0.5);--weui-OVERLAY-WHITE:hsla(0,0%,94.9%,0.8);--weui-PURPLE-100:#6265f1;--weui-PURPLE-120:#8385f3;--weui-PURPLE-170:#d0d1fa;--weui-PURPLE-80:#5052c0;--weui-PURPLE-90:#595cd7;--weui-PURPLE-BG-100:#6769ba;--weui-PURPLE-BG-110:#7678c1;--weui-PURPLE-BG-130:#9496ce;--weui-PURPLE-BG-90:#5c5ea7;--weui-RED-100:#dc3636;--weui-RED-120:#fb7373;--weui-RED-170:#fdcaca;--weui-RED-80:#c84040;--weui-RED-90:#e14949;--weui-RED-BG-100:#cf5148;--weui-RED-BG-110:#d3625a;--weui-RED-BG-130:#dd847e;--weui-RED-BG-90:#b94840;--weui-SECONDARY-BG:rgba(0,0,0,0.1);--weui-SEPARATOR-0:rgba(0,0,0,0.1);--weui-SEPARATOR-1:rgba(0,0,0,0.15);--weui-STATELAYER-HOVERED:rgba(0,0,0,0.02);--weui-STATELAYER-PRESSED:rgba(0,0,0,0.1);--weui-STATELAYER-PRESSEDSTRENGTHENED:rgba(0,0,0,0.2);--weui-YELLOW-100:#bb8e00;--weui-YELLOW-120:#ffcf33;--weui-YELLOW-170:#ffecb2;--weui-YELLOW-80:#cc9c00;--weui-YELLOW-90:#e6af00;--weui-YELLOW-BG-100:#efb600;--weui-YELLOW-BG-110:#f0bd19;--weui-YELLOW-BG-130:#f3cc4d;--weui-YELLOW-BG-90:#d7a400;--weui-FG-HALF:#000;--weui-RED:#dc3636;--weui-ORANGERED:#d14730;--weui-ORANGE:#e17719;--weui-YELLOW:#bb8e00;--weui-GREEN:#4f8400;--weui-LIGHTGREEN:#2e8800;--weui-TEXTGREEN:#06ae56;--weui-BRAND:#018942;--weui-BLUE:#007dbb;--weui-INDIGO:#0075e2;--weui-PURPLE:#6265f1;--weui-LINK:#576b95;--weui-TAG-TEXT-ORANGE:#e17719;--weui-TAG-TEXT-GREEN:#06ae56;--weui-TAG-TEXT-BLUE:#007dbb;--weui-REDORANGE:#d14730;--weui-TAG-TEXT-BLACK:rgba(0,0,0,0.5);--weui-WHITE:#fff;--weui-BG:#fff;--weui-FG:#000;--weui-FG-5:rgba(0,0,0,0.05);--weui-TAG-BACKGROUND-ORANGE:rgba(225,119,25,0.1);--weui-TAG-BACKGROUND-GREEN:rgba(6,174,86,0.1);--weui-TAG-TEXT-RED:rgba(250,81,81,0.6);--weui-TAG-BACKGROUND-RED:rgba(250,81,81,0.1);--weui-TAG-BACKGROUND-BLUE:rgba(0,125,187,0.1);--weui-TAG-BACKGROUND-BLACK:rgba(0,0,0,0.05)}@media (prefers-color-scheme:dark){.wx-root[data-weui-mode=care]:not([data-weui-theme=light]),body[data-weui-mode=care]:not([data-weui-theme=light]){--weui-BG-0:#111;--weui-BG-1:#1e1e1e;--weui-BG-2:#191919;--weui-BG-3:#202020;--weui-BG-4:#404040;--weui-BG-5:#2c2c2c;--weui-BLUE-100:#10aeff;--weui-BLUE-120:#0c8bcc;--weui-BLUE-170:#04344d;--weui-BLUE-80:#3fbeff;--weui-BLUE-90:#28b6ff;--weui-BLUE-BG-100:#48a6e2;--weui-BLUE-BG-110:#4095cb;--weui-BLUE-BG-130:#32749e;--weui-BLUE-BG-90:#5aafe4;--weui-BRAND-100:#07c160;--weui-BRAND-120:#059a4c;--weui-BRAND-170:#023a1c;--weui-BRAND-80:#38cd7f;--weui-BRAND-90:#20c770;--weui-BRAND-BG-100:#2aae67;--weui-BRAND-BG-110:#259c5c;--weui-BRAND-BG-130:#1d7a48;--weui-BRAND-BG-90:#3eb575;--weui-FG-0:hsla(0,0%,100%,0.85);--weui-FG-0_5:hsla(0,0%,100%,0.65);--weui-FG-1:hsla(0,0%,100%,0.55);--weui-FG-2:hsla(0,0%,100%,0.35);--weui-FG-3:hsla(0,0%,100%,0.1);--weui-FG-4:hsla(0,0%,100%,0.15);--weui-GLYPH-0:hsla(0,0%,100%,0.85);--weui-GLYPH-1:hsla(0,0%,100%,0.55);--weui-GLYPH-2:hsla(0,0%,100%,0.35);--weui-GLYPH-WHITE-0:hsla(0,0%,100%,0.85);--weui-GLYPH-WHITE-1:hsla(0,0%,100%,0.55);--weui-GLYPH-WHITE-2:hsla(0,0%,100%,0.35);--weui-GLYPH-WHITE-3:#fff;--weui-GREEN-100:#74a800;--weui-GREEN-120:#5c8600;--weui-GREEN-170:#233200;--weui-GREEN-80:#8fb933;--weui-GREEN-90:#82b01a;--weui-GREEN-BG-100:#789833;--weui-GREEN-BG-110:#6b882d;--weui-GREEN-BG-130:#65802b;--weui-GREEN-BG-90:#85a247;--weui-INDIGO-100:#1196ff;--weui-INDIGO-120:#0d78cc;--weui-INDIGO-170:#052d4d;--weui-INDIGO-80:#40abff;--weui-INDIGO-90:#28a0ff;--weui-INDIGO-BG-100:#0d78cc;--weui-INDIGO-BG-110:#0b6bb7;--weui-INDIGO-BG-130:#09548f;--weui-INDIGO-BG-90:#2585d1;--weui-LIGHTGREEN-100:#3eb575;--weui-LIGHTGREEN-120:#31905d;--weui-LIGHTGREEN-170:#123522;--weui-LIGHTGREEN-80:#64c390;--weui-LIGHTGREEN-90:#51bc83;--weui-LIGHTGREEN-BG-100:#31905d;--weui-LIGHTGREEN-BG-110:#2c8153;--weui-LIGHTGREEN-BG-130:#226541;--weui-LIGHTGREEN-BG-90:#31905d;--weui-LINK-100:#7d90a9;--weui-LINK-120:#647387;--weui-LINK-170:#252a32;--weui-LINK-80:#97a6ba;--weui-LINK-90:#899ab1;--weui-LINKFINDER-100:#dee9ff;--weui-MATERIAL-ATTACHMENTCOLUMN:rgba(32,32,32,0.93);--weui-MATERIAL-NAVIGATIONBAR:rgba(18,18,18,0.9);--weui-MATERIAL-REGULAR:rgba(37,37,37,0.6);--weui-MATERIAL-THICK:rgba(34,34,34,0.9);--weui-MATERIAL-THIN:hsla(0,0%,96.1%,0.4);--weui-MATERIAL-TOOLBAR:rgba(35,35,35,0.93);--weui-ORANGE-100:#c87d2f;--weui-ORANGE-120:#a06425;--weui-ORANGE-170:#3b250e;--weui-ORANGE-80:#d39758;--weui-ORANGE-90:#cd8943;--weui-ORANGE-BG-100:#bb6000;--weui-ORANGE-BG-110:#a85600;--weui-ORANGE-BG-130:#824300;--weui-ORANGE-BG-90:#c1701a;--weui-ORANGERED-100:#ff6146;--weui-OVERLAY:rgba(0,0,0,0.8);--weui-OVERLAY-WHITE:hsla(0,0%,94.9%,0.8);--weui-PURPLE-100:#8183ff;--weui-PURPLE-120:#6768cc;--weui-PURPLE-170:#26274c;--weui-PURPLE-80:#9a9bff;--weui-PURPLE-90:#8d8fff;--weui-PURPLE-BG-100:#6768cc;--weui-PURPLE-BG-110:#5c5db7;--weui-PURPLE-BG-130:#48498f;--weui-PURPLE-BG-90:#7677d1;--weui-RED-100:#fa5151;--weui-RED-120:#c84040;--weui-RED-170:#4b1818;--weui-RED-80:#fb7373;--weui-RED-90:#fa6262;--weui-RED-BG-100:#cf5148;--weui-RED-BG-110:#ba4940;--weui-RED-BG-130:#913832;--weui-RED-BG-90:#d3625a;--weui-SECONDARY-BG:hsla(0,0%,100%,0.15);--weui-SEPARATOR-0:hsla(0,0%,100%,0.05);--weui-SEPARATOR-1:hsla(0,0%,100%,0.15);--weui-STATELAYER-HOVERED:rgba(0,0,0,0.02);--weui-STATELAYER-PRESSED:hsla(0,0%,100%,0.1);--weui-STATELAYER-PRESSEDSTRENGTHENED:hsla(0,0%,100%,0.2);--weui-YELLOW-100:#cc9c00;--weui-YELLOW-120:#a37c00;--weui-YELLOW-170:#3d2f00;--weui-YELLOW-80:#d6af33;--weui-YELLOW-90:#d1a519;--weui-YELLOW-BG-100:#bf9100;--weui-YELLOW-BG-110:#ab8200;--weui-YELLOW-BG-130:#866500;--weui-YELLOW-BG-90:#c59c1a;--weui-FG-HALF:hsla(0,0%,100%,0.65);--weui-RED:#fa5151;--weui-ORANGERED:#ff6146;--weui-ORANGE:#c87d2f;--weui-YELLOW:#cc9c00;--weui-GREEN:#74a800;--weui-LIGHTGREEN:#3eb575;--weui-TEXTGREEN:#259c5c;--weui-BRAND:#07c160;--weui-BLUE:#10aeff;--weui-INDIGO:#1196ff;--weui-PURPLE:#8183ff;--weui-LINK:#7d90a9;--weui-REDORANGE:#ff6146;--weui-TAG-BACKGROUND-BLACK:hsla(0,0%,100%,0.05);--weui-FG:#fff;--weui-WHITE:hsla(0,0%,100%,0.8);--weui-FG-5:hsla(0,0%,100%,0.1);--weui-TAG-BACKGROUND-ORANGE:rgba(250,157,59,0.1);--weui-TAG-BACKGROUND-GREEN:rgba(6,174,86,0.1);--weui-TAG-TEXT-RED:rgba(250,81,81,0.6);--weui-TAG-BACKGROUND-RED:rgba(250,81,81,0.1);--weui-TAG-BACKGROUND-BLUE:rgba(16,174,255,0.1);--weui-TAG-TEXT-ORANGE:rgba(250,157,59,0.6);--weui-BG:#000;--weui-TAG-TEXT-GREEN:rgba(6,174,86,0.6);--weui-TAG-TEXT-BLUE:rgba(16,174,255,0.6);--weui-TAG-TEXT-BLACK:hsla(0,0%,100%,0.5)}}.wx-root[data-weui-mode=care][data-weui-theme=dark],body[data-weui-mode=care][data-weui-theme=dark]{--weui-BG-0:#111;--weui-BG-1:#1e1e1e;--weui-BG-2:#191919;--weui-BG-3:#202020;--weui-BG-4:#404040;--weui-BG-5:#2c2c2c;--weui-BLUE-100:#10aeff;--weui-BLUE-120:#0c8bcc;--weui-BLUE-170:#04344d;--weui-BLUE-80:#3fbeff;--weui-BLUE-90:#28b6ff;--weui-BLUE-BG-100:#48a6e2;--weui-BLUE-BG-110:#4095cb;--weui-BLUE-BG-130:#32749e;--weui-BLUE-BG-90:#5aafe4;--weui-BRAND-100:#07c160;--weui-BRAND-120:#059a4c;--weui-BRAND-170:#023a1c;--weui-BRAND-80:#38cd7f;--weui-BRAND-90:#20c770;--weui-BRAND-BG-100:#2aae67;--weui-BRAND-BG-110:#259c5c;--weui-BRAND-BG-130:#1d7a48;--weui-BRAND-BG-90:#3eb575;--weui-FG-0:hsla(0,0%,100%,0.85);--weui-FG-0_5:hsla(0,0%,100%,0.65);--weui-FG-1:hsla(0,0%,100%,0.55);--weui-FG-2:hsla(0,0%,100%,0.35);--weui-FG-3:hsla(0,0%,100%,0.1);--weui-FG-4:hsla(0,0%,100%,0.15);--weui-GLYPH-0:hsla(0,0%,100%,0.85);--weui-GLYPH-1:hsla(0,0%,100%,0.55);--weui-GLYPH-2:hsla(0,0%,100%,0.35);--weui-GLYPH-WHITE-0:hsla(0,0%,100%,0.85);--weui-GLYPH-WHITE-1:hsla(0,0%,100%,0.55);--weui-GLYPH-WHITE-2:hsla(0,0%,100%,0.35);--weui-GLYPH-WHITE-3:#fff;--weui-GREEN-100:#74a800;--weui-GREEN-120:#5c8600;--weui-GREEN-170:#233200;--weui-GREEN-80:#8fb933;--weui-GREEN-90:#82b01a;--weui-GREEN-BG-100:#789833;--weui-GREEN-BG-110:#6b882d;--weui-GREEN-BG-130:#65802b;--weui-GREEN-BG-90:#85a247;--weui-INDIGO-100:#1196ff;--weui-INDIGO-120:#0d78cc;--weui-INDIGO-170:#052d4d;--weui-INDIGO-80:#40abff;--weui-INDIGO-90:#28a0ff;--weui-INDIGO-BG-100:#0d78cc;--weui-INDIGO-BG-110:#0b6bb7;--weui-INDIGO-BG-130:#09548f;--weui-INDIGO-BG-90:#2585d1;--weui-LIGHTGREEN-100:#3eb575;--weui-LIGHTGREEN-120:#31905d;--weui-LIGHTGREEN-170:#123522;--weui-LIGHTGREEN-80:#64c390;--weui-LIGHTGREEN-90:#51bc83;--weui-LIGHTGREEN-BG-100:#31905d;--weui-LIGHTGREEN-BG-110:#2c8153;--weui-LIGHTGREEN-BG-130:#226541;--weui-LIGHTGREEN-BG-90:#31905d;--weui-LINK-100:#7d90a9;--weui-LINK-120:#647387;--weui-LINK-170:#252a32;--weui-LINK-80:#97a6ba;--weui-LINK-90:#899ab1;--weui-LINKFINDER-100:#dee9ff;--weui-MATERIAL-ATTACHMENTCOLUMN:rgba(32,32,32,0.93);--weui-MATERIAL-NAVIGATIONBAR:rgba(18,18,18,0.9);--weui-MATERIAL-REGULAR:rgba(37,37,37,0.6);--weui-MATERIAL-THICK:rgba(34,34,34,0.9);--weui-MATERIAL-THIN:hsla(0,0%,96.1%,0.4);--weui-MATERIAL-TOOLBAR:rgba(35,35,35,0.93);--weui-ORANGE-100:#c87d2f;--weui-ORANGE-120:#a06425;--weui-ORANGE-170:#3b250e;--weui-ORANGE-80:#d39758;--weui-ORANGE-90:#cd8943;--weui-ORANGE-BG-100:#bb6000;--weui-ORANGE-BG-110:#a85600;--weui-ORANGE-BG-130:#824300;--weui-ORANGE-BG-90:#c1701a;--weui-ORANGERED-100:#ff6146;--weui-OVERLAY:rgba(0,0,0,0.8);--weui-OVERLAY-WHITE:hsla(0,0%,94.9%,0.8);--weui-PURPLE-100:#8183ff;--weui-PURPLE-120:#6768cc;--weui-PURPLE-170:#26274c;--weui-PURPLE-80:#9a9bff;--weui-PURPLE-90:#8d8fff;--weui-PURPLE-BG-100:#6768cc;--weui-PURPLE-BG-110:#5c5db7;--weui-PURPLE-BG-130:#48498f;--weui-PURPLE-BG-90:#7677d1;--weui-RED-100:#fa5151;--weui-RED-120:#c84040;--weui-RED-170:#4b1818;--weui-RED-80:#fb7373;--weui-RED-90:#fa6262;--weui-RED-BG-100:#cf5148;--weui-RED-BG-110:#ba4940;--weui-RED-BG-130:#913832;--weui-RED-BG-90:#d3625a;--weui-SECONDARY-BG:hsla(0,0%,100%,0.15);--weui-SEPARATOR-0:hsla(0,0%,100%,0.05);--weui-SEPARATOR-1:hsla(0,0%,100%,0.15);--weui-STATELAYER-HOVERED:rgba(0,0,0,0.02);--weui-STATELAYER-PRESSED:hsla(0,0%,100%,0.1);--weui-STATELAYER-PRESSEDSTRENGTHENED:hsla(0,0%,100%,0.2);--weui-YELLOW-100:#cc9c00;--weui-YELLOW-120:#a37c00;--weui-YELLOW-170:#3d2f00;--weui-YELLOW-80:#d6af33;--weui-YELLOW-90:#d1a519;--weui-YELLOW-BG-100:#bf9100;--weui-YELLOW-BG-110:#ab8200;--weui-YELLOW-BG-130:#866500;--weui-YELLOW-BG-90:#c59c1a;--weui-FG-HALF:hsla(0,0%,100%,0.65);--weui-RED:#fa5151;--weui-ORANGERED:#ff6146;--weui-ORANGE:#c87d2f;--weui-YELLOW:#cc9c00;--weui-GREEN:#74a800;--weui-LIGHTGREEN:#3eb575;--weui-TEXTGREEN:#259c5c;--weui-BRAND:#07c160;--weui-BLUE:#10aeff;--weui-INDIGO:#1196ff;--weui-PURPLE:#8183ff;--weui-LINK:#7d90a9;--weui-REDORANGE:#ff6146;--weui-TAG-BACKGROUND-BLACK:hsla(0,0%,100%,0.05);--weui-FG:#fff;--weui-WHITE:hsla(0,0%,100%,0.8);--weui-FG-5:hsla(0,0%,100%,0.1);--weui-TAG-BACKGROUND-ORANGE:rgba(250,157,59,0.1);--weui-TAG-BACKGROUND-GREEN:rgba(6,174,86,0.1);--weui-TAG-TEXT-RED:rgba(250,81,81,0.6);--weui-TAG-BACKGROUND-RED:rgba(250,81,81,0.1);--weui-TAG-BACKGROUND-BLUE:rgba(16,174,255,0.1);--weui-TAG-TEXT-ORANGE:rgba(250,157,59,0.6);--weui-BG:#000;--weui-TAG-TEXT-GREEN:rgba(6,174,86,0.6);--weui-TAG-TEXT-BLUE:rgba(16,174,255,0.6);--weui-TAG-TEXT-BLACK:hsla(0,0%,100%,0.5)}.wx-root{pointer-events:auto;font-family:system-ui,-apple-system,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif}.wx-root,.wx_card_root{position:relative}.wxw_hide{display:none!important}.wx_uninteractive{pointer-events:none}.wx-root,body{--APPMSGCARD-BG:#fafafa}.wx-root[data-weui-theme=dark],body[data-weui-theme=dark]{--APPMSGCARD-BG:#1e1e1e}@media (prefers-color-scheme:dark){.wx-root:not([data-weui-theme=light]),body:not([data-weui-theme=light]){--APPMSGCARD-BG:#1e1e1e}}.wx-root,body{--APPMSGCARD-LINE-BG:rgba(0,0,0,0.07)}.wx-root[data-weui-theme=dark],body[data-weui-theme=dark]{--APPMSGCARD-LINE-BG:hsla(0,0%,100%,0.07)}@media (prefers-color-scheme:dark){.wx-root:not([data-weui-theme=light]),body:not([data-weui-theme=light]){--APPMSGCARD-LINE-BG:hsla(0,0%,100%,0.07)}}.appmsg_card_context{position:relative;background-color:var(--APPMSGCARD-BG);border-radius:8px;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}:host(.wx_tap_highlight_active) .wx_tap_link{opacity:.5}:host(.wx_tap_highlight_active) .wx_tap_card{background-color:#f3f3f3}:host(.wx_tap_highlight_active) .wx_tap_cell{background-color:rgba(0,0,0,.05)}@media (prefers-color-scheme:dark){:host(.wx_tap_highlight_active) .wx_tap_card{background-color:#252525}:host(.wx_tap_highlight_active) .wx_tap_cell{background-color:hsla(0,0%,100%,.1)}}.wx_css_active :active{opacity:.5}.weui-flex__item{min-width:0}.weui-flex_align-center{align-items:center}[tabindex]{outline:0}.wx_hover_card:before{border-radius:8px;border:1px solid rgba(7,193,96,.3)}.wx_hover_card:before,.wx_selected_card:before{content:" ";position:absolute;top:0;left:0;right:0;bottom:0;box-sizing:border-box;pointer-events:none;z-index:9}.wx_selected_card:before{border-radius:8px;border:1.5px solid #07c160;background:rgba(7,193,96,.1)}img{pointer-events:none}.wx_profile_card{line-height:1.4;text-align:left;text-decoration:none;clear:both;position:relative}.wx_profile_card_ft{padding:8px 16px;align-items:center;position:relative;color:var(--weui-FG-2);font-size:14px}.wx_profile_card_ft:before{content:"";content:" ";position:absolute;left:0;top:0;right:0;height:1px;border-top:1px solid var(--APPMSGCARD-LINE-BG);color:var(--APPMSGCARD-LINE-BG);transform-origin:0 0;transform:scaleY(.5);left:16px;right:16px}.wx_profile_msg{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;z-index:1;background:hsla(0,0%,100%,.5);font-size:14px;font-weight:400}.common-web{margin:0 auto;max-width:350px}.wx_card_disabled .wx_profile_card_bd{filter:blur(2px)}.wx_profile{padding:20px 16px}.wx_profile .weui-icon-arrow{width:1em;height:2em}.wx_profile_hd{display:flex;padding-right:10px}.wx_profile_hd .wx_profile_avatar{width:44px;height:44px!important;border-radius:100%}.wx_profile_ft{padding-left:10px}.wx_profile_bd{align-items:center}.wx_profile_bd>.weui-flex__item{padding-right:16px}.wx_profile_nickname{display:inline-block;flex-shrink:1;color:var(--weui-FG-0);font-weight:500}.wx_profile_desc{width:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal}.wx_profile_desc,.wx_profile_tips{color:var(--weui-FG-1);font-size:14px;margin-top:4px}.wx_profile_tips{display:flex;min-height:1.4em}.wx_profile_tips:empty{display:none}.wx_profile_nickname_wrp{position:relative;display:flex;flex-direction:row;align-items:center;width:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal;font-size:17px;line-height:1.2;font-weight:500}.wx_follow_verify{flex-shrink:0;height:14px;width:14px;margin-left:2px;background-size:cover;background-position:50%;background-repeat:no-repeat}.wx_follow_verify.show-verify-personal{display:block;background-image:url(https://res.wx.qq.com/op_res/nLnAiLrrETuU96Aym1ZDNuddJ2beY0iOs-D3h-7MPQeIIoXE5kLrgfPY_Vr_hrKamxAjISc12pBthrd7Ja4S4w)}.wx_follow_verify.show-verify-company{display:block;background-image:url(https://res.wx.qq.com/op_res/nLnAiLrrETuU96Aym1ZDNjhMga6Fe1hiYp332DlZsT_u4THJyu8XegVlG723G5FblhAwxLO31iFVMkzq62jS3w)}.wx_follow_verify.show-verify-media{display:block;background-image:url(https://res.wx.qq.com/op_res/n1-Xym4hWn0AbVImOFGmT9sRdHV1rjoe3lnMHwxRdfbguJjDQH16CE7AIfDZy1KVMHWCPJIoAC4jrMEFqmqR4A)}</style>
      <div role="option" tabindex="0"
           aria-labelledby="js_a11y_wx_profile_nickname js_a11y_comma js_a11y_wx_profile_desc js_a11y_comma0 js_a11y_wx_profile_tips js_a11y_comma1 js_a11y_wx_profile_logo"
           class="appmsg_card_context wx_profile_card wx-root wx_tap_card wx_card_root common-web"
           data-weui-theme="light">
        <div class="wx_profile_card_inner">
          <div class="wx_profile_card_bd" aria-hidden="true">
            <div class="wx_profile weui-flex">
              <div class="wx_profile_hd">
                <img src="${l}" alt="" class="wx_profile_avatar">
              </div>
              <div class="wx_profile_bd weui-flex weui-flex__item">
                <div class="weui-flex__item">
                  <div class="wx_profile_nickname_wrp">
                    <strong id="js_a11y_wx_profile_nickname" class="wx_profile_nickname">${a}</strong>
                    <span class="wx_follow_verify ${i==="1"?"show-verify-personal":i==="2"?"show-verify-company":""}"></span>
                  </div>
                  <div id="js_a11y_wx_profile_desc" class="wx_profile_desc">${r}</div>
                </div>
                <i class="weui-icon-arrow"></i>
              </div>
            </div>
          </div>
          <div id="js_a11y_wx_profile_logo" aria-hidden="true" class="wx_profile_card_ft">
            ${s==="1"?"公众号":"服务号"}
          </div>
        </div>
        <span aria-hidden="true" id="js_a11y_comma" class="weui-a11y_ref" style="display: none;">，</span>
      </div>
    `}}function wv(){customElements.define("mp-common-profile",gv)}Fd().catch(console.error);wv();const Zr=Ls(fv);Zr.use(Ts());Zr.mount("#app");const vv=typeof chrome<"u"&&chrome.runtime&&chrome.runtime.id;async function hv(){const n={active:!0,lastFocusedWindow:!0};if(typeof browser<"u"&&browser.tabs&&browser.tabs.query){const[l]=await browser.tabs.query(n);return l}const[a]=await chrome.tabs.query(n);return a}window.addEventListener("copyToMp",n=>{const a=n;vv&&hv().then(l=>{chrome.tabs.sendMessage(l.id,{type:"copyToMp",content:a.detail.content})})});
