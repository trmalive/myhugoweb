import{s as R,x as V,G as tt,V as K,N as zt,v as st,E as ut,C as te,ad as ee,U as fe,F as Mt,y as Rt,B as at,a3 as de,l as et,ae as Q,c as N,q as F,I as ht,r as _,w as Z,a6 as re,A as f,d as ne,n as oe,b as pe,J as ve,ac as he}from"./md-vendor_npm_vue-CxEGiCke.js";import{c as me}from"./md-vendor_npm_popperjs-DC5wud4b.js";function Pt(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ae(t,e){if(t){if(typeof t=="string")return Pt(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pt(t,e):void 0}}function ge(t){return(function(e){if(Array.isArray(e))return Pt(e)})(t)||(function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)})(t)||ae(t)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function lt(t){return lt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lt(t)}function Dt(t,e,r,n,o,i,a){try{var v=t[i](a),l=v.value}catch(s){return void r(s)}v.done?e(l):Promise.resolve(l).then(n,o)}function Vt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(l){Dt(i,n,o,a,v,"next",l)}function v(l){Dt(i,n,o,a,v,"throw",l)}a(void 0)}))}}var ie={exports:{}},Ht={exports:{}};(function(t){function e(r){return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Ht),(function(t){var e=Ht.exports.default;function r(){t.exports=r=function(){return o},t.exports.__esModule=!0,t.exports.default=t.exports;var n,o={},i=Object.prototype,a=i.hasOwnProperty,v=Object.defineProperty||function(c,u,p){c[u]=p.value},l=typeof Symbol=="function"?Symbol:{},s=l.iterator||"@@iterator",d=l.asyncIterator||"@@asyncIterator",g=l.toStringTag||"@@toStringTag";function m(c,u,p){return Object.defineProperty(c,u,{value:p,enumerable:!0,configurable:!0,writable:!0}),c[u]}try{m({},"")}catch{m=function(u,p,x){return u[p]=x}}function w(c,u,p,x){var y=u&&u.prototype instanceof Y?u:Y,O=Object.create(y.prototype),L=new q(x||[]);return v(O,"_invoke",{value:P(c,p,L)}),O}function C(c,u,p){try{return{type:"normal",arg:c.call(u,p)}}catch(x){return{type:"throw",arg:x}}}o.wrap=w;var h="suspendedStart",S="suspendedYield",A="executing",I="completed",E={};function Y(){}function j(){}function D(){}var $={};m($,s,(function(){return this}));var X=Object.getPrototypeOf,b=X&&X(X(It([])));b&&b!==i&&a.call(b,s)&&($=b);var k=D.prototype=Y.prototype=Object.create($);function B(c){["next","throw","return"].forEach((function(u){m(c,u,(function(p){return this._invoke(u,p)}))}))}function M(c,u){function p(y,O,L,H){var G=C(c[y],c,O);if(G.type!=="throw"){var it=G.arg,dt=it.value;return dt&&e(dt)=="object"&&a.call(dt,"__await")?u.resolve(dt.__await).then((function(nt){p("next",nt,L,H)}),(function(nt){p("throw",nt,L,H)})):u.resolve(dt).then((function(nt){it.value=nt,L(it)}),(function(nt){return p("throw",nt,L,H)}))}H(G.arg)}var x;v(this,"_invoke",{value:function(y,O){function L(){return new u((function(H,G){p(y,O,H,G)}))}return x=x?x.then(L,L):L()}})}function P(c,u,p){var x=h;return function(y,O){if(x===A)throw Error("Generator is already running");if(x===I){if(y==="throw")throw O;return{value:n,done:!0}}for(p.method=y,p.arg=O;;){var L=p.delegate;if(L){var H=J(L,p);if(H){if(H===E)continue;return H}}if(p.method==="next")p.sent=p._sent=p.arg;else if(p.method==="throw"){if(x===h)throw x=I,p.arg;p.dispatchException(p.arg)}else p.method==="return"&&p.abrupt("return",p.arg);x=A;var G=C(c,u,p);if(G.type==="normal"){if(x=p.done?I:S,G.arg===E)continue;return{value:G.arg,done:p.done}}G.type==="throw"&&(x=I,p.method="throw",p.arg=G.arg)}}}function J(c,u){var p=u.method,x=c.iterator[p];if(x===n)return u.delegate=null,p==="throw"&&c.iterator.return&&(u.method="return",u.arg=n,J(c,u),u.method==="throw")||p!=="return"&&(u.method="throw",u.arg=new TypeError("The iterator does not provide a '"+p+"' method")),E;var y=C(x,c.iterator,u.arg);if(y.type==="throw")return u.method="throw",u.arg=y.arg,u.delegate=null,E;var O=y.arg;return O?O.done?(u[c.resultName]=O.value,u.next=c.nextLoc,u.method!=="return"&&(u.method="next",u.arg=n),u.delegate=null,E):O:(u.method="throw",u.arg=new TypeError("iterator result is not an object"),u.delegate=null,E)}function T(c){var u={tryLoc:c[0]};1 in c&&(u.catchLoc=c[1]),2 in c&&(u.finallyLoc=c[2],u.afterLoc=c[3]),this.tryEntries.push(u)}function z(c){var u=c.completion||{};u.type="normal",delete u.arg,c.completion=u}function q(c){this.tryEntries=[{tryLoc:"root"}],c.forEach(T,this),this.reset(!0)}function It(c){if(c||c===""){var u=c[s];if(u)return u.call(c);if(typeof c.next=="function")return c;if(!isNaN(c.length)){var p=-1,x=function y(){for(;++p<c.length;)if(a.call(c,p))return y.value=c[p],y.done=!1,y;return y.value=n,y.done=!0,y};return x.next=x}}throw new TypeError(e(c)+" is not iterable")}return j.prototype=D,v(k,"constructor",{value:D,configurable:!0}),v(D,"constructor",{value:j,configurable:!0}),j.displayName=m(D,g,"GeneratorFunction"),o.isGeneratorFunction=function(c){var u=typeof c=="function"&&c.constructor;return!!u&&(u===j||(u.displayName||u.name)==="GeneratorFunction")},o.mark=function(c){return Object.setPrototypeOf?Object.setPrototypeOf(c,D):(c.__proto__=D,m(c,g,"GeneratorFunction")),c.prototype=Object.create(k),c},o.awrap=function(c){return{__await:c}},B(M.prototype),m(M.prototype,d,(function(){return this})),o.AsyncIterator=M,o.async=function(c,u,p,x,y){y===void 0&&(y=Promise);var O=new M(w(c,u,p,x),y);return o.isGeneratorFunction(u)?O:O.next().then((function(L){return L.done?L.value:O.next()}))},B(k),m(k,g,"Generator"),m(k,s,(function(){return this})),m(k,"toString",(function(){return"[object Generator]"})),o.keys=function(c){var u=Object(c),p=[];for(var x in u)p.push(x);return p.reverse(),function y(){for(;p.length;){var O=p.pop();if(O in u)return y.value=O,y.done=!1,y}return y.done=!0,y}},o.values=It,q.prototype={constructor:q,reset:function(c){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(z),!c)for(var u in this)u.charAt(0)==="t"&&a.call(this,u)&&!isNaN(+u.slice(1))&&(this[u]=n)},stop:function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},dispatchException:function(c){if(this.done)throw c;var u=this;function p(G,it){return O.type="throw",O.arg=c,u.next=G,it&&(u.method="next",u.arg=n),!!it}for(var x=this.tryEntries.length-1;x>=0;--x){var y=this.tryEntries[x],O=y.completion;if(y.tryLoc==="root")return p("end");if(y.tryLoc<=this.prev){var L=a.call(y,"catchLoc"),H=a.call(y,"finallyLoc");if(L&&H){if(this.prev<y.catchLoc)return p(y.catchLoc,!0);if(this.prev<y.finallyLoc)return p(y.finallyLoc)}else if(L){if(this.prev<y.catchLoc)return p(y.catchLoc,!0)}else{if(!H)throw Error("try statement without catch or finally");if(this.prev<y.finallyLoc)return p(y.finallyLoc)}}}},abrupt:function(c,u){for(var p=this.tryEntries.length-1;p>=0;--p){var x=this.tryEntries[p];if(x.tryLoc<=this.prev&&a.call(x,"finallyLoc")&&this.prev<x.finallyLoc){var y=x;break}}y&&(c==="break"||c==="continue")&&y.tryLoc<=u&&u<=y.finallyLoc&&(y=null);var O=y?y.completion:{};return O.type=c,O.arg=u,y?(this.method="next",this.next=y.finallyLoc,E):this.complete(O)},complete:function(c,u){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&u&&(this.next=u),E},finish:function(c){for(var u=this.tryEntries.length-1;u>=0;--u){var p=this.tryEntries[u];if(p.finallyLoc===c)return this.complete(p.completion,p.afterLoc),z(p),E}},catch:function(c){for(var u=this.tryEntries.length-1;u>=0;--u){var p=this.tryEntries[u];if(p.tryLoc===c){var x=p.completion;if(x.type==="throw"){var y=x.arg;z(p)}return y}}throw Error("illegal catch attempt")},delegateYield:function(c,u,p){return this.delegate={iterator:It(c),resultName:u,nextLoc:p},this.method==="next"&&(this.arg=n),E}},o}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(ie);var yt=ie.exports(),mt=yt;try{regeneratorRuntime=yt}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=yt:Function("r","regeneratorRuntime = r")(yt)}function ft(t,e){return(function(r){if(Array.isArray(r))return r})(t)||(function(r,n){var o=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(o!=null){var i,a,v,l,s=[],d=!0,g=!1;try{if(v=(o=o.call(r)).next,n===0){if(Object(o)!==o)return;d=!1}else for(;!(d=(i=v.call(o)).done)&&(s.push(i.value),s.length!==n);d=!0);}catch(m){g=!0,a=m}finally{try{if(!d&&o.return!=null&&(l=o.return(),Object(l)!==l))return}finally{if(g)throw a}}return s}})(t,e)||ae(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function ye(t){var e=(function(r,n){if(lt(r)!="object"||!r)return r;var o=r[Symbol.toPrimitive];if(o!==void 0){var i=o.call(r,n);if(lt(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)})(t,"string");return lt(e)=="symbol"?e:e+""}function Tt(t,e,r){return(e=ye(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var bt=et({name:"Saturation",props:{size:{type:Number,default:160},hue:{type:Number,default:0},saturation:{type:Number,default:0},value:{type:Number,default:0}},emits:["change"],setup:function(t,e){var r=e.emit,n=N((function(){return{width:"".concat(t.size,"px"),height:"".concat(t.size,"px"),background:"hsl(".concat(t.hue,", 100%, 50%)")}}));return{saturationStyle:n,sliderStyle:N((function(){return{top:"".concat((100-t.value)/100*t.size-5,"px"),left:"".concat(t.saturation*t.size/100-5,"px"),width:"".concat(10,"px"),height:"".concat(10,"px")}})),onSelect:function(o){var i=o.target.getBoundingClientRect(),a=i.left,v=i.top,l=function(d){var g,m;d instanceof MouseEvent?(g=d.clientX,m=d.clientY):d instanceof TouchEvent&&(g=d.touches[0].clientX,m=d.touches[0].clientY);var w=g-a,C=m-v;w<0&&(w=0),C<0&&(C=0),w>t.size&&(w=t.size),C>t.size&&(C=t.size);var h=w/t.size*100,S=100-C/t.size*100;r("change",h,S)};l(o);var s=function(){document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",s),document.removeEventListener("touchmove",l),document.removeEventListener("touchend",s)};l(o),o instanceof MouseEvent&&(document.addEventListener("mousemove",l),document.addEventListener("mouseup",s)),o instanceof TouchEvent&&(o.preventDefault(),document.addEventListener("touchmove",l,{passive:!1}),document.addEventListener("touchend",s))}}}});function rt(t,e){e===void 0&&(e={});var r=e.insertAt;if(t&&typeof document<"u"){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}rt(".saturation[data-v-24517fec]{position:relative}.saturation-black[data-v-24517fec],.saturation-white[data-v-24517fec]{cursor:pointer;height:100%;left:0;position:absolute;top:0;width:100%}.saturation-white[data-v-24517fec]{background:linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.saturation-black[data-v-24517fec]{background:linear-gradient(0deg,#000,transparent)}.slider[data-v-24517fec]{border:1px solid #fff;border-radius:50%;box-shadow:0 0 1px 1px rgba(0,0,0,.3);left:0;pointer-events:none;position:absolute;top:0;z-index:1}"),bt.render=function(t,e,r,n,o,i){return F(),R("div",{class:"saturation",style:tt(t.saturationStyle),onMousedown:e[0]||(e[0]=K((function(){return t.onSelect&&t.onSelect.apply(t,arguments)}),["prevent","stop"])),onTouchstart:e[1]||(e[1]=K((function(){return t.onSelect&&t.onSelect.apply(t,arguments)}),["prevent","stop"]))},[e[2]||(e[2]=V("div",{class:"saturation-white"},null,-1)),e[3]||(e[3]=V("div",{class:"saturation-black"},null,-1)),V("div",{class:"slider",style:tt(t.sliderStyle)},null,4)],36)},bt.__scopeId="data-v-24517fec",bt.__file="src/picker/Saturation.vue";var xt=et({name:"Hue",props:{width:{type:Number,default:15},height:{type:Number,default:160},hue:{type:Number,default:0}},emits:["change"],setup:function(t,e){var r=e.emit,n=N((function(){return{top:"".concat((1-t.hue/360)*t.height-2,"px"),height:"".concat(4,"px")}})),o=_();return ht((function(){(function(){if(o.value){o.value.width=t.width,o.value.height=t.height;var i=o.value.getContext("2d");if(i){var a=i.createLinearGradient(0,0,0,t.height);a.addColorStop(0,"#FF0000"),a.addColorStop(.17,"#FF00FF"),a.addColorStop(.34,"#0000FF"),a.addColorStop(.51,"#00FFFF"),a.addColorStop(.68,"#00FF00"),a.addColorStop(.17*5,"#FFFF00"),a.addColorStop(1,"#FF0000"),i.fillStyle=a,i.fillRect(0,0,t.width,t.height)}}})()})),{canvas:o,sliderStyle:n,onSelect:function(i){var a=i.target.getBoundingClientRect().top,v=function(s){var d;s instanceof MouseEvent?d=s.clientY:s instanceof TouchEvent&&(d=s.touches[0].clientY);var g=d-a;g<0&&(g=0),g>t.height&&(g=t.height);var m=-100*g/t.height+100;r("change",360*m/100)},l=function(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",l),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",l)};v(i),i instanceof MouseEvent&&(document.addEventListener("mousemove",v),document.addEventListener("mouseup",l)),i instanceof TouchEvent&&(i.preventDefault(),document.addEventListener("touchmove",v,{passive:!1}),document.addEventListener("touchend",l))}}}}),be={ref:"canvas"};rt(".hue[data-v-78b9f4f0]{position:relative;touch-action:none}.slider[data-v-78b9f4f0]{background:#fff;box-shadow:0 0 1px 0 rgba(0,0,0,.3);left:0;pointer-events:none;position:absolute;width:100%;z-index:1}"),xt.render=function(t,e,r,n,o,i){return F(),R("div",{class:"hue",onMousedown:e[0]||(e[0]=K((function(){return t.onSelect&&t.onSelect.apply(t,arguments)}),["prevent","stop"])),onTouchstart:e[1]||(e[1]=K((function(){return t.onSelect&&t.onSelect.apply(t,arguments)}),["prevent","stop"]))},[V("canvas",be,null,512),V("div",{class:"slider",style:tt(t.sliderStyle)},null,4)],32)},xt.__scopeId="data-v-78b9f4f0",xt.__file="src/picker/Hue.vue";var wt=et({name:"Alpha",props:{width:{type:Number,default:15},height:{type:Number,default:160},color:{type:String,default:"#000000"},alpha:{type:Number,default:1}},setup:function(t,e){var r=e.emit,n=N((function(){return{top:"".concat(t.alpha*t.height-2,"px"),height:"".concat(4,"px")}})),o=_(),i=function(){var a=o.value.getContext("2d");o.value.width=t.width,o.value.height=t.height;var v=(function(s){var d=document.createElement("canvas"),g=d.getContext("2d"),m=2*s;return d.width=m,d.height=m,g.fillStyle="#ffffff",g.fillRect(0,0,m,m),g.fillStyle="#ccd5db",g.fillRect(0,0,s,s),g.fillRect(s,s,s,s),d})(5);a.fillStyle=a.createPattern(v,"repeat"),a.fillRect(0,0,t.width,t.height);var l=a.createLinearGradient(0,0,0,t.height);l.addColorStop(.01,"rgba(255,255,255,0)"),l.addColorStop(.99,t.color),a.fillStyle=l,a.fillRect(0,0,t.width,t.height)};return Z((function(){return t.color}),(function(){i()})),ht((function(){i()})),{canvas:o,sliderStyle:n,onSelect:function(a){var v=a.target.getBoundingClientRect().top,l=function(d){var g;d instanceof MouseEvent?g=d.clientY:d instanceof TouchEvent&&(g=d.touches[0].clientY);var m=g-v;m<0&&(m=0),m>t.height&&(m=t.height);var w=parseFloat((m/t.height).toFixed(2));r("change",w)},s=function(){document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",s),document.removeEventListener("touchmove",l),document.removeEventListener("touchend",s)};l(a),a instanceof MouseEvent&&(document.addEventListener("mousemove",l),document.addEventListener("mouseup",s)),a instanceof TouchEvent&&(a.preventDefault(),document.addEventListener("touchmove",l,{passive:!1}),document.addEventListener("touchend",s))}}}}),xe={ref:"canvas"};rt(".alpha[data-v-24dc9656]{position:relative;touch-action:none}.slider[data-v-24dc9656]{background:#fff;box-shadow:0 0 1px 0 rgba(0,0,0,.3);left:0;pointer-events:none;position:absolute;width:100%;z-index:1}"),wt.render=function(t,e,r,n,o,i){return F(),R("div",{class:"alpha",onMousedown:e[0]||(e[0]=K((function(){return t.onSelect&&t.onSelect.apply(t,arguments)}),["prevent","stop"])),onTouchstart:e[1]||(e[1]=K((function(){return t.onSelect&&t.onSelect.apply(t,arguments)}),["prevent","stop"]))},[V("canvas",xe,null,512),V("div",{class:"slider",style:tt(t.sliderStyle)},null,4)],32)},wt.__scopeId="data-v-24dc9656",wt.__file="src/picker/Alpha.vue";var ue={rgb:"RGBA",hex:"HEX",hsl:"HSLA",hsv:"HSVA"},le={rgb:"RGB",hex:"HEX",hsl:"HSL",hsv:"HSV"},we={RGB:"rgb",RGBA:"rgb",HEX:"hex",HSL:"hsl",HSLA:"hsl",HSV:"hsv",HSVA:"hsv"};function Gt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,n)}return r}function _t(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gt(Object(r),!0).forEach((function(n){Tt(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gt(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}var ot=null,ce=function(t,e,r){var n=_({}),o=r||{},i=o.placement,a=o.defaultStyle,v={strategy:o.strategy||"absolute",placement:i||"auto",onFirstUpdate:function(){ot.update()},modifiers:[{name:"offset",options:{offset:[0,5]}},{name:"computeStyles",options:{gpuAcceleration:!1,adaptive:!0}},{name:"flip",options:{allowedAutoPlacements:["top","bottom"]}},{name:"applyStyles",enabled:!1},{name:"updateState",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(l){var s=l.state,d=s.styles,g=s.placement,m=d.popper;n.value=_t(_t(_t({},m),a),{},{transformOrigin:g==="top"?"center bottom":"center top"})}}]};return Z((function(){return[f(t),f(e)]}),(function(l,s){var d,g=ft(l,2),m=g[0],w=g[1],C=ft(s,2),h=C[0],S=C[1];if(m&&w&&(h!==m||S!==h)){(d=ot)===null||d===void 0||d.destroy();var A=m.$el||m,I=w.$el||w;oe((function(){ot=me(A,I,v)}))}})),ve((function(){var l;ot&&((l=ot)===null||l===void 0||l.destroy(),ot=null)})),{instance:ot,style:n}},St=et({props:{value:{type:String,default:"RGBA"},showAlpha:{type:Boolean},options:{type:[Boolean,Array]}},emits:["change"],setup:function(t,e){var r=e.emit,n=_(null),o=_(null),i=_(!1),a=ce(n,o,{strategy:"fixed",defaultStyle:{zIndex:2}}).style,v=N((function(){return Array.isArray(t.options)&&t.options.length>1})),l=N((function(){var d=t.options,g=t.showAlpha,m=t.value;return Array.isArray(d)?g?d.map((function(w){return ue[w]})).filter((function(w){return!w.includes(m)})):d.map((function(w){return le[w]})).filter((function(w){return!w.includes(m)})):[]})),s=function(d){var g,m,w=d.target;!((g=f(n))!==null&&g!==void 0&&g.isEqualNode(w))&&(!((m=f(n))===null||m===void 0)&&m.contains(w))||(i.value=!1)};return ht((function(){document.addEventListener("mouseup",s,!1)})),re((function(){document.removeEventListener("mouseup",s,!1)})),{targetRef:n,selectorRef:o,selectorStyle:a,isShowSelector:i,isNeedSelect:v,formatOptions:l,onShow:function(){v.value&&(i.value=!0)},onFormatChange:function(d){r("change",we[d])}}}}),Se={class:"format"},ke={key:0,class:"arrow"},Ce=["onClick"];rt(".format[data-v-5f6e8f5e]{position:relative}.label[data-v-5f6e8f5e]{align-items:center;background:#e7e8e9;color:#999;display:flex;float:left;font-weight:500;height:30px;justify-content:center;position:relative;width:60px}[pick-colors-theme=dark] .label[data-v-5f6e8f5e]{background:#252930;color:#999}.arrow[data-v-5f6e8f5e]{height:6px;margin-bottom:4px;margin-left:5px;transform:rotate(135deg);width:6px}.arrow[data-v-5f6e8f5e],[pick-colors-theme=dark] .arrow[data-v-5f6e8f5e]{border-right:1px solid #999;border-top:1px solid #999}.selector[data-v-5f6e8f5e]{align-items:center;background:#f7f8f9;border-radius:5px;box-shadow:0 0 16px 0 rgba(0,0,0,.16);cursor:pointer;display:flex;flex-direction:column;font-weight:400;justify-content:center;padding:4px}[pick-colors-theme=dark] .selector[data-v-5f6e8f5e]{background:#252930;color:#999}.selector-item[data-v-5f6e8f5e]{align-items:center;display:flex;height:30px;justify-content:center;width:60px}.selector-item[data-v-5f6e8f5e]:hover{background:#e1f2fe}[pick-colors-theme=dark] .selector-item[data-v-5f6e8f5e]{color:#fff}[pick-colors-theme=dark] .selector-item[data-v-5f6e8f5e]:hover{background:#0087fa}.active-selector-item[data-v-5f6e8f5e]{background:#e1f2fe}[pick-colors-theme=dark] .active-selector-item[data-v-5f6e8f5e]{background:#0087fa}.v-enter-active[data-v-5f6e8f5e],.v-leave-active[data-v-5f6e8f5e]{opacity:1;transform:scaleY(1);transform-origin:center top;transition:opacity .2s ease-in-out,transform .2s ease-in-out}.v-enter-from[data-v-5f6e8f5e],.v-leave-to[data-v-5f6e8f5e]{opacity:0;transform:scaleY(0)}"),St.render=function(t,e,r,n,o,i){return F(),R("div",Se,[V("div",{class:"label",ref:"targetRef",onClick:e[0]||(e[0]=function(){return t.onShow&&t.onShow.apply(t,arguments)})},[V("span",null,zt(t.value),1),t.isNeedSelect?(F(),R("div",ke)):st("v-if",!0)],512),ut(ee,null,{default:te((function(){return[t.isShowSelector?(F(),R("div",{key:0,class:"selector",ref:"selectorRef",style:tt(t.selectorStyle)},[(F(!0),R(Mt,null,Rt(t.formatOptions,(function(a){return F(),R("div",{class:"selector-item",key:a,onClick:function(v){return t.onFormatChange(a)}},zt(a),9,Ce)})),128))],4)):st("v-if",!0)]})),_:1})])},St.__scopeId="data-v-5f6e8f5e",St.__file="src/picker/input-value/FormatValue.vue";var kt=et({name:"Input",components:{FormatValue:St},props:{format:{type:String,default:"RGBA"},value:{type:String,default:""},width:{type:Number},showAlpha:{type:Boolean},formatOptions:{type:[Boolean,Array]}},emits:["change","focus","blur","enter","formatChange"],setup:function(t,e){var r=e.emit;return{onInput:function(n){var o;r("change",(o=n.target)===null||o===void 0?void 0:o.value)},valueStyle:N((function(){return{minWidth:"".concat(t.width,"px"),maxWidth:"".concat(t.width,"px"),width:"".concat(t.width,"px")}})),onFocus:function(){r("focus")},onBlur:function(){r("blur")},onEnter:function(){r("enter")},onFormatChange:function(n){r("formatChange",n)}}}}),Oe={class:"input"},Ee=[".value"];function Yt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,n)}return r}function U(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yt(Object(r),!0).forEach((function(n){Tt(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yt(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}rt(".input[data-v-2c454c00]{display:flex;font-size:12px}.value[data-v-2c454c00]{background:#eceef0;border:1px solid #eceef0;box-sizing:border-box;color:#666;flex:1;height:30px;text-align:center}[pick-colors-theme=dark] .value[data-v-2c454c00]{background:#2e333a;border:1px solid #2e333a;color:#fff}.value[data-v-2c454c00]:focus{border:1px solid #1890ff;outline:none}"),kt.render=function(t,e,r,n,o,i){var a=Q("FormatValue");return F(),R("div",Oe,[ut(a,{value:t.format,showAlpha:t.showAlpha,options:t.formatOptions,onChange:t.onFormatChange},null,8,["value","showAlpha","options","onChange"]),V("input",{class:"value",style:tt(t.valueStyle),".value":t.value,onFocus:e[0]||(e[0]=function(){return t.onFocus&&t.onFocus.apply(t,arguments)}),onInput:e[1]||(e[1]=function(){return t.onInput&&t.onInput.apply(t,arguments)}),onBlur:e[2]||(e[2]=function(){return t.onBlur&&t.onBlur.apply(t,arguments)}),onKeydown:e[3]||(e[3]=fe((function(){return t.onEnter&&t.onEnter.apply(t,arguments)}),["enter"]))},null,44,Ee)])},kt.__scopeId="data-v-2c454c00",kt.__file="src/picker/input-value/InputValue.vue";var $t=function(t,e,r){return[t,e*r/((t=(2-e)*r)<1?t:2-t)||0,t/2]},Jt={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},Ct=function(t){t=Math.min(Math.round(t),255);var e=Math.floor(t/16),r=t%16;return"".concat(Jt[e]||e).concat(Jt[r]||r)},Ut=function(t){var e=t.r,r=t.g,n=t.b;return isNaN(e)||isNaN(r)||isNaN(n)?"":"#".concat(Ct(e)).concat(Ct(r)).concat(Ct(n))},ct=function(t,e){var r;typeof(r=t)=="string"&&r.indexOf(".")!==-1&&parseFloat(r)===1&&(t="100%");var n=(function(o){return typeof o=="string"&&o.indexOf("%")!==-1})(t);return t=Math.min(e,Math.max(0,parseFloat("".concat(t)))),n&&(t=parseInt("".concat(t*e),10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)},pt=function(t,e,r){t=6*ct(t,360),e=ct(e,100),r=ct(r,100);var n=Math.floor(t),o=t-n,i=r*(1-e),a=r*(1-o*e),v=r*(1-(1-o)*e),l=n%6,s=[r,a,i,i,v,r][l],d=[v,r,r,a,i,i][l],g=[i,i,v,r,r,a][l];return{r:Math.round(255*s),g:Math.round(255*d),b:Math.round(255*g)}},se=function(t,e,r){var n,o,i=t.h,a=t.s,v=t.v,l=t.a;if(r)switch(["hsl","hsv","rga"].includes(e)&&(l=(o=(n=l).toString().match(/\.(\d{1,2})(\d*)/))&&o[2].length>0?parseFloat(n.toFixed(2)):n),e){case"hsl":var s=$t(i,a/100,v/100);return"hsla(".concat(i.toFixed(0),", ").concat(Math.round(100*s[1]),"%, ").concat(Math.round(100*s[2]),"%, ").concat(l,")");case"hsv":return"hsva(".concat(i.toFixed(0),", ").concat(Math.round(a),"%, ").concat(Math.round(v),"%, ").concat(l,")");case"rgb":var d=pt(i,a,v),g=d.r,m=d.g,w=d.b;return"rgba(".concat(g,", ").concat(m,", ").concat(w,", ").concat(l,")");default:return"".concat(Ut(pt(i,a,v))).concat(Ct(255*l))}else switch(e){case"hsl":var C=$t(i,a/100,v/100);return"hsl(".concat(i.toFixed(0),", ").concat(Math.round(100*C[1]),"%, ").concat(Math.round(100*C[2]),"%)");case"hsv":return"hsv(".concat(i.toFixed(0),", ").concat(Math.round(a),"%, ").concat(Math.round(v),"%)");case"rgb":var h=pt(i,a,v),S=h.r,A=h.g,I=h.b;return"rgb(".concat(S,", ").concat(A,", ").concat(I,")");default:return Ut(pt(i,a,v))}},gt=function(t){var e=t.r,r=t.g,n=t.b;e=ct(e,255),r=ct(r,255),n=ct(n,255);var o,i=Math.max(e,r,n),a=Math.min(e,r,n),v=i,l=i-a,s=i===0?0:l/i;if(i===a)o=0;else{switch(i){case e:o=(r-n)/l+(r<n?6:0);break;case r:o=(n-e)/l+2;break;case n:o=(e-r)/l+4}o/=6}return{h:360*o,s:100*s,v:100*v}},Xt=function(t){var e=t.h,r=t.s,n=t.l;n/=100;var o=r/=100,i=Math.max(n,.01);return r*=(n*=2)<=1?n:2-n,o*=i<=1?i:2-i,{h:+e,s:100*(n===0?2*o/(i+o):2*r/(n+r)),v:100*((n+r)/2)}},qt=function(t){var e=[];if(t.match(/^#([0-9a-fA-f]{3,4})$/g))for(var r=1;r<t.length;r++)e.push(parseInt("0x"+t[r].repeat(2)));else if(t.match(/^#([0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/g))for(var n=1;n<t.length;n+=2)e.push(parseInt("0x"+t.slice(n,n+2)));return{r:e[0],g:e[1],b:e[2],a:e[3]}},jt=function(t,e,r){if(typeof t=="string"&&t!==""){var n=Ot(t,Et(t),r),o=Bt(n);return o==null?"":se(o,e,r)}return""},Kt=function(t){var e=ft(t.match(/(\d(\.\d+)?)+/g),4);return{r:e[0],g:e[1],b:e[2],a:e[3]}},Wt=function(t){var e=ft(t.match(/(\d(\.\d+)?)+/g),4),r=e[0],n=e[1],o=e[2],i=e[3];return{h:r,s:parseFloat(n),l:parseFloat(o),a:i}},Qt=function(t){var e=ft(t.match(/(\d(\.\d+)?)+/g),4),r=e[0],n=e[1],o=e[2],i=e[3];return{h:parseFloat(r),s:parseFloat(n),v:parseFloat(o),a:parseFloat(i)}},Ot=function(t,e){if(!(arguments.length>2&&arguments[2]!==void 0)||arguments[2])switch(e){case"rgb":var r=Kt(t),n=r.r,o=r.g,i=r.b,a=r.a;return U(U({},gt({r:n,g:o,b:i})),{},{a:+a});case"hsv":var v=Qt(t);return{h:v.h,s:v.s,v:v.v,a:v.a};case"hsl":var l=Wt(t),s=l.h,d=l.s,g=l.l,m=l.a;return U(U({},Xt({h:s,s:d,l:g})),{},{a:+m});default:var w=qt(t),C=w.r,h=w.g,S=w.b,A=w.a;return U(U({},gt({r:C,g:h,b:S})),{},{a:A/255})}else switch(e){case"rgb":return U(U({},gt(Kt(t))),{},{a:1});case"hsv":var I=Qt(t);return{h:I.h,s:I.s,v:I.v,a:1};case"hsl":return U(U({},Xt(Wt(t))),{},{a:1});default:return U(U({},gt(qt(t))),{},{a:1})}},Et=function(t){return t.match(/^#/)?"hex":t.match(/^rgb/)?"rgb":t.match(/^hsl/)?"hsl":t.match(/^hsv/)?"hsv":"hex"},Bt=function(t){var e=t.h,r=t.s,n=t.v,o=t.a;return isNaN(e)&&isNaN(r)&&isNaN(n)?null:(isNaN(e)&&(e=0),isNaN(r)&&(r=0),isNaN(n)&&(n=0),isNaN(o)&&(o=1),{h:e,s:r,v:n,a:o})},vt=et({name:"ColorItem",props:{size:{type:[Number,String],default:20},width:{type:[Number,String]},height:{type:[Number,String]},value:{type:String,default:""},border:{type:Boolean,default:!0},borderRadius:{type:Number,default:5},selected:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1}},emits:["select"],setup:function(t){var e=_(),r=ne("theme",{theme:"light"}).theme,n=N((function(){return parseFloat((t.width||t.size)+"")})),o=N((function(){return parseFloat((t.height||t.size)+"")})),i=N((function(){return{width:"".concat(f(n),"px"),height:"".concat(f(o),"px"),border:t.border?"1px solid ".concat(f(r)==="dark"?"#434345":"#d9d9d9"):"",borderRadius:"".concat(t.borderRadius,"px"),boxShadow:t.selected?"0 0 3px 2px ".concat(f(r)==="dark"?"#2681ff":"#1890ff"):""}})),a=function(){var v=e.value.getContext("2d");e.value.width=f(n),e.value.height=f(o);var l=(function(s){var d=document.createElement("canvas"),g=d.getContext("2d"),m=2*s;return d.width=m,d.height=m,g.fillStyle="#ffffff",g.fillRect(0,0,m,m),g.fillStyle="#ccd5db",g.fillRect(0,0,s,s),g.fillRect(s,s,s,s),d})(5);v.fillStyle=v.createPattern(l,"repeat"),v.fillRect(0,0,f(n),f(o)),v.fillStyle=t.value,v.fillRect(0,0,f(n),f(o))};return Z((function(){return t.value}),(function(){a()})),ht((function(){a()})),{canvas:e,colorItemStyle:i}}}),Ne=["draggable"];rt(".color-item[data-v-02da71fd]{display:inline-block;vertical-align:top}"),vt.render=function(t,e,r,n,o,i){return F(),R("canvas",{class:"color-item",style:tt(t.colorItemStyle),ref:"canvas",draggable:t.draggable},null,12,Ne)},vt.__scopeId="data-v-02da71fd",vt.__file="src/color-item/ColorItem.vue";var Nt=et({name:"Colors",components:{ColorItem:vt},props:{colors:{type:Array,default:function(){return[]}},selectedIndex:{type:Number,default:-1}},emits:["change"],setup:function(t,e){var r=e.emit;return{onSelectColor:function(n,o){r("change",n,o)},useColors:N((function(){return t.colors.map((function(n){return jt(n,"hex",!0)}))}))}}}),Ae={class:"colors"};function Zt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,n)}return r}function W(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zt(Object(r),!0).forEach((function(n){Tt(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zt(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}rt(".colors[data-v-0f8b52a8]{align-items:center;display:flex;flex-wrap:wrap;margin-top:5px}.color-item[data-v-0f8b52a8]{margin:5px}"),Nt.render=function(t,e,r,n,o,i){var a=Q("color-item");return F(),R("div",Ae,[(F(!0),R(Mt,null,Rt(t.useColors,(function(v,l){return F(),at(a,{key:l,class:"color-item",size:16,value:v,border:!1,"border-radius":3,selected:t.selectedIndex===l,onClick:K((function(s){return t.onSelectColor(v,+l)}),["stop","prevent"])},null,8,["value","selected","onClick"])})),128))])},Nt.__scopeId="data-v-0f8b52a8",Nt.__file="src/picker/Colors.vue";var At=et({name:"Picker",components:{Colors:Nt,Saturation:bt,Hue:xt,Alpha:wt,InputValue:kt},props:{format:{type:String,default:"hex"},showAlpha:{type:Boolean,default:!1},value:{type:String,default:""},colors:{type:Array,default:function(){return[]}},style:{type:Object,default:function(){return{}}},formatOptions:{type:[Boolean,Array]}},emits:["change","formatChange"],setup:function(t,e){var r=e.emit,n=N((function(){return W(W({},t.style),{},{width:t.showAlpha?"230px":"205px"})})),o=_(),i=_(),a=_(),v=function(){var h,S=(h=t.value)===null||h===void 0?void 0:h.trim();if(S!=null&&S!==""){var A=Et(S);return Bt(Ot(S,A,t.showAlpha))}return null};Z((function(){return t.value}),(function(){t.value!==f(a)&&(o.value=v())}),{immediate:!0}),Z((function(){return[f(o),t.format]}),(function(h){var S=ft(h,2),A=S[0],I=S[1],E="";A!=null?(E=se(W({},A),t.format,t.showAlpha),i.value=W({},A)):i.value=null,a.value=E;var Y=v();JSON.stringify(A)!==JSON.stringify(Y)&&JSON.stringify(A)!==JSON.stringify(I)&&r("change",E)}),{immediate:!0});var l=N((function(){var h;return((h=f(o))===null||h===void 0?void 0:h.h)||0})),s=N((function(){var h;return((h=f(o))===null||h===void 0?void 0:h.s)||0})),d=N((function(){var h;return((h=f(o))===null||h===void 0?void 0:h.v)||0})),g=N((function(){var h,S;return((h=f(o))===null||h===void 0?void 0:h.a)!=null?(S=f(o))===null||S===void 0?void 0:S.a:1})),m=N((function(){return pt(f(l),f(s),f(d))})),w=N((function(){return"rgb(".concat(f(m).r,", ").concat(f(m).g,", ").concat(f(m).b,")")})),C=_(-1);return{h:l,s,v:d,a:g,rgbStr:w,onSelectSaturation:function(h,S){C.value=-1,f(o)==null?o.value={h:f(l),s:h,v:S,a:f(g)}:o.value=W(W({},f(o)),{},{s:h,v:S})},onSelectHue:function(h){C.value=-1,f(o)==null&&(o.value={h,s:f(s),v:f(d),a:f(g)}),o.value=W(W({},f(o)),{},{h})},onSelectAlpha:function(h){C.value=-1,f(o)==null?o.value={h:f(l),s:f(s),v:f(d),a:h}:o.value=W(W({},f(o)),{},{a:h})},handleInputFormat:function(h){return t.showAlpha?ue[h]:le[h]},colorValue:a,pickerStyle:n,onInputChange:function(h){C.value=-1,a.value=h},handleChange:function(){var h,S=(h=f(a))===null||h===void 0?void 0:h.trim();if(S!==""){var A=t.showAlpha,I=Et(S),E=Bt(Ot(S,I,A)),Y=(function(j){if(!j)return!1;var D=j.h,$=j.s,X=j.v,b=j.a;return!(isNaN(D)||isNaN($)||isNaN(X)||isNaN(b))})(E);Y?o.value=E:f(i)!=null?o.value=f(i):a.value=""}else o.value=null},selectColorIndex:C,onSelectColor:function(h,S){if(C.value=S,(h=h.trim())==="")o.value=null;else{var A=Et(h);A?(function(I,E,Y){if(I.length!==0){var j=Ot(I,E,Y),D=j.h,$=j.s,X=j.v;if(!(isNaN(D)||isNaN($)||isNaN(X))){var b=1,k=j.a;isNaN(k)||(b=k),o.value={h:D,s:$,v:X,a:b}}}})(h,A,!0):o.value=null}},onFormatChange:function(h){r("formatChange",h)}}}}),Fe={class:"picker-inner"},Ie={class:"picker-header"};rt(".picker[data-v-6ceadec6]{background:#f7f8f9;border-radius:4px;box-shadow:0 0 16px 0 rgba(0,0,0,.16)}.picker-inner[data-v-6ceadec6]{padding:10px}[pick-colors-theme=dark] .picker-inner[data-v-6ceadec6]{background:#1d2024;box-shadow:0 0 16px 0 rgba(0,0,0,.16)}.picker-header[data-v-6ceadec6]{display:flex;margin-bottom:5px}.alpha[data-v-6ceadec6],.hue[data-v-6ceadec6]{margin-left:10px}.colors[data-v-6ceadec6]{margin-top:5px}"),At.render=function(t,e,r,n,o,i){var a=Q("saturation"),v=Q("hue"),l=Q("alpha"),s=Q("input-value"),d=Q("Colors");return F(),R("div",{class:"picker",style:tt(t.pickerStyle)},[V("div",Fe,[V("div",Ie,[ut(a,{class:"saturation",hue:t.h,saturation:t.s,value:t.v,onChange:t.onSelectSaturation},null,8,["hue","saturation","value","onChange"]),ut(v,{class:"hue",hue:t.h,onChange:t.onSelectHue},null,8,["hue","onChange"]),t.showAlpha?(F(),at(l,{key:0,class:"alpha",alpha:t.a,color:t.rgbStr,onChange:t.onSelectAlpha},null,8,["alpha","color","onChange"])):st("v-if",!0)]),ut(s,{format:t.handleInputFormat(t.format),value:t.colorValue,showAlpha:t.showAlpha,width:t.showAlpha?150:125,formatOptions:t.formatOptions,onChange:t.onInputChange,onBlur:t.handleChange,onEnter:t.handleChange,onFormatChange:t.onFormatChange},null,8,["format","value","showAlpha","width","formatOptions","onChange","onBlur","onEnter","onFormatChange"]),t.colors.length>0?(F(),at(d,{key:0,class:"colors",colors:t.colors,"selected-index":t.selectColorIndex,onChange:t.onSelectColor},null,8,["colors","selected-index","onChange"])):st("v-if",!0)])],4)},At.__scopeId="data-v-6ceadec6",At.__file="src/picker/Picker.vue";var Ft=et({name:"AddColorItem",props:{size:{type:Number,default:20},selected:{type:Boolean,default:!1}},setup:function(t){var e=ne("theme",{theme:"light"}).theme;return{addColorItemStyle:N((function(){return{width:"".concat(t.size,"px"),height:"".concat(t.size,"px"),lineHeight:"".concat(t.size,"px"),boxShadow:t.selected?"0 0 3px 2px ".concat(f(e)==="dark"?"#2681ff":"#1890ff"):""}}))}}});rt(".add-color-item[data-v-ceb1719c]{background:#fff;border:1px solid #d9d9d9;border-radius:5px;vertical-align:top}.container[data-v-ceb1719c]{pointer-events:none;transform:scale(.9);transform-origin:center}[pick-colors-theme=dark] .add-color-item[data-v-ceb1719c]{background:#141414;border:1px solid #434343}path[data-v-ceb1719c]{fill:#000}[pick-colors-theme=dark] path[data-v-ceb1719c]{fill:#fff}"),Ft.render=function(t,e,r,n,o,i){return F(),R("svg",{class:"add-color-item",style:tt(t.addColorItemStyle),viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},e[0]||(e[0]=[V("g",{class:"container"},[V("path",{d:"M544 464V160h-80v304H160v80h304v304h80V544h304v-80z"})],-1)]),4)},Ft.__scopeId="data-v-ceb1719c",Ft.__file="src/add-color-item/AddColorItem.vue";var Lt=et({name:"ColorPicker",components:{ColorItem:vt,Picker:At,AddColorItem:Ft},props:{value:{type:[String,Array]},theme:{type:String,default:"light"},size:{type:[Number,String],default:20},width:{type:[Number,String]},height:{type:[Number,String]},format:{type:String},showPicker:{type:Boolean,default:void 0},showAlpha:{type:Boolean,default:!1},addColor:{type:Boolean,default:!1},deleteColor:{type:Boolean,default:!0},max:{type:Number,default:13},popupContainer:{type:[String,Object,Boolean],default:"body"},zIndex:{type:Number,default:1e3},colors:{type:Array,default:function(){return["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","#ff4500","#ff7d4d","#00babd","#1f93ff","#fa64c3"]}},position:{type:String},placement:{type:String},formatOptions:{type:[Boolean,Array],default:!1}},emits:["change","update:value","update:showPicker","overflowMax","closePicker","formatChange"],setup:function(t,e){var r=e.emit,n=_([]),o=N((function(){return f(n).map((function(b){return jt(b,"hex",t.showAlpha)}))})),i=_("hex");Z((function(){return t.format}),(function(){i.value=t.format}),{immediate:!0}),Z((function(){return t.value}),(function(){var b=t.value||"",k=Array.isArray(b)?b:[b];n.value=k.map((function(B){return jt(B,f(i),t.showAlpha)}))}),{immediate:!0});var a=_(void 0),v=N((function(){return f(n)[f(a)]})),l=_(!1);Z((function(){return t.showPicker}),(function(){l.value=t.showPicker}),{immediate:!0});var s,d,g=_(null),m=_(null),w=ce(g,m,{defaultStyle:{zIndex:t.zIndex},strategy:t.position,placement:t.placement}).style,C=function(){f(g)==null&&(g.value=f(X)[0]),f(a)==null&&(a.value=0),t.showPicker===void 0?l.value=!0:r("update:showPicker",!0)},h=function(){a.value=void 0,t.showPicker===void 0?l.value=!1:r("update:showPicker",!1),r("closePicker",pe(Array.isArray(t.value)||t.addColor?f(n):f(n)[0]))},S=_(),A=(function(){var b=Vt(mt.mark((function k(B){var M,P,J,T;return mt.wrap((function(z){for(;;)switch(z.prev=z.next){case 0:if(P=B.target,(J=(M=P.dataset)===null||M===void 0?void 0:M.index)!=null&&J!==""){z.next=4;break}return z.abrupt("return");case 4:if(T=+J,f(a)!==T){z.next=7;break}return z.abrupt("return");case 7:f(a)!=null&&f(a)!==T?(h(),s&&clearTimeout(s),s=setTimeout((function(){C(),clearTimeout(s)}),100)):C(),a.value=T,g.value=P;case 10:case"end":return z.stop()}}),k)})));return function(k){return b.apply(this,arguments)}})(),I=(function(){var b=Vt(mt.mark((function k(B){var M,P,J,T,z;return mt.wrap((function(q){for(;;)switch(q.prev=q.next){case 0:if(T=B.target,!(!((M=f(S))!==null&&M!==void 0&&M.isEqualNode(T))&&(!((P=f(S))===null||P===void 0)&&P.contains(T)))){q.next=4;break}return q.abrupt("return");case 4:if(z=(J=f(m))===null||J===void 0?void 0:J.$el,!z?.contains(T)){q.next=8;break}return q.abrupt("return");case 8:d&&clearTimeout(d),d=setTimeout((function(){f(l)&&h()}),0);case 10:case"end":return q.stop()}}),k)})));return function(k){return b.apply(this,arguments)}})();Z(l,(function(){f(l)&&(C(),clearTimeout(d))}));var E,Y=_(t.max>f(n).length),j=N((function(){return typeof t.popupContainer=="string"||lt(t.popupContainer)==="object"&&t.popupContainer!=null?t.popupContainer:"body"})),D=N((function(){return typeof t.popupContainer=="boolean"&&t.popupContainer===!1})),$=N((function(){return t.theme}));Z((function(){return[t.theme,f(m)]}),(function(){oe((function(){var b,k;(b=f(S))===null||b===void 0||b.setAttribute("pick-colors-theme",f($)),(k=f(m))===null||k===void 0||(k=k.$el)===null||k===void 0||k.setAttribute("pick-colors-theme",f($))}))}),{immediate:!0}),he("theme",{theme:$});var X=_([]);return ht((function(){document.addEventListener("mouseup",I,!1),t.showPicker&&C()})),re((function(){document.removeEventListener("mouseup",I,!1),s&&(clearTimeout(s),s=null),d&&(clearTimeout(d),d=null)})),{valueList:n,colorItemSelected:function(b){return(t.addColor?f(n).length>0:f(n).length>1)&&f(a)===b},selectedColor:v,selectedIndex:a,isShowPicker:l,addColorItemShow:Y,onPickerChange:function(b){var k=f(a),B=f(n).slice(),M=f(n).length;if(k!=null){k>=0?B[k]=b:(a.value=M,B.push(b));var P="";P=Array.isArray(t.value)||t.addColor?B:b,n.value=Array.isArray(P)?P:[P],r("update:value",P),r("change",P,b,k),t.addColor&&M>=t.max&&(Y.value=!1,r("overflowMax"))}},colorPicker:S,onColorClick:A,pickerRef:m,onColorItemDragStart:function(b){b.dataTransfer.effectAllowed="move";var k=b.target;E=+k.dataset.index},onColorItemDragOver:function(b){},onColorItemDrop:function(b){var k=+b.target.dataset.index,B=ge(f(n)),M=B[E];B.splice(E,1);var P=B.slice(0,k),J=B.splice(k),T=P.concat([M]).concat(J);r("update:value",T),r("change",T,T[E],E)},colorItemsRef:X,pickerStyle:w,values:o,teleportDisabled:D,toPopupContainer:j,formatValue:i,onFormatChange:function(b){i.value=b,r("formatChange",b)}}}});rt(".color-picker[data-v-3c43ade8]{display:inline-block}.color-item[data-v-3c43ade8]{margin:5px}.add-color-item[data-v-3c43ade8]{display:inline-block;margin:5px}.picker[data-v-3c43ade8]{overflow:hidden}.v-enter-active[data-v-3c43ade8],.v-leave-active[data-v-3c43ade8]{opacity:1;transform:scaleY(1);transform-origin:center top;transition:opacity .2s ease-in-out,transform .2s ease-in-out}.v-enter-from[data-v-3c43ade8],.v-leave-to[data-v-3c43ade8]{opacity:0;transform:scaleY(0)}"),Lt.render=function(t,e,r,n,o,i){var a=Q("color-item"),v=Q("add-color-item"),l=Q("picker");return F(),R("div",{class:"color-picker",ref:"colorPicker",onDragstart:e[0]||(e[0]=K((function(){return t.onColorItemDragStart&&t.onColorItemDragStart.apply(t,arguments)}),["stop"])),onDragover:e[1]||(e[1]=K((function(){return t.onColorItemDragOver&&t.onColorItemDragOver.apply(t,arguments)}),["prevent","stop"])),onDrop:e[2]||(e[2]=K((function(){return t.onColorItemDrop&&t.onColorItemDrop.apply(t,arguments)}),["prevent","stop"])),onClick:e[3]||(e[3]=K((function(){return t.onColorClick&&t.onColorClick.apply(t,arguments)}),["stop"]))},[(F(!0),R(Mt,null,Rt(t.values,(function(s,d){return F(),at(a,{class:"color-item",key:d,ref_for:!0,ref:function(g){return t.colorItemsRef[d]=g},size:t.size,width:t.width,height:t.height,value:s,selected:t.colorItemSelected(d),"data-index":d,draggable:t.valueList.length>1,format:t.formatValue},null,8,["size","width","height","value","selected","data-index","draggable","format"])})),128)),t.addColor&&t.addColorItemShow?(F(),at(v,{key:0,class:"add-color-item",ref:"addColorItem",selected:t.colorItemSelected(-1),"data-index":-1},null,8,["selected"])):st("v-if",!0),(F(),at(de,{to:t.toPopupContainer,disabled:t.teleportDisabled},[ut(ee,null,{default:te((function(){return[t.isShowPicker?(F(),at(l,{key:0,class:"picker",style:tt(t.pickerStyle),ref:"pickerRef",value:t.selectedColor,format:t.formatValue,"show-alpha":t.showAlpha,colors:t.colors,formatOptions:t.formatOptions,onChange:t.onPickerChange,onFormatChange:t.onFormatChange},null,8,["style","value","format","show-alpha","colors","formatOptions","onChange","onFormatChange"])):st("v-if",!0)]})),_:1})],8,["to","disabled"]))],544)},Lt.__scopeId="data-v-3c43ade8",Lt.__file="src/ColorPicker.vue";export{Lt as R};
