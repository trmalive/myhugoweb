import{g as $}from"./md-vendor_dompurify-CC3Ue67l.js";var U,W;function z(){if(W)return U;W=1;var p=40,l=41,i=39,c=34,u=92,d=47,a=44,s=58,h=42,f=117,C=85,E=43,X=/^[a-f0-9?-]+$/i;return U=function(_){for(var A=[],o=_,e,b,k,r,g,I,x,R,t=0,n=o.charCodeAt(t),Q=o.length,y=[{nodes:A}],w=0,v,m="",q="",P="";t<Q;)if(n<=32){e=t;do e+=1,n=o.charCodeAt(e);while(n<=32);r=o.slice(t,e),k=A[A.length-1],n===l&&w?P=r:k&&k.type==="div"?(k.after=r,k.sourceEndIndex+=r.length):n===a||n===s||n===d&&o.charCodeAt(e+1)!==h&&(!v||v&&v.type==="function"&&v.value!=="calc")?q=r:A.push({type:"space",sourceIndex:t,sourceEndIndex:e,value:r}),t=e}else if(n===i||n===c){e=t,b=n===i?"'":'"',r={type:"string",sourceIndex:t,quote:b};do if(g=!1,e=o.indexOf(b,e+1),~e)for(I=e;o.charCodeAt(I-1)===u;)I-=1,g=!g;else o+=b,e=o.length-1,r.unclosed=!0;while(g);r.value=o.slice(t+1,e),r.sourceEndIndex=r.unclosed?e:e+1,A.push(r),t=e+1,n=o.charCodeAt(t)}else if(n===d&&o.charCodeAt(t+1)===h)e=o.indexOf("*/",t),r={type:"comment",sourceIndex:t,sourceEndIndex:e+2},e===-1&&(r.unclosed=!0,e=o.length,r.sourceEndIndex=e),r.value=o.slice(t+2,e),A.push(r),t=e+2,n=o.charCodeAt(t);else if((n===d||n===h)&&v&&v.type==="function"&&v.value==="calc")r=o[t],A.push({type:"word",sourceIndex:t-q.length,sourceEndIndex:t+r.length,value:r}),t+=1,n=o.charCodeAt(t);else if(n===d||n===a||n===s)r=o[t],A.push({type:"div",sourceIndex:t-q.length,sourceEndIndex:t+r.length,value:r,before:q,after:""}),q="",t+=1,n=o.charCodeAt(t);else if(p===n){e=t;do e+=1,n=o.charCodeAt(e);while(n<=32);if(R=t,r={type:"function",sourceIndex:t-m.length,value:m,before:o.slice(R+1,e)},t=e,m==="url"&&n!==i&&n!==c){e-=1;do if(g=!1,e=o.indexOf(")",e+1),~e)for(I=e;o.charCodeAt(I-1)===u;)I-=1,g=!g;else o+=")",e=o.length-1,r.unclosed=!0;while(g);x=e;do x-=1,n=o.charCodeAt(x);while(n<=32);R<x?(t!==x+1?r.nodes=[{type:"word",sourceIndex:t,sourceEndIndex:x+1,value:o.slice(t,x+1)}]:r.nodes=[],r.unclosed&&x+1!==e?(r.after="",r.nodes.push({type:"space",sourceIndex:x+1,sourceEndIndex:e,value:o.slice(x+1,e)})):(r.after=o.slice(x+1,e),r.sourceEndIndex=e)):(r.after="",r.nodes=[]),t=e+1,r.sourceEndIndex=r.unclosed?e:t,n=o.charCodeAt(t),A.push(r)}else w+=1,r.after="",r.sourceEndIndex=t+1,A.push(r),y.push(r),A=r.nodes=[],v=r;m=""}else if(l===n&&w)t+=1,n=o.charCodeAt(t),v.after=P,v.sourceEndIndex+=P.length,P="",w-=1,y[y.length-1].sourceEndIndex=t,y.pop(),v=y[w],A=v.nodes;else{e=t;do n===u&&(e+=1),e+=1,n=o.charCodeAt(e);while(e<Q&&!(n<=32||n===i||n===c||n===a||n===s||n===d||n===p||n===h&&v&&v.type==="function"&&v.value==="calc"||n===d&&v.type==="function"&&v.value==="calc"||n===l&&w));r=o.slice(t,e),p===n?m=r:(f===r.charCodeAt(0)||C===r.charCodeAt(0))&&E===r.charCodeAt(1)&&X.test(r.slice(2))?A.push({type:"unicode-range",sourceIndex:t,sourceEndIndex:e,value:r}):A.push({type:"word",sourceIndex:t,sourceEndIndex:e,value:r}),t=e}for(t=y.length-1;t;t-=1)y[t].unclosed=!0,y[t].sourceEndIndex=o.length;return y[0].nodes},U}var O,j;function B(){return j||(j=1,O=function p(l,i,c){var u,d,a,s;for(u=0,d=l.length;u<d;u+=1)a=l[u],c||(s=i(a,u,l)),s!==!1&&a.type==="function"&&Array.isArray(a.nodes)&&p(a.nodes,i,c),c&&i(a,u,l)}),O}var L,D;function G(){if(D)return L;D=1;function p(i,c){var u=i.type,d=i.value,a,s;return c&&(s=c(i))!==void 0?s:u==="word"||u==="space"?d:u==="string"?(a=i.quote||"",a+d+(i.unclosed?"":a)):u==="comment"?"/*"+d+(i.unclosed?"":"*/"):u==="div"?(i.before||"")+d+(i.after||""):Array.isArray(i.nodes)?(a=l(i.nodes,c),u!=="function"?a:d+"("+(i.before||"")+a+(i.after||"")+(i.unclosed?"":")")):d}function l(i,c){var u,d;if(Array.isArray(i)){for(u="",d=i.length-1;~d;d-=1)u=p(i[d],c)+u;return u}return p(i,c)}return L=l,L}var S,F;function H(){if(F)return S;F=1;var p=45,l=43,i=46,c=101,u=69;function d(a){var s=a.charCodeAt(0),h;if(s===l||s===p){if(h=a.charCodeAt(1),h>=48&&h<=57)return!0;var f=a.charCodeAt(2);return h===i&&f>=48&&f<=57}return s===i?(h=a.charCodeAt(1),h>=48&&h<=57):s>=48&&s<=57}return S=function(a){var s=0,h=a.length,f,C,E;if(h===0||!d(a))return!1;for(f=a.charCodeAt(s),(f===l||f===p)&&s++;s<h&&(f=a.charCodeAt(s),!(f<48||f>57));)s+=1;if(f=a.charCodeAt(s),C=a.charCodeAt(s+1),f===i&&C>=48&&C<=57)for(s+=2;s<h&&(f=a.charCodeAt(s),!(f<48||f>57));)s+=1;if(f=a.charCodeAt(s),C=a.charCodeAt(s+1),E=a.charCodeAt(s+2),(f===c||f===u)&&(C>=48&&C<=57||(C===l||C===p)&&E>=48&&E<=57))for(s+=C===l||C===p?3:2;s<h&&(f=a.charCodeAt(s),!(f<48||f>57));)s+=1;return{number:a.slice(0,s),unit:a.slice(s)}},S}var N,V;function J(){if(V)return N;V=1;var p=z(),l=B(),i=G();function c(u){return this instanceof c?(this.nodes=p(u),this):new c(u)}return c.prototype.toString=function(){return Array.isArray(this.nodes)?i(this.nodes):""},c.prototype.walk=function(u,d){return l(this.nodes,u,d),this},c.unit=H(),c.walk=l,c.stringify=i,N=c,N}var K=J();const T=$(K);export{T as a,J as r};
