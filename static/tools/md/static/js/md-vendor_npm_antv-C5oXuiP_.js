import{p as Je,l as Kv,f as Ei,c as qd,a as Zv,o as ny,u as Qv,d as Jv}from"./md-vendor_culori-DN7He12Y.js";import{t as ce}from"./md-vendor_tinycolor2-BE9TIwa7.js";import{m as tb,r as eb,A as nb}from"./md-vendor_measury-D61HbS6j.js";import{f as ib}from"./md-vendor_flru-BHGLt2jg.js";import{g as Cr,k as rb,c as ob,a as Hd,i as eu,b as sb,d as nu,m as iy}from"./md-vendor_lodash-es-CNQFXQst.js";import"./md-vendor_d3-transition-BCuMPzkd.js";import"./md-vendor_d3-zoom-BJeCG6vD.js";import{l as _r}from"./md-vendor_d3-scale-Bk9-n4lC.js";import{p as ab,a as si,l as cb,c as lb}from"./md-vendor_d3-shape-CY3nkCkF.js";import{h as db,t as hb}from"./md-vendor_d3-hierarchy-aSsPETpW.js";import{g as iu}from"./md-vendor_vite-plugin-node-polyfills-D-GpVLra.js";import{s as ub,l as fb,m as pb,c as gb,a as mb}from"./md-vendor_d3-force-yTr7pisZ.js";import{r as ry,g as oy}from"./md-vendor_round-polygon-CgrMeYeX.js";import{p as yb}from"./md-vendor_postcss-NFO-1YOd.js";import{E as vb}from"./md-vendor_eventemitter3-2PfaOq3i.js";import{a as bb}from"./md-vendor_roughjs-CycZv-lV.js";import"./md-vendor_d3-timer-DdKHrDhs.js";import"./md-vendor_d3-dispatch-kxCwF96_.js";import"./md-vendor_d3-interpolate-r2AHwznQ.js";import"./md-vendor_d3-color-9lF95FHy.js";import"./md-vendor_d3-selection-ChKSWf7Q.js";import"./md-vendor_d3-ease-DRPgKoYJ.js";import"./md-vendor_d3-array-BEA9B0v3.js";import"./md-vendor_d3-format-BvjxjtCR.js";import"./md-vendor_d3-path-CimkQT29.js";import"./md-vendor_d3-quadtree-CSANTnla.js";import"./md-vendor_dompurify-CC3Ue67l.js";import"./md-vendor_picocolors-BvAdOidQ.js";import"./md-vendor_nanoid-BRb9D7yc.js";import"./md-vendor_path-browserify-0e0J4qz8.js";import"./md-vendor_node-stdlib-browser-CbHz__CR.js";const oh=new Map;function xb(t,e){oh.set(t,e)}function wb(t){return oh.get(t)}function bO(){return Array.from(oh.keys())}const Cb={"chart-pie-plain-text":{design:{title:"default",structure:{type:"chart-pie"},items:[{type:"plain-text"}]}},"chart-pie-compact-card":{design:{title:"default",structure:{type:"chart-pie",avoidLabelOverlap:!0},items:[{type:"compact-card"}]}},"chart-pie-pill-badge":{design:{title:"default",structure:{type:"chart-pie",avoidLabelOverlap:!0},items:[{type:"pill-badge"}]}},"chart-pie-donut-plain-text":{design:{title:"default",structure:{type:"chart-pie",innerRadius:90},items:[{type:"plain-text"}]}},"chart-pie-donut-compact-card":{design:{title:"default",structure:{type:"chart-pie",innerRadius:90,avoidLabelOverlap:!0},items:[{type:"compact-card"}]}},"chart-pie-donut-pill-badge":{design:{title:"default",structure:{type:"chart-pie",innerRadius:90,avoidLabelOverlap:!0},items:[{type:"pill-badge"}]}}},_b={"compare-quadrant-quarter-simple-card":{design:{title:"default",structure:{type:"quadrant"},items:[{type:"quarter-simple-card"}]}},"compare-quadrant-quarter-circular":{design:{title:"default",structure:{type:"quadrant"},items:[{type:"quarter-circular"}]}},"compare-quadrant-simple-illus":{design:{title:"default",structure:{type:"quadrant"},items:[{type:"simple-illus"}]}}},ru=new Set,zd={};Object.entries(_b).forEach(([t,e])=>{zd[t]=e;const n=t.replace("compare-quadrant","quadrant");zd[n]=new Proxy(e,{get(i,r,o){return ru.has(n)||(console.warn(`[Deprecated] "${n}" 已被废弃，将在下个版本移除，请使用 "${t}"`),ru.add(n)),Reflect.get(i,r,o)}})});const Eb=zd,ai={edgeType:"curved",edgeColorMode:"gradient",edgeWidth:2,colorMode:"branch",levelGap:80,nodeGap:18},ci={edgeType:"curved",edgeWidth:2,edgeColorMode:"gradient",colorMode:"level",levelGap:80,nodeGap:18},ou={type:"lined-text",usePaletteColor:!0,showUnderline:!0,underlineThickness:2},su={type:"capsule-item"},au={type:"circular-progress"},cu={type:"rounded-rect-node",positionH:"center"},lu={type:"compact-card"},Sb=(t,e)=>Object.assign(Object.assign({type:"hierarchy-mindmap"},e!==void 0?{edgeAlign:e}:{}),t),Fe=(t,e,n,i)=>[t,{design:{structure:Sb(e,i),item:n}}],Ob=Object.fromEntries([Fe("hierarchy-mindmap-branch-gradient-lined-palette",ai,ou,"bottom"),Fe("hierarchy-mindmap-level-gradient-lined-palette",ci,ou,"bottom"),Fe("hierarchy-mindmap-branch-gradient-capsule-item",ai,su),Fe("hierarchy-mindmap-level-gradient-capsule-item",ci,su),Fe("hierarchy-mindmap-branch-gradient-circle-progress",ai,au,.4),Fe("hierarchy-mindmap-level-gradient-circle-progress",ci,au,.4),Fe("hierarchy-mindmap-branch-gradient-rounded-rect",ai,cu),Fe("hierarchy-mindmap-level-gradient-rounded-rect",ci,cu),Fe("hierarchy-mindmap-branch-gradient-compact-card",ai,lu),Fe("hierarchy-mindmap-level-gradient-compact-card",ci,lu)]),Ib={"hierarchy-structure":{design:{title:"default",structure:{type:"hierarchy-structure"},item:"simple"}},"hierarchy-structure-mirror":{design:{title:"default",structure:{type:"hierarchy-structure",layerLabelPosition:"right"},item:"simple"}}},Ab={"tech-style":{edgeType:"straight",edgeStyle:"solid",edgeColorMode:"gradient",edgeMarker:"arrow",markerSize:12,edgeCornerRadius:5},"dashed-line":{edgeStyle:"dashed",edgeCornerRadius:10,edgeDashPattern:"10,5",edgeColorMode:"gradient",edgeMarker:"dot",markerSize:6,edgeOffset:6},"distributed-origin":{edgeOrigin:"distributed",edgeOriginPadding:30,edgeMarker:"arrow",edgeCornerRadius:10,markerSize:12,edgeColorMode:"gradient"},"curved-line":{edgeType:"curved",edgeColorMode:"gradient",edgeMarker:"none"},"dashed-arrow":{edgeType:"straight",edgeStyle:"dashed",edgeDashPattern:"8,4",edgeMarker:"arrow",markerSize:10,edgeCornerRadius:0}},Tb=["capsule-item","rounded-rect-node","compact-card","badge-card","ribbon-card"],sy={},du="hierarchy-tree",Mb=[{key:""},{key:"bt",orientation:"bottom-top"},{key:"lr",orientation:"left-right"},{key:"rl",orientation:"right-left"}],Rb=(t,e,n)=>t?`${du}-${t}-${e}-${n}`:`${du}-${e}-${n}`;for(const t of Tb)for(const[e,n]of Object.entries(Ab))for(const{key:i,orientation:r}of Mb){const o=Rb(i,e,t);sy[o]={design:{structure:Object.assign(Object.assign({type:"hierarchy-tree"},r?{orientation:r}:{}),n),item:{type:t}}}}const kb={"list-zigzag-up-compact-card":{design:{title:"default",structure:{type:"list-zigzag-up"},items:[{type:"compact-card"}]},themeConfig:{colorPrimary:"#17CA2C"}},"list-zigzag-up-simple":{design:{title:"default",structure:{type:"list-zigzag-up"},items:[{type:"simple",usePaletteColor:!0}]},themeConfig:{colorPrimary:"#17CA2C"}},"list-zigzag-down-compact-card":{design:{title:"default",structure:{type:"list-zigzag-down"},items:[{type:"compact-card"}]},themeConfig:{colorPrimary:"#17CA2C"}},"list-zigzag-down-simple":{design:{title:"default",structure:{type:"list-zigzag-down"},items:[{type:"simple",usePaletteColor:!0}]},themeConfig:{colorPrimary:"#17CA2C"}}},Lb={"simple-circle-node":{type:"simple-circle-node"},"badge-card":{type:"badge-card"},capsule:{type:"capsule-item"},"compact-card":{type:"compact-card"}},Di={type:"relation-dagre-flow",edgeColorMode:"gradient",showArrow:!0,arrowType:"triangle",colorMode:"node"},Pb={tb:Object.assign(Object.assign({},Di),{rankdir:"TB",edgeRouting:"orth"}),lr:Object.assign(Object.assign({},Di),{rankdir:"LR",edgeRouting:"orth"}),"tb-animated":Object.assign(Object.assign({},Di),{rankdir:"TB",edgeCornerRadius:12,edgeRouting:"orth",edgeAnimation:"ant-line",edgeDashPattern:"8,4",edgeAnimationSpeed:1}),"lr-animated":Object.assign(Object.assign({},Di),{rankdir:"LR",edgeCornerRadius:12,edgeRouting:"orth",edgeAnimation:"ant-line",edgeDashPattern:"8,4",edgeAnimationSpeed:1})},ay={},$b=["lr-capsule","tb-capsule"];Object.entries(Pb).forEach(([t,e])=>{Object.entries(Lb).forEach(([n,i])=>{const r=`${t}-${n}`;if($b.includes(r))return;const o=`relation-dagre-flow-${r}`;ay[o]={design:{title:"default",structure:e,item:i}}})});const qb={"sequence-stairs-front-pill-badge":{design:{title:"default",structure:{type:"sequence-stairs-front"},items:[{type:"pill-badge"}]}},"sequence-stairs-front-compact-card":{design:{title:"default",structure:{type:"sequence-stairs-front"},items:[{type:"compact-card"}]}},"sequence-stairs-front-simple":{design:{title:"default",structure:{type:"sequence-stairs-front"},items:[{type:"simple",usePaletteColor:!0}]}}},Hb={"chart-wordcloud-rotate":{design:{structure:{type:"chart-wordcloud"},item:"simple"}},"chart-wordcloud":{design:{structure:{type:"chart-wordcloud",enableRotate:!1},item:"simple"}}},zb=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({"compare-hierarchy-left-right-circle-node-pill-badge":{design:{structure:{type:"compare-hierarchy-left-right",decoration:"split-line",surround:!1,groupGap:-20},title:"default",items:[{type:"circle-node",width:240},"pill-badge"]},themeConfig:{}},"compare-hierarchy-left-right-circle-node-plain-text":{design:{title:"default",structure:{type:"compare-hierarchy-left-right",decoration:"dot-line",flipLeaf:!0,groupGap:-10},items:[{type:"circle-node",width:180},{type:"plain-text"}]}},"list-pyramid-rounded-rect-node":{design:{title:"default",structure:{type:"list-pyramid"},items:[{type:"rounded-rect-node"}]}},"list-pyramid-badge-card":{design:{title:"default",structure:{type:"list-pyramid"},items:[{type:"badge-card"}]}},"list-pyramid-compact-card":{design:{title:"default",structure:{type:"list-pyramid"},items:[{type:"compact-card"}]}},"list-column-done-list":{design:{title:"default",structure:{type:"list-column"},items:[{type:"done-list"}]}},"list-column-vertical-icon-arrow":{design:{title:"default",structure:{type:"list-column",gap:-5,zigzag:!0},items:[{type:"vertical-icon-arrow"}]}},"list-grid-badge-card":{design:{title:"default",structure:{type:"list-grid"},items:[{type:"badge-card"}]}},"list-grid-candy-card-lite":{design:{title:"default",structure:{type:"list-grid"},items:[{type:"candy-card-lite"}]}},"chart-column-simple":{design:{title:"default",structure:{type:"chart-column"},items:[{type:"simple",showIcon:!1,usePaletteColor:!0}]}},"list-grid-circular-progress":{design:{title:"default",structure:{type:"list-grid"},items:[{type:"circular-progress"}]}},"list-grid-compact-card":{design:{title:"default",structure:{type:"list-grid"},items:[{type:"compact-card"}]}},"list-grid-done-list":{design:{title:"default",structure:{type:"list-grid"},items:[{type:"done-list"}]}},"list-grid-horizontal-icon-arrow":{design:{title:"default",structure:{type:"list-grid",gap:0,zigzag:!0},items:[{type:"horizontal-icon-arrow"}]}},"list-grid-progress-card":{design:{title:"default",structure:{type:"list-grid"},items:[{type:"progress-card"}]}},"list-grid-ribbon-card":{design:{title:"default",structure:{type:"list-grid"},items:[{type:"ribbon-card"}]}},"list-grid-simple":{design:{title:"default",structure:{type:"list-grid"},items:[{type:"simple"}]}},"list-row-circular-progress":{design:{title:"default",structure:{type:"list-row"},items:[{type:"circular-progress"}]}},"list-row-horizontal-icon-arrow":{design:{title:"default",structure:{type:"list-row",gap:0,zigzag:!0},items:[{type:"horizontal-icon-arrow"}]}},"relation-circle-circular-progress":{design:{title:"default",structure:{type:"relation-circle"},items:[{type:"circular-progress"}]}},"relation-circle-icon-badge":{design:{title:"default",structure:{type:"relation-circle"},items:[{type:"icon-badge"}]}},"relation-network-icon-badge":{design:{title:"default",structure:{type:"relation-network"},items:[{type:"icon-badge"}]}},"relation-network-simple-circle-node":{design:{title:"default",structure:{type:"relation-network"},items:[{type:"simple-circle-node"}]}},"sequence-steps-badge-card":{design:{title:"default",structure:{type:"sequence-steps"},items:[{type:"badge-card"}]}},"sequence-steps-simple":{design:{title:"default",structure:{type:"sequence-steps",gap:10},items:[{type:"simple"}]}},"sequence-timeline-done-list":{design:{title:"default",structure:{type:"sequence-timeline"},items:[{type:"done-list"}]}},"sequence-timeline-plain-text":{design:{title:"default",structure:{type:"sequence-timeline"},items:[{type:"plain-text"}]}},"sequence-timeline-rounded-rect-node":{design:{title:"default",structure:{type:"sequence-timeline"},items:[{type:"rounded-rect-node"}]}},"sequence-ascending-steps":{design:{title:"default",structure:{type:"sequence-ascending-steps",vGap:-46,hGap:-20},items:[{type:"l-corner-card"}]}},"sequence-timeline-simple":{design:{title:"default",structure:{type:"sequence-timeline",gap:20},items:[{type:"simple",positionV:"middle"}]}},"sequence-cylinders-3d-simple":{design:{title:"default",structure:{type:"sequence-cylinders-3d",gapY:20},items:[{type:"simple",showIcon:!1,usePaletteColor:!0}]}},"list-column-simple-vertical-arrow":{design:{title:"default",structure:{type:"list-column",gap:0,zigzag:!0},items:[{type:"simple-vertical-arrow"}]}},"list-row-simple-horizontal-arrow":{design:{title:"default",structure:{type:"list-row",gap:0,zigzag:!0},items:[{type:"simple-horizontal-arrow"}]}},"compare-swot":{design:{title:"default",structure:{type:"compare-hierarchy-row",itemGap:32,itemPadding:40,showColumnBackground:!0,columnBackgroundAlpha:.08},items:[{type:"letter-card",showBottomShade:!1},{type:"plain-text",formatter:t=>`● ${t}`,usePaletteColor:!0}]}},"compare-hierarchy-row-letter-card-compact-card":{design:{title:"default",structure:{type:"compare-hierarchy-row"},items:[{type:"letter-card"},{type:"compact-card"}]}},"compare-hierarchy-row-letter-card-rounded-rect-node":{design:{title:"default",structure:{type:"compare-hierarchy-row"},items:[{type:"letter-card"},{type:"rounded-rect-node"}]}},"sequence-snake-steps-compact-card":{design:{title:"default",structure:{type:"sequence-snake-steps"},items:[{type:"compact-card"}]}},"sequence-snake-steps-pill-badge":{design:{title:"default",structure:{type:"sequence-snake-steps"},items:[{type:"pill-badge"}]}},"sequence-snake-steps-simple":{design:{title:"default",structure:{type:"sequence-snake-steps"},items:[{type:"simple"}]}},"sequence-color-snake-steps-horizontal-icon-line":{design:{title:"default",structure:{type:"sequence-color-snake-steps"},items:[{type:"horizontal-icon-line"}]}},"sequence-pyramid-simple":{design:{title:"default",structure:{type:"sequence-pyramid"},items:[{type:"simple",showIcon:!1,usePaletteColor:!0}]},themeConfig:{colorPrimary:"#1677ff"}},"sequence-funnel-simple":{design:{title:"default",structure:{type:"sequence-funnel"},items:[{type:"simple",showIcon:!1,usePaletteColor:!0}]},themeConfig:{palette:"#1677ff"}},"list-row-horizontal-icon-line":{design:{title:"default",structure:{type:"list-row",gap:0,zigzag:!0},items:[{type:"horizontal-icon-line"}]}},"list-sector-simple":{design:{title:"default",structure:{type:"list-sector"},items:[{type:"simple"}]}},"list-sector-plain-text":{design:{title:"default",structure:{type:"list-sector"},items:[{type:"plain-text"}]}},"list-sector-half-plain-text":{design:{title:"default",structure:{type:"list-sector",startAngle:-180,endAngle:0},items:[{type:"plain-text"}]}},"list-waterfall-badge-card":{design:{title:"default",structure:{type:"list-waterfall"},items:[{type:"badge-card"}]}},"list-waterfall-compact-card":{design:{title:"default",structure:{type:"list-waterfall"},items:[{type:"compact-card"}]}},"sequence-roadmap-vertical-plain-text":{design:{title:"default",structure:{type:"sequence-roadmap-vertical"},items:[{type:"plain-text"}]}},"sequence-roadmap-vertical-simple":{design:{title:"default",structure:{type:"sequence-roadmap-vertical"},items:[{type:"simple",showIcon:!1}]}},"sequence-roadmap-vertical-badge-card":{design:{title:"default",structure:{type:"sequence-roadmap-vertical"},items:[{type:"badge-card"}]}},"sequence-roadmap-vertical-pill-badge":{design:{title:"default",structure:{type:"sequence-roadmap-vertical"},items:[{type:"pill-badge"}]}},"sequence-roadmap-vertical-quarter-circular":{design:{title:"default",structure:{type:"sequence-roadmap-vertical"},items:[{type:"quarter-circular"}]}},"sequence-roadmap-vertical-quarter-simple-card":{design:{title:"default",structure:{type:"sequence-roadmap-vertical",flipped:!0},items:[{type:"quarter-simple-card"}]}},"sequence-horizontal-zigzag-simple-illus":{design:{title:"default",structure:{type:"sequence-horizontal-zigzag"},items:[{type:"simple-illus"}]}},"sequence-horizontal-zigzag-horizontal-icon-line":{design:{title:"default",structure:{type:"sequence-horizontal-zigzag"},items:[{type:"horizontal-icon-line"}]}},"sequence-horizontal-zigzag-plain-text":{design:{title:"default",structure:{type:"sequence-horizontal-zigzag"},items:[{type:"plain-text"}]}},"sequence-horizontal-zigzag-simple-horizontal-arrow":{design:{title:"default",structure:{type:"sequence-horizontal-zigzag"},items:[{type:"simple-horizontal-arrow"}]}},"sequence-horizontal-zigzag-simple":{design:{title:"default",structure:{type:"sequence-horizontal-zigzag"},items:[{type:"simple"}]}},"list-row-simple-illus":{design:{title:"default",structure:{type:"list-row"},items:[{type:"simple-illus"}]}},"sequence-color-snake-steps-simple-illus":{design:{title:"default",structure:{type:"sequence-color-snake-steps"},items:[{type:"simple-illus"}]}},"sequence-snake-steps-simple-illus":{design:{title:"default",structure:{type:"sequence-snake-steps"},items:[{type:"simple-illus"}]}},"sequence-steps-simple-illus":{design:{title:"default",structure:{type:"sequence-steps"},items:[{type:"simple-illus"}]}},"sequence-timeline-simple-illus":{design:{title:"default",structure:{type:"sequence-timeline"},items:[{type:"simple-illus",usePaletteColor:!0}]}},"sequence-zigzag-steps-underline-text":{design:{title:"default",structure:{type:"sequence-zigzag-steps"},items:[{type:"underline-text"}]}},"sequence-horizontal-zigzag-underline-text":{design:{title:"default",structure:{type:"sequence-horizontal-zigzag"},items:[{type:"underline-text"}]}},"sequence-roadmap-vertical-underline-text":{design:{title:"default",structure:{type:"sequence-roadmap-vertical"},items:[{type:"underline-text"}]}},"sequence-snake-steps-underline-text":{design:{title:"default",structure:{type:"sequence-snake-steps"},items:[{type:"underline-text"}]}},"sequence-circle-arrows-indexed-card":{design:{title:"default",structure:{type:"sequence-circle-arrows"},items:[{type:"indexed-card"}]}},"sequence-zigzag-pucks-3d-simple":{design:{title:"default",structure:{type:"sequence-zigzag-pucks-3d"},items:[{type:"simple",showIcon:!1,usePaletteColor:!0}]}},"sequence-zigzag-pucks-3d-underline-text":{design:{title:"default",structure:{type:"sequence-zigzag-pucks-3d"},items:[{type:"underline-text"}]}},"sequence-zigzag-pucks-3d-indexed-card":{design:{title:"default",structure:{type:"sequence-zigzag-pucks-3d"},items:[{type:"indexed-card"}]}},"sequence-ascending-stairs-3d-simple":{design:{title:"default",structure:{type:"sequence-ascending-stairs-3d"},items:[{type:"simple",showIcon:!1,usePaletteColor:!0}]}},"sequence-ascending-stairs-3d-underline-text":{design:{title:"default",structure:{type:"sequence-ascending-stairs-3d"},items:[{type:"underline-text"}]}},"sequence-circular-underline-text":{design:{title:"default",structure:{type:"sequence-circular"},items:[{type:"underline-text"}]}},"sequence-circular-simple":{design:{title:"default",structure:{type:"sequence-circular"},items:[{type:"simple",showIcon:!1,usePaletteColor:!0}]}},"sequence-filter-mesh-underline-text":{design:{title:"default",structure:{type:"sequence-filter-mesh"},items:[{type:"underline-text"}]}},"sequence-filter-mesh-simple":{design:{title:"default",structure:{type:"sequence-filter-mesh"},items:[{type:"simple",showIcon:!1,usePaletteColor:!0}]}},"sequence-mountain-underline-text":{design:{title:"default",structure:{type:"sequence-mountain"},items:[{type:"underline-text"}]}},"compare-binary-horizontal-simple-fold":{design:{title:"default",structure:{type:"compare-binary-horizontal",dividerType:"pros-cons-fold"},items:[{type:"simple",iconType:"circle",iconSize:40}]}},"compare-binary-horizontal-underline-text-fold":{design:{title:"default",structure:{type:"compare-binary-horizontal",dividerType:"pros-cons-fold"},items:[{type:"underline-text"}]}},"compare-binary-horizontal-badge-card-fold":{design:{title:"default",structure:{type:"compare-binary-horizontal",dividerType:"pros-cons-fold"},items:[{type:"badge-card"}]}},"compare-binary-horizontal-compact-card-fold":{design:{title:"default",structure:{type:"compare-binary-horizontal",dividerType:"pros-cons-fold"},items:[{type:"compact-card"}]}},"compare-binary-horizontal-simple-arrow":{design:{title:"default",structure:{type:"compare-binary-horizontal",dividerType:"pros-cons-arrow"},items:[{type:"simple",iconType:"circle",iconSize:40}]}},"compare-binary-horizontal-underline-text-arrow":{design:{title:"default",structure:{type:"compare-binary-horizontal",dividerType:"pros-cons-arrow"},items:[{type:"underline-text"}]}},"compare-binary-horizontal-badge-card-arrow":{design:{title:"default",structure:{type:"compare-binary-horizontal",dividerType:"pros-cons-arrow"},items:[{type:"badge-card"}]}},"compare-binary-horizontal-compact-card-arrow":{design:{title:"default",structure:{type:"compare-binary-horizontal",dividerType:"pros-cons-arrow"},items:[{type:"compact-card"}]}},"compare-binary-horizontal-simple-vs":{design:{title:"default",structure:{type:"compare-binary-horizontal",dividerType:"vs"},items:[{type:"simple",iconType:"circle",iconSize:40}]}},"compare-binary-horizontal-underline-text-vs":{design:{title:"default",structure:{type:"compare-binary-horizontal",dividerType:"vs"},items:[{type:"underline-text"}]}},"compare-binary-horizontal-badge-card-vs":{design:{title:"default",structure:{type:"compare-binary-horizontal",dividerType:"vs"},items:[{type:"badge-card"}]}},"compare-binary-horizontal-compact-card-vs":{design:{title:"default",structure:{type:"compare-binary-horizontal",dividerType:"vs"},items:[{type:"compact-card"}]}},"chart-bar-plain-text":{design:{title:"default",structure:{type:"chart-bar"},items:[{type:"plain-text",positionH:"flipped"}]}},"chart-line-plain-text":{design:{title:"default",structure:{type:"chart-line"},items:[{type:"plain-text",lineNumber:2}]}}},Cb),Eb),sy),Ob),qb),Hb),kb),ay),Ib);Object.entries(zb).forEach(([t,e])=>{xb(t,e)});const Ft=Symbol.for("@antv/infographic/Fragment");function u(t,e={}){return{type:t,props:e}}function xO(t={}){return u(Ft,t)}const M=u,wO=u,sh=Symbol.for("@antv/infographic/Defs");function Gt(t){return{type:sh,props:t}}function Ut(t){var e,n,i,r;const{x:o=0,y:s=0,width:a=0,height:c=0}=t;return(e=t.cx)!==null&&e!==void 0||(t.cx=o+a/2),(n=t.cy)!==null&&n!==void 0||(t.cy=s+c/2),(i=t.rx)!==null&&i!==void 0||(t.rx=a/2),(r=t.ry)!==null&&r!==void 0||(t.ry=c/2),{type:"ellipse",props:t}}function W(t){const{x:e=0,y:n=0}=t;return(e||n)&&(t.transform||(t.transform=`translate(${e}, ${n})`)),{type:"g",props:t}}function xt(t){const{x:e,y:n}=t,i=Object.assign({},t);return(e!==void 0||n!==void 0)&&(i.transform=`translate(${e??0}, ${n??0})`),{type:"path",props:i}}var jb=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};function ke(t){var{points:e=[]}=t,n=jb(t,["points"]);const{x:i,y:r}=n,o=e.map(({x:c,y:d})=>`${c},${d}`).join(" "),s=Object.assign(Object.assign({},n),{points:o});return(i!==void 0||r!==void 0)&&(s.transform=`translate(${i??0}, ${r??0})`+(s.transform||"")),{type:"polygon",props:s}}function kt(t){return{type:"rect",props:t}}function hu(t){return Object.keys(t[0]).reduce((e,n)=>{const i=n;return t.every(r=>r[i]===t[0][i])&&(e[i]=t[0][i]),e},{})}function Sn(t){if(!t)return!1;const e=t.trim().toLowerCase();return!(e==="none"||e==="transparent"||e==="")}function cy(t){const e=Je(t);return e?Kv(e)<.5:!1}function Si(t,e){if(e.length===0)return{};const n=Array.isArray(t)?t[e[0]]:t.items[e[0]];if(e.length===1)return n;const i=e.slice(1).map(r=>`children[${r}]`).join(".");return Cr(n,i)}function ly(t){const{structure:e,item:n,items:i}=t;return!(!e||!n||i.some(r=>!r))}const Er="infographic-component",Db="https://www.weavefox.cn/api/open/v1/icon",Bb=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","-apple-system","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","emoji","math","fangsong"]);function In(t){const e=[];let n="",i=null;const r=()=>{const o=n.trim();o&&e.push(o),n=""};for(let o=0;o<t.length;o+=1){const s=t[o];if(i){n+=s,s===i&&(i=null);continue}if(s==='"'||s==="'"){i=s,n+=s;continue}if(s===","){r();continue}n+=s}return r(),e}function uu(t){const e=t.trim();return e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'")?e.slice(1,-1):e}function Nb(t){const e=t.trim();return e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'")}function Fb(t){return/^\d/.test(t)||/\s/.test(t)}function Wb(t){const e=t.trim();if(!e||Nb(e)||Bb.has(e.toLowerCase())||!Fb(e))return e;const n=e.includes('"')&&!e.includes("'")?"'":'"';return`${n}${e}${n}`}function Yn(t){const e=In(t);return e.length?e.length===1?uu(e[0]):e.map(n=>uu(n)).join(", "):""}function On(t){const e=In(t);return e.length?e.map(n=>Wb(n)).join(", "):t.trim()}const Gb={100:"thin",hairline:"thin",thin:"thin",200:"extralight",ultralight:"extralight",extralight:"extralight",300:"light",light:"light",400:"regular",normal:"regular",regular:"regular",500:"medium",medium:"medium",600:"semibold",demibold:"semibold",semibold:"semibold",700:"bold",bold:"bold",800:"extrabold",ultrabold:"extrabold",extrabold:"extrabold",900:"black",heavy:"black",black:"black",950:"extrablack",ultrablack:"extrablack",extrablack:"extrablack"};function dy(t){const e=String(t).toLowerCase();return Gb[e]||"regular"}var Yb=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{d(i.next(l))}catch(h){s(h)}}function c(l){try{d(i.throw(l))}catch(h){s(h)}}function d(l){l.done?o(l.value):r(l.value).then(a,c)}d((i=i.apply(t,e||[])).next())})};const Nn=new WeakMap;function Vb(t){const e=Nn.get(t);return e?Array.from(e.values()):[]}function hy(t,e){var n;return(n=Nn.get(t))===null||n===void 0?void 0:n.get(e)}function uy(t,e,n){let i=Nn.get(t);return i||(i=new Map,Nn.set(t,i)),i.set(e,n),n.finally(()=>{const r=Nn.get(t);r&&(r.get(e)===n&&r.delete(e),r.size===0&&Nn.delete(t))}),n}function Xb(t){return Yb(this,void 0,void 0,function*(){for(yield Promise.resolve();;){const e=Vb(t);if(!e.length)break;yield Promise.allSettled(e),yield Promise.resolve()}})}const ah=new Map;let ch="Alibaba PuHuiTi";function fy(t){const e=In(t);for(const n of e){const i=ah.get(Yn(n));if(i)return i}return null}function py(){return Array.from(ah.values())}function CO(t){ch=On(t)}function Ub(t){const e=Object.assign({},t);return ah.set(e.fontFamily,e),e.fontFamily=On(e.fontFamily),e}function gy(t){const e=In(t).flatMap(n=>{const i=fy(n);if(!i)return[];const{baseUrl:r,fontWeight:o}=i;return Object.values(o).filter(s=>!!s).map(s=>gh(r,s))});return Array.from(new Set(e))}function Kb(t,e){const n=In(t);let i=null;for(const s of n)if(i=fy(s),i)break;if(!i)return null;const r=dy(e),o=i.fontWeight[r];return o?gh(i.baseUrl,o.replace(/\/result.css$/,"")):null}const eo=new WeakMap,hi=new WeakMap;function fu(t,e,n){let i=hi.get(t);return i||(i=new Map,hi.set(t,i)),i.set(e,n),n.finally(()=>{const r=hi.get(t);r&&(r.get(e)===n&&r.delete(e),r.size===0&&hi.delete(t))}),n}function Zb(t){if(t.getAttribute("data-infographic-font-loaded")==="true")return!0;try{return!!t.sheet}catch{return!1}}function Qb(t,e,n){var i;const r=(i=hi.get(t))===null||i===void 0?void 0:i.get(e);if(r)return r;if(!n||Zb(n))return fu(t,e,Promise.resolve());const o=new Promise(s=>{const a=()=>{n.setAttribute("data-infographic-font-loaded","true"),s()};n.addEventListener("load",a,{once:!0}),n.addEventListener("error",a,{once:!0})});return fu(t,e,o)}function Jb(t,e){const n=t.ownerDocument,i=n?.head||document.head;if(!i)return;eo.has(i)||eo.set(i,new Map);const r=eo.get(i),o=gy(e);if(!o.length)return;const s=[];o.forEach(a=>{const c=`${e}-${a}`,d=`font:${c}`;if(hy(t,d))return;let l=r.get(c);l||(l=n.createElement("link"),l.id=c,l.rel="stylesheet",l.href=a,s.push(l),r.set(c,l));const h=Qb(i,c,l);uy(t,d,h)}),s.length&&i.tagName==="HEAD"&&s.forEach(a=>i.appendChild(a))}function tx(t){if(ph)return;py().forEach(n=>Jb(t,n.fontFamily))}const li="https://assets.antv.antgroup.com",$n=t=>`${t}/result.css`,ex=[{fontFamily:"Alibaba PuHuiTi",name:"阿里巴巴普惠体",baseUrl:li,fontWeight:{regular:$n("AlibabaPuHuiTi-Regular"),bold:$n("AlibabaPuHuiTi-Bold")}},{fontFamily:"Source Han Sans",name:"黑体",baseUrl:li,fontWeight:{regular:$n("SourceHanSansCN-Regular")}},{fontFamily:"Source Han Serif",name:"宋体",baseUrl:li,fontWeight:{regular:$n("SourceHanSerifCN-Regular")}},{fontFamily:"LXGW WenKai",name:"楷体",baseUrl:li,fontWeight:{regular:$n("LXGWWenKai-Regular")}},{fontFamily:"851tegakizatsu",name:"手写体",baseUrl:li,fontWeight:{regular:$n("851tegakizatsu-Regular")}}];ex.forEach(Ub);const lh=new Map;function my(t,e){lh.set(t,e)}function nx(t){return lh.get(t)}function _O(){return Object.fromEntries(lh)}const ix=["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F","#70CAF8"];my("antv",ix);const rx=(t,e,n)=>{const i=[["#fc8d59","#ffffbf","#99d594"],["#d7191c","#fdae61","#abdda4","#2b83ba"],["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]],r=Math.min(Math.max(n,3),11);return i[r-3][e%r]};my("spectral",rx);const dh=(t=[],e,n)=>{var i;const r=typeof t=="string"?nx(t)||[]:t,o=(i=e[0])!==null&&i!==void 0?i:0;if(typeof r=="function"){const s=n?o/n:0;return r(s,o,n??0)}if(Array.isArray(r))return r.length===0?void 0:r[o%r.length]};function ox(t,e){var n,i;if(((n=e.svg)===null||n===void 0?void 0:n.background)===!1)return;const{themeConfig:{colorBg:r}}=e;if(!r)return;const o=t.parentElement;o&&(o.style.backgroundColor=r||"none");const s=Vn(t,"background");if(t.style.backgroundColor=r,s)s.setAttribute("fill",r);else if(!((i=t.viewBox)===null||i===void 0)&&i.baseVal){const{x:a,y:c,width:d,height:l}=t.viewBox.baseVal,h=It("rect",{x:a,y:c,width:d,height:l,fill:r,"data-element-type":"background"});t.prepend(h)}}function Ri(t,e){return Object.entries(e).reduce((i,[r,o])=>{if(typeof o=="function"){const s=o(t.getAttribute(r),t);s!=null&&(i[r]=s)}else Object.assign(i,{[r]:o});return i},{})}function yy(t){return t.replace(/#|%|\.| |\/|\(|\)/g,"").replace(/,/g,"-")}function sx(t,e){e&&Object.keys(e).length>0&&Kn(t,n=>{const i=Ri(n,e);Jt(n,i)})}const vy="btn-add-icon",by="btn-remove-icon";function ax(t,e){Jt(e,{display:"none"});const n=e.querySelectorAll('[id^="btn-add-"]'),i=e.querySelectorAll('[id^="btn-remove-"]');lx(t),n.forEach(dx),i.forEach(hx)}const cx="btn-icon-defs";function lx(t){const e=It("defs");Zn(e,cx);const n=Ai(`<symbol class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="200" height="200">
  <path
    d="M512 1024C229.216 1024 0 794.784 0 512S229.216 0 512 0s512 229.216 512 512-229.216 512-512 512z m0-960C264.576 64 64 264.576 64 512s200.576 448 448 448 448-200.576 448-448S759.424 64 512 64z m192 480h-160v160a32 32 0 0 1-64 0v-160h-160a32 32 0 0 1 0-64h160v-160a32 32 0 0 1 64 0v160h160a32 32 0 0 1 0 64z"
    fill="#339900"></path>
</symbol>`);n&&(n.setAttribute("id",vy),e.appendChild(n));const i=Ai(`<symbol viewBox="0 0 1025 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="200" height="200">
  <path d="M874.971429 149.942857C776.228571 54.857143 648.228571 0 512.914286 0S245.942857 54.857143 150.857143 149.942857c-201.142857 201.142857-201.142857 522.971429 0 724.114286C245.942857 969.142857 377.6 1024 512.914286 1024s266.971429-54.857143 362.057143-149.942857c201.142857-201.142857 201.142857-522.971429 0-724.114286m-51.2 672.914286C739.657143 906.971429 629.942857 950.857143 512.914286 950.857143s-226.742857-43.885714-310.857143-128c-171.885714-171.885714-171.885714-449.828571 0-621.714286C286.171429 117.028571 395.885714 73.142857 512.914286 73.142857s226.742857 43.885714 310.857143 128c171.885714 171.885714 171.885714 449.828571 0 621.714286" fill="#E63C33"></path>
  <path d="M772.571429 475.428571H253.257143c-21.942857 0-36.571429 14.628571-36.571429 36.571429 0 10.971429 3.657143 18.285714 10.971429 25.6s14.628571 10.971429 25.6 10.971429H768.914286c21.942857 0 36.571429-14.628571 36.571428-36.571429s-14.628571-36.571429-32.914285-36.571429" fill="#E63C33"></path>
</symbol>`);i&&(i.setAttribute("id",by),e.appendChild(i)),t.prepend(e)}function xy(t,e){const{id:n,x:i=0,y:r=0,width:o=0,height:s=0}=Le(t,["id","x","y","width","height"]),a=It("g",{id:n,class:"btn-group",transform:`translate(${i}, ${r})`}),c=t.getAttribute("data-items");c&&a.setAttribute("data-items",c);const d=Math.max(+o,+s)/2,l=It("circle",{cx:d,cy:d,r:d,fill:"#fff",stroke:"transparent"});a.appendChild(l);const h=It("use",{href:`#${e}`,width:o,height:s});a.appendChild(h),a.style.cursor="pointer",t.replaceWith(a)}function dx(t){xy(t,vy)}function hx(t){xy(t,by)}var ux=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{d(i.next(l))}catch(h){s(h)}}function c(l){try{d(i.throw(l))}catch(h){s(h)}}function d(l){l.done?o(l.value):r(l.value).then(a,c)}d((i=i.apply(t,e||[])).next())})};function fx(t){return t.startsWith("data:")}function Oi(t){return ux(this,void 0,void 0,function*(){var e;if(!t||!fx(t))return null;const n=(e=t.match(/^data:([^;]+)/))===null||e===void 0?void 0:e[1];if(!n)return null;const i=()=>new Promise((d,l)=>{const h=new Image;h.onload=()=>{const f=h.naturalWidth,p=h.naturalHeight,y=document.createElement("canvas"),m=y.getContext("2d");if(!m)return d({width:f,height:p,hasAlpha:!1});if(["image/jpeg","image/jpg","image/webp","image/gif"].includes(n))return d({width:f,height:p,hasAlpha:!1});y.width=f,y.height=p,m.drawImage(h,0,0);let g=!1;const v=10;for(let b=0;b<f&&!g;b+=v)for(let x=0;x<p;x+=v)if(m.getImageData(b,x,1,1).data[3]<255){g=!0;break}d({width:f,height:p,hasAlpha:g})},h.onerror=()=>l(new Error("Failed to analysis image")),h.src=t}),{width:r,height:o,hasAlpha:s}=yield i(),c=(()=>{if(s||n?.includes("image/gif")||n?.includes("image/svg")||Math.min(r,o)<=200)return"xMidYMid meet";const l=r/o;return l>=.6&&l<=1.67||l<.3||l>3.33?"xMidYMid meet":"xMidYMid slice"})();return Ai(`
<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${r} ${o}" preserveAspectRatio="${c}">
  <image href="${t}" width="${r}" height="${o}" />
</symbol>`)})}function px(t){const e=t.trim();return/^(?:<\?xml[^>]*>\s*)?<svg[\s>]/i.test(e)||e.startsWith("<symbol")}function Ii(t){if(!t||!px(t))return null;const e=t.replace(/<svg(?=[\s/>])/i,"<symbol").replace(/<\/svg>/i,"</symbol>");return Ai(e)}var gx=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{d(i.next(l))}catch(h){s(h)}}function c(l){try{d(i.throw(l))}catch(h){s(h)}}function d(l){l.done?o(l.value):r(l.value).then(a,c)}d((i=i.apply(t,e||[])).next())})};function mx(t){try{return!!new URL(t)}catch{return!1}}function yx(t,e){return!!(t.toLowerCase().includes("image/svg")||!t&&e==="svg")}function wy(t,e){return gx(this,void 0,void 0,function*(){if(!t||!mx(t))return null;const n=yield Tr(t);if(!n.ok)throw new Error("Failed to load resource");const i=n.headers.get("Content-Type")||"";if(yx(i,e)){const s=yield n.text();return Ii(s)}const r=yield n.blob(),o=yield vx(r);return Oi(o)})}function vx(t){return new Promise((e,n)=>{const i=new FileReader;i.onloadend=()=>{e(i.result)},i.onerror=n,i.readAsDataURL(t)})}var Cy=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{d(i.next(l))}catch(h){s(h)}}function c(l){try{d(i.throw(l))}catch(h){s(h)}}function d(l){l.done?o(l.value):r(l.value).then(a,c)}d((i=i.apply(t,e||[])).next())})};const bx=t=>Cy(void 0,void 0,void 0,function*(){var e;try{const n=new URLSearchParams({text:t,topK:"1"}),i=`${Db}?${n.toString()}`,r=yield Tr(i);if(!r.ok)return null;const o=yield r.json();return!o?.status||!Array.isArray((e=o.data)===null||e===void 0?void 0:e.data)?null:o.data.data[0]||null}catch(n){return console.error(`Failed to query icon for "${t}":`,n),null}});function xx(t){return t.startsWith("data:")}function wx(t){const e=t.trim();return e.startsWith("<svg")||e.startsWith("<symbol")}function pu(t,e){return Cy(this,void 0,void 0,function*(){var n;if(!t)return null;const i=yield bx(t);if(!i)return null;if(wx(i))return Ii(i);if(xx(i)){const r=((n=i.match(/^data:([^;]+)/))===null||n===void 0?void 0:n[1])||"",o=i.includes(";base64,");if(r==="image/svg+xml"&&!o){const s=i.indexOf(","),a=s>=0?i.slice(s+1):i;return Ii(a)}return Oi(i)}return wy(i,e)})}let _y=null;function EO(t){_y=t}function Cx(){return _y}function _x(t){if(!t.startsWith("data:"))return null;const e=t.indexOf(",");if(e===-1)return null;const n=t.slice(5,e),i=t.slice(e+1),r=n.split(";"),o=r[0],s=r.includes("base64");return o==="image/svg+xml"&&!s?{source:"inline",format:"svg",encoding:"raw",data:i.startsWith("%3C")?decodeURIComponent(i):i}:o.startsWith("image/")?{source:"inline",format:o==="image/svg+xml"?"svg":"image",encoding:s?"base64":"data-uri",data:t}:null}const Ex=new Set(["svg","png","jpg","jpeg","webp","gif"]);function Sx(t){const e=t.trim();return e.startsWith("<svg")||e.startsWith("<symbol")}function Ox(t){const e=t.toLowerCase();if(e.endsWith(".svg")||e.includes(".svg?"))return"svg";if(e.endsWith(".png")||e.endsWith(".jpg")||e.endsWith(".jpeg")||e.endsWith(".webp")||e.endsWith(".gif"))return"image"}function Ix(t){var e;if(!t.startsWith("ref:"))return null;const n=t.slice(4),[i,...r]=n.split(":");if(!i||r.length===0)return null;let o;r.length>1&&Ex.has(r[0].toLowerCase())&&(o=(e=r.shift())===null||e===void 0?void 0:e.toLowerCase());const s=r.join(":");if(!s)return null;const a=i==="url"?"remote":i;return a==="remote"?{source:"remote",format:o||Ox(s)||void 0,data:s}:a==="search"?{source:"search",format:o||"svg",data:s}:a==="svg"?{source:"inline",format:"svg",data:s,encoding:"raw"}:{source:"custom",data:t,format:o}}function Sr(t){if(!t)return null;if(typeof t!="string"){if(t.source)return t;const i=t;return i.type==="image"?{source:"inline",format:"image",data:i.data}:i.type==="svg"?{source:"inline",format:"svg",encoding:"raw",data:i.data}:i.type==="remote"?{source:"remote",format:i.format,data:i.data}:i.type==="search"?{source:"search",format:i.format||"svg",data:i.data}:i.type==="custom"?{source:"custom",data:i.data}:null}const e=_x(t);if(e)return e;const n=Ix(t);return n||(Sx(t)?{source:"inline",format:"svg",encoding:"raw",data:t}:{source:"custom",data:t})}function hh(t){const e=typeof t=="string"?Sr(t):t;return e?"rsc-"+Py(JSON.stringify(e)):null}function Ey(t){const e=hh(t);return e?`#${e}`:null}var jd=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{d(i.next(l))}catch(h){s(h)}}function c(l){try{d(i.throw(l))}catch(h){s(h)}}function d(l){l.done?o(l.value):r(l.value).then(a,c)}d((i=i.apply(t,e||[])).next())})};function Ax(t,e,n){return jd(this,void 0,void 0,function*(){const i=Sr(e);if(!i)return null;i.scene||(i.scene=t);const{source:r,data:o,format:s,encoding:a}=i;let c=null;try{if(r==="inline"){const d=o.startsWith("data:");s==="svg"&&a==="raw"?c=Ii(o):s==="svg"&&d?c=yield Oi(o):d||s==="image"?c=yield Oi(o):c=Ii(o)}else if(r==="remote")c=yield wy(o,s);else if(r==="search")c=yield pu(o,s);else{const d=Cx();d&&(c=yield d(i))}}catch{c=null}return c||(yield pu(Tx(i,t,n),s))})}const gu=new Map,Bi=new WeakMap;function Sy(t,e,n,i){return jd(this,void 0,void 0,function*(){if(!t)return null;const r=Sr(n);if(!r)return null;const o=hh(r),s=`resource:${o}`,a=Bi.get(t);if(a?.has(o))return o;const c=hy(t,s);if(c)return yield c;const d=jd(this,void 0,void 0,function*(){const l=gu.has(o)?gu.get(o)||null:yield Ax(e,r,i);if(!l)return null;Bi.has(t)||Bi.set(t,new Map);const h=Bi.get(t);if(h.has(o))return o;const f=Or(t);return l.id=o,f.appendChild(l),h.set(o,l),o});return uy(t,s,d),yield d})}function Tx(t,e,n){const i=e==="illus"?"illustration":"icon",r=Ni(t.data)||Ni(n?.label)||Ni(n?.desc);if(r)return r;const o=Ni(t.data);return!o||t.source==="inline"||o.startsWith("data:")||o.startsWith("<svg")||o.startsWith("<symbol")?i:o}function Ni(t){if(typeof t!="string")return null;const e=t.trim();return e||null}function Mx(t,e,n,i){var r,o;const s=n.icon;if(!s)return null;const{themeConfig:a}=i,c=(r=n.attributes)===null||r===void 0?void 0:r.icon,d=Object.assign(Object.assign({},(o=a.item)===null||o===void 0?void 0:o.icon),c),l=Ri(e,d);return Rx(t,e,s,l,n)}function Rx(t,e,n,i,r){return Sy(t,"icon",n,r),X3(n,Object.assign(Object.assign({},Le(e,["id","x","y","width","height","fill","stroke","data-element-type","data-indexes"])),i))}var kx=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};function Oy(t,e,n,i,r={}){if(!n)return null;const o=Sr(n);if(!o)return null;const s=hh(o);r&&Object.keys(r).length>0&&Jt(e,r);const a=Px(t,e,s);Sy(t,"illus",o,i);const{data:c,color:d}=o;return $x(s,Object.assign(Object.assign(Object.assign(Object.assign({},qx(e)),d?{color:d}:{}),r),{"clip-path":`url(#${a})`}),c)}function Lx(t,e,n){var i;const r=n.illus,o=(i=n.attributes)===null||i===void 0?void 0:i.illus;return Oy(t,e,r,n,o)}function Px(t,e,n){const i=`clip-${n}-${tw()}`;if(t.querySelector(`#${i}`))return i;const r=Or(t),o=It("clipPath",{id:i}),s=e.cloneNode();return v3(s,["id","data-illus-bounds","data-element-type"]),o.appendChild(s),r.appendChild(o),i}function $x(t,e,n){const{"clip-path":i}=e,r=kx(e,["clip-path"]),{x:o="0",y:s="0",width:a="0",height:c="0"}=r,d=It("rect",{id:`${t}-volume`,"data-element-type":"illus-volume",x:o,y:s,width:a,height:c,fill:"transparent"}),l=It("g",{"data-element-type":"illus-group","clip-path":i,id:`${t}-group`});l.appendChild(d);const h=It("use",Object.assign(Object.assign({id:t,fill:"lightgray"},r),{href:Ey(n),"data-element-type":"illus"}));return l.appendChild(h),l}function qx(t){const e=t.getAttribute("data-illus-bounds");if(!e)return Object.assign({x:"0",y:"0",width:"0",height:"0"},Le(t,["x","y","width","height"]));const[n,i,r,o]=e.split(" ");return{x:n,y:i,width:r,height:o}}function mu(t,e,n,i){const r=t.getAttribute(i),o=Hx(r,n),{type:s,colors:a=[]}=o,c=a.length-1,d=a.map((p,y)=>typeof p=="string"?It("stop",{offset:`${y/c}`,"stop-color":p}):It("stop",{offset:`${p.offset}`,"stop-color":p.color})),l=zx(o);if(s==="linear-gradient"){const{angle:p=0}=o,[[y,m],[g,v]]=jx(p),b=It("linearGradient",{id:l,x1:y,y1:m,x2:g,y2:v});d.forEach(x=>b.appendChild(x)),yu(e,l,b)}else if(s==="radial-gradient"){const p=It("radialGradient",{id:l});d.forEach(y=>p.appendChild(y)),yu(e,l,p)}const h=t.getAttribute("fill"),f=t.getAttribute("stroke");Sn(h)&&t.setAttribute("fill",`url(#${l})`),Sn(f)&&t.setAttribute("stroke",`url(#${l})`)}function yu(t,e,n){const i=Or(t);n.setAttribute("id",e);const r=i.querySelector(`#${e}`);r?r.replaceWith(n):i.appendChild(n)}function Hx(t,e){var n;if(!((n=e.colors)===null||n===void 0)&&n.length||!t)return e;const i=ce(t),r=Object.assign({},e);return r.colors=i.isDark()?[t,i.lighten(20).toHexString()]:[i.darken(20).toHexString(),t],!("angle"in e)&&r.type==="linear-gradient"&&(r.angle=225),r}function zx(t){const{type:e,colors:n=[]}=t,i=yy(n.map(r=>typeof r=="string"?r:`${r.color}_${r.offset}`).join("-"));if(e==="linear-gradient"){const{angle:r=0}=t;return`${e}-${i}-${r}`}return`${e}-${i}`}function jx(t){const e=Math.PI/180*t,n=Math.cos(e),i=Math.sin(e);return[[.5-n/2,.5-i/2],[.5+n/2,.5+i/2]]}const Dx=({scale:t=.5,backgroundColor:e,foregroundColor:n})=>{const i=It("pattern",{id:"pattern-diamond",width:"20",height:"20",patternTransform:`scale(${t})`,patternUnits:"userSpaceOnUse"}),r=It("rect",{width:"100%",height:"100%",fill:e}),o=It("path",{d:"M0,0 L20,20 M20,0 L0,20",stroke:n,"stroke-width":"1"});return i.appendChild(r),i.appendChild(o),i},Bx=({scale:t=1,backgroundColor:e,foregroundColor:n})=>{const i=It("pattern",{id:"pattern-dot",width:"20",height:"20",patternTransform:`scale(${t})`,patternUnits:"userSpaceOnUse"}),r=It("rect",{width:"100%",height:"100%",fill:e}),o=It("circle",{cx:"5",cy:"5",r:"3",fill:n}),s=It("circle",{cx:"15",cy:"15",r:"3",fill:n});return i.appendChild(r),i.appendChild(o),i.appendChild(s),i},Nx=({scale:t=.3,backgroundColor:e,foregroundColor:n})=>{const i=It("pattern",{id:"pattern-hex",width:"20",height:"20",patternTransform:`scale(${t})`,patternUnits:"userSpaceOnUse"}),r=It("rect",{width:"100%",height:"100%",fill:e}),o=It("path",{d:"M10,0 L20,5 L20,15 L10,20 L0,15 L0,5 Z",fill:n});return i.appendChild(r),i.appendChild(o),i},Fx=({scale:t=1,backgroundColor:e,foregroundColor:n})=>{const o=It("pattern",{id:"pattern-line",width:"20",height:"20",patternTransform:`scale(${t})`,patternUnits:"userSpaceOnUse"}),s=It("rect",{width:"100%",height:"100%",fill:e}),a=It("line",{x1:"7",y1:"-3",x2:"23",y2:"13",stroke:n,"stroke-width":6,"stroke-opacity":"0.5"}),c=It("line",{x1:"-3",y1:"7",x2:"13",y2:"23",stroke:n,"stroke-width":6,"stroke-opacity":"0.5"});return o.appendChild(s),o.appendChild(a),o.appendChild(c),o},Wx=({scale:t=1,backgroundColor:e="#ffffff",foregroundColor:n="#000000"})=>{const a=It("pattern",{id:"pattern-mosaic",width:20,height:20,patternUnits:"userSpaceOnUse",patternTransform:`scale(${t})`}),c=It("rect",{width:"100%",height:"100%",fill:e});a.appendChild(c);for(let d=0;d<4;d++)for(let l=0;l<4;l++)if((l+d)%2===0){const h=It("rect",{x:l*5,y:d*5,width:5,height:5,fill:n});a.appendChild(h)}return a},Gx=({scale:t=.3,backgroundColor:e,foregroundColor:n})=>{const i=It("pattern",{id:"pattern-square",width:"20",height:"20",patternTransform:`scale(${t})`,patternUnits:"userSpaceOnUse"}),r=It("rect",{width:"100%",height:"100%",fill:e}),o=It("path",{d:"M0,0 L20,0 L20,20 L0,20 Z",fill:n});return i.appendChild(r),i.appendChild(o),i},Yx=Object.freeze(Object.defineProperty({__proto__:null,diamond:Dx,dot:Bx,hex:Nx,line:Fx,mosaic:Wx,square:Gx},Symbol.toStringTag,{value:"Module"}));var Vx=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const Dd=new Map;function Xx(t,e){Dd.has(t)&&console.warn(`Pattern ${t} will be overwritten`),Dd.set(t,e)}for(const[t,e]of Object.entries(Yx))Xx(t,e);function Ux(t,e,n){const i=n.themeConfig.stylize;if(!i||i.type!=="pattern")return;const{pattern:r}=i,o=Vx(i,["pattern"]),s=Dd.get(r);if(!s)return console.warn(`Pattern ${r} not found`);const{fill:a}=Le(t,["fill","stroke"]),c=a,d=Object.assign({backgroundColor:c&&ce(c).setAlpha(.5).toRgbString(),foregroundColor:c},o),l=Zx(Object.assign(Object.assign({},i),d));Kx(e,l,s(d)),Sn(a)&&(t.setAttribute("fill",`url(#${l})`),!t.getAttribute("stroke")&&a&&t.setAttribute("stroke",a))}function Kx(t,e,n){const i=Or(t);n.setAttribute("id",e);const r=i.querySelector(`pattern#${e}`);r?r.replaceWith(n):i.appendChild(n)}function Zx(t){const{pattern:e,foregroundColor:n="unset",backgroundColor:i="unset",scale:r="unset"}=t;return yy(`pattern-${e}-${n}-${i}-${r}`)}function Qx(t,e,n){if(!t||!e){console.warn("Invalid node or svg element");return}const i=bb.svg(e,{options:{seed:1e3}}),r=It("g");t.hasAttribute("transform")&&r.setAttribute("transform",t.getAttribute("transform")||"");const o=t.cloneNode();Jt(o,{opacity:.5}),o.hasAttribute("transform")&&o.removeAttribute("transform"),o.dataset.elementType="rough-volume",r.appendChild(o);const s=t3(i,t,n);if(s){const{element:c,svgAttributes:d}=s;c.dataset.elementType="rough-element",c.style.pointerEvents="none",Jx(c,d),r.appendChild(c)}t.id&&(r.id=t.id),Array.from(t.classList).forEach(c=>{r.classList.contains(c)||r.classList.add(c)}),Array.from(t.attributes).forEach(c=>{c.name.startsWith("data-")&&r.setAttribute(c.name,c.value)}),r.childElementCount>0?t.replaceWith(r):t.remove()}function Jx(t,e){e.opacity!==void 0&&t.setAttribute("opacity",String(e.opacity)),e.fillOpacity!==void 0&&t.setAttribute("fill-opacity",String(e.fillOpacity)),e.strokeOpacity!==void 0&&t.setAttribute("stroke-opacity",String(e.strokeOpacity)),e.strokeLinecap&&t.setAttribute("stroke-linecap",e.strokeLinecap),e.strokeLinejoin&&t.setAttribute("stroke-linejoin",e.strokeLinejoin),e.strokeDasharray&&t.setAttribute("stroke-dasharray",e.strokeDasharray),e.filter&&t.setAttribute("filter",e.filter),e.clipPath&&t.setAttribute("clip-path",e.clipPath),e.mask&&t.setAttribute("mask",e.mask)}function t3(t,e,n){const i=e.nodeName.toLowerCase(),r=(o,s)=>{const a=Le(o,[...s,"fill","fill-opacity","stroke","stroke-opacity","stroke-width","stroke-dasharray","stroke-linecap","stroke-linejoin","opacity","filter","clip-path","mask"],!0),c={},d=Object.assign({},n),l={};s.forEach(E=>{a[E]!==void 0&&(c[E]=a[E])});const{fill:h,"fill-opacity":f,stroke:p,"stroke-opacity":y,"stroke-width":m,"stroke-dasharray":g,"stroke-linecap":v,"stroke-linejoin":b,opacity:x,filter:w,"clip-path":_,mask:C}=a;if(d.fill=h||"none",d.stroke=p||(h&&h!=="none"?h:"currentColor"),m&&(d.strokeWidth=parseFloat(m)),g&&g!=="none"){const E=g.split(/[\s,]+/).map(S=>parseFloat(S)).filter(S=>!isNaN(S));E.length>0&&(d.strokeLineDash=E)}return f&&(l.fillOpacity=parseFloat(f)),y&&(l.strokeOpacity=parseFloat(y)),x&&(l.opacity=parseFloat(x)),v&&(l.strokeLinecap=v),b&&(l.strokeLinejoin=b),g&&g!=="none"&&(l.strokeDasharray=g),w&&(l.filter=w),_&&(l.clipPath=_),C&&(l.mask=C),[c,d,l]};try{let o=null,s={};switch(i){case"circle":{const[a,c,d]=r(e,["cx","cy","r"]),l=parseFloat(a.cx)||0,h=parseFloat(a.cy)||0,f=parseFloat(a.r)||0;o=t.circle(l,h,f*2,c),s=d;break}case"ellipse":{const[a,c,d]=r(e,["cx","cy","rx","ry"]),l=parseFloat(a.cx)||0,h=parseFloat(a.cy)||0,f=parseFloat(a.rx)||0,p=parseFloat(a.ry)||0;o=t.ellipse(l,h,f*2,p*2,c),s=d;break}case"line":{const[a,c,d]=r(e,["x1","y1","x2","y2"]),l=parseFloat(a.x1)||0,h=parseFloat(a.y1)||0,f=parseFloat(a.x2)||0,p=parseFloat(a.y2)||0;o=t.line(l,h,f,p,c),s=d;break}case"rect":{const[a,c,d]=r(e,["x","y","width","height","rx","ry"]),l=parseFloat(a.x)||0,h=parseFloat(a.y)||0,f=parseFloat(a.width)||0,p=parseFloat(a.height)||0,y=parseFloat(a.rx)||0,m=parseFloat(a.ry)||0;if(y>0||m>0){const b=e3(l,h,f,p,y||m,m||y);o=t.path(b,c)}else o=t.rectangle(l,h,f,p,c);s=d;break}case"path":{const[a,c,d]=r(e,["d"]),l=a.d||"";if(!l)return console.warn("Path element has no d attribute"),null;o=t.path(l,c),s=d;break}case"polygon":{const[a,c,d]=r(e,["points"]),l=vu(a.points||"");if(l.length<3)return console.warn("Polygon needs at least 3 points"),null;o=t.polygon(l,c),s=d;break}case"polyline":{const[a,c,d]=r(e,["points"]),l=vu(a.points||"");if(l.length<2)return console.warn("Polyline needs at least 2 points"),null;o=t.linearPath(l,c),s=d;break}default:return console.warn(`Unsupported shape type: ${i}`),null}return o?{element:o,svgAttributes:s}:null}catch(o){return console.error(`Error creating rough shape for ${i}:`,o),null}}function e3(t,e,n,i,r,o){return r=Math.min(r,n/2),o=Math.min(o,i/2),`
    M ${t+r} ${e}
    L ${t+n-r} ${e}
    A ${r} ${o} 0 0 1 ${t+n} ${e+o}
    L ${t+n} ${e+i-o}
    A ${r} ${o} 0 0 1 ${t+n-r} ${e+i}
    L ${t+r} ${e+i}
    A ${r} ${o} 0 0 1 ${t} ${e+i-o}
    L ${t} ${e+o}
    A ${r} ${o} 0 0 1 ${t+r} ${e}
    Z
  `.replace(/\s+/g," ").trim()}function vu(t){if(!t||typeof t!="string")return[];try{const n=t.trim().replace(/,/g," ").replace(/\s+/g," ").split(" ").filter(Boolean),i=[];for(let r=0;r<n.length-1;r+=2){const o=parseFloat(n[r]),s=parseFloat(n[r+1]);if(isNaN(o)||isNaN(s)){console.warn(`Invalid coordinate pair at index ${r}: "${n[r]}", "${n[r+1]}"`);continue}i.push([o,s])}return n.length%2!==0&&console.warn(`Odd number of coordinates in points attribute, last value ignored: "${n[n.length-1]}"`),i}catch(e){return console.error("Failed to parse polygon points:",t,e),[]}}function bu(t,e,n){var i;const{themeConfig:r}=n,o=Object.assign({},(i=r.base)===null||i===void 0?void 0:i.shape,r.shape),s=Ri(e,o);return Jt(e,s),i3(e,t,n),e}function n3(t,e){var n;Jt(t,((n=e.themeConfig.base)===null||n===void 0?void 0:n.shape)||{})}function i3(t,e,n){const i=n.themeConfig.stylize;if(!i)return t;const{type:r}=i;if(!r)return t;if(r==="rough")return Qx(t,e,i);if(r==="pattern")return Ux(t,e,n);if(r==="linear-gradient"||r==="radial-gradient"){const{fill:o,stroke:s}=Le(t,["fill","stroke"]);Sn(o)&&mu(t,e,i,"fill"),Sn(s)&&mu(t,e,i,"stroke");return}}function r3(t,e){var n;const{themeConfig:i}=e,{"font-family":r=ch}=((n=i.base)===null||n===void 0?void 0:n.text)||{};t.setAttribute("font-family",r)}function Bd(t,e,n={}){if(!e)return null;const i=t,r=Ri(i,n);Jt(i,r);const o=a3(e,i);for(const s in i.dataset)o.setAttribute(`data-${rb(s)}`,i.dataset[s]);return o}function o3(t,e,n){var i,r,o;const s=e.nodeName==="text"?e:null;if(!s)return null;const{data:a,themeConfig:c}=n,d=qy(e.dataset.indexes||"0"),l=Si(a,d),h=String(Cr(l,t,"")),f=(i=l?.attributes)===null||i===void 0?void 0:i[t],p=Object.assign({},(r=c.base)===null||r===void 0?void 0:r.text,(o=c.item)===null||o===void 0?void 0:o[t],f),y=Ri(s,p);return Bd(e,e.textContent||h,y)}function s3(t,e){var n;const i=((n=e.themeConfig.base)===null||n===void 0?void 0:n.text)||{};Jt(t,i),i["font-family"]&&t.setAttribute("font-family",On(i["font-family"])),t.style.userSelect="none",t.style.pointerEvents="none"}const Fi=(t,e)=>t?parseFloat(t):e;function a3(t,e){const n=Fi(e.dataset.x,0),i=Fi(e.dataset.y,0),r=Fi(e.getAttribute("width")),o=Fi(e.getAttribute("height")),s=c3(e);return Object.assign(s,{x:n,y:i,width:r,height:o,"data-horizontal-align":e.dataset.horizontalAlign||"LEFT","data-vertical-align":e.dataset.verticalAlign||"TOP"}),x3(t,s)}function c3(t){return Le(t,["font-family","font-size","font-weight","font-style","font-variant","letter-spacing","line-height","fill","stroke","stroke-width"])}const yn=(t,e)=>{t!==e&&(e?t.replaceWith(e):t.remove())};class l3{constructor(e,n){this.options=e,this.template=n,this.rendered=!1}getOptions(){return this.options}getSVG(){return this.template}render(){const e=this.getSVG();if(this.rendered)return e;d3(e,this.options),e.style.visibility="hidden";const n=()=>{f3(this.template,this.options),tx(this.template),e.style.removeProperty("visibility")};if(ph)n();else{const i=new MutationObserver(r=>{r.forEach(o=>{o.addedNodes.forEach(s=>{(s===e||s.contains(e))&&(n(),i.disconnect())})})});try{i.observe(document,{childList:!0,subtree:!0})}catch(r){n(),console.error(r)}}return this.rendered=!0,e}}function d3(t,e){h3(t,e),u3(t,e),ox(t,e)}function h3(t,e){var n;const{themeConfig:i,data:r}=e;sx(t,(n=i.base)===null||n===void 0?void 0:n.global),t.querySelectorAll("[data-element-type]").forEach(s=>{var a,c,d,l,h,f,p;const y=s.id||"";if(E3(s)){const m=Bd(s,r.title||"",Object.assign({},(a=i.base)===null||a===void 0?void 0:a.text,i.title,(c=r.attributes)===null||c===void 0?void 0:c.title));return yn(s,m)}if(S3(s)){const m=Bd(s,r.desc||"",Object.assign({},(d=i.base)===null||d===void 0?void 0:d.text,i.desc,(l=r.attributes)===null||l===void 0?void 0:l.desc));return yn(s,m)}if(A3(s)){const m=Oy(t,s,(h=r.illus)===null||h===void 0?void 0:h[y],void 0,(f=r.attributes)===null||f===void 0?void 0:f.illus);return yn(s,m)}if(I3(s))return Array.from(s.children).forEach(m=>{bu(t,m,e)});if(O3(s)){const m=bu(t,s,e);return yn(s,m)}if(q3(s))return ax(t,s);if(!((p=s.dataset.elementType)===null||p===void 0)&&p.startsWith("item-")){const m=qy(s.dataset.indexes||"0"),g=s.dataset.elementType.replace("item-",""),v=Si(r,m);if(R3(s)||k3(s)||L3(s)){const b=o3(g,s,e);return yn(s,b)}if(!v)return;if(P3(s)){const b=Lx(t,s,v);return yn(s,b)}if(uh(s)){const b=Mx(t,s,v,e);return yn(s,b)}}if(T3(s))return s3(s,e);if(!M3(s))return n3(s,e)}),r3(t,e)}function u3(t,e){const{width:n,height:i}=e,{style:r={},attributes:o={},id:s,className:a}=e.svg||{};s&&(t.id=s),a&&t.classList.add(a),n!==void 0&&t.setAttribute("width",typeof n=="number"?`${n}px`:n),i!==void 0&&t.setAttribute("height",typeof i=="number"?`${i}px`:i),Object.assign(t.style,r),Jt(t,o)}function f3(t,e){const{padding:n=0,viewBox:i}=e;i?t.setAttribute("viewBox",i):n!==void 0&&Hy(t,Tn(n))}let Nd=1.01;const SO=t=>{Nd=t};eb(nb);let Wi,Te=null;function p3(){return typeof document>"u"?null:(Wi!==void 0||(Wi=document.createElement("canvas").getContext("2d")),Wi)}function g3(){return typeof document>"u"||!document.body?null:Te||(Te=document.createElement("span"),Te.style.position="absolute",Te.style.top="-10000px",Te.style.left="-10000px",Te.style.visibility="hidden",Te.style.pointerEvents="none",Te.style.whiteSpace="pre",Te.style.display="inline-block",Te.style.padding="0",Te.style.margin="0",document.body.appendChild(Te),Te)}function m3(t,e){if(e==null)return t*1.4;if(typeof e=="string"){const n=e.trim();if(n.endsWith("px")){const i=Number.parseFloat(n);return Number.isFinite(i)?i:t*1.4}e=Number(n)}return typeof e!="number"||!Number.isFinite(e)?t*1.4:e>4?e:e*t}function y3(t,{fontFamily:e,fontSize:n,fontWeight:i,lineHeight:r}){const o=t.split(/\r?\n/),s=On(e),a=i||"normal",c=m3(n,r),d=p3();if(d)return d.font=`${a} ${n}px ${s}`,{width:o.reduce((p,y)=>{const m=d.measureText(y);return Math.max(p,m.width)},0),height:c*Math.max(o.length,1)};const l=g3();if(!l)return null;l.style.fontFamily=s,l.style.fontSize=`${n}px`,l.style.fontWeight=String(a),l.style.lineHeight=`${c}px`,l.textContent=t;const h=l.getBoundingClientRect();return t&&h.width<=0&&h.height<=0?null:{width:h.width,height:h.height}}function Iy(t="",e){var n;if(e.width&&e.height)return{width:e.width,height:e.height};if(typeof t!="string"&&typeof t!="number")return{width:0,height:0};const{fontFamily:i=ch,fontSize:r=14,fontWeight:o="normal",lineHeight:s=1.4}=e,a=t.toString(),c={fontFamily:i,fontSize:parseFloat(r.toString()),fontWeight:o,lineHeight:s},d=()=>tb(a,c),l=(n=y3(a,c))!==null&&n!==void 0?n:d();return{width:Math.ceil(l.width*Nd),height:Math.ceil(l.height*Nd)}}function It(t,e={}){const n=document.createElementNS("http://www.w3.org/2000/svg",t);return Jt(n,e),n}function Ai(t){const n=new DOMParser().parseFromString(t,"image/svg+xml");if(n.querySelector("parsererror"))throw new Error("Invalid SVG string");return n.documentElement}function Jt(t,e){Object.entries(e).forEach(([n,i])=>{i==null?t.removeAttribute(n):t.setAttribute(n,i)})}function Le(t,e,n=!0){return e.reduce((i,r)=>{const o=t.getAttribute(r);return(!n||o!==null&&o!==""&&o!==void 0)&&(i[r]=o),i},{})}function v3(t,e){e.forEach(n=>{t.removeAttribute(n)})}function Kn(t,e){if(e(t)===!1)return;Array.from(t.children).forEach(i=>{Kn(i,e)})}function Or(t,e="infographic-defs"){const n=e?`defs#${e}`:"defs",i=t.querySelector(n);if(i)return i;const r=It("defs");return e&&(r.id=e),t.prepend(r),r}var b3=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};function An(t){return My(t)?t.querySelector("span"):null}function x3(t,e){const n=document.createElement("span");n.setAttribute("xmlns","http://www.w3.org/1999/xhtml");const i=It("foreignObject",{overflow:"visible"});return i.appendChild(n),Ay(i,{textContent:t,attributes:e}),i}function Ay(t,e){const{textContent:n,attributes:i}=e;if(n!==void 0&&Fd(t,n),!i)return;const r=An(t);let{width:o,height:s}=i;const a={};if(r){if(Object.assign(r.style,C3(i)),!o||!s){const p=n??Ir(t),{fontFamily:y,fontSize:m,fontWeight:g,lineHeight:v}=r.style,b=m?parseFloat(String(m)):12,x=Iy(p,{fontFamily:y,fontSize:b,fontWeight:g,lineHeight:v.endsWith("px")?parseFloat(v):(parseFloat(v)||1.4)*b});!o&&!t.hasAttribute("width")&&(o=String(x.width)),!s&&!t.hasAttribute("height")&&(s=String(x.height))}const{"data-horizontal-align":h,"data-vertical-align":f}=i;Object.assign(r.style,w3(h,f))}const{id:c,x:d,y:l}=i;c&&(a.id=c),d!==void 0&&(a.x=String(d)),l!==void 0&&(a.y=String(l)),o!==void 0&&(a.width=String(o)),s!==void 0&&(a.height=String(s)),Jt(t,a)}function w3(t,e){const n={width:"100%",height:"100%",display:"flex",flexWrap:"wrap",wordBreak:"break-word",whiteSpace:"pre-wrap"};switch(t){case"LEFT":n.textAlign="left",n.justifyContent="flex-start";break;case"CENTER":n.textAlign="center",n.justifyContent="center";break;case"RIGHT":n.textAlign="right",n.justifyContent="flex-end";break}switch(e){case"TOP":n.alignContent="flex-start",n.alignItems="flex-start";break;case"MIDDLE":n.alignContent="center",n.alignItems="center";break;case"BOTTOM":n.alignContent="flex-end",n.alignItems="flex-end";break}return n}function C3(t){const{x:e,y:n,width:i,height:r,["data-horizontal-align"]:o,["data-vertical-align"]:s,["font-size"]:a,["letter-spacing"]:c,["line-height"]:d,fill:l,["stroke-width"]:h,["text-anchor"]:f,["dominant-baseline"]:p,["font-family"]:y}=t,m=b3(t,["x","y","width","height","data-horizontal-align","data-vertical-align","font-size","letter-spacing","line-height","fill","stroke-width","text-anchor","dominant-baseline","font-family"]),g={overflow:"visible"};return l&&(g.color=l),Object.entries(m).forEach(([v,b])=>{g[ob(v)]=b}),a&&(g.fontSize=`${a}px`),d&&(g.lineHeight=typeof d=="string"&&d.endsWith("px")?d:+d),c&&(g.letterSpacing=`${c}px`),h&&(g.strokeWidth=`${h}px`),y&&(g.fontFamily=On(y)),g}function Ir(t){const e=An(t);return e&&(e.innerText||e.textContent)||""}function Fd(t,e){const n=An(t);if(n)try{n.innerText=e}catch{n.textContent=e}}function Wd(t){const e=An(t);if(!e)return{};const{color:n,fontSize:i,fontFamily:r,justifyContent:o,alignContent:s,fontWeight:a}=e.style,[c,d]=_3(o,s),l={"data-horizontal-align":c,"data-vertical-align":d};return r&&(l["font-family"]=Yn(r)),a&&(l["font-weight"]=a),i&&(l["font-size"]=String(parseInt(i))),n&&(l.fill=n),{attributes:l,textContent:Ir(t)}}function _3(t,e){let n="LEFT",i="TOP";switch(t){case"flex-start":n="LEFT";break;case"center":n="CENTER";break;case"flex-end":n="RIGHT";break}switch(e){case"flex-start":i="TOP";break;case"center":i="MIDDLE";break;case"flex-end":i="BOTTOM";break}return[n,i]}const Ae=(t,e)=>{var n;return((n=t?.dataset)===null||n===void 0?void 0:n.elementType)===e},Ar=(t,e)=>t.tagName.toLowerCase()===e.toLowerCase(),E3=t=>Ae(t,"title"),S3=t=>Ae(t,"desc"),O3=t=>Ae(t,"shape"),I3=t=>Ae(t,"shapes-group"),A3=t=>Ae(t,"illus"),T3=t=>t instanceof SVGElement&&Ar(t,"text"),M3=t=>t instanceof SVGElement&&Ar(t,"g"),uh=t=>Ae(t,"item-icon"),Ty=t=>Ae(t,"item-icon-group"),R3=t=>Ae(t,"item-label"),k3=t=>Ae(t,"item-desc"),L3=t=>Ae(t,"item-value"),P3=t=>Ae(t,"item-illus"),$3=t=>Ae(t,"edit-area"),q3=t=>Ae(t,"btns-group"),H3=t=>Ae(t,"rough-element"),z3=t=>Ae(t,"rough-volume");function My(t){return Ar(t,"foreignObject")}function j3(t){return Ar(t,"SPAN")}function nn(t){const e=fh(t);return["title","desc","item-label","item-desc"].includes(e)}function Ry(t){if(!t||!nn(t))return!1;const e=An(t);return e?e.hasAttribute("contenteditable"):!1}function D3(t){const e=t.tagName.toLowerCase();return["rect","circle","ellipse","line","polygon","polyline","path"].includes(e)}function dn(t){return uh(t)||Ty(t)}function B3(t){let e=t;for(;e;){if(Vn(e,Er))return!0;e=e.parentElement}return!1}function Zn(t,e){t.setAttribute("data-element-type",e)}function Vn(t,e){return t.querySelector(`[data-element-type="${e}"]`)}function fh(t){return dn(t)?"item-icon":t.getAttribute("data-element-type")||"unknown"}var ky=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{d(i.next(l))}catch(h){s(h)}}function c(l){try{d(i.throw(l))}catch(h){s(h)}}function d(l){l.done?o(l.value):r(l.value).then(a,c)}d((i=i.apply(t,e||[])).next())})};const Ly=globalThis.fetch,N3=1024,Gd=ib(N3),Yd=new Map;function F3(t){const e=Array.from(t.headers.entries());return e.length===0?"":(e.sort(([n],[i])=>n.toLowerCase().localeCompare(i.toLowerCase())),e.map(([n,i])=>`${n.toLowerCase()}:${i}`).join("|"))}function W3(t){const e=F3(t);return e?`${t.method}:${t.url}:${e}`:`${t.method}:${t.url}`}function xu(t){return new Response(t.body.slice(0),t.init)}function G3(t,e){return ky(this,void 0,void 0,function*(){try{const n=yield Ly(t),r={body:yield n.arrayBuffer(),init:{status:n.status,statusText:n.statusText,headers:Array.from(n.headers.entries())}};return n.ok&&Gd.set(e,r),r}finally{Yd.delete(e)}})}function Tr(t,e){return ky(this,void 0,void 0,function*(){const n=new Request(t,e);if(n.method!=="GET")return Ly(n);const i=W3(n);if(Gd.has(i))return xu(Gd.get(i));let r=Yd.get(i);r||(r=G3(n,i),Yd.set(i,r));const o=yield r;return xu(o)})}function Y3(t,e={title:"信息图标题",desc:"信息图描述",items:"信息图的内容项",label:"项目标签文本",value:"项目数值内容",icon:"项目图标",illus:"项目插图",children:"子级项目（多层结构）"}){const{structure:n,items:i}=t,r=[],o=c=>"  ".repeat(c);function s(c,d,l){const h=e[c];return h?`${o(l)}/** ${h} */
${o(l)}${c}: ${d};`:`${o(l)}${c}: ${d};`}function a(c,d){const l=i[c],h=[];for(const f of l){const p=f==="value"?"number":"string";h.push(s(f,p,d+1))}return i[c+1]&&h.push(s("children",`Array<${a(c+1,d+1)}>`,d+1)),`{
${h.join(`
`)}
${o(d)}}`}return r.push("type InfographicType = {"),n.includes("title")&&(r.push(s("title","string",1)),r.push(s("desc","string",1))),n.includes("item")&&i.length>0&&r.push(s("items",`Array<${a(0,1)}>`,1)),r.push("}"),r.join(`
`)}function Py(t){let e=0;if(t.length===0)return e.toString();for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);e=(e<<5)-e+i,e=e&e}return Math.abs(e).toString()}const V3=new WeakMap;function X3(t,e={}){const n=It("use",Object.assign(Object.assign({},e),{href:Ey(t)}));return $y(n),V3.set(n,t),n}function $y(t){const{stroke:e,fill:n}=Le(t,["fill","stroke"]);t.style.color=n||e||"currentColor"}function Mr(t){return t.tagName==="use"?t:t.querySelector("use")}function Vd(t){const e=Mr(t);return e?Le(e,["width","height","x","y","width","height","fill","fill-opacity","stroke","opacity"]):{}}function U3(t,e,n){const i=Mr(t);i&&(n&&Jt(i,n),$y(i))}var no={versions:{node:"24.13.1"}};const ph=!!(typeof no<"u"&&no.versions&&no.versions.node),K3=",",Z3=(t,e=K3)=>t.split(e).map(n=>parseInt(n,10)),qy=t=>Z3(t);function gh(...t){return t.map(e=>e.replace(/^\/+|\/+$/g,"")).filter(e=>e.trim().length>0).join("/")}function tn(t){const e=t.getAttribute("viewBox");if(e){const[s,a,c,d]=e.split(" ").map(Number);return{x:s,y:a,width:c,height:d}}const n=t.getAttribute("width"),i=t.getAttribute("height"),r=Number(n)||0,o=Number(i)||0;return{x:0,y:0,width:r,height:o}}function Q3(t,e,n){const i=t.width*e,r=t.height*e,o=n.x-(n.x-t.x)*e,s=n.y-(n.y-t.y)*e;return{x:o,y:s,width:i,height:r}}function En(t){return`${t.x} ${t.y} ${t.width} ${t.height}`}function Tn(t){return t?typeof t=="number"?[t,t,t,t]:t.length===1?[t[0],t[0],t[0],t[0]]:t.length===2?[t[0],t[1],t[0],t[1]]:t.length===3?[t[0],t[1],t[2],t[1]]:t.length===4?[t[0],t[1],t[2],t[3]]:[0,0,0,0]:[0,0,0,0]}function Hy(t,e){if(ph)wu(t,e);else if(document.contains(t))Cu(t,e);else try{const n=new MutationObserver(i=>{i.forEach(r=>{r.addedNodes.forEach(o=>{(o===t||o.contains(t))&&(J3(t,()=>{Cu(t,e)}),n.disconnect())})})});n.observe(document,{childList:!0,subtree:!0})}catch{wu(t,e)}}function wu(t,e){const n=tn(t),[i,r,o,s]=e;Jt(t,{viewBox:`${n.x-s} ${n.y-i} ${n.width+s+r} ${n.height+i+o}`})}function zy(t,e){const n=t.getBBox(),i=t.getBoundingClientRect(),r=i.width>0?n.width/i.width:1,o=i.height>0?n.height/i.height:1,[s,a,c,d]=e,l=s*o,h=a*r,f=c*o,p=d*r,y=n.x-p,m=n.y-l,g=n.width+p+h,v=n.height+l+f;return`${y} ${m} ${g} ${v}`}function Cu(t,e){const n=zy(t,e);Jt(t,{viewBox:n})}function J3(t,e){requestAnimationFrame(()=>{const n=()=>{const i=t.getBoundingClientRect();i.width>0&&i.height>0?e():requestAnimationFrame(n)};n()})}function je(t,e){if(document.getElementById(t))return;const n=document.createElement("style");n.id=t,n.textContent=e,document.head.appendChild(n)}function tw(){return crypto&&crypto.randomUUID?crypto.randomUUID():"xxxx-xxxx-4xxx-yxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}var ew=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};function Pt(t){const{id:e,x:n=0,y:i=0,width:r,height:o,alignHorizontal:s="left",alignVertical:a="top",children:c,fontSize:d=14,fontFamily:l,fontStyle:h,fontWeight:f,textDecoration:p,letterSpacing:y,wordSpacing:m,opacity:g,fill:v="black",lineHeight:b,wordWrap:x,backgroundColor:w="none",backgroundOpacity:_=1,backgroundRadius:C=0}=t,E=ew(t,["id","x","y","width","height","alignHorizontal","alignVertical","children","fontSize","fontFamily","fontStyle","fontWeight","textDecoration","letterSpacing","wordSpacing","opacity","fill","lineHeight","wordWrap","backgroundColor","backgroundOpacity","backgroundRadius"]);let S=r,O=o,I=0,T=0;if(!S||!O){const G=Iy(c,t);S||(S=G.width),O||(O=G.height)}r&&(I=s==="center"?S/2:s==="right"?S:0),o&&(T=a==="middle"?O/2:a==="bottom"?O:0);const R=Object.entries(Object.assign(Object.assign({width:S,height:O},b!==void 0&&{"line-height":b}),x!==void 0&&{"data-word-wrap":x})).reduce((G,[N,Y])=>Object.assign(Object.assign({},G),{[N]:Y}),{}),B=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({"data-element-type":"text",width:S,height:O,x:I,y:T,"data-x":0,"data-y":0,fill:v,fontSize:d,textAnchor:s==="center"?"middle":s==="right"?"end":"start",dominantBaseline:a==="middle"?"central":a==="bottom"?"baseline":"hanging","data-horizontal-align":s.toUpperCase(),"data-vertical-align":a.toUpperCase(),children:c},R),E),l&&{fontFamily:l}),h&&{fontStyle:h}),f&&{fontWeight:f}),p&&p!=="none"&&{textDecoration:p}),y&&{letterSpacing:y}),m&&{wordSpacing:m}),g!==void 0&&g!==1&&{opacity:g}),L=Object.assign(Object.assign(Object.assign({},n!==0||i!==0?{x:n,y:i,transform:`translate(${n}, ${i})`}:{}),{width:S,height:O}),e&&{id:e}),j=w&&w!=="none"?{"data-element-type":"shape",x:0,y:0,width:S,height:O,fill:w,fillOpacity:_,rx:C,ry:C}:void 0;return{type:"g",props:Object.assign(Object.assign({},L),{children:[...j?[{type:"rect",props:j}]:[],{type:"text",props:B}]})}}function nw(t){return!t||typeof t!="object"||Array.isArray(t)?!1:t.type===Ft}function jy(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)&&"type"in t}function ui(t){return Ti(t).filter(jy)}function Ti(t,e=[]){var n;if(!t||typeof t=="boolean")return e;if(Array.isArray(t))t.forEach(i=>Ti(i,e));else if(nw(t)){const i=(n=t.props)===null||n===void 0?void 0:n.children;(Array.isArray(i)?i:[i]).filter(Boolean).forEach(r=>{Ti(r,e)})}else e.push(t);return e}function Qt(t){return typeof t=="number"&&!Number.isNaN(t)&&Number.isFinite(t)}const dr=()=>({x:0,y:0,width:0,height:0});function ki(t){if(!t||t.length===0)return dr();let e=1/0,n=1/0,i=-1/0,r=-1/0;for(const o of t){const{x:s,y:a,width:c,height:d}=o,l=s+c,h=a+d;s<e&&(e=s),a<n&&(n=a),l>i&&(i=l),h>r&&(r=h)}return e===1/0||n===1/0||i===-1/0||r===-1/0?{x:0,y:0,width:0,height:0}:{x:e,y:n,width:Math.max(0,i-e),height:Math.max(0,r-n)}}function lt(t){var e,n,i,r;if(!t)return dr();if(Array.isArray(t)){const p=ui(t);return Wn(p)}if(typeof t!="object")return dr();const{type:o,props:s={}}=t;if(bh(t)){const p=Ny(t);return lt(p)}if(typeof o=="function"){const p=(e=s.x)!==null&&e!==void 0?e:0,y=(n=s.y)!==null&&n!==void 0?n:0,m=s.width,g=s.height;if(Qt(m)&&Qt(g))return{x:p,y,width:m,height:g};const v=o(s);if(!v)return{x:p,y,width:m??0,height:g??0};if(Array.isArray(v)){const b=ui(v),x=Wn(b);if(Qt(m)&&Qt(g))return{x:p,y,width:m,height:g};const w=x.width!==0?x.width:m??0,_=x.height!==0?x.height:g??0;return{x:p+x.x,y:y+x.y,width:w,height:_}}if(jy(v)){const b=v,x=lt(b);if(iw(b,s))return x;const w=b.props&&Qt(b.props.width)&&Qt(b.props.height),E=_u(b).flatMap(T=>ui(T)).length>0,S=b.props&&b.props.x===s.x&&b.props.y===s.y;if(w)return{x:S?x.x:p+x.x,y:S?x.y:y+x.y,width:x.width,height:x.height};if(Qt(m)&&Qt(g))return E?{x:S?x.x:p,y:S?x.y:y,width:m,height:g}:{x:S?x.x:p+x.x,y:S?x.y:y+x.y,width:m,height:g};const O=x.width!==0?x.width:m??0,I=x.height!==0?x.height:g??0;return{x:S?x.x:p+x.x,y:S?x.y:y+x.y,width:O,height:I}}return{x:p,y,width:m??0,height:g??0}}const a=(i=s.x)!==null&&i!==void 0?i:0,c=(r=s.y)!==null&&r!==void 0?r:0,d=Qt(s.width)?s.width:void 0,l=Qt(s.height)?s.height:void 0;if(Qt(d)&&Qt(l))return{x:a,y:c,width:d,height:l};const f=_u(t).flatMap(p=>ui(p));if(f.length>0){const p=Wn(f);return{x:a+p.x,y:c+p.y,width:Qt(d)?d:p.width,height:Qt(l)?l:p.height}}return{x:a,y:c,width:d??0,height:l??0}}function Wn(t){if(!t||!Array.isArray(t)||t.length===0)return dr();const e=[];for(const n of t){const i=ui(n);for(const r of i){const o=lt(r);o&&e.push(o)}}return ki(e)}function iw(t,e){if(!t?.props||!e)return!1;const n=t.props;if(Qt(n.x)&&Qt(n.y)&&Qt(e.x)&&Qt(e.y)&&n.x===e.x&&n.y===e.y){const i=Qt(n.width)&&Qt(n.height),r=Qt(e.width)&&Qt(e.height);if(!i&&!r)return!0}return Qt(n.x)&&Qt(n.y)&&Qt(n.width)&&Qt(n.height)&&Qt(e.x)&&Qt(e.y)&&Qt(e.width)&&Qt(e.height)?n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height:!1}function _u(t){var e;const n=(e=t.props)===null||e===void 0?void 0:e.children;return n?Array.isArray(n)?n:[n]:[]}function mh(t){var e;return t==null||typeof t=="boolean"?[]:Array.isArray(t)?Ti(t):typeof t=="object"?Ti((e=t.props)===null||e===void 0?void 0:e.children):[t]}var rw=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const xn=(t,e)=>{const{type:n,props:i}=t,r=rw(t,["type","props"]);return Object.assign({type:n,props:Object.assign(Object.assign({},i),e)},r)},Dy=()=>({defs:new Map});function yh(t){const e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return String(t).replace(/[&<>"']/g,n=>e[n])}const Eu={className:"class",viewBox:"viewBox",preserveAspectRatio:"preserveAspectRatio",gradientUnits:"gradientUnits",gradientTransform:"gradientTransform",patternUnits:"patternUnits",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",maskUnits:"maskUnits",maskContentUnits:"maskContentUnits",clipPathUnits:"clipPathUnits",primitiveUnits:"primitiveUnits",filterUnits:"filterUnits",markerUnits:"markerUnits",markerWidth:"markerWidth",markerHeight:"markerHeight",refX:"refX",refY:"refY",xmlLang:"xml:lang",xmlSpace:"xml:space",xmlnsXlink:"xmlns:xlink",xlinkHref:"href",xlinkTitle:"xlink:title",xlinkShow:"xlink:show",xlinkActuate:"xlink:actuate",textLength:"textLength",lengthAdjust:"lengthAdjust",attributeName:"attributeName",attributeType:"attributeType",repeatCount:"repeatCount",repeatDur:"repeatDur",calcMode:"calcMode",keyTimes:"keyTimes",keySplines:"keySplines",keyPoints:"keyPoints",stdDeviation:"stdDeviation",baseFrequency:"baseFrequency",numOctaves:"numOctaves",pathLength:"pathLength",systemLanguage:"systemLanguage",requiredFeatures:"requiredFeatures",requiredExtensions:"requiredExtensions"};function ow(t){return Eu[t]?Eu[t]:t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}const vh=new Map;function By(t){const e=Symbol("layout");return vh.set(e,t),i=>({type:e,props:i})}function bh(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)&&typeof t.type=="symbol"&&vh.has(t.type)}function Ny(t,e=Dy()){const n=vh.get(t.type);if(!n)return console.warn("Layout function not found for symbol:",t.type),t;const i=mh(t).filter(r=>typeof r=="object");return n(i,t.props,e)}var Fy=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};function fi(t,e){if(t==null||typeof t=="boolean")return null;if(typeof t=="string"||typeof t=="number")return t;if(Array.isArray(t))return t.map(i=>fi(i,e)).filter(Boolean);if(bh(t)){const i=Ny(t,e);return fi(i,e)}if(typeof t.type=="function"){const i=t.type(t.props);return fi(i,e)}const n=mh(t).map(i=>fi(i,e)).filter(Boolean);return t.type===Ft?n:t.type===sh?(n.forEach(i=>{typeof i=="object"&&i.props.id&&e.defs.set(i.props.id,i)}),null):n.length?xn(t,{children:n}):t}function bi(t,e){if(t==null)return"";if(typeof t=="string")return yh(t);if(typeof t=="number")return String(t);const{type:n,props:i}=t;if(!n)return"";const r=mh(t);if(n===Ft)return r.map(c=>bi(c)).filter(Boolean).join("");if(n===sh)return"";if(typeof n=="function"||bh(t))return console.warn("Unexpected unprocessed component in render:",t),"";const o=Wy(i),s=r.map(c=>bi(c)).filter(Boolean).join(""),a=String(n);return s?`<${a}${o}>${s}</${a}>`:`<${a}${o} />`}function sw(t,e={}){const n=Dy(),i=fi(t,n);if(!i)return"";const r=Array.isArray(i)?i.map(m=>bi(m)).join(""):bi(i),{x:o,y:s,width:a,height:c,style:d}=e,l=Fy(e,["x","y","width","height","style"]),h=Object.assign(Object.assign({},l),{xmlns:"http://www.w3.org/2000/svg"});if(!h.viewBox)if(a&&c)h.viewBox=`${o??0} ${s??0} ${a??0} ${c??0}`;else{const m=lt(i);if(m){const{x:g,y:v,width:b,height:x}=m;h.viewBox=`${g} ${v} ${b} ${x}`}}const f=Wy(h),p=aw(d),y=n.defs.size?`<defs>${Array.from(n.defs.values()).map(m=>bi(m)).join("")}</defs>`:"";return`<svg${f}${p}>${y}${r}</svg>`}function Wy(t){if(!t)return"";const{children:e}=t,n=Fy(t,["children"]);return Object.entries(n).filter(([,i])=>i!=null).map(([i,r])=>{const o=ow(i),s=typeof r=="string"?yh(String(r)):String(r);return` ${o}="${s}"`}).join("")}function aw(t){if(!t||Object.keys(t).length===0)return"";const e=Object.entries(t).map(([n,i])=>`${n.replace(/[A-Z]/g,o=>`-${o.toLowerCase()}`)}: ${i};`).join("");return` style="${yh(e)}"`}var Gy=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const et=t=>{const{indexes:e}=t,n=Gy(t,["indexes"]);return u(kt,Object.assign({},{fill:"#B9EBCA",fillOpacity:.3,width:20,height:20,"data-indexes":e,"data-element-type":"btn-add"},n))},Zt=t=>{const{indexes:e}=t,n=Gy(t,["indexes"]);return u(kt,Object.assign({},{fill:"#F9C0C0",fillOpacity:.3,width:20,height:20,"data-indexes":e,"data-element-type":"btn-remove"},n))},Ht=t=>u(W,Object.assign({"data-element-type":"btns-group",width:0,height:0},t,{display:"none"})),ae=()=>u(Ft,{});var cw=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const lw=t=>{var{indexes:e}=t,n=cw(t,["indexes"]);const r=Object.assign(Object.assign({},{fill:"lightgray"}),n);return e?(r["data-indexes"]=e,r["data-element-type"]="item-illus"):r["data-element-type"]="illus",u(kt,Object.assign({},r))};var dw=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const re=t=>{var e,{indexes:n,lineNumber:i=2,children:r}=t,o=dw(t,["indexes","lineNumber","children"]);if(!r)return null;const s=Object.assign({fontSize:14,fill:"#666",wordWrap:!0,lineHeight:1.4,children:r},o);return(e=s.height)!==null&&e!==void 0||(s.height=Math.ceil(i*+s.lineHeight*+s.fontSize)),u(Pt,Object.assign({},s,{"data-indexes":n,"data-element-type":"item-desc"}))};var Yy=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const Oe=t=>{const{indexes:e,size:n=32}=t,i=Yy(t,["indexes","size"]),r=Object.assign({fill:"lightgray",width:n,height:n},i);return u(kt,Object.assign({},r,{"data-indexes":e,"data-element-type":"item-icon"}))},Qn=t=>{const{indexes:e,size:n=50,fill:i,colorBg:r="white"}=t,o=Yy(t,["indexes","size","fill","colorBg"]),s=n/Math.SQRT2*.9,a=(n-s)/2,c=Object.assign(Object.assign({fill:r},o),{x:a,y:a,width:s,height:s});return M(W,Object.assign({},o,{width:n,height:n,"data-element-type":"item-icon-group",children:[u(Ut,{width:n,height:n,fill:i,"data-element-type":"shape"}),u(kt,Object.assign({},c,{"data-indexes":e,"data-element-type":"item-icon"}))]}))};var hw=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const Dt=t=>{var e,{indexes:n,children:i}=t,r=hw(t,["indexes","children"]);const o=Object.assign({fontSize:18,fontWeight:"bold",fill:"#252525",lineHeight:1.4,children:i},r);return(e=o.height)!==null&&e!==void 0||(o.height=Math.ceil(+o.lineHeight*+o.fontSize)),u(Pt,Object.assign({},o,{"data-indexes":n,"data-element-type":"item-label"}))},$t=t=>u(W,Object.assign({"data-element-type":"items-group"},t));var uw=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const Rr=t=>{var e,{indexes:n,value:i,formatter:r=a=>String(a)}=t,o=uw(t,["indexes","value","formatter"]);const s=Object.assign({fontSize:14,fill:"#666",wordWrap:!0,lineHeight:1.4,children:r(i),"data-value":i},o);return(e=s.height)!==null&&e!==void 0||(s.height=Math.ceil(+s.lineHeight*+s.fontSize)),u(Pt,Object.assign({},s,{"data-indexes":n,"data-element-type":"item-value"}))},pe=t=>u(W,Object.assign({"data-element-type":"shapes-group"},t));var fw=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const Li=By((t,e)=>{var n,i,r,o,{horizontal:s,vertical:a}=e,c=fw(e,["horizontal","vertical"]);if(!t||t.length===0)return u(W,Object.assign({},c));const d=t.map(v=>lt(v)),l=Wn(t),h=(n=c.x)!==null&&n!==void 0?n:l.x,f=(i=c.y)!==null&&i!==void 0?i:l.y,p=(r=c.width)!==null&&r!==void 0?r:l.width,y=(o=c.height)!==null&&o!==void 0?o:l.height,m=t.map((v,b)=>{const x=d[b],w=Object.assign({},v.props);if(s!==void 0)switch(s){case"left":w.x=-x.x;break;case"center":w.x=(p-x.width)/2-x.x;break;case"right":w.x=p-x.width-x.x;break}else w.x===void 0&&(w.x=x.x-h);if(a!==void 0)switch(a){case"top":w.y=-x.y;break;case"middle":w.y=(y-x.height)/2-x.y;break;case"bottom":w.y=y-x.height-x.y;break}else w.y===void 0&&(w.y=x.y-f);return xn(v,w)}),g=Object.assign(Object.assign({},c),{x:h,y:f,width:p,height:y});return u(W,Object.assign({},g,{children:m}))});var pw=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const yt=By((t,e)=>{var n,i,r,o,s,a,{flexDirection:c="row",justifyContent:d="flex-start",alignItems:l="flex-start",alignContent:h="flex-start",flexWrap:f="nowrap",gap:p=0}=e,y=pw(e,["flexDirection","justifyContent","alignItems","alignContent","flexWrap","gap"]);if(!t||t.length===0)return u(W,Object.assign({},y));const m=c==="row"||c==="row-reverse",g=c==="row-reverse"||c==="column-reverse",v=t.map(R=>lt(R)),b=Wn(t),x=(n=y.width)!==null&&n!==void 0?n:b.width,w=(i=y.height)!==null&&i!==void 0?i:b.height,_=y.width!==void 0&&y.height!==void 0,C=[];if(f==="wrap"&&_){let R=[],A=[],q=0;for(let B=0;B<t.length;B++){const L=t[B],D=v[B],j=m?D.width:D.height,G=m?x:w;R.length===0||q+p+j<=G?(R.push(L),A.push(D),q+=(R.length>1?p:0)+j):(C.push({children:R,bounds:A}),R=[L],A=[D],q=j)}R.length>0&&C.push({children:R,bounds:A})}else C.push({children:t,bounds:v});const E=[];let S=0;const O=[];if(C.forEach(R=>{const{children:A,bounds:q}=R,B=q.reduce((Y,V,z)=>{const k=m?V.width:V.height;return Y+k+(z>0?p:0)},0),L=Math.max(...q.map(Y=>m?Y.height:Y.width));O.push(L);let D=0;const j=(m?x:w)-B;if(_)switch(d){case"flex-end":D=j;break;case"center":D=j/2;break;case"space-between":D=0;break;default:D=0;break}let G=p;_&&d==="space-between"&&A.length>1&&(G=j/(A.length-1)+p);let N=D;A.forEach((Y,V)=>{const z=q[V],k=m?z.width:z.height,$=m?z.height:z.width,P=m?z.x:z.y,H=m?z.y:z.x;let F=S;if(_)switch(l){case"flex-end":F=S+L-$;break;case"center":F=S+(L-$)/2;break;default:F=S;break}let X,K;m?(X=g?x-N-k-P:N-P,K=F-H):(X=F-H,K=g?w-N-k-P:N-P);const it=xn(Y,{x:X,y:K});E.push(it),N+=k+G}),S+=L+p}),C.length>1&&_){const R=O.reduce((B,L)=>B+L,0)+(C.length-1)*p,A=(m?w:x)-R;let q=0;switch(h){case"flex-end":q=A;break;case"center":q=A/2;break;case"space-between":if(C.length>1){const B=A/(C.length-1);let L=0;C.forEach((D,j)=>{const G=C.slice(0,j).reduce((Y,V)=>Y+V.children.length,0),N=G+D.children.length;for(let Y=G;Y<N;Y++){const V=E[Y],z=Object.assign({},V.props);m?z.y=(z.y||0)+L:z.x=(z.x||0)+L,E[Y]=xn(V,z)}L+=O[j]+p+(j<C.length-1?B:0)});break}break;default:q=0;break}q!==0&&h!=="space-between"&&E.forEach((B,L)=>{const D=Object.assign({},B.props);m?D.y=(D.y||0)+q:D.x=(D.x||0)+q,E[L]=xn(B,D)})}if(!_&&l==="center")if(m){const R=Math.max(...v.map(A=>A.height));E.forEach((A,q)=>{const B=v[q],L=(R-B.height)/2,D=Object.assign({},A.props);D.y=(D.y||0)+L,E[q]=xn(A,D)})}else{const R=Math.max(...v.map(A=>A.width));E.forEach((A,q)=>{const B=v[q],L=(R-B.width)/2,D=Object.assign({},A.props);D.x=(D.x||0)+L,E[q]=xn(A,D)})}const I=Wn(E),T=Object.assign(Object.assign({},y),{x:(r=y.x)!==null&&r!==void 0?r:b.x,y:(o=y.y)!==null&&o!==void 0?o:b.y,width:(s=y.width)!==null&&s!==void 0?s:I.width,height:(a=y.height)!==null&&a!==void 0?a:I.height});return u(W,Object.assign({},T,{children:E}))}),gw=t=>{const{x:e=0,y:n=0,alignHorizontal:i="center",title:r,desc:o,descLineNumber:s=2,themeColors:a}=t,c=l=>{const h={fontSize:24,fill:a.colorPrimaryText,lineHeight:1.4,alignHorizontal:i};return u(Pt,Object.assign({},h,l,{"data-element-type":"title",children:r}))},d=l=>{const h={fontSize:16,fill:a.colorTextSecondary,alignHorizontal:i,lineHeight:1.4,height:s*24};return u(Pt,Object.assign({},h,l,{"data-element-type":"desc",children:o}))};return!r&&!o?null:M(yt,{flexDirection:"column",justifyContent:"center",alignItems:"center",x:e,y:n,gap:8,children:[r&&u(c,{}),o&&u(d,{})]})},xh=new Map;function Vy(t,e){xh.set(t,e)}function mw(t){return xh.get(t)}function OO(){return Array.from(xh.keys())}Vy("dark",{colorBg:"#1F1F1F",base:{text:{fill:"#fff"}}});Vy("hand-drawn",{base:{text:{"font-family":"851tegakizatsu"}},stylize:{type:"rough"}});Qv(Jv);const Xy=({colorPrimary:t,colorBg:e="#ffffff",isDarkMode:n=!1})=>{const i=Je(t),r=Je(e),o=Cw({primaryColor:i,bgColor:r});return _w(o,{primaryColor:i,bgColor:r,isDarkMode:n})},yw=(t,e)=>Zv(Object.assign(Object.assign({},t),{alpha:e?.2:.1}))||"#ffffff",vw=(t,e)=>{if(e)return"#ffffff";const n=Je("#262626");return qd(n,t)>=7?Ei(n):"#000000"},bw=t=>{const e=ny(Je(t)),n=Object.assign(Object.assign({},e),{l:Math.min(1,e.l+.2)});return Ei(n)},xw=(t,e)=>{const n=Je(t),i=Je("#262626"),r=Je("#ffffff"),o=qd(i,n);return qd(r,n)>=3?Ei(r):o>=4.5?Ei(i):"#ffffff"},ww=(t,e)=>{const n=ny(t);if(e){const i=Object.assign(Object.assign({},n),{l:Math.min(1,n.l+.1)});return hr(i,"#1f1f1f")}else{if(n.l>.95)return"#ffffff";{const i=Object.assign(Object.assign({},n),{l:Math.min(1,n.l+.05)});return hr(i,"#ffffff")}}},Cw=({primaryColor:t,bgColor:e})=>({colorPrimary:hr(t,"#FF356A"),colorBg:hr(e,"#ffffff"),colorWhite:"#ffffff"}),_w=(t,{primaryColor:e,bgColor:n,isDarkMode:i})=>{const r=vw(n,i),o=yw(e,i);return Object.assign(Object.assign({},t),{isDarkMode:i,colorPrimaryBg:o,colorText:r,colorTextSecondary:bw(r),colorPrimaryText:xw(o,i),colorBgElevated:ww(n,i)})};function hr(t,e="#000000"){var n;return(n=Ei(t))!==null&&n!==void 0?n:e}const Xd="#FF356A";function fe(t){var e;return((e=t?.themeConfig)===null||e===void 0?void 0:e.colorPrimary)||Xd}function Uy(t){var e;const{themeConfig:n={},data:i}=t,{colorPrimary:r,palette:o}=n;return!o||o.length===0?Array(((e=i?.items)===null||e===void 0?void 0:e.length)||1).fill(r||Xd):i.items.map((s,a)=>dh(o,[a],i.items.length)||Xd)}function Lt(t,e){var n,i,r;return dh((n=t?.themeConfig)===null||n===void 0?void 0:n.palette,e,(r=(i=t.data)===null||i===void 0?void 0:i.items)===null||r===void 0?void 0:r.length)}function ye(t,e){var n;const{colorBg:i=((n=e?.themeConfig)===null||n===void 0?void 0:n.colorBg)||"white",colorPrimary:r=e?fe(e):"black"}=t;return Xy({colorPrimary:r,isDarkMode:cy(i),colorBg:i})}function Ky(t,e){const{depth:n,originalIndexes:i,flatIndex:r}=t;switch(e){case"level":return[n];case"branch":return n===0?[0]:n===1?[i[1]+1]:[i[1]+1];case"node":return i;case"node-flat":return r!==void 0?[r]:(console.warn("node-flat mode requires flatIndex in HierarchyNode, falling back to originalIndexes"),i);default:return[0]}}function te(t,e=[]){const n=Object.assign({},t),i={};return["indexes","data","datum","positionH","positionV","themeColors","valueFormatter",...e].forEach(o=>{o in n&&(i[o]=n[o],delete n[o])}),["x","y","width","height"].forEach(o=>{o in t&&(n[o]=t[o])}),[i,n]}function ur(t,e){var n;return t.length===0?()=>null:e===void 0?t[0]:(n=t[e])!==null&&n!==void 0?n:t[0]}function Ew(t){if(t==null)return 0;if(typeof t=="string"){const e=t.trim(),n=e.endsWith("%")?e.slice(0,-1):e,i=parseFloat(n);return isNaN(i)?0:i}return t}const wh=new Map;function ee(t,e){wh.set(t,e)}function Sw(t){return wh.get(t)}function IO(){return Array.from(wh.keys())}const Ow=t=>{const[{datum:e,indexes:n,width:i=200,height:r=80,iconSize:o=24,badgeSize:s=32,gap:a=8,positionH:c="normal",themeColors:d,valueFormatter:l},h]=te(t,["width","height","iconSize","badgeSize","gap"]),f=e.value,p=f!==void 0,y=!!e.desc,m=!!e.icon,g=`${d.colorPrimary}-badge`,v=c==="flipped"?i-a-s:a,b=m?c==="flipped"?a:s+2*a:a,x=i-a*2,w=m?i-s-3*a:x,_=a+14+18+8,C=_-a,E=y?a:(r-s)/2,S=!p&&!y?(r-14)/2:a,O=!m&&c==="center"?"center":c==="flipped"?"right":"left";return M(W,Object.assign({},h,{width:i,height:r,children:[u(Gt,{children:M("radialGradient",{id:g,cx:"50%",cy:"50%",r:"50%",children:[u("stop",{offset:"0%",stopColor:d.colorPrimary}),u("stop",{offset:"100%",stopColor:ce(d.colorPrimary).darken(20).toHexString()})]})}),u(kt,{"data-element-type":"shape",x:0,y:0,width:i,height:r,fill:d.colorPrimaryBg,rx:8,ry:8}),m&&M(Ft,{children:[u(Ut,{x:v,y:E,width:s,height:s,fill:`url(#${g})`}),u(Oe,{indexes:n,x:v+(s-o)/2,y:E+(s-o)/2,size:o,fill:d.colorWhite})]}),M(yt,{flexDirection:"column",x:b,y:S,width:w,height:!p&&!y?void 0:C,alignItems:"center",justifyContent:"center",children:[u(Dt,{indexes:n,width:w,alignHorizontal:O,alignVertical:"middle",fontSize:14,fill:d.colorText,children:e.label}),p&&u(Rr,{indexes:n,width:w,alignHorizontal:c==="flipped"?"right":"left",alignVertical:"middle",fontSize:18,lineHeight:1,fontWeight:"bold",fill:d.colorPrimary,value:f,formatter:l})]}),y&&u(re,{indexes:n,x:a,y:_,width:x,alignHorizontal:O,fontSize:11,fill:d.colorTextSecondary,lineNumber:2,lineHeight:1.2,wordWrap:!0,children:e.desc})]}))};ee("badge-card",{component:Ow,composites:["icon","label","value","desc"]});const Iw=t=>{const[{indexes:e,datum:n,width:i=280,height:r=140,themeColors:o},s]=te(t,["width","height"]);return M(W,Object.assign({},s,{children:[u("rect",{x:0,y:0,width:i,height:r,rx:22,ry:22,fill:o.colorPrimaryBg,stroke:o.colorPrimary,"data-element-type":"shape"}),u(xt,{x:i-85,y:.5,width:85,height:65,d:"M0 0H62.4495C74.9557 0 85.4549 10.8574 84.4557 23.1875V60.1875L77.8772 62.5839C64.3776 67.6876 48.51 64.6893 37.8662 53.7441L10.2361 25.3312C4.91402 19.8571 1.65356 13.1736 0.435652 6.21819L0 0Z",fill:o.colorBg,"data-element-type":"shape"}),u(Dt,{indexes:e,x:20,y:24,width:200,alignHorizontal:"left",alignVertical:"middle",fill:o.colorText,children:n.label}),u(re,{indexes:e,x:20,y:58,width:220,height:70,fill:o.colorTextSecondary,alignHorizontal:"left",alignVertical:"top",children:n.desc}),u(Oe,{indexes:e,x:i-48,y:12,width:32,height:32,fill:o.colorPrimary})]}))};ee("candy-card-lite",{component:Iw,composites:["icon","label","desc"]});var Aw=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const Ch=t=>{const{color:e="black",opacity:n=.8}=t,i=Aw(t,["color","opacity"]);return u("filter",Object.assign({id:"drop-shadow",x:"-25%",y:"-25%",width:"200%",height:"200%"},i,{children:u("feDropShadow",{dx:"4",dy:"4",stdDeviation:"4","flood-color":e,"flood-opacity":n})}))},_h=t=>{const{id:e="linear-gradient",startColor:n="black",stopColor:i="white",direction:r="left-right"}=t;return M("linearGradient",Object.assign({id:e},{"left-right":{x1:"0%",y1:"0%",x2:"100%",y2:"0%"},"right-left":{x1:"100%",y1:"0%",x2:"0%",y2:"0%"},"top-bottom":{x1:"0%",y1:"0%",x2:"0%",y2:"100%"},"bottom-top":{x1:"0%",y1:"100%",x2:"0%",y2:"0%"}}[r],{children:[u("stop",{offset:"0%",stopColor:n}),u("stop",{offset:"100%",stopColor:i})]}))},Tw=t=>{const[{datum:e,indexes:n,width:i=300,height:r=80,gap:o=12,positionH:s="normal",iconPadding:a=r/10,themeColors:c},d]=te(t,["width","height","gap","iconPadding"]),l=r/2,h=r-a*2,f=s==="flipped",p=!!e.icon,y=p?i-r-o:i-o*2,m=p?f?o:r:o,g=p?f?"right":"left":"center",v={indexes:n,width:y,alignHorizontal:g,alignVertical:"middle",fontSize:16,fontWeight:"600",fill:c.colorWhite},b=lt(u(Dt,Object.assign({},v,{children:e.label}))),x={indexes:n,width:y,alignHorizontal:g,alignVertical:"top",fontSize:12,lineNumber:1,fill:c.colorWhite},w=lt(e.desc?u(re,Object.assign({},x,{children:e.desc})):null),_=4,C=b.height+_+w.height,S=(r-C)/2,O=S+b.height+_,I=f?i-r+a:a,T=a;return M(W,Object.assign({},d,{children:[u(Gt,{children:u(Ch,{})}),u(kt,{x:0,y:0,width:i,height:r,fill:c.colorPrimary,rx:l,ry:l,"data-element-type":"shape"}),e.icon&&M(Ft,{children:[u(Ut,{x:I,y:T,width:h,height:h,fillOpacity:.5,fill:c.colorBg,filter:"url(#drop-shadow)"}),u(Qn,{indexes:n,x:I,y:T,size:h,fill:c.colorBg,colorBg:c.colorPrimary})]}),e.label&&u(Dt,Object.assign({x:m,y:S},v,{children:e.label})),e.desc&&u(re,Object.assign({x:m,y:O},x,{children:e.desc}))]}))};ee("capsule-item",{component:Tw,composites:["icon","label","desc"]});const Mw=t=>{const[{indexes:e,datum:n,themeColors:i,positionH:r="normal",width:o=240,height:s=o},a]=te(t,["width","height"]),c=Math.min(o,s),d=c*.7,l=(c-d)/2,h=d*Math.sqrt(2)/2,f=(c-h)/2,p=ce(i.colorPrimary),y=Gi(p,80,.2),m=Gi(p,20,.8),g=Gi(p,75,.32),v=Gi(p,45,.4),b=p.clone().darken(5).toRgbString(),x=`${i.colorPrimary}-${r}-outer`,w=`${i.colorPrimary}-${r}-inner`,_=r==="flipped"?{x1:"0%",y1:"0%",x2:"100%",y2:"0%"}:{x1:"100%",y1:"0%",x2:"0%",y2:"0%"};return M(W,Object.assign({},a,{children:[M(Gt,{children:[M("linearGradient",Object.assign({id:x},_,{children:[u("stop",{offset:"0%",stopColor:y}),u("stop",{offset:"100%",stopColor:m})]})),M("linearGradient",Object.assign({id:w},_,{children:[u("stop",{offset:"0%",stopColor:g}),u("stop",{offset:"100%",stopColor:v})]}))]}),u(Ut,{width:c,height:c,fill:`url(#${x})`,"data-element-type":"shape"}),u(Ut,{x:l,y:l,width:d,height:d,fill:`url(#${w})`,stroke:"#FFFFFF",strokeWidth:1,"data-element-type":"shape"}),u(Dt,{indexes:e,x:f,y:f,width:h,height:h,lineHeight:1.1,alignHorizontal:"center",alignVertical:"middle",fill:b,fontWeight:"500",children:n.label})]}))};ee("circle-node",{component:Mw,composites:["label"]});function Gi(t,e,n){return ce.mix(t,"#ffffff",e).setAlpha(n).toRgbString()}const Rw=t=>{var e;const[{datum:n,indexes:i,size:r=120,strokeWidth:o=12,gap:s=8,themeColors:a,valueFormatter:c=_=>`${Math.round(_)}%`},d]=te(t,["size","strokeWidth","gap"]),l=(e=n.value)!==null&&e!==void 0?e:0,f=Math.min(Math.max(l/100,0),1),p=(r-o)/2,y=r/2,m=o/2,g=r-o,v=f>=1,b=f*360,x=kw(y,y,p,0,b),w={x:m,y:m,width:g,height:g};return M(W,Object.assign({},d,{width:r,height:r+s+20,children:[u(kt,{width:r,height:r,fill:"none"}),u(Ut,Object.assign({},w,{fill:"none",stroke:"#f0f0f0",strokeWidth:o,"data-element-type":"shape"})),v?u(Ut,Object.assign({},w,{fill:"none",stroke:a.colorPrimary,strokeWidth:o,"data-element-type":"shape"})):u(xt,{d:x,fill:"none",stroke:a.colorPrimary,strokeWidth:o,strokeLinecap:"round","data-element-type":"shape"}),u(Rr,{indexes:i,x:o,y:o,width:g-o,height:g-o,fontSize:24,fontWeight:"bold",fill:a.colorPrimary,alignHorizontal:"center",alignVertical:"middle",value:l,formatter:c}),u(Dt,{indexes:i,x:0,y:r+s,width:r,alignHorizontal:"center",fontSize:12,fill:a.colorTextSecondary,children:n.label})]}))};function kw(t,e,n,i,r){const o=Su(t,e,n,r),s=Su(t,e,n,i),a=r-i<=180?"0":"1";return`M ${o.x} ${o.y} A ${n} ${n} 0 ${a} 0 ${s.x} ${s.y}`}function Su(t,e,n,i){const r=(i-90)*Math.PI/180;return{x:t+n*Math.cos(r),y:e+n*Math.sin(r)}}ee("circular-progress",{component:Rw,composites:["label","value"]});const Lw=t=>{const[{datum:e,indexes:n,width:i=200,height:r=60,iconSize:o=20,gap:s=8,positionH:a="normal",themeColors:c,valueFormatter:d},l]=te(t,["width","height","iconSize","gap"]),h=e.value,f=h!=null,p="compact-shadow",y=a==="flipped"?i-s-o:s,m=a==="flipped"?s:o+2*s,g=i-o-3*s,v=f?g*.8:g,b=f?g*.2:0;return M(W,Object.assign({},l,{children:[u(Gt,{children:u("filter",{id:p,children:u("feDropShadow",{dx:"0",dy:"2",stdDeviation:"2",floodOpacity:"0.15"})})}),u(kt,{x:0,y:0,width:i,height:r,fill:c.colorBgElevated,stroke:c.colorBgElevated,strokeWidth:1,rx:6,ry:6,filter:`url(#${p})`,"data-element-type":"shape"}),u(kt,{x:a==="flipped"?i-3:0,y:0,width:3,height:r,fill:c.colorPrimary,rx:1.5,ry:1.5,"data-element-type":"shape"}),u(Oe,{indexes:n,x:y,y:(r-o)/2,size:o,fill:c.colorPrimary}),M(yt,{x:m,y:s,width:g,height:r-s*2,flexDirection:"column",justifyContent:"center",alignItems:"flex-start",children:[M(yt,{width:g,flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[u(Dt,{indexes:n,width:v,alignHorizontal:"left",fontSize:12,fill:c.colorText,children:e.label}),f&&u(Rr,{indexes:n,width:b,alignHorizontal:"right",fontSize:12,fontWeight:"bold",fill:c.colorPrimary,value:h,formatter:d})]}),u(re,{indexes:n,width:g,alignHorizontal:"left",alignVertical:"middle",fontSize:10,fill:c.colorTextSecondary,lineNumber:2,wordWrap:!0,children:e.desc})]})]}))};ee("compact-card",{component:Lw,composites:["icon","label","value","desc"]});const Pw=t=>{const[{datum:e,indexes:n,width:i=300,height:r=30,iconSize:o=30,gap:s=5,positionH:a="normal",positionV:c="middle",themeColors:d},l]=te(t,["width","height","iconSize","gap"]),h=i-o-s,f=c==="middle"?(r-o)/2:c==="flipped"?r-o:0;return M(W,Object.assign({},l,{children:[u(xt,{"data-element-type":"shape",x:a==="flipped"?h+s:0,y:f,fill:d.colorPrimary,width:o,height:o,d:"M14.7273 30C6.54538 30 0 22.9077 0 14.7269C0 6.54617 6.54538 0 14.7273 0C22.9092 0 30 6.54617 30 14.7269C30 22.9077 22.9092 30 14.7273 30ZM24.5454 10.9077C22.9092 9.27307 22.9092 9.27307 22.9092 9.27307C22.3638 8.72692 22.3638 8.7269 21.8181 8.7269C21.2727 8.7269 21.2727 8.72692 20.7273 9.27307C13.0908 16.9077 13.0908 16.9077 13.0908 16.9077C8.72731 12.5461 8.72731 12.5462 8.72731 12.5462C8.18193 12.5462 8.18193 12 7.63654 12L7.09077 12.5462C4.90923 14.1808 4.90923 14.1808 4.90923 14.1808C4.90923 14.7269 4.90923 14.7269 4.90923 15.2731C4.90923 15.8192 4.90923 15.8192 4.90923 16.3654C12 23.4539 12 23.4538 12 23.4538C12.5454 23.4538 12.5454 23.4538 13.0908 23.4538C13.6365 23.4538 13.6365 23.4538 14.1819 23.4538C24.5454 12.5461 24.5454 12.5462 24.5454 12.5462L25.0908 12C25.0908 11.4538 24.5454 10.9077 24.5454 10.9077Z"}),u(Dt,{indexes:n,x:a==="flipped"?0:o+s,width:h,height:r,fontWeight:"normal",alignVertical:"middle",wordWrap:!1,fill:"#666",children:e.label||e.desc})]}))};ee("done-list",{component:Pw,composites:["label"]});const $w=t=>{const[{indexes:e,datum:n,width:i=140,themeColors:r,positionV:o="normal"},s]=te(t,["width"]),a=o!=="flipped",c=o==="normal"?"bottom":"top",d=u(Dt,{indexes:e,width:i,fill:r.colorText,alignHorizontal:"center",alignVertical:c,fontSize:14,children:n.label}),l=u(re,{indexes:e,width:i,fill:r.colorTextSecondary,alignHorizontal:"center",alignVertical:c,children:n.desc}),h=u(Qn,{indexes:e,fill:r.colorPrimary,colorBg:r.colorWhite}),f=u(Hw,{width:8,height:30,fill:r.colorPrimary,positionV:o}),p=5,y=25,m=30,g=lt(d),v=lt(l),b=lt(h),x=lt(f),w=g.height+v.height+p+x.height-b.height-y,_=b.height+y+m+x.height+p+g.height+v.height;return u(W,Object.assign({width:i,height:_},s,{children:M(yt,{flexDirection:"column",alignItems:"center",children:[a?M(Ft,{children:[l,d,u(ae,{height:p}),f]}):M(Ft,{children:[u(ae,{height:w}),h,u(ae,{height:y})]}),M(Li,{horizontal:"center",vertical:"middle",width:i,height:m,children:[u(qw,{width:i,height:m,fill:r.colorPrimary}),u(Pt,{width:i,height:m,alignHorizontal:"center",alignVertical:"middle",fill:r.colorWhite,fontWeight:"bold",fontSize:16,children:n.time?n.time:String(e[0]+1).padStart(2,"0").slice(-2)})]}),a?M(Ft,{children:[u(ae,{height:y}),h]}):M(Ft,{children:[f,u(ae,{height:p}),d,l]})]})}))},qw=t=>{const{x:e=0,y:n=0,width:i=100,height:r=40,fill:o="#FF356A",size:s=10}=t;return u(ke,{width:i,height:r,points:[{x:e,y:n},{x:e+i-s,y:n},{x:e+i,y:n+r/2},{x:e+i-s,y:n+r},{x:e,y:n+r},{x:e+s,y:n+r/2}],fill:o,"data-element-type":"shape"})},Hw=t=>{const{x:e=0,y:n=0,width:i=10,height:r=50,fill:o,positionV:s="top"}=t,a=i/2,c=r-a,d=2,l=a;return M(pe,{x:e,y:n,width:i,height:r,children:[u(Ut,{width:i,height:i,fill:o,y:s==="top"?0:c-a}),u(xt,{d:s==="top"?`M${l},${a} L${l},${a+c}`:`M${l},0 L${l},${c-a}`,strokeWidth:d,stroke:o})]})};ee("horizontal-icon-arrow",{component:$w,composites:["icon","label","desc","time"]});const zw=t=>{const[{indexes:e,datum:n,width:i=160,themeColors:r,positionH:o="center",positionV:s="normal"},a]=te(t,["width"]),c=o==="normal"?"left":o==="flipped"?"right":"center",d=u(Dt,{indexes:e,width:i,alignHorizontal:c,fill:r.colorPrimary,children:n.label}),l=lt(d),h=n.desc?u(re,{indexes:e,width:i,fill:r.colorTextSecondary,alignHorizontal:c,alignVertical:s==="flipped"?"top":"bottom",children:n.desc}):null,f=lt(h),y=n.icon?u(Qn,{size:45,indexes:e,colorBg:r.colorBg,fill:r.colorPrimary}):null,m=lt(y),g=n.time?u(Pt,{width:i,height:30,alignHorizontal:"center",alignVertical:"middle",fill:r.colorPrimary,fontSize:18,fontWeight:"bold",children:n.time}):null,v=lt(g),b=18,x=M(Li,{horizontal:"center",vertical:"middle",width:i,height:b,children:[u(kt,{width:i,height:b,fill:r.colorPrimary,"data-element-type":"shape"}),u(Ut,{width:b+6,height:b+6,fill:r.colorBg,fillOpacity:.5,"data-element-type":"shape"}),u(Ut,{width:12,height:12,fill:"white","data-element-type":"shape"})]}),w=l.height+f.height,_=m.height+v.height+5,C=Math.abs(_-w),E=_>w?C:0,S=w>_?C:0;return s==="flipped"?M(yt,Object.assign({},a,{flexDirection:"column",alignItems:"center",children:[u(ae,{height:S}),g,y,u(ae,{height:5}),x,d,h,u(ae,{height:E})]})):M(yt,Object.assign({},a,{flexDirection:"column",alignItems:"center",children:[u(ae,{height:E}),d,h,x,u(ae,{height:5}),y,g,u(ae,{height:S})]}))};ee("horizontal-icon-line",{component:zw,composites:["icon","label","desc"]});const jw=t=>{var e;const[{datum:n,indexes:i,size:r=80,iconSize:o=28,badgeSize:s=24,gap:a=8,themeColors:c,width:d=84,height:l=105},h]=te(t,["size","iconSize","badgeSize","gap"]),f=(e=n.value)!==null&&e!==void 0?e:0,p=`${c.colorPrimary}-icon`,y="#ff6b6b-badge";return M(W,Object.assign({},h,{width:d,height:l,children:[M(Gt,{children:[M("radialGradient",{id:p,cx:"50%",cy:"30%",r:"70%",children:[u("stop",{offset:"0%",stopColor:ce(c.colorPrimary).lighten(30).toHexString()}),u("stop",{offset:"100%",stopColor:c.colorPrimary})]}),M("linearGradient",{id:y,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u("stop",{offset:"0%",stopColor:"#ff6b6b"}),u("stop",{offset:"100%",stopColor:"#ee5a52"})]})]}),u(Ut,{x:0,y:0,width:r,height:r,fill:`url(#${p})`,"data-element-type":"shape"}),u(Oe,{indexes:i,x:(r-o)/2,y:(r-o)/2,size:o,fill:c.colorPrimaryText}),u(Ut,{x:r-s+4,width:s,height:s,fill:`url(#${y})`}),u(Pt,{x:r-s+4,width:s,height:s,fontSize:10,fontWeight:"bold",fill:c.colorWhite,alignHorizontal:"center",alignVertical:"middle",children:f>99?"99+":Math.round(f)}),u(Dt,{indexes:i,x:0,y:r+a,width:r,alignHorizontal:"center",fontSize:12,fill:c.colorText,children:n.label})]}))};ee("icon-badge",{component:jw,composites:["icon","label"]});const Dw=t=>{const[{datum:e,indexes:n,width:i=200,borderRadius:r=12,padding:o=16,separatorHeight:s=2,indexFontSize:a=20,labelFontSize:c=16,gap:d=8,themeColors:l},h]=te(t,["width","height","borderRadius","padding","separatorHeight","indexFontSize","labelFontSize","gap"]),f=n[0]+1,p=String(f).padStart(2,"0"),y=e.label!==void 0,m=e.desc!==void 0,g=ce.mix(l.colorPrimary,l.colorWhite,40).toHexString(),v=l.colorBgElevated||l.colorWhite,b=i-2*o,x=lt(u(Pt,{fontSize:a,fontWeight:"bold",children:p})),w=b-x.width-d,_=y?lt(u(Dt,{indexes:n,width:w,fontSize:c,fontWeight:"bold",x:a,children:e.label})):{height:0},C=m?lt(u(re,{indexes:n,width:b,fontSize:14,lineHeight:1.5,wordWrap:!0,children:e.desc})):{height:0},E=Math.max(x.height,_.height),S=o*2+E+(y||m?d:0)+s+(m?d:0)+C.height;return M(W,Object.assign({},h,{width:i,height:S,children:[u(kt,{x:0,y:0,width:i,height:S,rx:r,ry:r,fill:v,stroke:ce(v).darken(5).toHexString(),strokeWidth:.5,"data-element-type":"shape"}),M(W,{x:o,y:o,children:[M(W,{x:0,y:0,children:[u(Pt,{x:0,y:0,fontSize:a,fontWeight:"bold",fill:l.colorPrimary,alignVertical:"top",children:p}),y&&u(Dt,{indexes:n,x:a+d,y:0,width:w,fontSize:c,fontWeight:"bold",fill:l.colorTextSecondary,alignVertical:"top",children:e.label})]}),u(kt,{x:0,y:E+d,width:b,height:s,fill:g,"data-element-type":"shape"}),m&&u(re,{indexes:n,x:0,y:E+d+s+d,width:b,fontSize:14,lineHeight:1.5,wordWrap:!0,fill:l.colorTextSecondary,children:e.desc})]})]}))};ee("indexed-card",{component:Dw,composites:["label","desc"]});const Bw=t=>{const[{indexes:e,datum:n,width:i=140,iconSize:r=24,themeColors:o},s]=te(t,["width","iconSize"]),{label:a,desc:c}=n,d=8,l=16,h=12,f=l+h,p=i-f,y=60,m=r+44,g=l,v=y+h,b=y+l+h,x=[{x:0,y:b},{x:g,y:v},{x:g,y:b}],w=i-g-h,_=g+h,C=_+w,E=v+d/2,S=E+m,O=`M ${_} ${S} L ${_} ${E} L ${C} ${E}`,I=d/2,T=_+I,R=E+I,A=8;return M(W,Object.assign({},s,{children:[u(re,{indexes:e,x:f,width:p,height:y,fontSize:12,alignHorizontal:"left",alignVertical:"bottom",fill:o.colorTextSecondary,children:c}),u(ke,{points:x,fill:o.colorPrimary,opacity:.9,width:l,height:l,"data-element-type":"shape"}),u(xt,{d:O,stroke:o.colorPrimary,strokeWidth:d,fill:"none","data-element-type":"shape"}),u(Oe,{indexes:e,x:T+w/2-r/2,y:R+A,size:r,fill:o.colorPrimary}),u(Dt,{indexes:e,x:T,y:R+r+A*2,width:w,fontSize:14,fontWeight:"bold",alignHorizontal:"center",alignVertical:"middle",fill:o.colorText,children:a})]}))};ee("l-corner-card",{component:Bw,composites:["icon","label","desc"]});const Nw=t=>{var e,n;const[{datum:i,indexes:r,width:o=280,height:s=160,showStripe:a=!0,showGradient:c=!0,showBottomShade:d=!0,themeColors:l},h]=te(t,["width","height","showStripe","showGradient","showBottomShade"]),f=(e=i.label)===null||e===void 0?void 0:e[0].toUpperCase(),p=(n=i.label)===null||n===void 0?void 0:n.toUpperCase(),y=l.colorPrimary,m=ce(y),g=4,v=6,b=45,x=40,w=12,C=m.clone().darken(4).toHexString(),E=m.clone().lighten(w).toHexString(),S="rgba(255, 255, 255, 0)",O="rgba(0, 0, 0, 0.03)",I=`letter-card-${r.join("-")}`,T=`${I}-gradient`,R=`${I}-pattern`,A=`${I}-shade`,q=g+v,B=1,L=96,D=L*B,j=16,G=j*B,N=s/16,Y=D+N+G,V=(s-Y)/2,z=V+D+N;return M(W,Object.assign({},h,{width:o,height:s,children:[M(Gt,{children:[c&&M("linearGradient",{id:T,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u("stop",{offset:"0%",stopColor:C}),u("stop",{offset:"100%",stopColor:E})]}),a&&M("pattern",{id:R,patternUnits:"userSpaceOnUse",width:q,height:q,patternTransform:`rotate(${b})`,children:[u("rect",{x:"0",y:"0",width:q,height:q,fill:S}),u("rect",{x:"0",y:"0",width:g,height:q,fill:O})]}),d&&M("linearGradient",{id:A,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u("stop",{offset:"0%",stopColor:"rgba(0,0,0,0)"}),u("stop",{offset:"100%",stopColor:"rgba(0,0,0,0.16)"})]})]}),u(kt,{x:0,y:0,width:o,height:s,fill:c?`url(#${T})`:y,rx:0,ry:0,"data-element-type":"shape"}),a&&u(kt,{x:0,y:0,width:o,height:s,fill:`url(#${R})`,rx:0,ry:0}),d&&u(kt,{x:0,y:s-x,width:o,height:x,fill:`url(#${A})`,rx:0,ry:0}),f&&u(Dt,{indexes:r,x:0,y:V,width:o,fontSize:L,fontWeight:"bold",fill:"#FFFFFF",alignHorizontal:"center",alignVertical:"top",lineHeight:1,children:f}),u(Dt,{indexes:r,x:0,y:z,width:o,fontSize:j,fontWeight:"bold",fill:"#FFFFFF",alignHorizontal:"center",alignVertical:"middle",lineHeight:1,children:p})]}))};ee("letter-card",{component:Nw,composites:["label"]});const Fw=t=>{var e,n,i;const[{datum:r,indexes:o,width:s,themeColors:a,positionH:c="normal",positionV:d="center",formatter:l=B=>B||"",usePaletteColor:h=!1,showUnderline:f=!1,underlineGap:p=6,underlineExtend:y=8,underlineThickness:m=2},g]=te(t,["width","formatter","usePaletteColor","showUnderline","underlineGap","underlineExtend","underlineThickness"]),v=l((n=(e=r.label)!==null&&e!==void 0?e:r.desc)!==null&&n!==void 0?n:""),b=c==="flipped"?"right":c==="center"?"center":"left",x=lt(u(Dt,{indexes:o,width:s,children:v})),w=s??x.width,_=x.height,C=f?w+y*2:0,E=_+(f?p+m:0),S=f?Math.max(w,C):w,O=(i=g.height)!==null&&i!==void 0?i:E,I=d==="middle"?(O-E)/2:d==="flipped"?O-E:0,T=b==="right"?S-w:b==="center"?(S-w)/2:0,R=I,A=b==="right"?S-C:b==="center"?(S-C)/2:0,q=O;return M(W,Object.assign({},g,{width:S,height:O,children:[u(Dt,{indexes:o,x:T,y:R,width:w,height:_,alignHorizontal:b,alignVertical:d==="flipped"?"bottom":d==="center"?"middle":"top",fill:h?a.colorPrimary:a.colorText,children:v}),f&&u(xt,{d:`M 0 ${m/2} L ${C} ${m/2}`,x:A,y:q-m/2,width:C,height:m,stroke:a.colorPrimary,strokeWidth:m,fill:"none",strokeLinecap:"round","data-element-type":"shape"})]}))};ee("lined-text",{component:Fw,composites:["label"]});const Ww=t=>{const[{datum:e,indexes:n,width:i=300,pillWidth:r=120,pillHeight:o=36,gap:s=16,positionH:a="normal",themeColors:c},d]=te(t,["width","pillWidth","pillHeight","gap"]),l=!!e.desc,h=l?i:r,f=l?a==="center"?(h-r)/2:a==="flipped"?h-r:0:0,p=0,y=0,m=o+s,g=h,v=`drop-shadow-${c.colorPrimary}`,b="linear-gradient-white-top-bottom";return M(W,Object.assign({},d,{children:[M(Gt,{children:[u(Ch,{id:v,color:c.colorPrimary}),u(_h,{id:b,startColor:"#fff",stopColor:"#ffffff33",direction:"top-bottom"})]}),u(kt,{x:f,y:p,width:r,height:o,fill:c.colorPrimaryBg,stroke:c.colorPrimary,rx:o/2,ry:o/2,filter:`url(#${v})`,"data-element-type":"shape"}),u(kt,{x:f,y:p,width:r,height:o,fill:`url(#${b})`,opacity:c.isDarkMode?.4:.7,rx:o/2,ry:o/2}),u(Dt,{indexes:n,x:f,y:p,width:r,height:o,alignHorizontal:"center",alignVertical:"middle",fontSize:14,fontWeight:"500",fill:c.colorText,children:e.label}),e.desc&&u(re,{indexes:n,x:y,y:m,width:g,alignHorizontal:a==="center"?"center":a==="flipped"?"right":"left",fontSize:12,fill:c.colorTextSecondary,lineNumber:2,wordWrap:!0,children:e.desc})]}))};ee("pill-badge",{component:Ww,composites:["label","desc"]});const Gw=t=>{var e;const[{indexes:n,datum:i,width:r=120,themeColors:o,positionH:s="normal",positionV:a="center",formatter:c=m=>m||"",usePaletteColor:d=!1,lineNumber:l=1},h]=te(t,["width","formatter","usePaletteColor","lineNumber"]),f=14,p=1.4,y=(e=h.height)!==null&&e!==void 0?e:Math.ceil(l*p*f);return u(Dt,Object.assign({},h,{indexes:n,width:r,height:y,lineHeight:p,fill:d?o.colorPrimary:o.colorText,fontSize:f,fontWeight:"regular",alignHorizontal:s==="flipped"?"right":s==="center"?"center":"left",alignVertical:a==="flipped"?"bottom":a==="center"?"middle":"top",children:c(i.label||i.desc)}))};ee("plain-text",{component:Gw,composites:["label"]});const Yw=t=>{const[{datum:e,data:n,indexes:i,width:r=280,height:o=120,iconSize:s=32,gap:a=12,progressHeight:c=8,borderRadius:d=12,positionH:l="normal",themeColors:h,valueFormatter:f=B=>`${B}%`},p]=te(t,["width","height","iconSize","gap","progressHeight","borderRadius"]),y=e.value,m=y??0,g=Math.max(...n.items.map(B=>{var L;return(L=B.value)!==null&&L!==void 0?L:0}),100),v=r-2*a,x=_r().domain([0,g]).range([0,v])(m),w=`${h.colorPrimary}-progress`,_=`${h.colorPrimaryBg}-progress-bg`,C=lt(u(Dt,{indexes:i})),E=a,S=l==="flipped"?r-a-s:a,O=E,I=l==="flipped"?a:s+2*a,T=r-s-3*a,R=O,A=o-a-c,q=y!==void 0;return M(W,Object.assign({},p,{children:[M(Gt,{children:[M("linearGradient",{id:w,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[u("stop",{offset:"0%",stopColor:h.colorPrimary}),u("stop",{offset:"100%",stopColor:ce.mix(h.colorPrimary,"#fff",20).toHexString()})]}),M("linearGradient",{id:_,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[u("stop",{offset:"0%",stopColor:h.colorPrimaryBg}),u("stop",{offset:"100%",stopColor:h.colorBg})]})]}),u(kt,{x:0,y:0,width:r,height:o,fill:h.colorBgElevated,stroke:h.colorPrimaryBg,strokeWidth:1,rx:d,ry:d,"data-element-type":"shape"}),u(Oe,{indexes:i,x:S,y:O,size:s,fill:h.colorPrimary}),u(Dt,{indexes:i,x:I,y:R,width:T,alignHorizontal:l==="flipped"?"right":"left",alignVertical:"top",fontSize:16,fontWeight:"medium",fill:h.colorText,children:e.label}),q&&u(Rr,{indexes:i,x:I,y:R+C.height,width:T,alignHorizontal:l==="flipped"?"right":"left",alignVertical:"top",lineHeight:1,fontSize:24,fontWeight:"bold",fill:h.colorPrimary,value:m,formatter:f}),u(re,{indexes:i,x:I,y:R+C.height+(q?27:4),width:T,alignHorizontal:l==="flipped"?"right":"left",alignVertical:"top",fontSize:11,fill:h.colorTextSecondary,lineNumber:q?2:3,wordWrap:!0,children:e.desc}),u(kt,{x:a,y:A,width:v,height:c,fill:`url(#${_})`,rx:c/2,ry:c/2,"data-element-type":"shape"}),u(kt,{x:a,y:A,width:x,height:c,fill:`url(#${w})`,rx:c/2,ry:c/2,"data-element-type":"shape"})]}))};ee("progress-card",{component:Yw,composites:["icon","label","value","desc"]});const Vw=t=>{const[{datum:e,indexes:n,width:i=280,height:r=120,iconSize:o=30,circleRadius:s=80,positionH:a="normal",positionV:c="normal",themeColors:d},l]=te(t,["width","height","iconSize","circleRadius"]),h=4*s/(3*Math.PI),f=2,p=4,y=28,m=20,g=m+20,v=m,b=8,x=35,w=40,_=30,C=String(n[0]+1).padStart(2,"0"),E=a==="flipped",S=c==="flipped",O=()=>E?{diagonalStartX:i-p,diagonalStartY:S?r-x:x,diagonalEndX:i-w,diagonalEndY:S?r-p:p,topLineStartX:i-w,topLineEndX:h,topLineY:S?r-p:p}:{diagonalStartX:p,diagonalStartY:S?r-x:x,diagonalEndX:w,diagonalEndY:S?r-p:p,topLineStartX:w,topLineEndX:i-h,topLineY:S?r-p:p},I=()=>{if(E){const D=s+10,j=i-D-w;return{valueX:i-_,contentX:D,contentWidth:j,circleX:0,circleY:S?0:r,iconX:h-o/2}}else return{valueX:0,contentX:w,contentWidth:i-w-s-10,circleX:i,circleY:S?0:r,iconX:i-h-o/2}},T=O(),R=I(),A=S?h-o/2:r-h-o/2,q=lt(u(Dt,{indexes:n,width:R.contentWidth,children:e.label})),B=v+q.height+b,L=()=>{const{circleX:D,circleY:j}=R;return E?S?`M ${D} ${j} L ${D} ${j+s} A ${s} ${s} 0 0 0 ${D+s} ${j} Z`:`M ${D} ${j} L ${D} ${j-s} A ${s} ${s} 0 0 1 ${D+s} ${j} Z`:S?`M ${D} ${j} L ${D} ${j+s} A ${s} ${s} 0 0 1 ${D-s} ${j} Z`:`M ${D} ${j} L ${D} ${j-s} A ${s} ${s} 0 0 0 ${D-s} ${j} Z`};return M(W,Object.assign({},l,{width:i,height:r,children:[M(pe,{children:[u(xt,{d:`M ${T.diagonalStartX} ${T.diagonalStartY} L ${T.diagonalEndX} ${T.diagonalEndY}`,stroke:d.colorPrimary,strokeWidth:f,fill:"none"}),u(xt,{d:`M ${T.topLineStartX} ${T.topLineY} L ${T.topLineEndX} ${T.topLineY}`,stroke:d.colorPrimary,strokeWidth:f,fill:"none"}),u(Ut,{x:T.diagonalStartX-p,y:T.diagonalStartY-p,width:p*2,height:p*2,fill:d.colorPrimary}),u(Ut,{x:T.topLineEndX-p,y:T.topLineY-p,width:p*2,height:p*2,fill:d.colorPrimary})]}),M(W,{children:[u(Pt,{x:R.valueX,y:g,fontSize:y,fontWeight:"bold",fill:d.colorPrimary,children:C}),u(xt,{d:L(),fill:d.colorPrimary,"data-element-type":"shape"}),e.icon&&u(Oe,{indexes:n,x:R.iconX,y:A,size:o,fill:d.colorWhite}),e.label&&u(Dt,{indexes:n,x:R.contentX,y:v,width:R.contentWidth,fontWeight:"bold",fill:d.colorText,alignHorizontal:E?"right":"left",children:e.label}),e.desc&&u(re,{indexes:n,x:R.contentX,y:B,width:R.contentWidth,fill:d.colorTextSecondary,alignHorizontal:E?"right":"left",children:e.desc})]})]}))};ee("quarter-circular",{component:Vw,composites:["icon","label","desc"]});const Xw=t=>{const[{datum:e,indexes:n,width:i=150,height:r=150,iconSize:o=30,padding:s=20,borderRadius:a=16,positionH:c="center",positionV:d="middle",themeColors:l},h]=te(t,["width","height","iconSize","padding","borderRadius"]),f=i-s*2,p=s,y=s,m=c==="flipped"?i-s-o:c==="center"?(i-o)/2:p,g=y,v=g+o+8,b=lt(u(Dt,{indexes:n,width:f,children:e.label})),x=c==="flipped"?i-s-f:c==="center"?s:p,w=v+b.height+4,_=x,C=a;let E="";return c==="center"&&d==="middle"?E=`
  M ${C} 0
  L ${i-C} 0
  Q ${i} 0 ${i} ${C}
  L ${i} ${r-C}
  Q ${i} ${r} ${i-C} ${r}
  L ${C} ${r}
  Q 0 ${r} 0 ${r-C}
  L 0 ${C}
  Q 0 0 ${C} 0
  Z
`:c==="flipped"&&d==="flipped"?E=`
  M ${C} 0
  L ${i-C} 0
  Q ${i} 0 ${i} ${C}
  L ${i} ${r-C}
  Q ${i} ${r} ${i-C} ${r}
  L ${C} ${r}
  Q 0 ${r} 0 ${r-C}
  L 0 0
  L ${C} 0
  Z
`:c==="normal"&&d==="flipped"?E=`
  M 0 0
  L ${i} 0
  L ${i} ${r-C}
  Q ${i} ${r} ${i-C} ${r}
  L ${C} ${r}
  Q 0 ${r} 0 ${r-C}
  L 0 ${C}
  Q 0 0 ${C} 0
  Z
`:c==="flipped"?E=`
  M ${C} 0
  L ${i-C} 0
  Q ${i} 0 ${i} ${C}
  L ${i} ${r-C}
  Q ${i} ${r} ${i-C} ${r}
  L 0 ${r}
  L 0 ${C}
  Q 0 0 ${C} 0
  Z
`:E=`
  M ${C} 0
  L ${i-C} 0
  Q ${i} 0 ${i} ${C}
  L ${i} ${r}
  L ${C} ${r}
  Q 0 ${r} 0 ${r-C}
  L 0 ${C}
  Q 0 0 ${C} 0
  Z
`,M(W,Object.assign({},h,{children:[u(xt,{d:E,x:0,y:0,width:i,height:r,fill:l.colorPrimary,"data-element-type":"shape"}),u(Oe,{indexes:n,x:m,y:g,size:o,fill:l.colorBg}),u(Dt,{indexes:n,x,y:v,width:f,fontSize:14,fontWeight:"bold",fill:l.colorBg,alignHorizontal:c==="flipped"?"right":"left",children:e.label}),e.desc&&u(re,{indexes:n,x:_,y:w,width:f,fontSize:11,wordWrap:!0,fill:l.colorBg,alignHorizontal:c==="flipped"?"right":"left",children:e.desc})]}))};ee("quarter-simple-card",{component:Xw,composites:["icon","label","desc"]});const Uw=t=>{const[{datum:e,indexes:n,width:i=240,height:r=140,iconSize:o=28,gap:s=12,ribbonHeight:a=32,themeColors:c},d]=te(t,["width","height","iconSize","gap","ribbonHeight"]),l=`${c.colorPrimary}-ribbon`;return M(W,Object.assign({},d,{children:[u(Gt,{children:M("linearGradient",{id:l,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[u("stop",{offset:"0%",stopColor:c.colorPrimary}),u("stop",{offset:"100%",stopColor:ce(c.colorPrimary).darken(15).toHexString()})]})}),M(pe,{children:[u(kt,{x:0,y:0,width:i,height:r,fill:c.colorBgElevated,stroke:c.colorPrimaryBg,strokeWidth:1,rx:8,ry:8}),u(kt,{x:0,y:0,width:i,height:a,fill:`url(#${l})`,rx:8,ry:8}),u(kt,{x:0,y:8,width:i,height:a-8,fill:`url(#${l})`}),u(xt,{x:i-20,y:a,width:20,height:8,fill:ce(c.colorPrimary).darken(25).toHexString(),d:"M0,0 L20,0 L15,8 L5,8 Z"})]}),u(Oe,{indexes:n,x:s,y:a+s,size:o,fill:c.colorPrimary}),u(Dt,{indexes:n,x:o+2*s,y:a+s,width:i-o-3*s,height:o,alignHorizontal:"left",alignVertical:"middle",lineHeight:1,fontWeight:"bold",fill:c.colorText,children:e.label}),u(re,{indexes:n,x:s,y:a+o+s+5,width:i-2*s,alignHorizontal:"left",fill:c.colorTextSecondary,lineNumber:3,wordWrap:!0,children:e.desc}),u(Oe,{indexes:n,x:i-s-8,y:s/2,size:16,fill:c.colorWhite})]}))};ee("ribbon-card",{component:Uw,composites:["icon","label","desc"]});const Kw=t=>{const[{indexes:e,datum:n,themeColors:i,width:r=300,height:o=40,padding:s=4,positionH:a="normal"},c]=te(t,["width","height","borderRadius","padding"]),d=o/2,l=d,h=s,f=r-d*2,p=o-s*2;return M(W,Object.assign({},c,{children:[u(kt,{"data-element-type":"shape",width:r,height:o,rx:d,ry:d,fill:i.colorPrimaryBg,stroke:i.colorPrimary,strokeWidth:1,opacity:.8}),u(Dt,{indexes:e,x:l,y:h,width:f,height:p,alignHorizontal:a==="flipped"?"right":a==="center"?"center":"left",alignVertical:"middle",fontSize:14,fontWeight:"500",fill:i.colorText,children:n.label})]}))};ee("rounded-rect-node",{component:Kw,composites:["label"]});const Zw=t=>{const[{width:e=24,height:n=e,strokeWidth:i=2,themeColors:r,datum:o},s]=te(t,["width","height"]),a=Math.min(e,n)-i,c=i/2;return M(W,Object.assign({},s,{width:e,height:n,children:[u(kt,{width:e,height:n,fill:"none",visibility:"hidden"}),u(Ut,{x:c,y:c,width:a,height:a,fill:r.colorPrimary,stroke:r.isDarkMode?"#FFF":"#000",strokeWidth:i,"data-element-type":"shape",children:u("title",{children:o.label||o.desc})})]}))};ee("simple-circle-node",{component:Zw,composites:[]});const Qw=t=>{const[{indexes:e,datum:n,width:i=140,themeColors:r,positionV:o="normal"},s]=te(t,["width"]),a=o!=="flipped",c=a?"bottom":"top",d=u(Dt,{indexes:e,width:i,fill:r.colorText,alignHorizontal:"center",alignVertical:c,fontSize:14,children:n.label}),l=u(re,{indexes:e,width:i,fill:r.colorTextSecondary,alignHorizontal:"center",alignVertical:c,children:n.desc}),h=30,f=10,p=lt(d),y=lt(l),m=p.height+y.height,g=m+f+h+f+m;return u(W,Object.assign({width:i,height:g},s,{children:M(yt,{flexDirection:"column",alignItems:"center",children:[a?M(Ft,{children:[l,d,u(ae,{height:f})]}):u(Ft,{children:u(ae,{height:m+f})}),M(Li,{horizontal:"center",vertical:"middle",children:[u(Jw,{width:i,height:h,fill:r.colorPrimary}),u(Pt,{width:i,height:h,alignHorizontal:"center",alignVertical:"middle",fill:r.colorWhite,fontWeight:"bold",fontSize:16,children:n.time?n.time:String(e[0]+1).padStart(2,"0").slice(-2)})]}),a?u(Ft,{children:u(ae,{height:m+f})}):M(Ft,{children:[u(ae,{height:f}),d,l]})]})}))},Jw=t=>{const{x:e=0,y:n=0,width:i=100,height:r=40,fill:o="#FF356A",size:s=10}=t;return u(ke,{width:i,height:r,points:[{x:e,y:n},{x:e+i-s,y:n},{x:e+i,y:n+r/2},{x:e+i-s,y:n+r},{x:e,y:n+r},{x:e+s,y:n+r/2}],fill:o,"data-element-type":"shape"})};ee("simple-horizontal-arrow",{component:Qw,composites:["label","desc","time"]});const t4=t=>{const[{indexes:e,datum:n,width:i=180,illusSize:r=i,gap:o=8,themeColors:s,usePaletteColor:a=!1},c]=te(t,["width","illusSize","gap","usePaletteColor"]),{label:d,desc:l}=n,h=a?s.colorPrimary:s.colorText,f=u(Dt,{indexes:e,width:i,alignHorizontal:"center",alignVertical:"middle",fill:h,children:d}),p=lt(f);return M(yt,Object.assign({},c,{width:i,height:r+o+p.height+o+48,flexDirection:"column",alignItems:"center",justifyContent:"center",gap:o,children:[u(lw,{indexes:e,width:r,height:r}),f,u(re,{indexes:e,width:i,alignHorizontal:"center",alignVertical:"top",fill:s.colorTextSecondary,lineNumber:3,children:l})]}))};ee("simple-illus",{component:t4,composites:["illus","label","desc"]});const e4=t=>{const[{indexes:e,datum:n,width:i=200,height:r,gap:o=4,showIcon:s=!0,iconSize:a=30,iconType:c="default",positionH:d="normal",positionV:l="normal",usePaletteColor:h=!1,themeColors:f},p]=te(t,["width","height","gap","showIcon","iconSize","iconType","usePaletteColor"]),{label:y,desc:m,icon:g}=n,b=(L=>L==="normal"?"left":L==="flipped"?"right":"center")(d),x=h?f.colorPrimary:f.colorText,w=14,_=1.4,C=u(Dt,{indexes:e,width:i,alignHorizontal:"center",alignVertical:"middle",fill:x,children:y}),E=lt(C),S=s?c==="circle"?u(Qn,{indexes:e,size:a,fill:f.colorPrimary,colorBg:f.colorBg}):u(Oe,{indexes:e,size:a,fill:f.colorTextSecondary}):null;if(!s||!g){const L=r?Math.max(0,r-E.height-o):void 0,D=L?L<=60?1:Math.floor(L/(_*w)):2,j=r?l==="middle"?(r-E.height-(L||0)-o)/2:l==="flipped"?r-E.height-(L||0)-o:0:0;return M(W,Object.assign({},p,{children:[u(Dt,{indexes:e,width:i,y:j,alignHorizontal:b,alignVertical:"middle",fill:x,children:y}),u(re,{indexes:e,width:i,height:L,y:j+E.height+o,alignHorizontal:b,alignVertical:q(),lineNumber:D,fill:f.colorTextSecondary,children:m})]}))}if(d==="center"){const L=s&&g?a:0,D=r?Math.max(0,r-E.height-L-o*2):void 0,j=D?D<=60?1:Math.floor(D/(_*w)):2,G=E.height+(D||0)+o,N=r?l==="middle"?(r-G-L-o)/2:l==="flipped"?r-G-L-o:0:0;return u(yt,Object.assign({},p,{flexDirection:"column",gap:o,alignItems:"center",children:l==="flipped"?M(Ft,{children:[M(W,{children:[u(Dt,{indexes:e,width:i,y:N,alignHorizontal:"center",alignVertical:"middle",fill:x,children:y}),u(re,{indexes:e,width:i,height:D,y:N+E.height+o,alignHorizontal:"center",alignVertical:"bottom",lineNumber:j,fill:f.colorTextSecondary,children:m})]}),S]}):M(Ft,{children:[S,M(W,{children:[u(Dt,{indexes:e,width:i,y:N,alignHorizontal:"center",alignVertical:"middle",fill:x,children:y}),u(re,{indexes:e,width:i,height:D,y:N+E.height+o,alignHorizontal:"center",alignVertical:"top",lineNumber:j,fill:f.colorTextSecondary,children:m})]})]})}))}const O=lt(S),I=Math.max(i-O.width-o,0),T=r?Math.max(0,r-E.height-o):void 0,R=T?T<=60?1:Math.floor(T/(_*w)):2,A=r?l==="middle"?(r-E.height-(T||0)-o)/2:l==="flipped"?r-E.height-(T||0)-o:0:0;return u(yt,Object.assign({},p,{flexDirection:"row",gap:o,alignItems:B(l),children:d==="flipped"?M(Ft,{children:[M(W,{children:[u(Dt,{indexes:e,width:I,y:A,alignHorizontal:"right",alignVertical:"middle",fill:x,children:y}),u(re,{indexes:e,width:I,height:T,y:A+E.height+o,alignHorizontal:"right",alignVertical:q(),lineNumber:R,fill:f.colorTextSecondary,children:m})]}),S]}):M(Ft,{children:[S,M(W,{children:[u(Dt,{indexes:e,width:I,y:A,alignHorizontal:"left",alignVertical:"middle",fill:x,children:y}),u(re,{indexes:e,width:I,height:T,y:A+E.height+o,alignHorizontal:"left",alignVertical:q(),lineNumber:R,fill:f.colorTextSecondary,children:m})]})]})}));function q(L,D){return"top"}function B(L){return L==="normal"?"flex-start":L==="flipped"?"flex-end":"center"}};ee("simple",{component:e4,composites:["icon","label","desc"]});const n4=t=>{const[{indexes:e,datum:n,height:i=140,themeColors:r,positionH:o="normal"},s]=te(t,["height"]),a=o==="normal"?"right":"left",c=u(Dt,{indexes:e,width:120,fill:r.colorText,alignHorizontal:a,alignVertical:"middle",fontSize:14,children:n.label}),d=u(re,{indexes:e,width:120,fill:r.colorTextSecondary,alignHorizontal:a,alignVertical:"top",children:n.desc}),l=o!=="flipped",h=15,f=30,p=120,y=p+h+f+h+p;return u(W,Object.assign({width:y,height:i},s,{children:M(yt,{flexDirection:"row",alignItems:"center",children:[l?M(Ft,{children:[M(yt,{flexDirection:"column",alignItems:"flex-end",children:[c,d]}),u(ae,{width:h})]}):u(Ft,{children:u(ae,{width:p+h})}),M(Li,{horizontal:"center",vertical:"middle",children:[u(i4,{width:f,height:i,fill:r.colorPrimary}),u(Pt,{width:f,height:i,alignHorizontal:"center",alignVertical:"middle",fill:r.colorWhite,fontWeight:"bold",fontSize:16,children:String(e[0]+1).padStart(2,"0").slice(-2)})]}),l?u(Ft,{children:u(ae,{width:p+h})}):M(Ft,{children:[u(ae,{width:h}),M(yt,{flexDirection:"column",alignItems:"flex-start",children:[c,d]})]})]})}))},i4=t=>{const{x:e=0,y:n=0,width:i=30,height:r=100,fill:o="#FF356A",size:s=10}=t;return u(ke,{width:i,height:r,points:[{x:e,y:n},{x:e+i/2,y:n+s},{x:e+i,y:n},{x:e+i,y:n+r-s},{x:e+i/2,y:n+r},{x:e,y:n+r-s}],fill:o,"data-element-type":"shape"})};ee("simple-vertical-arrow",{component:n4,composites:["label","desc"]});const io=80,ro=3,r4=t=>{const[{datum:e,indexes:n,width:i=200,gap:r=4,positionH:o="center",themeColors:s},a]=te(t,["width","height","gap"]),c=lt(u(Dt,{indexes:n,fontSize:18,fontWeight:"bold",width:i,children:e.label})),d=e.desc?lt(u(re,{indexes:n,width:i,wordWrap:!0,children:e.desc})):{height:0},l=c.height+r+ro+(e.desc?r*2+d.height:0),h=0,f=0,p=o==="center"?"center":o==="flipped"?"right":"left",y=o==="center"?(i-io)/2:o==="flipped"?i-io:0,m=f+c.height+r,g=0,v=m+ro+r*2;return M(W,Object.assign({width:i,height:l},a,{children:[e.label&&u(Dt,{indexes:n,x:h,y:f,width:i,alignHorizontal:p,fill:s.colorPrimary,fontSize:18,fontWeight:"bold",children:e.label}),e.label&&u(kt,{x:y,y:m,width:io,height:ro,fill:s.colorPrimary,"data-element-type":"shape"}),e.desc&&u(re,{indexes:n,width:i,x:g,y:v,alignHorizontal:p,wordWrap:!0,fill:s.colorText,children:e.desc})]}))};ee("underline-text",{component:r4,composites:["label","desc"]});const o4=t=>{const[{indexes:e,datum:n,height:i=140,themeColors:r,positionH:o="normal"},s]=te(t,["height"]),c=o!=="flipped"?"right":"left",d=u(Dt,{indexes:e,width:120,fill:r.colorText,alignHorizontal:c,alignVertical:"middle",fontSize:14,children:n.label}),l=u(re,{indexes:e,width:120,fill:r.colorTextSecondary,alignHorizontal:c,alignVertical:"top",children:n.desc}),h=u(Qn,{indexes:e,fill:r.colorPrimary,colorBg:r.colorWhite}),f=u(a4,{width:30,height:8,fill:r.colorPrimary,positionH:o}),p=o!=="flipped",y=5,m=25,g=30,v=lt(d),b=lt(h),x=lt(f),w=v.width+y+x.width-b.width-m,_=Math.max(v.width+y+x.width,m+b.width)*2+g;return u(W,Object.assign({width:_,height:i},s,{children:M(yt,{flexDirection:"row",alignItems:"center",children:[p?M(Ft,{children:[M(yt,{flexDirection:"column",alignItems:"flex-end",children:[d,l]}),u(ae,{width:y}),f]}):M(Ft,{children:[u(ae,{width:w}),h,u(ae,{width:m})]}),M(Li,{horizontal:"center",vertical:"middle",children:[u(s4,{width:g,height:i,fill:r.colorPrimary}),u(Pt,{width:g,height:i,alignHorizontal:"center",alignVertical:"middle",fill:r.colorWhite,fontWeight:"bold",fontSize:16,children:String(e[0]+1).padStart(2,"0").slice(-2)})]}),p?M(Ft,{children:[u(ae,{width:m}),h]}):M(Ft,{children:[f,u(ae,{width:y}),M(yt,{flexDirection:"column",alignItems:"flex-start",children:[d,l]})]})]})}))},s4=t=>{const{x:e=0,y:n=0,width:i=30,height:r=100,fill:o="#FF356A",size:s=10}=t;return u(ke,{width:i,height:r,points:[{x:e,y:n},{x:e+i/2,y:n+s},{x:e+i,y:n},{x:e+i,y:n+r-s},{x:e+i/2,y:n+r},{x:e,y:n+r-s}],fill:o,"data-element-type":"shape"})},a4=t=>{const{x:e=0,y:n=0,width:i=50,height:r=10,fill:o,positionH:s="normal"}=t,a=r/2,c=i-a,d=2,l=a;return M(W,{x:e,y:n,width:i,height:r,children:[u(Ut,{width:r,height:r,fill:o,x:s==="normal"?0:c-a,"data-element-type":"shape"}),u(xt,{d:s==="normal"?`M${a},${l} L${a+c},${l}`:`M0,${l} L${c-a},${l}`,strokeWidth:d,stroke:o,"data-element-type":"shape"})]})};ee("vertical-icon-arrow",{component:o4,composites:["icon","label","desc"]});const Eh=new Map;function jt(t,e){Eh.set(t,e)}function c4(t){return Eh.get(t)}function AO(){return Array.from(Eh.keys())}const l4=t=>{var e,n,i;const{Title:r,Item:o,data:s,width:a,gap:c,barGap:d,barHeight:l=28,barAreaWidth:h,labelGap:f=16,padding:p=24,showValue:y=!0,options:m,valueFormatter:g=Mt=>Mt.toString()}=t,v=(e=h??a)!==null&&e!==void 0?e:480,{title:b,desc:x,items:w=[],xTitle:_,yTitle:C}=s,E=r?u(r,{title:b,desc:x}):null;if(w.length===0)return u(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:E});const[S,O,I,T]=Tn(p),R=(n=w[0])!==null&&n!==void 0?n:{label:"",value:0},A=lt(u(o,{indexes:[0],datum:R,data:s})),q=A.width||140,B=A.height||l,L=Math.max(l,B),D=Math.max(12,L*.35),j=(i=d??c)!==null&&i!==void 0?i:D,G=w.map(Mt=>{var Tt;return(Tt=Mt.value)!==null&&Tt!==void 0?Tt:0}),N=Math.max(...G,0),Y=Math.min(...G,0),V=Y<0?Y*1.1:0;let z=N>0?N*1.1:0;z===V&&(z=V+1);const k=_r().domain([V,z]).range([0,v]),$=Math.min(Math.max(k(0),0),v),P=Math.max(2,v*.02),H=w.length*(L+j)-j,F=C?24:0,X=20,K=_?24:0,it=S+F,Z=T+q+f,rt=y?80:0,U=Math.max(8,L*.2),Q=Z+v+rt+O,at=it+H+U+X+K+I,tt=ye(m.themeConfig),J=tt.colorText||"#666",nt=fe(m),ot=[],ct=[],pt=[],ut=[],ft=[],dt=[],vt=[],_t=it+H+U,Ot=Mt=>Number.isInteger(Mt)?Mt.toString():Mt.toFixed(1);w.forEach((Mt,Tt)=>{var gt;const mt=[Tt],St=(gt=Mt.value)!==null&&gt!==void 0?gt:0,Et=it+Tt*(L+j),st=Et+(L-l)/2,ht=St>=0?Z+$:Z+k(St),wt=St>=0?k(St)-$:$-k(St),Bt=wt===0?P:wt,Yt=Lt(m,[Tt])||tt.colorPrimary;if(ot.push(u(kt,{x:ht,y:st,width:Bt,height:l,fill:Yt,rx:6,ry:6,"data-element-type":"shape"})),y){const Ct=St>=0?ht+Bt+8:ht-8;ct.push(u(Pt,{x:Ct,y:st+l/2,alignHorizontal:St>=0?"left":"right",alignVertical:"middle",fontSize:14,fontWeight:"bold",fill:Yt,children:g(St,Mt)}))}pt.push(u(o,{indexes:mt,datum:Mt,data:s,x:T,y:Et+(L-B)/2,width:q,height:B,positionV:"middle"}))});const bt=Math.max(3,Math.min(7,Math.floor(v/80)));return k.ticks(bt).forEach(Mt=>{const Tt=Z+k(Mt);dt.push(u(xt,{d:`M${Tt} ${it} L${Tt} ${it+H}`,stroke:J,strokeOpacity:.08,"data-element-type":"shape"})),ft.push(u(xt,{d:`M${Tt-.5} ${_t} L${Tt-.5} ${_t+6}`,stroke:J,"data-element-type":"shape"})),ft.push(u(Pt,{x:Tt,y:_t+14,alignHorizontal:"center",alignVertical:"middle",fontSize:12,fill:J,children:Ot(Mt)}))}),ut.push(u(xt,{d:`M${Z} ${_t} L${Z+v} ${_t}`,stroke:J,"data-element-type":"shape"})),V<0&&ut.push(u(kt,{x:Z+$-.5,y:it,width:1,height:H,fill:nt,"data-element-type":"shape"})),C&&vt.push(u(Pt,{x:T+q/2,y:S+F/2,alignHorizontal:"center",alignVertical:"middle",fontSize:14,fontWeight:"bold",fill:J,children:C})),_&&vt.push(u(Pt,{x:Z+v/2,y:_t+X+K/2,alignHorizontal:"center",alignVertical:"middle",fontSize:14,fontWeight:"bold",fill:J,children:_})),M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[E,M(W,{width:Q,height:at,children:[u(W,{children:dt}),u(W,{children:ot}),u(W,{children:ct}),u(W,{children:vt}),u(W,{children:[...ut,...ft]}),u($t,{children:pt})]})]})};jt("chart-bar",{component:l4,composites:["title","item","xTitle","yTitle"]});const d4=t=>{const{Title:e,Item:n,data:i,columnGap:r=60,columnWidth:o=50,padding:s=20,showValue:a=!0,options:c,valueFormatter:d=G=>G.toString()}=t,{title:l,desc:h,items:f=[]}=i,p=e?u(e,{title:l,desc:h}):null;if(f.length===0)return u(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:p});const y=ye(c.themeConfig),g=[...f.map(G=>{var N;return(N=G.value)!==null&&N!==void 0?N:0}),0].sort((G,N)=>G-N),v=g[0]<0,b=f.length*o+(f.length-1)*r,x=300,[w,_,C,E]=Tn(s),S=a?24:0,O=10,I=v&&a?S+O:O,T=b+E+_,R=x+w+C+I,A=_r().domain([g[0],g[g.length-1]]).range([x,0]),q=A(0),B=[],L=[],D=[],j=[];return f.forEach((G,N)=>{var Y;const V=[N],z=(Y=G.value)!==null&&Y!==void 0?Y:0,k=E+N*(o+r),$=z>=0?A(z):q,P=Math.abs(A(z)-q),H=Lt(c,[N])||y.colorPrimary,F=`${H}-column-positive-${N}`,X=`${H}-column-negative-${N}`;j.push(M("linearGradient",{id:z>=0?F:X,x1:"0%",y1:z>=0?"0%":"100%",x2:"0%",y2:z>=0?"100%":"0%",children:[u("stop",{offset:"0%",stopColor:H}),u("stop",{offset:"100%",stopColor:ce.mix(H,"#fff",40).toHexString()})]})),B.push(u(kt,{x:k,y:w+$,width:o,height:P,fill:`url(#${z>=0?F:X})`,rx:8,ry:8,"data-element-type":"shape"})),a&&L.push(u(Pt,{x:k+o/2,y:z>=0?w+$-10:w+$+P+20,fontSize:16,fontWeight:"bold",alignHorizontal:"center",alignVertical:z>=0?"bottom":"top",fill:H,children:d(z,G)}));const K=o+r,it=w+x+I;D.push(u(n,{indexes:V,datum:G,data:i,x:k+o/2-K/2,y:it,width:K,positionH:"center"}))}),M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[p,M(W,{width:T,height:R,children:[u(Gt,{children:j}),u(W,{children:B}),u(W,{children:L}),u($t,{children:D})]})]})};jt("chart-column",{component:d4,composites:["title","item"]});const h4=t=>{const{Title:e,Item:n,data:i,width:r,height:o=260,gap:s=10,padding:a=24,showValue:c=!0,options:d,valueFormatter:l=st=>st.toString()}=t,{title:h,desc:f,items:p=[],xTitle:y,yTitle:m}=i,g=e?u(e,{title:h,desc:f}):null;if(p.length===0)return u(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:g});const[v,b,x,w]=Tn(a),_={indexes:[0],datum:p[0],data:i,positionH:"center",positionV:"normal"},C=lt(u(n,Object.assign({},_))),E=C.width,S=C.height,O=Math.max(28,S+14),I=44,T=m?26:0,R=y?22:0,A=E+s,q=p.length>0?(p.length-1)*A+E:0,B=r!==void 0?r:Math.max(200,q||320),L=p.length>1?Math.max(A,(B-E)/(p.length-1)):0,D=p.length>0?Math.max(E,(p.length-1)*L+E):0,j=w+I+T,G=v+T,N=j+D+b,Y=G+o+O+R+x,V=p.map(st=>{var ht;return(ht=st.value)!==null&&ht!==void 0?ht:0}),z=Math.max(...V,0),k=Math.min(...V,0),$=Math.max(Math.abs(z),Math.abs(k))*.1,P=k<0?k-$:0;let H=z>0?z+$:1;H===P&&(H=P+1);const F=_r().domain([P,H]).nice().range([o,0]),X=Math.max(0,Math.min(o,F(0))),K=H<=0?0:P>=0?o:X,it=fe(d),Z=ye(d.themeConfig),rt=Z.colorText||"#666",U=[],Q=[],at=[],tt=[],J=[],nt=[],ot=[];F.ticks(6).forEach(st=>{const ht=G+F(st);U.push(u(xt,{d:`M ${j} ${ht} L ${j+D} ${ht}`,width:D,height:1,stroke:rt,strokeWidth:1,"data-element-type":"shape",opacity:.08})),ot.push(u(Pt,{x:j-8,y:ht,alignHorizontal:"right",alignVertical:"middle",fontSize:12,fill:rt,children:Number.isInteger(st)?st.toString():st.toFixed(1)}))});const pt=[],ut=[],ft=[],dt=st=>{if(st.length===0)return"";if(st.length===1){const wt=st[0];return`M ${wt.x} ${wt.y}`}const ht=[];ht.push(`M ${st[0].x} ${st[0].y}`);for(let wt=0;wt<st.length-1;wt++){const Bt=st[wt-1]||st[wt],Yt=st[wt],Ct=st[wt+1],qt=st[wt+2]||Ct,Wt=Yt.x+(Ct.x-Bt.x)/6,Vt=Yt.y+(Ct.y-Bt.y)/6,zt=Ct.x-(qt.x-Yt.x)/6,ne=Ct.y-(qt.y-Yt.y)/6;ht.push(`C ${Wt} ${Vt} ${zt} ${ne} ${Ct.x} ${Ct.y}`)}return ht.join(" ")};p.forEach((st,ht)=>{var wt;const Bt=j+ht*L+E/2,Yt=G+F((wt=st.value)!==null&&wt!==void 0?wt:0);ut.push({x:Bt,y:Yt,datum:st}),pt.push(u(n,Object.assign({},_,{indexes:[ht],datum:st,x:Bt-E/2,y:G+o+4})));const Ct=Lt(d,[ht])||Z.colorPrimary;ft.push({x:Bt,color:Ct})});const vt=ft.length>0?Math.min(...ft.map(st=>st.x)):j,_t=ft.length>0?Math.max(...ft.map(st=>st.x)):j+D,Ot=Math.max(1,_t-vt),bt=ft.map(st=>u("stop",{offset:`${(st.x-vt)/Ot*100}%`,stopColor:st.color})),At=ft.map(st=>u("stop",{offset:`${(st.x-vt)/Ot*100}%`,stopColor:st.color,stopOpacity:"0.18"}));if(ft.length>0){const st=ft[ft.length-1].color;bt.push(u("stop",{offset:"100%",stopColor:st})),At.push(u("stop",{offset:"100%",stopColor:st,stopOpacity:"0.04"}))}const Mt=`chart-line-${Py([D,o,rt,it,ft.map(st=>`${st.x.toFixed(2)}-${st.color}`).join()].join(":"))}`,Tt=`${Mt}-stroke`,gt=`${Mt}-area`,mt=dt(ut);at.push(u(xt,{d:mt,width:D,height:o,stroke:`url(#${Tt})`,strokeWidth:3,fill:"none","data-element-type":"shape"}));const St=mt.includes("C")?mt.slice(mt.indexOf("C")):"",Et=[`M ${ut[0].x} ${G+K}`,`L ${ut[0].x} ${ut[0].y}`,St,`L ${ut[ut.length-1].x} ${G+K}`,"Z"].join(" ");return at.push(u(xt,{d:Et,width:D,height:o,fill:`url(#${gt})`,stroke:"none","data-element-type":"shape"})),ut.forEach((st,ht)=>{var wt;const Bt=Lt(d,[ht])||Z.colorPrimary;tt.push(u(Ut,{x:st.x-6,y:st.y-6,width:12,height:12,fill:Bt,"data-element-type":"shape"})),c&&J.push(u(Pt,{x:st.x,y:st.y-12,alignHorizontal:"center",alignVertical:"bottom",fontSize:12,fontWeight:"bold",fill:Bt,children:l((wt=st.datum.value)!==null&&wt!==void 0?wt:0,st.datum)}))}),Q.push(u(xt,{d:`M ${j} ${G+K} L ${j+D} ${G+K}`,width:D,height:1,stroke:rt,strokeWidth:1,"data-element-type":"shape"})),Q.push(u(xt,{d:`M ${j} ${G} L ${j} ${G+o}`,width:1,height:o,stroke:rt,strokeWidth:1,"data-element-type":"shape"})),y&&nt.push(u(Pt,{x:j+D/2,y:G+o+O+R/2,alignHorizontal:"center",alignVertical:"middle",fontSize:14,fontWeight:"bold",fill:rt,children:y})),m&&nt.push(u(Pt,{x:w+T/2,y:G+o/2,alignHorizontal:"center",alignVertical:"middle",fontSize:14,fontWeight:"bold",fill:rt,children:m})),M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[g,M(W,{width:N,height:Y,children:[M(Gt,{children:[u("linearGradient",{id:Tt,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:bt}),M("linearGradient",{id:gt,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[At,u("stop",{offset:"100%",stopColor:it,stopOpacity:"0.04"})]})]}),u(W,{children:U}),u(W,{children:[...Q,...ot]}),u(W,{children:at}),u(W,{children:tt}),u(W,{children:J}),u(W,{children:nt}),u($t,{children:pt})]})]})};jt("chart-line",{component:h4,composites:["title","item","xTitle","yTitle"]});const Yi=1.35,oo=8,u4=.3,f4=.2,p4=20,Ou=1.15,g4=.5,Iu=.85,m4=1,y4=.45,v4=2,b4=t=>{var e;const{Title:n,Item:i,data:r,radius:o=140,innerRadius:s=0,padding:a=30,showPercentage:c=!0,avoidLabelOverlap:d=!1,minShowLabelPercent:l=0,options:h}=t,f=Ew(l),{title:p,desc:y,items:m=[]}=r,g=n?u(n,{title:p,desc:y}):null,v=lt(u(et,{indexes:[0]})),b=(e=m[0])!==null&&e!==void 0?e:{label:"",value:0},x=lt(u(i,{indexes:[0],datum:b,data:r,positionH:"center",positionV:"middle"})),w=x.width||140,_=x.height||32,C=Math.max(o,60),E=C*Yi+oo+w,S=C,O=a+E,I=a+S,T=O*2,R=I*2;if(m.length===0)return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[g,u(W,{width:T,height:R,children:u(Ht,{children:u(et,{indexes:[0],x:O-v.width/2,y:I-v.height/2})})})]});const A=m.reduce((it,Z)=>{var rt;return it+Math.max((rt=Z.value)!==null&&rt!==void 0?rt:0,0)},0),q=fe(h),B=ye(h.themeConfig),D=ab().value(it=>{var Z;return Math.max((Z=it.value)!==null&&Z!==void 0?Z:0,0)}).sort(null).startAngle(0).endAngle(Math.PI*2)(m),j=si().innerRadius(s).outerRadius(C).cornerRadius(2),G=si().innerRadius(C).outerRadius(C),N=si().innerRadius(C*Ou).outerRadius(C*Ou),Y=s+(C-s)*g4,V=si().innerRadius(Y).outerRadius(Y),z=si().innerRadius(C*Iu).outerRadius(C*Iu),k=[],$=[],P=[],H=[],F=[],X=[];D.forEach(it=>{const Z=it.index,rt=Lt(h,[Z])||B.colorPrimary||q,U=j(it)||"";k.push(u(xt,{d:U,fill:rt,stroke:B.colorBg,strokeWidth:1,"data-element-type":"shape",width:C*2,height:C*2}));const Q=it.startAngle+(it.endAngle-it.startAngle)/2,tt=(Q<0?Q+Math.PI*2:Q)<Math.PI;if((A>0?it.value/A*100:0)<f)return;const nt=N.centroid(it);X.push({arcDatum:it,originalIndex:Z,x:nt[0],y:nt[1],height:_,isRight:tt,color:rt})});let K=X;if(d){const it=-S*Yi,Z=S*Yi,rt=X.filter(J=>!J.isRight),U=X.filter(J=>J.isRight),Q=_,at=Au(U,Q,it,Z);K=[...Au(rt,Q,it,Z),...at]}return K.forEach(it=>{const{arcDatum:Z,originalIndex:rt,isRight:U,color:Q,y:at}=it,tt=G.centroid(Z),J=N.centroid(Z),nt=at,ct=Math.abs(nt-J[1])*u4,pt=C*Yi,ut=pt+ct,ft=C*f4,dt=pt+ft+p4,_t=Math.min(ut,dt)*(U?1:-1),Ot=dt*(U?1:-1),bt=[_t,nt],At=[Ot,nt];P.push(u(xt,{d:`M${O+tt[0]} ${I+tt[1]} 
        L${O+J[0]} ${I+J[1]} 
        L${O+bt[0]} ${I+bt[1]}
        L${O+At[0]} ${I+At[1]}
        `,stroke:Q,strokeOpacity:y4,strokeWidth:v4,fill:"none","data-element-type":"shape"}));const Mt=O+At[0]+(U?oo:-oo-w),Tt=I+at-_/2;if(H.push(u(i,{indexes:[rt],datum:Z.data,data:r,x:Mt,y:Tt,width:w,height:_,positionH:U?"normal":"flipped",positionV:"middle",themeColors:ye({colorPrimary:Q},h)})),c&&A>0){const mt=V.centroid(Z),St=Math.max(Z.value,0),Et=(St*100/A).toFixed(1),st=50,ht=20;$.push(u(Pt,{x:O+mt[0]-st/2,y:I+mt[1]-ht/2,width:st,height:ht,alignHorizontal:"center",alignVertical:"middle",fontSize:12,fontWeight:"bold",fill:"#ffffff","data-value":St,"data-indexes":[rt],"data-element-type":"item-value",children:`${Et}%`}))}const gt=z.centroid(Z);F.push(u(Zt,{indexes:[rt],x:O+gt[0]-v.width/2,y:I+gt[1]-v.height/2}))}),D.forEach((it,Z)=>{const rt=(Z+1)%D.length,U=it.endAngle,Q=D[rt].startAngle+(rt===0?Math.PI*2:0),at=(U+Q)/2,tt=C*m4,J=Math.sin(at)*tt,nt=-Math.cos(at)*tt;F.push(u(et,{indexes:[Z+1],x:O+J-v.width/2,y:I+nt-v.height/2}))}),M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:30,children:[g,M(W,{width:T,height:R,children:[u(W,{x:O,y:I,children:k}),u(W,{children:P}),u(W,{children:$}),u($t,{children:H}),u(Ht,{children:F})]})]})};jt("chart-pie",{component:b4,composites:["title","item"]});function Au(t,e,n,i){if(t.length<=1)return t.map(g=>Object.assign({},g));const r=t.map(g=>Object.assign({},g)).sort((g,v)=>g.y-v.y),o=r.some((g,v)=>{if(v===0)return!1;const b=r[v-1];return g.y-b.y<(b.height+g.height)/2}),s=r[0],a=r[r.length-1],c=s.y-s.height/2<n||a.y+a.height/2>i;if(!o&&!c)return r;const d=r.reduce((g,v)=>g+v.height,0),l=i-n,h=d+e*(r.length-1);let f=e;if(h>l){const g=l-d;f=Math.max(0,g/(r.length-1))}for(let g=1;g<r.length;g++){const v=r[g-1],b=r[g],x=v.y+(v.height+b.height)/2+f;b.y<x&&(b.y=x)}const p=r.length-1,y=r[p];if(y.y+y.height/2>i){y.y=i-y.height/2;for(let g=p-1;g>=0;g--){const v=r[g+1],b=r[g],x=v.y-(v.height+b.height)/2-f;b.y>x&&(b.y=x)}}const m=r[0];if(m.y-m.height/2<n){const g=n-(m.y-m.height/2);r.forEach(v=>v.y+=g)}return r}const x4=[0,30,-30,60,-60],w4=Math.PI*(3-Math.sqrt(5));function Tu(t,e,n){const i=Math.PI/180*n,r=Math.cos(i),o=Math.sin(i);return{width:Math.abs(t*r)+Math.abs(e*o),height:Math.abs(t*o)+Math.abs(e*r)}}function C4(t,e,n,i,r,o){const s=t-o,a=t+n+o,c=e-o,d=e+i+o;return r.some(l=>{const h=l.box.x-o,f=l.box.x+l.box.width+o,p=l.box.y-o,y=l.box.y+l.box.height+o;return!(a<=h||s>=f||d<=p||c>=y)})}function _4(t,e,n,i,r){const o=[],s=e?x4:[0],a=Math.max(1600,t.length*28);return t.forEach((c,d)=>{const l=Math.max(c.width,c.height),h=d*w4;let f=0,p=null;for(let y=0;y<a&&!p;y++){y===Math.floor(a*.6)&&(f=l);const m=h+y*i,g=r*Math.sqrt(y+1)+f+l*.25,v=g*Math.cos(m),b=g*Math.sin(m);for(const x of s){const w=Tu(c.width,c.height,x),_=v-w.width/2,C=b-w.height/2;if(!C4(_,C,w.width,w.height,o,n)){p=Object.assign(Object.assign({},c),{angle:x,centerX:v,centerY:b,box:{x:_,y:C,width:w.width,height:w.height}});break}}}if(!p){const y=s[d%s.length],m=r*Math.sqrt(a+1)+l,g=h,v=m*Math.cos(g),b=m*Math.sin(g),x=Tu(c.width,c.height,y);p=Object.assign(Object.assign({},c),{angle:y,centerX:v,centerY:b,box:{x:v-x.width/2,y:b-x.height/2,width:x.width,height:x.height}})}o.push(p)}),o}const E4=t=>{const{data:e,options:n,minFontSize:i=16,maxFontSize:r=48,enableRotate:o=!0,padding:s=6,spiralStep:a=.45,radiusStep:c=10}=t,{items:d=[]}=e,l=d.map((A,q)=>({datum:A,index:q})).filter(({datum:A})=>A.label);if(l.length===0)return u(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:u(W,{children:u($t,{})})});const h=l.map(({datum:A})=>A.value).filter(A=>typeof A=="number"),f=h.length>0,p=f?Math.min(...h):0,y=f?Math.max(...h):0,m=f&&p===y,g=(i+r)/2,v=A=>{if(!f||m)return g;if(A==null)return i;const q=(A-p)/(y-p||1);return i+q*(r-i)},b=l.map(({datum:A,index:q})=>{const B=v(A.value),L=lt(u(Pt,{fontSize:B,fontWeight:"bold",children:A.label})),D=Lt(n,[q])||fe(n);return{label:A.label,value:A.value,color:D,fontSize:B,width:L.width*1.05,height:L.height}}).sort((A,q)=>q.fontSize-A.fontSize),x=_4(b,o,s,a,c),w=Math.min(...x.map(A=>A.box.x)),_=Math.min(...x.map(A=>A.box.y)),C=Math.max(...x.map(A=>A.box.x+A.box.width)),E=Math.max(...x.map(A=>A.box.y+A.box.height)),S=-w+s,O=-_+s,I=C-w+s*2,T=E-_+s*2,R=x.map((A,q)=>{const B=A.centerX-A.width/2+S,L=A.centerY-A.height/2+O,D=A.width/2,j=A.height/2,G=`translate(${B}, ${L}) rotate(${A.angle}, ${D}, ${j})`;return u(W,{transform:G,children:u(Pt,{width:A.width,height:A.height,fontSize:A.fontSize,fontWeight:"bold",alignHorizontal:"center",alignVertical:"middle",fill:A.color,"data-indexes":q,"data-element-type":"item-label",children:A.label})})});return u($t,{id:"infographic-container",width:I,height:T,children:R})};jt("chart-wordcloud",{component:E4,composites:[]});const Zy=new Map,Sh=(t,e)=>{Zy.set(t,e)},S4=t=>{var e;return t&&(e=Zy.get(t))!==null&&e!==void 0?e:null},O4=t=>{const{x:e,y:n,colorPositive:i,colorNegative:r,colorBg:o}=t,s=200,a=141,c={width:90,height:40,fontSize:22,alignHorizontal:"center",alignVertical:"middle",fontWeight:"bold",fill:o};return M(W,{x:e,y:n,width:s,height:a,children:[M(pe,{children:[u("path",{d:"M137 54C137 54.2903 137 54.5806 136.706 54.7742L108.614 86.0323H64.7619C64.4071 86.0204 64.0557 86.1043 63.7453 86.2747C63.4349 86.4452 63.1773 86.6959 63 87C63.0037 86.7447 63.1092 86.5012 63.2936 86.3226L91.3862 55.0645H135.238C135.593 55.0763 135.944 54.9925 136.255 54.822C136.565 54.6516 136.823 54.4009 137 54.0968V54Z",fill:"#D9D9D9"}),u("path",{d:"M39.3272 0.484649C39.6146 0.234929 39.9662 0.0736935 40.3407 0.0198929C40.7152 -0.0339076 41.0971 0.0219605 41.4414 0.180925C41.7857 0.33989 42.0783 0.595358 42.2846 0.917314C42.491 1.23927 42.6026 1.61434 42.6063 1.99848V14.8156H136.013C136.54 14.8156 137.045 15.0282 137.418 15.4068C137.791 15.7853 138 16.2987 138 16.834V53.166C138 53.7013 137.791 54.2147 137.418 54.5932C137.045 54.9718 136.54 55.1844 136.013 55.1844H42.6063V68.0015C42.6026 68.3857 42.491 68.7607 42.2846 69.0827C42.0783 69.4046 41.7857 69.6601 41.4414 69.8191C41.0971 69.9781 40.7152 70.0339 40.3407 69.9801C39.9662 69.9263 39.6146 69.7651 39.3272 69.5154L0.672847 36.5138C0.461378 36.3244 0.292014 36.0915 0.176005 35.8305C0.0599968 35.5695 0 35.2864 0 35C0 34.7136 0.0599968 34.4306 0.176005 34.1696C0.292014 33.9085 0.461378 33.6756 0.672847 33.4862L39.4265 0.484649H39.3272Z",fill:i}),u("path",{d:"M157.394 73.0007C157.397 72.6162 157.509 72.2407 157.715 71.9183C157.922 71.596 158.214 71.3403 158.559 71.1811C158.903 71.022 159.285 70.9661 159.659 71.0199C160.034 71.0738 160.385 71.2352 160.673 71.4852L199.327 104.524C199.539 104.714 199.708 104.947 199.824 105.208C199.94 105.47 200 105.753 200 106.04C200 106.326 199.94 106.61 199.824 106.871C199.708 107.132 199.539 107.366 199.327 107.555L160.573 140.594C160.285 140.815 159.943 140.951 159.584 140.989C159.225 141.027 158.862 140.965 158.535 140.809C158.208 140.653 157.929 140.41 157.728 140.105C157.527 139.8 157.411 139.445 157.394 139.078V126.247H63.9874C63.4603 126.247 62.9548 126.034 62.5821 125.655C62.2094 125.276 62 124.762 62 124.226V87.8531C62 87.3172 62.2094 86.8032 62.5821 86.4242C62.9548 86.0453 63.4603 85.8324 63.9874 85.8324H157.394V73.0007Z",fill:r})]}),u(Pt,Object.assign({x:40,y:15},c,{children:"Pros"})),u(Pt,Object.assign({x:70,y:85},c,{children:"Cons"}))]})};Sh("pros-cons-arrow",O4);const I4=t=>{const{x:e,y:n,colorPositive:i,colorNegative:r,colorBg:o}=t,s=240,a=300,c={width:85,height:30,fontSize:20,alignHorizontal:"center",alignVertical:"middle",fontWeight:"bold",fill:o};return M(W,{x:e,y:n,width:s,height:a,children:[M(pe,{children:[u("path",{d:"M136.914 38.7755C137.303 38.7733 137.683 38.6617 138.011 38.4534C138.339 38.2451 138.602 37.9485 138.77 37.5977C138.937 37.247 139.002 36.8561 138.957 36.4701C138.913 36.084 138.76 35.7183 138.517 35.415L110.741 0.982313C110.548 0.735138 110.301 0.535238 110.018 0.397762C109.736 0.260286 109.426 0.188841 109.112 0.188841C108.798 0.188841 108.488 0.260286 108.206 0.397762C107.924 0.535238 107.676 0.735138 107.483 0.982313L79.7069 35.415C79.4639 35.7183 79.3113 36.084 79.2667 36.4701C79.222 36.8561 79.2871 37.247 79.4545 37.5977C79.6219 37.9485 79.8847 38.2451 80.213 38.4534C80.5412 38.6617 80.9216 38.7733 81.3104 38.7755H92.8965C93.0517 57.1293 97.5517 64.9878 105.259 73.7252C107.017 75.7932 108.983 77.8612 111.103 80.1361C113.276 82.4626 122.121 88.9252 131.069 95.181C129.362 88.7701 128.172 81.2218 127.293 73.7252C125.224 55.9918 125.017 38.7755 125.017 38.7755H136.914Z",fill:i,fillOpacity:.4}),u("path",{d:"M237.931 109.967C238.48 109.967 239.006 109.749 239.394 109.362C239.782 108.974 240 108.448 240 107.899V75.7932C240 75.2447 239.782 74.7187 239.394 74.3309C239.006 73.9431 238.48 73.7252 237.931 73.7252H127.241C128.172 81.2218 129.362 88.7701 131.069 95.181C138.182 100.171 145.337 105.1 152.534 109.967H237.931Z",fill:i}),u("path",{d:"M152.586 109.967C152.586 109.967 141.724 102.678 131.069 95.181C124.122 90.5838 117.455 85.5772 111.103 80.1878C109.034 77.8612 107.017 75.7415 105.259 73.7252H48.6207V56.6639C48.6091 56.2797 48.4905 55.9063 48.2784 55.5857C48.0662 55.2651 47.7689 55.0099 47.4197 54.8488C47.0705 54.6878 46.6833 54.6271 46.3016 54.6738C45.9199 54.7204 45.5587 54.8725 45.2586 55.1129L1.50002 90.2694C1.26208 90.4633 1.07029 90.7078 0.938585 90.985C0.80688 91.2622 0.738558 91.5652 0.738558 91.8721C0.738558 92.179 0.80688 92.482 0.938585 92.7592C1.07029 93.0365 1.26208 93.2809 1.50002 93.4748L45.2586 128.631C45.5621 128.874 45.928 129.027 46.3142 129.071C46.7005 129.116 47.0914 129.051 47.4424 128.884C47.7933 128.716 48.09 128.454 48.2984 128.125C48.5068 127.797 48.6185 127.417 48.6207 127.029V109.967H152.586Z",fill:"#BFBFBF"}),u("path",{d:"M36.1034 88.9252H28.9655V93.785H36.1034V101.85H41.4828V93.785H48.6207V88.8735H41.4828V81.1701H36.1034V88.9252Z",fill:"#404040"}),u("path",{d:"M103.086 261.224C102.697 261.227 102.317 261.338 101.989 261.547C101.661 261.755 101.398 262.051 101.23 262.402C101.063 262.753 100.998 263.144 101.043 263.53C101.087 263.916 101.24 264.282 101.483 264.585L129.259 299.018C129.452 299.265 129.699 299.465 129.982 299.602C130.264 299.74 130.574 299.811 130.888 299.811C131.202 299.811 131.512 299.74 131.794 299.602C132.076 299.465 132.324 299.265 132.517 299.018L160.293 264.585C160.536 264.282 160.689 263.916 160.733 263.53C160.778 263.144 160.713 262.753 160.546 262.402C160.378 262.051 160.115 261.755 159.787 261.547C159.459 261.338 159.078 261.227 158.69 261.224H147.103C146.948 242.871 142.448 235.012 134.741 226.275C132.983 224.207 131.017 222.139 128.897 219.864C126.724 217.537 117.879 211.075 108.931 204.819C110.677 211.877 111.938 219.045 112.707 226.275C114.776 244.008 114.983 261.224 114.983 261.224H103.086Z",fill:r,fillOpacity:.4}),u("path",{d:"M2.06897 190.033C1.52025 190.033 0.993996 190.251 0.605989 190.638C0.217983 191.026 5.00679e-06 191.552 5.00679e-06 192.101V224.207C5.00679e-06 224.755 0.217983 225.281 0.605989 225.669C0.993996 226.057 1.52025 226.275 2.06897 226.275H112.759C111.828 218.778 110.638 211.23 108.931 204.819C99.9827 198.512 90.931 192.411 88.2414 190.55C87.7206 190.204 87.1077 190.024 86.4828 190.033H2.06897Z",fill:r}),u("path",{d:"M87.4138 190.033C87.4138 190.033 98.2759 197.322 108.931 204.819C115.878 209.416 122.545 214.423 128.897 219.812C130.966 222.139 132.983 224.258 134.741 226.275H191.379V243.336C191.391 243.72 191.51 244.094 191.722 244.414C191.934 244.735 192.231 244.99 192.58 245.151C192.929 245.312 193.317 245.373 193.698 245.326C194.08 245.28 194.441 245.128 194.741 244.887L238.5 209.731C238.738 209.537 238.93 209.292 239.061 209.015C239.193 208.738 239.261 208.435 239.261 208.128C239.261 207.821 239.193 207.518 239.061 207.241C238.93 206.964 238.738 206.719 238.5 206.525L194.741 171.369C194.438 171.126 194.072 170.973 193.686 170.929C193.3 170.884 192.909 170.949 192.558 171.116C192.207 171.284 191.91 171.546 191.702 171.875C191.493 172.203 191.382 172.583 191.379 172.971V190.033H87.4138Z",fill:"#BFBFBF"}),u("path",{d:"M192.414 205.905V210.816H212.069V205.905H192.414Z",fill:"#404040"})]}),u(Pt,Object.assign({x:153,y:77},c,{children:"PROS"})),u(Pt,Object.assign({x:2,y:193},c,{children:"CONS"}))]})};Sh("pros-cons-fold",I4);const A4=t=>{const{x:e,y:n,colorPrimary:i,colorBg:r}=t,o=100,s=100,a=ce(i).lighten(20).toString();return M(W,{x:e,y:n,width:o,height:s,children:[M(Gt,{children:[u("filter",{id:"vs-divider-glow-filter",x:"-50%",y:"-50%",width:"200%",height:"200%",children:u("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"8",result:"blur"})}),u(Ch,{})]}),u(Ut,{x:0,y:0,width:o,height:s,fill:a,filter:"url(#vs-divider-glow-filter)",opacity:.6}),u(Ut,{x:0,y:0,width:o,height:s,fill:i,"data-element-type":"shape"}),u("text",{x:o/2,y:s/2,fontSize:Math.min(o,s)/1.5,fontWeight:"bold",fill:r,textAnchor:"middle",dominantBaseline:"central",filter:"url(#drop-shadow)",children:"VS"})]})};Sh("vs",A4);const T4=t=>{const{Title:e,Item:n,data:i,gap:r=20,groupGap:o=20,opposite:s=!0,flipped:a=!0,dividerType:c="vs",options:d}=t,{title:l,desc:h,items:f=[]}=i,p=e?u(e,{title:l,desc:h}):null;if(f.length===0)return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[p,u(W,{children:u(Ht,{children:u(et,{indexes:[0],x:0,y:0})})})]});const y=f[0]||{children:[]},m=f[1]||{children:[]},g=y.children||[],v=m.children||[],b=ye(d.themeConfig),x=lt(u(n,{indexes:[0,0],data:i,datum:g[0]||{}})),w=lt(u(et,{indexes:[0]})),_=S4(c),C=_?lt(u(_,{x:0,y:0,colorPrimary:b.colorPrimary,colorBg:b.colorBg,colorPositive:b.colorPrimary,colorNegative:b.colorPrimary})):{width:0,height:0},E=[],S=[],O=[],I=Math.max(g.length,v.length),T=I>0?I*(x.height+r)-r:0,R=5,A=I>0?r/2+w.height/2:w.height/2,q=w.width+R,B=q+x.width+o,L=B+C.width+o,D=a?"flipped":"normal",j=a?"normal":s?"flipped":"normal";if(g.forEach((G,N)=>{const Y=A+N*(x.height+r),V=[0,N];E.push(u(n,{indexes:V,datum:G,data:i,x:q,y:Y,positionH:D,positionV:"middle"})),S.push(u(Zt,{indexes:V,x:q-w.width-R,y:Y+(x.height-w.height)/2})),N<g.length-1&&S.push(u(et,{indexes:[0,N+1],x:q+(x.width-w.width)/2,y:Y+x.height+r/2-w.height/2}))}),g.length>0){S.push(u(et,{indexes:[0,0],x:q+(x.width-w.width)/2,y:A-r/2-w.height/2}));const G=A+(g.length-1)*(x.height+r);S.push(u(et,{indexes:[0,g.length],x:q+(x.width-w.width)/2,y:G+x.height+r/2-w.height/2}))}else f.length>=1&&S.push(u(et,{indexes:[0,0],x:q+(x.width-w.width)/2,y:A-w.height/2}));if(v.forEach((G,N)=>{const Y=A+N*(x.height+r),V=[1,N];E.push(u(n,{indexes:V,datum:G,data:i,x:L,y:Y,positionH:j,positionV:"middle"})),S.push(u(Zt,{indexes:V,x:L+x.width+R,y:Y+(x.height-w.height)/2})),N<v.length-1&&S.push(u(et,{indexes:[1,N+1],x:L+(x.width-w.width)/2,y:Y+x.height+r/2-w.height/2}))}),v.length>0){S.push(u(et,{indexes:[1,0],x:L+(x.width-w.width)/2,y:A-r/2-w.height/2}));const G=A+(v.length-1)*(x.height+r);S.push(u(et,{indexes:[1,v.length],x:L+(x.width-w.width)/2,y:G+x.height+r/2-w.height/2}))}else f.length>=2&&S.push(u(et,{indexes:[1,0],x:L+(x.width-w.width)/2,y:A-w.height/2}));return f.length<2&&S.push(u(et,{indexes:[1],x:L+(x.width-w.width)/2,y:A+(T-w.height)/2})),_&&O.push(u(_,{x:B,y:A+(T-C.height)/2,colorPrimary:b.colorPrimary,colorBg:b.colorBg,colorPositive:Lt(d,[0])||b.colorPrimary,colorNegative:Lt(d,[1])||b.colorPrimary})),M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[p,M(W,{children:[u(W,{children:O}),u($t,{children:E}),u(Ht,{children:S})]})]})};jt("compare-binary-horizontal",{component:T4,composites:["title","item"]});const M4={none:5,"dot-line":100,"arc-dot":20,"split-line":5},R4=t=>{var e,n;const{Title:i,Items:r,data:o,gap:s=20,groupGap:a=0,decoration:c="none",surround:d=!0,flipRoot:l=!1,flipLeaf:h=!1,options:f}=t,[p,y]=r,{title:m,desc:g,items:v=[]}=o,b=i?u(i,{title:m,desc:g}):null,x=u(p,{indexes:[0],data:o,datum:o.items[0],themeColors:{}}),w=u(y,{indexes:[0,0],data:o,datum:((n=(e=v[0])===null||e===void 0?void 0:e.children)===null||n===void 0?void 0:n[0])||v[2]}),_=lt(x),C=lt(w),E=[],S=[],[O,I]=v,T=O?.children||[],R=I?.children||[],A=Math.max(_.height,T.length*(C.height+s)-s,R.length*(C.height+s)-s),q=M4[c]||0,B=C.width+q,L=B+_.width+a,D=(A-_.height)/2;O&&E.push(u(p,{indexes:[0],x:B,y:D,data:o,datum:O,positionH:l?"normal":"flipped"})),I&&E.push(u(p,{indexes:[1],x:L,y:D,data:o,datum:I,positionH:l?"flipped":"normal"}));const j=(G,N,Y)=>{if(c==="none")return;const[V,z]=N,k=Lt(f,Y),$={x:V,y:z,width:C.width,height:C.height,side:G,color:k||"#ccc",colorBg:f.themeConfig.colorBg||"#fff"};c==="split-line"?S.push(u(k4,Object.assign({},$))):c==="dot-line"&&S.push(u(L4,Object.assign({},$)))};if(d){const N=(2*_.width+a+C.width)/2+q,Y=B+_.width+a/2,V=D+_.height/2;T.forEach((z,k)=>{const $=T.length*(C.height+s)-s,H=(A-$)/2+k*(C.height+s),X=H+C.height/2-V,K=Math.max(0,N*N-X*X),Z=Y-Math.sqrt(K)-C.width/2;E.push(u(y,{indexes:[0,k],datum:z,data:o,x:Z,y:H,positionH:h?"flipped":"normal"})),j("left",[Z,H],[0,k])}),R.forEach((z,k)=>{const $=R.length*(C.height+s)-s,H=(A-$)/2+k*(C.height+s),X=H+C.height/2-V,K=Math.max(0,N*N-X*X),Z=Y+Math.sqrt(K)-C.width/2;E.push(u(y,{indexes:[1,k],datum:z,data:o,x:Z,y:H,positionH:h?"normal":"flipped"})),j("right",[Z,H],[1,k])})}else T.forEach((G,N)=>{const Y=T.length*(C.height+s)-s,z=(A-Y)/2+N*(C.height+s),k=[0,N],$=0;E.push(u(y,{indexes:k,datum:G,data:o,x:$,y:z,positionH:h?"flipped":"normal"})),j("left",[$,z],k)}),R.forEach((G,N)=>{const Y=R.length*(C.height+s)-s,z=(A-Y)/2+N*(C.height+s),k=[1,N],$=L+_.width+q;E.push(u(y,{indexes:k,datum:G,data:o,x:$,y:z,positionH:h?"normal":"flipped"})),j("right",[$,z],k)});return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[b,M(W,{children:[u($t,{children:E}),u(W,{width:0,height:0,children:S})]})]})},k4=t=>{const{x:e,y:n,width:i,height:r,color:o,colorBg:s,side:a}=t,c=n+r,d=`split-line-linear-gradient-${a}`;return M(Ft,{children:[u(Gt,{children:u(_h,{id:d,startColor:o,stopColor:s,direction:a==="left"?"left-right":"right-left"})}),u(kt,{x:e,y:c,width:i,height:1,fill:`url(#${d})`})]})},L4=t=>{const{x:e,y:n,side:i,width:r,height:o,color:s,colorBg:a}=t,c=6,d=c/3,l=c*2,h=d*2,f=5,p=i==="left"?e+r+c+f:e-c-f,y=n+o/2,m=p-d,g=y-d,v=80,b=i==="left"?v:-v,x=`dot-line-linear-gradient-${i}`;return M(W,{children:[u(Gt,{children:u(_h,{id:x,startColor:s,stopColor:a,direction:i==="left"?"left-right":"right-left"})}),M(pe,{children:[u(Ut,{x:p-c,y:y-c,width:l,height:l,fill:"none",strokeWidth:1,stroke:s}),u(Ut,{x:m,y:g,width:h,height:h,fill:s})]}),u(kt,{x:i==="left"?p:p+b,y:y-.5,width:v,height:1,fill:`url(#${x})`})]})};jt("compare-hierarchy-left-right",{component:R4,composites:["title","item"]});const P4=t=>{var e,n;const{Title:i,Items:r,data:o,gap:s=0,itemGap:a=20,columnWidth:c=280,itemPadding:d=5,showColumnBackground:l=!0,columnBackgroundAlpha:h=.08,options:f}=t,[p,y]=r,{title:m,desc:g,items:v=[]}=o,b=i?u(i,{title:m,desc:g}):null,x=Uy(f),w=[],_=[],C=c-d*2,E=lt(u(p,{indexes:[0],data:o,datum:v[0],width:c})),S=lt(u(y,{indexes:[0,0],data:o,datum:((n=(e=v[0])===null||e===void 0?void 0:e.children)===null||n===void 0?void 0:n[0])||{},width:C})),O=lt(u(et,{indexes:[0]})),I=Math.max(...v.map(R=>{var A;return((A=R.children)===null||A===void 0?void 0:A.length)||0}),0),T=E.height+a+I*(S.height+a);if(v.forEach((R,A)=>{const{children:q=[]}=R,B=A*(c+s),L=B,D=0;if(l){const Y=`${x[A%x.length]}${Math.round(h*255).toString(16).padStart(2,"0")}`;w.push(u(kt,{x:B,y:D,width:c,height:T,fill:Y,rx:0,ry:0,"data-element-type":"shape"}))}w.push(u(p,{indexes:[A],datum:R,data:o,x:L,y:D,width:c})),_.push(u(Zt,{indexes:[A],x:L+E.width-O.width-10,y:D+10})),A===0&&_.push(u(et,{indexes:[A],x:L+E.width/2-O.width/2,y:D-O.height-5}));const j=D+E.height+a;q.forEach((N,Y)=>{const V=j+Y*(S.height+a),z=L+d,k=[A,Y];w.push(u(y,{indexes:k,datum:N,data:o,x:z,y:V,width:C})),_.push(u(Zt,{indexes:k,x:z+S.width-O.width-10,y:V+(S.height-O.height)/2})),Y<q.length-1&&_.push(u(et,{indexes:[A,Y+1],x:z+S.width/2-O.width/2,y:V+S.height-O.height/2}))});const G=L+d;if(q.length>0){const N=j+q.length*(S.height+a);_.push(u(et,{indexes:[A,q.length],x:G+S.width/2-O.width/2,y:N-S.height/2-O.height/2}))}else _.push(u(et,{indexes:[A,0],x:G+S.width/2-O.width/2,y:j-a/2-O.height/2}))}),v.length>0){const R=v.length*(c+s);_.push(u(et,{indexes:[v.length],x:R-s/2-O.width/2,y:-O.height-5}))}return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[b,M(W,{children:[u($t,{children:w}),u(Ht,{children:_})]})]})};jt("compare-hierarchy-row",{component:P4,composites:["title","item"]});const Ud={axisColor:"#D9D9D9",axisArrowSize:5,strokeWidth:1,dashArray:"4,2",defaultExtraSpacing:20},$4=t=>{const{Title:e,Item:n,data:i,quadrantWidth:r,quadrantHeight:o,showAxis:s=!0,dashedAxis:a=!0}=t,{title:c,desc:d,items:l=[]}=i,h=e?u(e,{title:c,desc:d}):null,f=Array.from({length:4},(x,w)=>l[w]),p=f[0]?lt(u(n,{indexes:[0],data:i,datum:f[0]})):{width:0,height:0},y=r??p.width+Ud.defaultExtraSpacing,m=o??p.height+Ud.defaultExtraSpacing,g=H4(y,m,p),v=f.map((x,w)=>{if(!x)return null;const _=g[w];return u(n,{indexes:[w],datum:x,data:i,x:_.x,y:_.y,positionH:w%2?"flipped":"normal",positionV:w<2?"normal":"flipped"})}).filter(Boolean),b=q4(y,m,s,a);return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[h,M(W,{width:y*2,height:m*2,children:[b,u($t,{children:v})]})]})};function q4(t,e,n,i){if(!n)return[];const{axisColor:r,axisArrowSize:o,strokeWidth:s,dashArray:a}=Ud,c=t,d=e,l=t*2,h=e*2,f=i?a:void 0;return[u(xt,{d:`M 0 ${d} L ${l} ${d}`,stroke:r,strokeWidth:s,strokeDasharray:f,fill:"none","data-element-type":"shape"}),M(pe,{transform:`translate(${l}, ${d})`,children:[u(xt,{d:`M 0 0 L ${-o} ${-o/2}`,stroke:r,strokeWidth:s,fill:"none"}),u(xt,{d:`M 0 0 L ${-o} ${o/2}`,stroke:r,strokeWidth:s,fill:"none"})]}),M(pe,{transform:`translate(0, ${d})`,children:[u(xt,{d:`M 0 0 L ${o} ${-o/2}`,stroke:r,strokeWidth:s,fill:"none"}),u(xt,{d:`M 0 0 L ${o} ${o/2}`,stroke:r,strokeWidth:s,fill:"none"})]}),u(xt,{d:`M ${c} 0 L ${c} ${h}`,stroke:r,strokeWidth:s,strokeDasharray:f,fill:"none","data-element-type":"shape"}),M(pe,{transform:`translate(${c}, 0)`,children:[u(xt,{d:`M 0 0 L ${-o/2} ${o}`,stroke:r,strokeWidth:s,fill:"none"}),u(xt,{d:`M 0 0 L ${o/2} ${o}`,stroke:r,strokeWidth:s,fill:"none"})]}),M(pe,{transform:`translate(${c}, ${h})`,children:[u(xt,{d:`M 0 0 L ${-o/2} ${-o}`,stroke:r,strokeWidth:s,fill:"none"}),u(xt,{d:`M 0 0 L ${o/2} ${-o}`,stroke:r,strokeWidth:s,fill:"none"})]})]}function H4(t,e,n){const i=t/2,r=e/2;return[{x:i-n.width/2,y:r-n.height/2},{x:t+i-n.width/2,y:r-n.height/2},{x:i-n.width/2,y:e+r-n.height/2},{x:t+i-n.width/2,y:e+r-n.height/2}]}jt("quadrant",{component:$4,composites:["title","item"]});const Oh=Object.assign,z4={getId:t=>t.id||t.name,getPreH:t=>t.preH||0,getPreV:t=>t.preV||0,getHGap:t=>t.hgap||18,getVGap:t=>t.vgap||18,getChildren:t=>t.children,getHeight:t=>t.height||36,getWidth(t){const e=t.label||" ";return t.width||18*e.split("").length}};let Mu=class Qy{constructor(e,n){if(this.x=0,this.y=0,this.depth=0,this.children=[],this.hgap=0,this.vgap=0,e instanceof Qy||"x"in e&&"y"in e&&"children"in e){const o=e;return this.data=o.data,this.id=o.id,this.x=o.x,this.y=o.y,this.width=o.width,this.height=o.height,this.depth=o.depth,this.children=o.children,this.parent=o.parent,this.hgap=o.hgap,this.vgap=o.vgap,this.preH=o.preH,void(this.preV=o.preV)}this.data=e;const i=n.getHGap(e),r=n.getVGap(e);this.preH=n.getPreH(e),this.preV=n.getPreV(e),this.width=n.getWidth(e),this.height=n.getHeight(e),this.width+=this.preH,this.height+=this.preV,this.id=n.getId(e),this.addGap(i,r)}isRoot(){return this.depth===0}isLeaf(){return this.children.length===0}addGap(e,n){this.hgap+=e,this.vgap+=n,this.width+=2*e,this.height+=2*n}eachNode(e){let n,i=[this];for(;n=i.shift();)e(n),i=n.children.concat(i)}DFTraverse(e){this.eachNode(e)}BFTraverse(e){let n,i=[this];for(;n=i.shift();)e(n),i=i.concat(n.children)}getBoundingBox(){const e={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(n=>{e.left=Math.min(e.left,n.x),e.top=Math.min(e.top,n.y),e.width=Math.max(e.width,n.x+n.width),e.height=Math.max(e.height,n.y+n.height)}),e}translate(e=0,n=0){this.eachNode(i=>{i.x+=e,i.y+=n,i.x+=i.preH,i.y+=i.preV})}right2left(){const e=this.getBoundingBox();this.eachNode(n=>{n.x=n.x-2*(n.x-e.left)-n.width}),this.translate(e.width,0)}bottom2top(){const e=this.getBoundingBox();this.eachNode(n=>{n.y=n.y-2*(n.y-e.top)-n.height}),this.translate(0,e.height)}};function Kd(t,e={},n){e=Oh({},z4,e);const i=new Mu(t,e),r=[i];let o;if(!n&&!t.collapsed){for(;o=r.shift();)if(!o.data.collapsed){const s=e.getChildren(o.data),a=s?s.length:0;if(o.children=new Array(a),s&&a)for(let c=0;c<a;c++){const d=new Mu(s[c],e);o.children[c]=d,r.push(d),d.parent=o,d.depth=o.depth+1}}}return i}let j4=class{constructor(e,n={}){this.options=n,this.rootNode=Kd(e,n)}execute(){throw new Error("please override this method")}};function D4(t,e){const n=Kd(t.data,e,!0),i=Kd(t.data,e,!0),r=t.children.length,o=Math.round(r/2),s=e.getSide||function(a,c){return c<o?"right":"left"};for(let a=0;a<r;a++){const c=t.children[a];s(c,a)==="right"?i.children.push(c):n.children.push(c)}return n.eachNode(a=>{a.isRoot()||(a.side="left")}),i.eachNode(a=>{a.isRoot()||(a.side="right")}),{left:n,right:i}}const an=["LR","RL","TB","BT","H","V"],B4=["LR","RL","H"],N4=an[0];function F4(t,e,n){const i=e.direction||N4;if(e.isHorizontal=(o=>B4.indexOf(o)>-1)(i),an.indexOf(i)===-1)throw new TypeError(`Invalid direction: ${i}`);if(i===an[0])n(t,e);else if(i===an[1])n(t,e),t.right2left();else if(i===an[2])n(t,e);else if(i===an[3])n(t,e),t.bottom2top();else if(i===an[4]||i===an[5]){const{left:o,right:s}=D4(t,e);n(o,e),n(s,e),e.isHorizontal?o.right2left():o.bottom2top(),s.translate(o.x-s.x,o.y-s.y),t.x=o.x,t.y=s.y;const a=t.getBoundingBox();e.isHorizontal?a.top<0&&t.translate(0,-a.top):a.left<0&&t.translate(-a.left,0)}let r=e.fixedRoot;return r===void 0&&(r=!0),r&&t.translate(-(t.x+t.width/2+t.hgap),-(t.y+t.height/2+t.vgap)),(function(o,s){if(s.radial){const[a,c]=s.isHorizontal?["x","y"]:["y","x"],d={x:1/0,y:1/0},l={x:-1/0,y:-1/0};let h=0;o.DFTraverse(y=>{h++;const{x:m,y:g}=y;d.x=Math.min(d.x,m),d.y=Math.min(d.y,g),l.x=Math.max(l.x,m),l.y=Math.max(l.y,g)});const f=l[c]-d[c];if(f===0)return;const p=2*Math.PI/h;o.DFTraverse(y=>{const m=y[c],g=d[c],v=y[a],b=o[a],x=(m-g)/f*(2*Math.PI-p)+p,w=v-b;y.x=Math.cos(x)*w,y.y=Math.sin(x)*w})}})(t,e),t}function Jy(t,e){let n=0;return t.children.length?t.children.forEach(i=>{n+=Jy(i,e)}):n=t.height,t._subTreeSep=e.getSubTreeSep(t.data),t.totalHeight=Math.max(t.height,n)+2*t._subTreeSep,t.totalHeight}function t2(t){const e=t.children,n=e.length;if(n){e.forEach(a=>{t2(a)});const i=e[0],r=e[n-1],o=r.y-i.y+r.height;let s=0;if(e.forEach(a=>{s+=a.totalHeight}),o>t.height)t.y=i.y+o/2-t.height/2;else if(e.length!==1||t.height>s){const a=t.y+(t.height-o)/2-i.y;e.forEach(c=>{c.translate(0,a)})}else t.y=(i.y+i.height/2+r.y+r.height/2)/2-t.height/2}}const W4={getSubTreeSep:()=>0};function G4(t,e={}){return e=Oh({},W4,e),t.parent={x:0,width:0,height:0,y:0},t.BFTraverse(n=>{n.x=n.parent.x+n.parent.width}),t.parent=void 0,Jy(t,e),t.startY=0,t.y=t.totalHeight/2-t.height/2,t.eachNode(n=>{const i=n.children,r=i.length;if(r){const o=i[0];if(o.startY=n.startY+n._subTreeSep,r===1)o.y=n.y+n.height/2-o.height/2;else{o.y=o.startY+o.totalHeight/2-o.height/2;for(let s=1;s<r;s++){const a=i[s];a.startY=i[s-1].startY+i[s-1].totalHeight,a.y=a.startY+a.totalHeight/2-a.height/2}}}}),t2(t),t}class Y4 extends j4{execute(){return F4(this.rootNode,this.options,G4)}}const V4={};function X4(t,e){const n=Oh({},V4,e);return new Y4(t,n).execute()}const U4=60,K4=14,Ru=30,e2="center",Z4="curved",Q4=2,J4="node",t7="solid",n2=(t,e=[],n=0)=>{var i,r;const o=[...e,n];return Object.assign(Object.assign({},t),{_indexes:o,children:(r=(i=t.children)===null||i===void 0?void 0:i.map((s,a)=>n2(s,o,a)))!==null&&r!==void 0?r:[]})},i2=(t,e,n,i)=>{var r,o;e.push(t),(r=(o=t.data)._flatIndex)!==null&&r!==void 0||(o._flatIndex=e.length-1),i&&n.push({parent:i,child:t});const s=t.children;s?.forEach(a=>i2(a,e,n,t))},e7=(t,e,n,i)=>{const r=Math.abs(n-t)/2,o=n>t?t+r:t-r,s=n>t?n-r:n+r;return`M ${t} ${e} C ${o} ${e} ${s} ${i} ${n} ${i}`},n7=(t,e,n,i)=>`M ${t} ${e} L ${n} ${i}`,i7=(t,e,n,i=e2)=>{const r=d=>Math.max(0,Math.min(1,d)),s=(d=>d==="top"?0:d==="bottom"?1:d==="center"?.5:r(d))(i),a=t.y+t.height*s,c=e.y+e.height*s;return n==="left"?{sx:t.x,sy:a,tx:e.x+e.width,ty:c}:{sx:t.x+t.width,sy:a,tx:e.x,ty:c}},r7=t=>{var e,n;const{Title:i,Items:r,data:o,levelGap:s=U4,nodeGap:a=K4,edgeAlign:c=e2,colorMode:d=J4,edgeColorMode:l=t7,edgeType:h=Z4,edgeWidth:f=Q4,options:p}=t,{title:y,desc:m,items:g=[]}=o,v=i?u(i,{title:y,desc:m}):null,b=fe(p),x=lt(u(et,{indexes:[0]})),w=new Map;let _=0;if(!g.length||!r?.length)return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[v,u(W,{children:u(et,{indexes:[0],x:0,y:0})})]});const C=n2(g[0]),E=new WeakMap,S=new WeakMap,O=new WeakMap,I=(P,H)=>{var F;if(d==="group"){const X=String((F=P.group)!==null&&F!==void 0?F:"");let K=w.get(X);return K==null&&(K=_,w.set(X,K),_+=1),[K]}return Ky({depth:H,originalIndexes:P._indexes,flatIndex:P._flatIndex},d)},T=(P,H)=>{const F=O.get(P);if(F)return F;const X=I(P,H),K=Lt(p,X),it=ye({colorPrimary:K},p);return O.set(P,it),S.set(P,K),it},R=P=>{const H=E.get(P);if(H)return H;const F=Math.max(P._indexes.length-1,0),X=ur(r,F),K=lt(u(X,{indexes:P._indexes,data:o,datum:P,positionH:"center",positionV:"middle",themeColors:T(P,F)}));return E.set(P,K),K},A=X4(C,{direction:"H",getSide:(P,H)=>{if(!P.parent)return"right";const F=(P.parent.children||[]).indexOf(P);return(F>=0?F:H)%2===0?"left":"right"},getWidth:P=>R(P).width,getHeight:P=>R(P).height,getHGap:()=>s,getVGap:()=>a}),q=[],B=[];i2(A,q,B);const L=q.length>0?Math.min(...q.map(P=>P.x)):0,D=q.length>0?Math.min(...q.map(P=>P.y)):0,j=Ru-L,G=Ru-D,N=[],Y=[],V=[],z=[],k=new WeakMap;q.forEach(P=>{var H,F;const X=P.data,K=R(X),it=P.x+j+((H=P.hgap)!==null&&H!==void 0?H:0),Z=P.y+G+((F=P.vgap)!==null&&F!==void 0?F:0),rt=ur(r,P.depth),U=P.depth===0?"center":P.side==="left"?"flipped":"normal",Q=T(X,P.depth);V.push(u(rt,{indexes:X._indexes,data:o,datum:X,x:it,y:Z,positionH:U,positionV:"middle",themeColors:Q})),k.set(P,{x:it,y:Z,width:K.width,height:K.height,centerX:it+K.width/2,centerY:Z+K.height/2})}),B.forEach(P=>{var H,F,X,K;const{parent:it,child:Z}=P,rt=k.get(Z),U=k.get(it);if(!rt||!U)return;const Q=Z.data,{sx:at,sy:tt,tx:J,ty:nt}=i7(U,rt,Z.side,c),ot=(H=S.get(Q))!==null&&H!==void 0?H:Lt(p,I(Q,Z.depth)),ct=(F=S.get(it.data))!==null&&F!==void 0?F:Lt(p,I(it.data,it.depth)),pt=h==="straight"?n7(at,tt,J,nt):e7(at,tt,J,nt),ut=`edge-gradient-${Q._indexes.join("-")}`;Y.push(u(xt,{d:pt,stroke:l==="gradient"?`url(#${ut})`:ot??b,strokeWidth:f,fill:"none"})),l==="gradient"&&N.push(M("linearGradient",{id:ut,gradientUnits:"userSpaceOnUse",x1:at,y1:tt,x2:J,y2:nt,children:[u("stop",{offset:"0%",stopColor:ct??b}),u("stop",{offset:"100%",stopColor:ot??b})]}));const ft=(K=(X=Q.children)===null||X===void 0?void 0:X.length)!==null&&K!==void 0?K:0,dt=[...Q._indexes,ft],vt=rt.x+(rt.width-x.width)/2,_t=rt.y+rt.height+8,Ot=_t+x.height+6;Z.depth>0&&z.push(u(Zt,{indexes:Q._indexes,x:vt,y:_t})),z.push(u(et,{indexes:dt,x:vt,y:Ot}))});const $=k.get(A);if($){const P=A.data,H=(n=(e=P.children)===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0,F=[...P._indexes,H],X=$.x+($.width-x.width)/2,K=$.y+$.height+8+x.height+6;z.push(u(et,{indexes:F,x:X,y:K}))}return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[v,M(W,{children:[N.length>0?u(Gt,{children:N}):null,u(W,{children:Y}),u($t,{children:V}),u(Ht,{children:z})]})]})};jt("hierarchy-mindmap",{component:r7,composites:["title","item"]});const qn=(t,e)=>{if(t[0]!=="#"||t.length!==7)return t;const n=Math.max(0,Math.min(1,e)),i=Math.round(n*255).toString(16).padStart(2,"0");return`${t}${i}`},Hn=t=>t==null?"":String(t),fr=(t,e,n)=>lt(u(Pt,{fontSize:e,fontWeight:n,children:t})),o7=(t,e,n,i=" ")=>{const r=fr(i,e,n);let o=r.width,s=r.height;return t.forEach(a=>{const c=fr(a||" ",e,n);o=Math.max(o,c.width),s=Math.max(s,c.height)}),{width:o,height:s}},ku=(t,e,n,i)=>{const r=o7(t,e,"normal","Item");return{pillWidth:r.width+n*2,pillHeight:r.height+i*2}},s7=t=>{const{Title:e,data:n,options:i,rowGap:r=20,labelGap:o=20,groupGap:s=20,pillGap:a=14,pillColumns:c=2,ungroupedColumns:d=6,layerLabelPosition:l="left",rowPadding:h=20,groupPadding:f=16,labelPaddingX:p=28,labelPaddingY:y=16,pillPaddingX:m=18,pillPaddingY:g=10,labelFontSize:v=20,groupTitleFontSize:b=18,pillFontSize:x=16,groupTitleGap:w=10,rowRadius:_=12,groupRadius:C=10,pillRadius:E=12}=t,{title:S,desc:O,items:I=[]}=n,T=e?u(e,{title:S,desc:O}):null;if(I.length===0)return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[T,u(W,{children:u($t,{})})]});const R=ye(i.themeConfig),A=[],q=[],B=l==="right",L=.12,D=.55,j=.08,G=.4,N=.06,Y=.35,V=I.map(Z=>{const rt=Hn(Z.label),U=fr(rt||" ",v,"bold"),Q=U.width+p*2,at=U.height+y*2,tt=Z.children||[];if(tt.some(vt=>{var _t;return(((_t=vt.children)===null||_t===void 0?void 0:_t.length)||0)>0})){const vt=[];tt.forEach(Tt=>{(Tt.children||[]).forEach(gt=>{vt.push(Hn(gt.label))})});const{pillWidth:_t,pillHeight:Ot}=ku(vt,x,m,g),bt=tt.map(Tt=>{const gt=Hn(Tt.label),mt=fr(gt||" ",b,"bold"),St=Tt.children||[],Et=St.length>0?Math.min(c,St.length):0,st=Et>0?Math.ceil(St.length/Et):0,ht=Et>0?Et*_t+(Et-1)*a:0,wt=st>0?st*Ot+(st-1)*a:0,Yt=Math.max(mt.width,ht)+f*2,Ct=f*2+mt.height+(st>0?w+wt:0);return{label:gt,children:St,width:Yt,height:Ct,titleHeight:mt.height,columns:Et,contentWidth:ht,pillWidth:_t,pillHeight:Ot}}),At=bt.reduce((Tt,gt)=>Tt+gt.width,0)+(bt.length>1?(bt.length-1)*s:0),Mt=bt.reduce((Tt,gt)=>Math.max(Tt,gt.height),0);return{label:rt,labelWidth:Q,labelHeight:at,hasGroups:!0,children:tt,groupMetrics:bt,contentInnerWidth:At,contentInnerHeight:Mt}}const nt=tt.map(vt=>Hn(vt.label)),{pillWidth:ot,pillHeight:ct}=ku(nt,x,m,g),pt=tt.length>0?Math.min(d,tt.length):0,ut=pt>0?Math.ceil(tt.length/pt):0,ft=pt>0?pt*ot+(pt-1)*a:0,dt=ut>0?ut*ct+(ut-1)*a:0;return{label:rt,labelWidth:Q,labelHeight:at,hasGroups:!1,children:tt,pillWidth:ot,pillHeight:ct,columns:pt,contentInnerWidth:ft,contentInnerHeight:dt}}),z=V.reduce((Z,rt)=>Math.max(Z,rt.labelWidth),0),k=V.reduce((Z,rt)=>Math.max(Z,rt.contentInnerWidth),0),$=Z=>{const rt=Lt(i,[Z])||R.colorPrimary||"#6c7dff";return{rowFill:qn(rt,L),rowStroke:qn(rt,D),groupFill:qn(rt,j),groupStroke:qn(rt,G),pillFill:qn(rt,N),pillStroke:qn(rt,Y)}},P=(Z,rt,U,Q,at,tt,J,nt,ot,ct,pt,ut,ft,dt)=>{A.push(u(kt,{x:U,y:J,width:at,height:nt,fill:ft,stroke:dt,rx:_,ry:_,"data-element-type":"shape"})),A.push(u(kt,{x:ot,y:ct,width:pt,height:ut,fill:ft,stroke:dt,rx:_,ry:_,"data-element-type":"shape"})),q.push(u(Pt,{x:U,y:Q,width:at,height:tt,fontSize:v,fontWeight:"bold",alignHorizontal:"center",alignVertical:"middle",fill:R.colorText,"data-element-type":"item-label","data-indexes":rt,children:Z}))},H=(Z,rt,U,Q)=>{const at=Z.groupMetrics||[],tt=Z.label,J=[rt],nt=z,ot=Z.labelHeight,ct=Z.contentInnerHeight,pt=Math.max(0,k-Z.contentInnerWidth),ut=at.length>0?pt/at.length:0,dt=Z.contentInnerWidth+(at.length>0?pt:0)+h*2,vt=ct+h*2,_t=Math.max(ot,vt),Ot=B?0:nt+o,bt=B?Ot+dt+o:0,At=U+(_t-ot)/2,Mt=U+(_t-vt)/2;P(tt,J,bt,At,nt,ot,U,_t,Ot,Mt,dt,vt,Q.rowFill,Q.rowStroke);let Tt=Ot+h;return at.forEach((mt,St)=>{const Et=[...J,St],st=mt.width+ut,ht=Mt+h+(ct-mt.height)/2;A.push(u(kt,{x:Tt,y:ht,width:st,height:mt.height,fill:Q.groupFill,stroke:Q.groupStroke,rx:C,ry:C,"data-element-type":"shape"}));const wt=mt.children.length>0,Bt=wt?ht+f:ht,Yt=wt?mt.titleHeight:mt.height,Ct=wt?"top":"middle";if(q.push(u(Pt,{x:Tt+f,y:Bt,width:st-f*2,height:Yt,fontSize:b,fontWeight:"bold",alignHorizontal:"center",alignVertical:Ct,fill:R.colorText,"data-element-type":"item-label","data-indexes":Et,children:mt.label})),mt.columns>0){const qt=st-f*2,Wt=qt-mt.contentWidth,Vt=Wt>0?Wt/mt.columns:0,zt=mt.pillWidth+Vt,ne=mt.columns*zt+(mt.columns-1)*a,Xt=(qt-ne)/2,Ce=Tt+f+Math.max(0,Xt),Ee=ht+f+mt.titleHeight+w;mt.children.forEach((Nt,de)=>{const he=[...Et,de],Ie=Math.floor(de/mt.columns),Be=de%mt.columns,pn=Ce+Be*(zt+a),gn=Ee+Ie*(mt.pillHeight+a),Ne=Math.min(E,mt.pillHeight/2);A.push(u(kt,{x:pn,y:gn,width:zt,height:mt.pillHeight,fill:Q.pillFill,stroke:Q.pillStroke,rx:Ne,ry:Ne,"data-element-type":"shape"})),q.push(u(Pt,{x:pn,y:gn,width:zt,height:mt.pillHeight,fontSize:x,fontWeight:"normal",alignHorizontal:"center",alignVertical:"middle",fill:R.colorText,"data-element-type":"item-label","data-indexes":he,children:Hn(Nt.label)}))})}Tt+=st+s}),{rowWidth:B?bt+nt:Ot+dt,rowHeight:_t}},F=(Z,rt,U,Q)=>{const at=Z.label,tt=[rt],J=z,nt=Z.labelHeight,ot=Z.contentInnerHeight,ct=Math.max(0,k-Z.contentInnerWidth),pt=Z.columns||0,ut=Z.pillWidth||0,ft=Z.pillHeight||0,dt=pt>0?ct/pt:0,vt=ut+dt,Ot=(pt>0?pt*vt+(pt-1)*a:0)+h*2,bt=ot+h*2,At=Math.max(nt,bt),Mt=B?0:J+o,Tt=B?Mt+Ot+o:0,gt=U+(At-nt)/2,mt=U+(At-bt)/2;if(P(at,tt,Tt,gt,J,nt,U,At,Mt,mt,Ot,bt,Q.rowFill,Q.rowStroke),pt>0){const Et=Mt+h,st=mt+h;(Z.children||[]).forEach((wt,Bt)=>{const Yt=[...tt,Bt],Ct=Math.floor(Bt/pt),qt=Bt%pt,Wt=Et+qt*(vt+a),Vt=st+Ct*(ft+a),zt=Math.min(E,ft/2);A.push(u(kt,{x:Wt,y:Vt,width:vt,height:ft,fill:Q.pillFill,stroke:Q.pillStroke,rx:zt,ry:zt,"data-element-type":"shape"})),q.push(u(Pt,{x:Wt,y:Vt,width:vt,height:ft,fontSize:x,fontWeight:"normal",alignHorizontal:"center",alignVertical:"middle",fill:R.colorText,"data-element-type":"item-label","data-indexes":Yt,children:Hn(wt.label)}))})}return{rowWidth:B?Tt+J:Mt+Ot,rowHeight:At}};let X=0,K=0;V.forEach((Z,rt)=>{const U=$(rt),{rowWidth:Q,rowHeight:at}=Z.hasGroups?H(Z,rt,X,U):F(Z,rt,X,U);K=Math.max(K,Q),X+=at+r});const it=Math.max(X-r,0);return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[T,M(W,{width:K,height:it,children:[u(W,{children:A}),u($t,{children:q})]})]})};jt("hierarchy-structure",{component:s7,composites:["title"]});const Lu=(t,e)=>{const n=Math.max(0,e/2-1);return Math.min(t,n)},a7=t=>{const{Title:e,Items:n,data:i,levelGap:r=80,nodeGap:o=60,edgeType:s="straight",edgeColorMode:a="gradient",edgeWidth:c=3,edgeStyle:d="solid",edgeDashPattern:l="5,5",edgeCornerRadius:h=0,edgeOffset:f=0,edgeOrigin:p="center",edgeOriginPadding:y=20,edgeMarker:m="none",markerSize:g=12,colorMode:v="branch",orientation:b="top-bottom",options:x}=t,w=b==="left-right"||b==="right-left",_=b==="bottom-top"||b==="right-left"?-1:1,{title:C,desc:E}=i,S=fe(x),O=new Map;let I=0;const T=J=>{var nt;const ot=[...J];return!((nt=ot[0])===null||nt===void 0)&&nt.children||(ot[0]=Object.assign(Object.assign({},ot[0]),{children:ot.slice(1)}),ot.splice(1)),ot},R=(J,nt,ot,ct,pt,ut="vertical")=>{const ft=ut==="vertical",dt=ft?ct-nt:ot-J,vt=ft?ot-J:ct-nt,_t=dt===0?1:Math.sign(dt),Ot=vt===0?1:Math.sign(vt),bt=ft?nt+dt/2:J+dt/2,At=Math.min(pt,Math.abs(dt)/2,Math.abs(vt)/2);return At===0?ft?`M ${J} ${nt} L ${J} ${bt} L ${ot} ${bt} L ${ot} ${ct}`:`M ${J} ${nt} L ${bt} ${nt} L ${bt} ${ct} L ${ot} ${ct}`:ft?`M ${J} ${nt}
              L ${J} ${bt-_t*At}
              Q ${J} ${bt} ${J+Ot*At} ${bt}
              L ${ot-Ot*At} ${bt}
              Q ${ot} ${bt} ${ot} ${bt+_t*At}
              L ${ot} ${ct}`:`M ${J} ${nt}
            L ${bt-_t*At} ${nt}
            Q ${bt} ${nt} ${bt} ${nt+Ot*At}
            L ${bt} ${ct-Ot*At}
            Q ${bt} ${ct} ${bt+_t*At} ${ct}
            L ${ot} ${ct}`},A=J=>{const{x:nt,y:ot}=J;return w?{x:ot*_,y:nt}:{x:nt,y:ot*_}},q=(J,nt,ot)=>{const{x:ct,y:pt}=A(J),ut=ct+ot.x,ft=pt+ot.y,dt=ft+nt.height/2;return{centerX:ut,centerY:dt,left:ut-nt.width/2,right:ut+nt.width/2,top:ft,bottom:ft+nt.height}},B=J=>{var nt;if(!J.length)return null;const ot=J[0],ct=(pt,ut=[],ft=0)=>{var dt,vt;const _t=[...ut,ft];return Object.assign(Object.assign({},pt),{_originalIndex:_t,_depth:_t.length-1,children:(vt=(dt=pt.children)===null||dt===void 0?void 0:dt.map((Ot,bt)=>ct(Ot,_t,bt)))!==null&&vt!==void 0?vt:[]})};return!((nt=ot.children)===null||nt===void 0)&&nt.length?ct(ot):Object.assign(Object.assign({},ot),{_originalIndex:[0],_depth:0,children:J.slice(1).map((pt,ut)=>Object.assign(Object.assign({},pt),{_originalIndex:[ut+1],_depth:1}))})},L=J=>{var nt,ot;let ct=0,pt=0;const ut=new Map,ft=new Map;J.each(dt=>{ft.has(dt.depth)||ft.set(dt.depth,dt.data)});for(let dt=0;dt<J.height+1;dt++){const vt=ur(n,dt),_t=(nt=ft.get(dt))!==null&&nt!==void 0?nt:{},Ot=(ot=_t._originalIndex)!==null&&ot!==void 0?ot:Array(dt+1).fill(0),bt=lt(u(vt,{indexes:Ot,data:i,datum:_t,positionH:"center"}));ut.set(dt,bt),ct=Math.max(ct,bt.width),pt=Math.max(pt,bt.height)}return{levelBounds:ut,maxWidth:ct,maxHeight:pt}},D=(J,nt)=>{var ot;if(v==="group"){const ct=String((ot=J?.group)!==null&&ot!==void 0?ot:"");let pt=O.get(ct);return pt==null&&(pt=I,O.set(ct,pt),I+=1),[pt]}return Ky({depth:nt,originalIndexes:J._originalIndex,flatIndex:J._flatIndex},v)},j=(J,nt,ot,ct,pt,ut)=>{const{depth:ft,data:dt,parent:vt}=J,_t=dt._originalIndex,Ot=ur(n,ft),bt=nt.get(ft),At=q(J,bt,ct),Mt=At.left,Tt=At.top,gt={items:[],btns:[],deco:[]},mt=D(dt,ft),St=Lt(x,mt),Et=ye({colorPrimary:St},x);if(gt.items.push(u(Ot,{indexes:_t,datum:dt,data:i,x:Mt,y:Tt,positionH:"center",themeColors:Et})),gt.btns.push(u(Zt,{indexes:_t,x:Mt+(bt.width-ot.width)/2,y:Tt+bt.height+5}),u(et,{indexes:[..._t,0],x:Mt+(bt.width-ot.width)/2,y:Tt+bt.height+ot.height+10})),vt){const st=nt.get(vt.depth),ht=q(vt,st,ct),wt=ut.filter(Nt=>Nt.parent===vt),Bt=wt.findIndex(Nt=>Nt===J),Yt=wt.length;let Ct,qt;if(p==="distributed"&&Yt>1)if(w){const Nt=Lu(y,st.height),de=ht.top+Nt,Ie=(ht.bottom-Nt-de)/Yt;qt=de+Ie*Bt+Ie/2,Ct=(_>0?ht.right:ht.left)+f*_}else{const Nt=Lu(y,st.width),de=ht.left+Nt,Ie=(ht.right-Nt-de)/Yt;Ct=de+Ie*Bt+Ie/2,qt=(_>0?ht.bottom:ht.top)+f*_}else Ct=w?(_>0?ht.right:ht.left)+f*_:ht.centerX,qt=w?ht.centerY:(_>0?ht.bottom:ht.top)+f*_;const Wt=w?(_>0?At.left:At.right)-f*_:At.centerX,Vt=w?At.centerY:(_>0?At.top:At.bottom)-f*_;let zt=Wt,ne=Vt;m==="arrow"&&(w?zt-=g*_:ne-=g*_);let Xt;if(s==="curved")if(w){const Nt=Ct+(zt-Ct)/2;Xt=`M ${Ct} ${qt} C ${Nt} ${qt}, ${Nt} ${ne}, ${zt} ${ne}`}else{const Nt=qt+(ne-qt)/2;Xt=`M ${Ct} ${qt} C ${Ct} ${Nt}, ${zt} ${Nt}, ${zt} ${ne}`}else if(h>0)Xt=R(Ct,qt,zt,ne,h,w?"horizontal":"vertical");else if(w){const Nt=Ct+(zt-Ct)/2;Xt=`M ${Ct} ${qt} L ${Nt} ${qt} L ${Nt} ${ne} L ${zt} ${ne}`}else{const Nt=qt+(ne-qt)/2;Xt=`M ${Ct} ${qt} L ${Ct} ${Nt} L ${zt} ${Nt} L ${zt} ${ne}`}let Ce=S;if(a==="gradient"){const Nt=D(vt.data,vt.depth),de=D(dt,ft),he=Lt(x,Nt),Ie=Lt(x,de),Be=`gradient-${vt.data._originalIndex.join("-")}-${_t.join("-")}`;pt.push(M("linearGradient",{id:Be,x1:Ct,y1:qt,x2:zt,y2:ne,gradientUnits:"userSpaceOnUse",children:[u("stop",{offset:"0%",stopColor:he}),u("stop",{offset:"100%",stopColor:Ie})]})),Ce=`url(#${Be})`}const Ee=d==="dashed"?l:"";if(gt.deco.push(u(xt,{d:Xt,stroke:Ce,strokeWidth:c,strokeDasharray:Ee,fill:"none"})),m==="arrow"){const Nt=a==="gradient"?Lt(x,mt):fe(x),de=w?[{x:Wt,y:Vt},{x:Wt-g*_,y:Vt-g/2},{x:Wt-g*_,y:Vt+g/2}]:[{x:Wt,y:Vt},{x:Wt-g/2,y:Vt-g*_},{x:Wt+g/2,y:Vt-g*_}];gt.deco.push(u(ke,{points:de,fill:Nt,width:g,height:g}))}if(m==="dot"){const Nt=D(vt.data,vt.depth),de=a==="gradient"?Lt(x,Nt):fe(x);gt.deco.push(u(Ut,{x:(w?_>0?ht.right+f:ht.left-f:Ct)-g,y:(w?qt:_>0?ht.bottom+f:ht.top-f)-g,width:g*2,height:g*2,fill:de}));const he=a==="gradient"?Lt(x,mt):fe(x);gt.deco.push(u(Ut,{x:Wt-g,y:Vt-g,width:g*2,height:g*2,fill:he}))}}return gt},G=(J,nt,ot)=>{const ct=new Map;J.forEach(ut=>{var ft;const dt=ut.parent?ut.parent.data._originalIndex.join("-"):"root";((ft=ct.get(dt))!==null&&ft!==void 0?ft:ct.set(dt,[]).get(dt)).push(ut)});const pt=[];return ct.forEach(ut=>{if(ut.length<=1)return;const ft=ut.slice().sort((dt,vt)=>w?A(dt).y-A(vt).y:A(dt).x-A(vt).x);if(ft.length!==0)for(let dt=0;dt<ft.length-1;dt++){const vt=A(ft[dt]),_t=A(ft[dt+1]),Ot=ft[dt].data._originalIndex.slice(0,-1),bt=ft[dt].data._originalIndex.at(-1)+1;if(w){const At=vt.x+ot.x+(_>0?-nt.width-5:nt.width+5),Mt=(vt.y+_t.y)/2+ot.y-nt.height/2;pt.push(u(et,{indexes:[...Ot,bt],x:At,y:Mt}))}else{const At=vt.y+ot.y-nt.height-5,Mt=(vt.x+_t.x)/2+ot.x-nt.width/2;pt.push(u(et,{indexes:[...Ot,bt],x:Mt,y:At}))}}}),pt},N=T(i.items),Y=e?u(e,{title:C,desc:E}):null,V=lt(u(et,{indexes:[0]}));if(!N.length)return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[Y,u(W,{children:u(Ht,{children:u(et,{indexes:[0],x:-V.width/2,y:-V.height/2})})})]});const z=B(N),k=db(z),{levelBounds:$,maxWidth:P,maxHeight:H}=L(k),X=hb().nodeSize(w?[H+o,P+r]:[P+o,H+r]).separation(()=>1)(k).descendants(),K=X.map(J=>A(J)),it=Math.min(...K.map(J=>J.x)),Z=Math.min(...K.map(J=>J.y)),rt={x:Math.max(0,-it+P/2),y:Math.max(0,-Z+V.height+10)},U=[],Q=[],at=[],tt=[];return X.forEach((J,nt)=>{J.data._flatIndex=nt;const{x:ot,y:ct}=A(J);J.__layout={x:ot,y:ct}}),X.forEach(J=>{const{items:nt,btns:ot,deco:ct}=j(J,$,V,rt,tt,X);U.push(...nt),Q.push(...ot),at.push(...ct)}),Q.push(...G(X,V,rt)),M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[Y,M(W,{children:[tt.length>0&&u(Gt,{children:tt}),u(pe,{children:at}),u($t,{children:U}),u(Ht,{children:Q})]})]})};jt("hierarchy-tree",{component:a7,composites:["title","item"]});const c7=t=>{const{Title:e,Item:n,data:i,gap:r=20,width:o,zigzag:s}=t,{title:a,desc:c,items:d=[]}=i,l=lt(u(et,{indexes:[0]})),h=lt(u(n,{indexes:[0],data:i,datum:d[0]})),f=o||h.width,p=e?u(e,{title:a,desc:c}):null,y=[],m=[],g=(f-l.width)/2;if(d.forEach((v,b)=>{const x=(h.height+r)*b,w=[b];m.push(u(n,{indexes:w,datum:v,data:i,y:x,width:f,positionV:"middle",positionH:s?b%2===0?"normal":"flipped":"normal"})),y.push(u(Zt,{indexes:w,x:-l.width-10,y:x+(h.height-l.height)/2}));const _=b===0?-l.height:x-r/2-l.height/2;y.push(u(et,{indexes:w,x:g,y:_}))}),d.length>0){const b=(h.height+r)*(d.length-1)+h.height;y.push(u(et,{indexes:[d.length],x:g,y:b}))}return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[p,M(W,{children:[u($t,{children:m}),u(Ht,{children:y})]})]})};jt("list-column",{component:c7,composites:["title","item"]});const l7=t=>{const{Title:e,Item:n,data:i,columns:r=3,gap:o=24,zigzag:s}=t,{title:a,desc:c,items:d=[]}=i,l=e?u(e,{title:a,desc:c}):null,h=lt(u(et,{indexes:[0]})),f=lt(u(n,{indexes:[0],data:i,datum:d[0],positionH:"center"})),p=[],y=[],m=f.height+o,g=f.width+o,v=new Set;return d.forEach((b,x)=>{const w=Math.floor(x/r),_=x%r,C=_*g,E=w*m,S=[x];y.push(u(n,{indexes:S,datum:b,data:i,x:C,y:E,positionH:"center",positionV:s&&x%2===0?"normal":"flipped"})),p.push(u(Zt,{indexes:S,x:C+(f.width-h.width)/2,y:E+f.height})),_<r-1&&p.push(u(et,{indexes:[x+1],x:C+f.width+(o-h.width)/2,y:E+(f.height-h.height)/2})),_===0&&!v.has(w)&&(p.push(u(et,{indexes:[x],x:C-o/2-h.width/2,y:E+(f.height-h.height)/2})),v.add(w)),(_===r-1||x===d.length-1)&&p.push(u(et,{indexes:[x+1],x:C+f.width+o/2-h.width/2,y:E+(f.height-h.height)/2}))}),M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[l,M(W,{children:[u($t,{children:y}),u(Ht,{children:p})]})]})};jt("list-grid",{component:l7,composites:["title","item"]});const d7=t=>{const{Title:e,Item:n,data:i,gap:r=20,levelGap:o=20}=t,{title:s,desc:a,items:c=[]}=i,d=e?u(e,{title:s,desc:a}):null,l=lt(u(et,{indexes:[0]})),h=lt(u(n,{indexes:[0],data:i,datum:c[0],positionH:"center"})),f=[],p=[],y=Math.ceil(Math.sqrt(c.length)),m=[];let g=c.length;for(let _=0;_<y;_++){const C=Math.min(_+1,g);if(m.push(C),g-=C,g<=0)break}let v=0;const b=Math.max(...m),w=(b*h.width+(b-1)*r)/2;return m.forEach((_,C)=>{const E=C*(h.height+o),S=_*h.width+(_-1)*r,O=w-S/2;for(let I=0;I<_&&v<c.length;I++){const T=O+I*(h.width+r),R=c[v],A=[v];p.push(u(n,{indexes:A,datum:R,data:i,x:T,y:E,positionH:"center"})),f.push(u(Zt,{indexes:A,x:T+(h.width-l.width)/2,y:E+h.height})),I<_-1&&f.push(u(et,{indexes:[v+1],x:T+h.width+(r-l.width)/2,y:E+(h.height-l.height)/2})),I===0&&f.push(u(et,{indexes:[v],x:T-r/2-l.width/2,y:E+(h.height-l.height)/2})),I===_-1&&f.push(u(et,{indexes:[v+1],x:T+h.width+r/2-l.width/2,y:E+(h.height-l.height)/2})),v++}}),M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[d,M(W,{children:[u($t,{children:p}),u(Ht,{children:f})]})]})};jt("list-pyramid",{component:d7,composites:["title","item"]});const h7=t=>{const{Title:e,Item:n,data:i,gap:r=20,zigzag:o}=t,{title:s,desc:a,items:c=[]}=i,d=e?u(e,{title:s,desc:a}):null,l=lt(u(et,{indexes:[0]})),h=lt(u(n,{indexes:[0],data:i,datum:c[0],positionH:"center"})),f=[],p=[],y=(h.height-l.height)/2,m=h.height;if(c.forEach((g,v)=>{const b=(h.width+r)*v,x=[v];p.push(u(n,{indexes:x,datum:g,data:i,x:b,positionH:"center",positionV:o&&v%2===0?"normal":"flipped"})),f.push(u(Zt,{indexes:x,x:b+(h.width-l.width)/2,y:m}));const w=v===0?-(r+l.width)/2:b-(r+l.width)/2;f.push(u(et,{indexes:x,x:w,y}))}),c.length>0){const v=(h.width+r)*(c.length-1)+h.width+(r-l.width)/2;f.push(u(et,{indexes:[c.length],x:v,y}))}return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[d,M(W,{children:[u($t,{children:p}),u(Ht,{children:f})]})]})};jt("list-row",{component:h7,composites:["title","item"]});const u7=t=>{const{Item:e,data:n,outerRadius:i=250,innerRadius:r=120,startAngle:o=-90,endAngle:s=270,gapAngle:a=1,options:c}=t,{title:d,items:l=[]}=n,h=ye(c.themeConfig),f=lt(u(et,{indexes:[0]})),p=[],y=[],m=[],g=i+100,v=i+100,b=s-o,x=Math.abs(b-360)<.01,w=l.length>0?a*(x?l.length:l.length-1):0,_=b-w,C=l.length>0?_/l.length:0;if(l.forEach((A,q)=>{var B;const L=[q],D=o+(C+a)*q,j=D+C,N=a*Math.PI*i/180/r*(180/Math.PI),Y=a,V=(D+Y/2)*Math.PI/180,z=(j-Y/2)*Math.PI/180,k=(D+N/2)*Math.PI/180,$=(j-N/2)*Math.PI/180,P=g+i*Math.cos(V),H=v+i*Math.sin(V),F=g+i*Math.cos(z),X=v+i*Math.sin(z),K=g+r*Math.cos(k),it=v+r*Math.sin(k),Z=g+r*Math.cos($),rt=v+r*Math.sin($),U=C>180?1:0,Q=`
      M ${P} ${H}
      A ${i} ${i} 0 ${U} 1 ${F} ${X}
      L ${Z} ${rt}
      A ${r} ${r} 0 ${U} 0 ${K} ${it}
      Z
    `.trim(),at=Lt(c,L);m.push(u(xt,{id:"shape-sector",d:Q,fill:at,width:i*2+200,height:i*2+200,"data-element-type":"shape"}));const J=(D+C/2)*Math.PI/180,nt=(i+r)/2,ot=i-r,ct=C*Math.PI/180,pt=nt*ct,ut=Math.min(pt*.8,ot*.9),ft=Math.min(ot*.9,pt*.8),dt=lt(u(e,{indexes:[0],data:n,datum:l[0],positionH:"center",width:ut,height:ft})),vt=g+nt*Math.cos(J)-dt.width/2,_t=v+nt*Math.sin(J)-dt.height/2;y.push(u(e,{indexes:L,datum:A,data:n,x:vt,y:_t,positionH:"center",width:ut,height:ft,themeColors:Object.assign({},ye({colorBg:Lt(c,L),colorPrimary:((B=c.themeConfig)===null||B===void 0?void 0:B.colorBg)||"white"}))}));const Ot=i+10,bt=g+Ot*Math.cos(J)-f.width/2,At=v+Ot*Math.sin(J)-f.height/2;if(p.push(u(Zt,{indexes:L,x:bt,y:At})),x||q<l.length-1){const Tt=(j+a/2)*Math.PI/180,gt=nt,mt=g+gt*Math.cos(Tt)-f.width/2,St=v+gt*Math.sin(Tt)-f.height/2;p.push(u(et,{indexes:[q+1],x:mt,y:St}))}}),l.length>0){const q=(o-a/2)*Math.PI/180,B=(i+r)/2,L=g+B*Math.cos(q)-f.width/2,D=v+B*Math.sin(q)-f.height/2;p.push(u(et,{indexes:[0],x:L,y:D}))}const E=r*.9;let S=g,O=v,I=E*1.4,T=E*1.4;if(!x){const q=(o+s)/2*Math.PI/180,B=E*.5;S=g+B*Math.cos(q),O=v+B*Math.sin(q);const L=b*Math.PI*B/180;I=Math.min(L*.8,E*1.4),T=Math.min(B*1.5,E*1.4)}let R="";if(x)R="";else{const A=o*Math.PI/180,q=s*Math.PI/180,B=g+E*Math.cos(A),L=v+E*Math.sin(A),D=g+E*Math.cos(q),j=v+E*Math.sin(q),G=b>180?1:0;R=`
      M ${g} ${v}
      L ${B} ${L}
      A ${E} ${E} 0 ${G} 1 ${D} ${j}
      Z
    `.trim()}return M(W,{id:"infographic-container",children:[u(W,{children:m}),x?u(Ut,{id:"shape-center-circle",x:g-E,y:v-E,width:E*2,height:E*2,fill:h.colorPrimaryBg,fillOpacity:.5,"data-element-type":"shape"}):u(xt,{id:"shape-center-sector",d:R,fill:h.colorPrimaryBg,fillOpacity:.5,width:i*2+200,height:i*2+200,"data-element-type":"shape"}),u(Pt,{x:S-I/2,y:O-T/2,width:I,height:T,alignHorizontal:"center",alignVertical:"middle",fontSize:24,fontWeight:"bold",fill:h.colorText,"data-element-type":"title",children:d}),u($t,{children:y}),u(Ht,{children:p})]})};jt("list-sector",{component:u7,composites:["title","item"]});const f7=t=>{const{Title:e,Item:n,data:i,columns:r=4,gap:o=20,stepOffset:s=40}=t,{title:a,desc:c,items:d=[]}=i,l=e?u(e,{title:a,desc:c}):null,h=lt(u(et,{indexes:[0]})),f=lt(u(n,{indexes:[0],data:i,datum:d[0],positionH:"center"})),p=[],y=[],m=f.width+o;return d.forEach((g,v)=>{const b=v%r,x=Math.floor(v/r),w=b*m,_=x*(f.height+o),C=b*s,E=_+C,S=[v];y.push(u(n,{indexes:S,datum:g,data:i,x:w,y:E,positionH:"center"})),p.push(u(Zt,{indexes:S,x:w+(f.width-h.width)/2,y:E+f.height+5}))}),d.forEach((g,v)=>{const b=v%r,x=Math.floor(v/r),w=b*m,_=x*(f.height+o),C=b*s,E=_+C;if(v===0&&p.push(u(et,{indexes:[0],x:w-o/2-h.width/2,y:E+(f.height-h.height)/2})),b<r-1&&v<d.length-1){const S=Math.floor((v+1)/r);x===S&&p.push(u(et,{indexes:[v+1],x:w+f.width+(o-h.width)/2,y:E+(f.height-h.height)/2}))}(b===r-1||v===d.length-1)&&p.push(u(et,{indexes:[v+1],x:w+f.width+(o-h.width)/2,y:E+(f.height-h.height)/2}))}),d.length===0&&p.push(u(et,{indexes:[0],x:(r-1)*m/2+(f.width-h.width)/2,y:0})),M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[l,M(W,{children:[u($t,{children:y}),u(Ht,{children:p})]})]})};jt("list-waterfall",{component:f7,composites:["title","item"]});const p7=6,Ih=700,r2=330,o2=333,g7={1:[{x:.5,y:.6,anchor:"top-right"}],2:[{x:.42,y:.5,anchor:"top-right"},{x:.72,y:.4,anchor:"bottom"}],3:[{x:.3,y:.5,anchor:"top-right"},{x:.48,y:.3,anchor:"bottom-left"},{x:.8,y:.75,anchor:"top-right"}],4:[{x:.3,y:.5,anchor:"top-right"},{x:.35,y:.2,anchor:"bottom-left"},{x:.65,y:.73,anchor:"top-right"},{x:.8,y:.52,anchor:"bottom-left"}],5:[{x:.19,y:.4,anchor:"top-right"},{x:.38,y:.2,anchor:"bottom"},{x:.52,y:.62,anchor:"top-right"},{x:.7,y:.43,anchor:"bottom"},{x:.82,y:.8,anchor:"top-right"}],6:[{x:.16,y:.35,anchor:"top-right"},{x:.38,y:.2,anchor:"bottom"},{x:.48,y:.54,anchor:"top-right"},{x:.55,y:.43,anchor:"bottom-left"},{x:.8,y:.75,anchor:"top-right"},{x:.86,y:.65,anchor:"bottom-left"}]},m7={1:[{x:.5,y:.4,anchor:"bottom-right"}],2:[{x:.42,y:.5,anchor:"bottom-right"},{x:.72,y:.6,anchor:"top"}],3:[{x:.3,y:.5,anchor:"bottom-right"},{x:.48,y:.7,anchor:"top-left"},{x:.8,y:.25,anchor:"bottom-right"}],4:[{x:.3,y:.5,anchor:"bottom-right"},{x:.35,y:.8,anchor:"top-left"},{x:.65,y:.27,anchor:"bottom-right"},{x:.8,y:.48,anchor:"top-left"}],5:[{x:.19,y:.6,anchor:"bottom-right"},{x:.38,y:.8,anchor:"top"},{x:.52,y:.38,anchor:"bottom-right"},{x:.7,y:.57,anchor:"top"},{x:.82,y:.2,anchor:"bottom-right"}],6:[{x:.16,y:.65,anchor:"bottom-right"},{x:.38,y:.8,anchor:"top"},{x:.48,y:.46,anchor:"bottom-right"},{x:.55,y:.57,anchor:"top-left"},{x:.8,y:.25,anchor:"bottom-right"},{x:.86,y:.35,anchor:"top-left"}]},Pu=(t,e,n)=>{const i=e[t];return i?i.map(r=>({x:r.x*Ih,y:r.y*n,anchor:r.anchor})):null},y7=(t,e)=>{const n=t.anchor||"center";let i=t.x-e.width/2,r=t.y-e.height/2,o=t.y;switch(n){case"top":i=t.x-e.width/2,r=t.y,o=t.y+e.height/2;break;case"bottom":i=t.x-e.width/2,r=t.y-e.height,o=t.y-e.height/2;break;case"top-left":i=t.x,r=t.y,o=t.y+e.height/2;break;case"top-right":i=t.x-e.width,r=t.y,o=t.y+e.height/2;break;case"bottom-left":i=t.x,r=t.y-e.height,o=t.y-e.height/2;break;case"bottom-right":i=t.x-e.width,r=t.y-e.height,o=t.y-e.height/2;break}return{x:i,y:r,centerY:o}},so=(t,e)=>{const n=e.x-t.x,i=e.y-t.y,r=Math.hypot(n,i)||1;return{x:n/r,y:i/r}},s2=t=>{const{presetRatios:e,arrowHeight:n,Arrow:i}=t;return o=>{var s;const{Title:a,Item:c,data:d,options:l,itemGap:h=24}=o,{title:f,desc:p,items:y=[]}=d,m=Math.min(y.length,p7),g=y.slice(0,m),v=a?u(a,{title:f,desc:p}):null,b=fe(l),w=ye({colorPrimary:b},l).colorTextSecondary||"#737373",_=lt(u(et,{indexes:[0]}));if(y.length===0){const L=(s=Pu(1,e,n))===null||s===void 0?void 0:s[0];if(!L)return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[v,u(W,{children:u(i,{colorPrimary:b,colorShadow:w})})]});const D=L.x-_.width/2,j=L.y-_.height/2;return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[v,M(W,{children:[u(i,{colorPrimary:b,colorShadow:w}),u($t,{}),u(Ht,{children:u(et,{indexes:[0],x:D,y:j})})]})]})}const C=lt(u(c,{indexes:[0],data:d,datum:y[0],positionH:"center"})),E=[],S=[],O=Pu(m,e,n);if(!O)return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[v,M(W,{children:[u(i,{colorPrimary:b,colorShadow:w}),u($t,{})]})]});const I=O,T=I.length>1?so(I[0],I[I.length-1]):{x:1,y:0},R=I.length>1?so(I[0],I[1]):T,A=I.length>1?so(I[I.length-2],I[I.length-1]):T,q=Math.max(C.width,C.height)*.45+h,B=L=>{const{x:D,y:j,centerY:G}=y7(L,C);return{x:D,y:j,centerY:G}};if(I.forEach((L,D)=>{const j=B(L),G=j.centerY<n/2,N=[D],Y=g[D];if(!Y)return;S.push(u(c,{indexes:N,datum:Y,data:d,x:j.x,y:j.y,positionH:"center"}));const V=j.x+C.width-_.width/2,z=G?j.y-_.height/2:j.y+C.height-_.height/2;E.push(u(Zt,{indexes:N,x:V,y:z}))}),I.length>0){const L=I[0],D=L.x-R.x*q-_.width/2,j=L.y-R.y*q-_.height/2;E.push(u(et,{indexes:[0],x:D,y:j}));for(let V=0;V<I.length-1;V++){const z=I[V],k=I[V+1],$=(z.x+k.x)/2,P=(z.y+k.y)/2,H=$-_.width/2,F=P-_.height/2;E.push(u(et,{indexes:[V+1],x:H,y:F}))}const G=I[I.length-1],N=G.x+A.x*q-_.width/2,Y=G.y+A.y*q-_.height/2;E.push(u(et,{indexes:[m],x:N,y:Y}))}return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[v,M(W,{children:[u(i,{colorPrimary:b,colorShadow:w}),u($t,{children:S}),u(Ht,{children:E})]})]})}},v7=({colorPrimary:t="#17CA2C",colorShadow:e="#737373"})=>{const n=ce(t).darken(20).toHexString();return M(W,{width:Ih,height:r2,children:[u("path",{d:"M228.864 159.446C230.266 159.446 231.623 158.768 232.689 157.535L274.263 110.162L265.717 102.923L227.311 148.082C225.977 149.623 224.281 150.47 222.529 150.47H175.404L182.03 158.367C182.795 159.445 182.795 159.446 183.734 159.446H228.864Z",fill:e}),u("path",{d:"M462.869 234.92C464.271 234.92 465.628 234.242 466.695 233.01L508.268 185.636L499.722 178.397L461.316 223.557C459.983 225.098 458.287 225.945 456.534 225.945H409.409L416.035 233.841C416.8 234.92 416.8 234.92 417.74 234.92H462.869Z",fill:e}),u("path",{d:"M697.005 330C698.783 330 700 328.82 700 327.001V256.638C700 254.857 697.848 253.965 696.591 255.225L693.409 258.411V320.402C693.409 322.058 692.069 323.401 690.414 323.401H630.718L627.536 326.587C626.278 327.847 627.169 330 628.947 330H697.005Z",fill:e}),u("path",{d:"M689.642 321.89C690.744 321.89 691.638 320.995 691.638 319.891V250.743C691.638 248.962 689.488 248.07 688.23 249.329L662.647 274.947L520.987 153.863C519.541 152.627 517.703 151.948 515.802 151.948H469.518C470.236 151.949 470.956 152.206 471.53 152.729L498.163 176.978L498.13 177.018L639.84 297.784L619.174 318.477C617.916 319.737 618.807 321.89 620.586 321.89H689.642Z",fill:t}),u("path",{d:"M429.279 198.995L467.208 153.03C468.3 151.716 470.268 151.579 471.531 152.729L498.163 176.978L460.69 221.107C459.173 222.894 456.946 223.924 454.6 223.924H408.473C409.366 223.924 410.252 223.527 410.845 222.764L429.279 198.995Z",fill:n}),u("path",{d:"M408.473 223.924H408.314L408.318 223.92C408.369 223.922 408.421 223.924 408.473 223.924Z",fill:n}),u("path",{d:"M406.524 223.203C407.826 224.318 409.796 224.116 410.845 222.761L429.279 198.932L287.411 77.8866C285.964 76.6523 284.125 75.9742 282.223 75.9742H234.606L234.625 75.9907C235.429 75.9118 236.263 76.1557 236.915 76.7378L263.662 100.621L263.546 100.758L406.524 223.203Z",fill:t}),u("path",{d:"M236.914 76.7386C235.651 75.6097 233.707 75.7513 232.621 77.0513L194.557 123.104L175.644 146.821C175.076 147.535 174.25 147.917 173.409 147.947L173.407 147.95H219.923C222.271 147.95 224.499 146.915 226.017 145.122L263.645 100.649L236.914 76.7386Z",fill:n}),u("path",{d:"M175.648 146.816C174.589 148.145 172.637 148.329 171.348 147.221L4.09334 3.51697C2.68586 2.30767 3.54106 0 5.39671 0H47.5805C49.4864 0 51.3297 0.680433 52.7785 1.91877L194.557 123.104L175.648 146.816Z",fill:t})]})},b7=({colorPrimary:t="#17CA2C",colorShadow:e="#737373"})=>{const n=ce(t).darken(20).toHexString();return M(W,{width:Ih,height:o2,children:[u("path",{d:"M19.0526 324L12.6762 329.482C11.2703 330.691 12.1234 333 13.976 333H56.1578C58.058 333 59.896 332.321 61.3413 331.085L201.854 210.901L194.249 201.693L54.0527 321.606C52.246 323.151 49.9486 324 47.5732 324H19.0526Z",fill:e}),u("path",{d:"M234.587 248L241.131 255.922C241.656 256.552 242.382 256.909 243.134 256.983L243.115 257H290.716C292.618 257 294.457 256.322 295.903 255.087L437.091 134.536L429.305 125.5L288.613 245.609C286.805 247.153 284.507 248 282.132 248H234.587Z",fill:e}),u("path",{d:"M461.123 162.429L475.642 179.918C476.237 180.635 477.092 181.001 477.951 181H524.22C526.121 181 527.959 180.321 529.404 179.085L670.786 58.1578L662.326 49.6809L522.115 169.606C520.309 171.151 518.011 172 515.636 172H469.369L461.123 162.429Z",fill:e}),u("path",{d:"M687.912 74.8875C690.374 75.9052 693.412 74.1668 693.412 71.1716V11H698.004C699.106 11 700 11.8954 700 13V82.1716C700 83.9534 697.85 84.8457 696.593 83.5858L687.912 74.8875Z",fill:e}),u("path",{d:"M689.419 0C690.522 0 691.415 0.895432 691.415 2V71.1716C691.415 72.9534 689.265 73.8457 688.008 72.5858L662.433 46.9598L520.819 168.085C519.374 169.321 517.536 170 515.636 170H469.367C470.084 169.999 470.804 169.742 471.379 169.219L498.003 144.961L497.969 144.922L639.634 24.115L618.975 3.41421C617.717 2.15428 618.608 0 620.386 0H689.419Z",fill:t}),u("path",{d:"M429.141 122.937L467.058 168.918C468.149 170.232 470.116 170.369 471.378 169.219L498.003 144.961L460.542 100.818C459.025 99.0305 456.798 98 454.453 98H408.341C409.234 98.0001 410.12 98.3968 410.712 99.1606L429.141 122.937Z",fill:n}),u("path",{d:"M408.341 98H408.183L408.186 98.004C408.237 98.0013 408.289 98 408.341 98Z",fill:n}),u("path",{d:"M406.393 98.721C407.695 97.606 409.664 97.8077 410.712 99.1633L429.141 123L287.318 244.087C285.872 245.322 284.033 246 282.132 246H234.53L234.55 245.983C235.353 246.062 236.187 245.818 236.839 245.236L263.577 221.345L263.461 221.208L406.393 98.721Z",fill:t}),u("path",{d:"M236.837 245.235C235.575 246.365 233.631 246.223 232.546 244.922L194.494 198.854L175.588 175.129C175.019 174.415 174.194 174.032 173.353 174.002L173.351 174H219.852C222.199 174 224.427 175.035 225.944 176.829L263.56 221.317L236.837 245.235Z",fill:n}),u("path",{d:"M175.593 175.135C174.533 173.805 172.581 173.622 171.291 174.73L4.09013 318.484C2.68329 319.693 3.53868 322 5.394 322H47.5627C49.4695 322 51.3136 321.319 52.7627 320.08L194.494 198.854L175.593 175.135Z",fill:t})]})},x7=s2({arrowHeight:r2,presetRatios:g7,Arrow:v7}),w7=s2({arrowHeight:o2,presetRatios:m7,Arrow:b7});jt("list-zigzag-down",{component:x7,composites:["title","item"]});jt("list-zigzag-up",{component:w7,composites:["title","item"]});const C7=t=>{const{Title:e,Item:n,data:i,radius:r=150,startMode:o="top"}=t,{title:s,desc:a,items:c=[]}=i,d=e?u(e,{title:s,desc:a}):null,l=lt(u(et,{indexes:[0]})),h=lt(u(n,{indexes:[0],data:i,datum:c[0],positionH:"center"})),f=[],p=[];if(c.length===0)return f.push(u(et,{indexes:[0],x:-l.width/2,y:-l.height/2})),M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[d,u(W,{children:u(Ht,{children:f})})]});const y=Math.max(h.width,h.height),m=Math.max(r,y),g=m+y/2,v=c.map(()=>{const C=h.width,E=h.height;return(C+E)/2}),b=v.reduce((C,E)=>C+E,0);let x;o==="equal"?x=-Math.PI/2:x=-Math.PI/2+2*Math.PI/c.length/2;let w=x;c.forEach((C,E)=>{const S=v[E]/b*2*Math.PI,O=w+S/2;w+=S;const I=g+m*Math.cos(O)-h.width/2,T=g+m*Math.sin(O)-h.height/2;p.push(u(n,{indexes:[E],datum:C,data:i,x:I,y:T}));const R=m-Math.max(h.width,h.height)/2-20,A=g+R*Math.cos(O)-l.width/2,q=g+R*Math.sin(O)-l.height/2;f.push(u(Zt,{indexes:[E],x:A,y:q}))});const _=m-Math.max(h.width,h.height)/2-20;if(c.length>0)for(let C=0;C<c.length;C++){const E=C*2*Math.PI/c.length-Math.PI/2,S=(C+1)%c.length*2*Math.PI/c.length-Math.PI/2;let O;if(C===c.length-1){const R=S+2*Math.PI-E;O=E+R/2}else O=(E+S)/2;const I=g+_*Math.cos(O)-l.width/2,T=g+_*Math.sin(O)-l.height/2;f.push(u(et,{indexes:[C+1],x:I,y:T}))}return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[d,M(W,{children:[u($t,{children:p}),u(Ht,{children:f})]})]})};jt("relation-circle",{component:C7,composites:["title","item"]});function Mi(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{d(i.next(l))}catch(h){s(h)}}function c(l){try{d(i.throw(l))}catch(h){s(h)}}function d(l){l.done?o(l.value):r(l.value).then(a,c)}d((i=i.apply(t,[])).next())})}const _7={abs:Math.abs,ceil:Math.ceil,floor:Math.floor,max:Math.max,min:Math.min,round:Math.round,sqrt:Math.sqrt,pow:Math.pow};class me extends Error{constructor(e,n,i){super(e),this.position=n,this.token=i,this.name="ExpressionError"}}var Rt;(function(t){t[t.STRING=0]="STRING",t[t.NUMBER=1]="NUMBER",t[t.BOOLEAN=2]="BOOLEAN",t[t.NULL=3]="NULL",t[t.IDENTIFIER=4]="IDENTIFIER",t[t.OPERATOR=5]="OPERATOR",t[t.FUNCTION=6]="FUNCTION",t[t.DOT=7]="DOT",t[t.BRACKET_LEFT=8]="BRACKET_LEFT",t[t.BRACKET_RIGHT=9]="BRACKET_RIGHT",t[t.PAREN_LEFT=10]="PAREN_LEFT",t[t.PAREN_RIGHT=11]="PAREN_RIGHT",t[t.COMMA=12]="COMMA",t[t.QUESTION=13]="QUESTION",t[t.COLON=14]="COLON",t[t.DOLLAR=15]="DOLLAR"})(Rt||(Rt={}));const E7=new Set([32,9,10,13]),S7=new Set([43,45,42,47,37,33,38,124,61,60,62]),O7=new Map([["true",Rt.BOOLEAN],["false",Rt.BOOLEAN],["null",Rt.NULL]]),ao=new Map([["===",!0],["!==",!0],["<=",!0],[">=",!0],["&&",!0],["||",!0],["+",!0],["-",!0],["*",!0],["/",!0],["%",!0],["!",!0],["<",!0],[">",!0]]),I7=new Map([[46,Rt.DOT],[91,Rt.BRACKET_LEFT],[93,Rt.BRACKET_RIGHT],[40,Rt.PAREN_LEFT],[41,Rt.PAREN_RIGHT],[44,Rt.COMMA],[63,Rt.QUESTION],[58,Rt.COLON],[36,Rt.DOLLAR]]),a2=new Map;for(const[t,e]of I7.entries())a2.set(t,{type:e,value:String.fromCharCode(t)});function pi(t){return t>=48&&t<=57}function Zd(t){return t>=97&&t<=122||t>=65&&t<=90||t===95}function $u(t){return Zd(t)||pi(t)}function A7(t){return S7.has(t)}var ue;(function(t){t[t.Program=0]="Program",t[t.Literal=1]="Literal",t[t.Identifier=2]="Identifier",t[t.MemberExpression=3]="MemberExpression",t[t.CallExpression=4]="CallExpression",t[t.BinaryExpression=5]="BinaryExpression",t[t.UnaryExpression=6]="UnaryExpression",t[t.ConditionalExpression=7]="ConditionalExpression"})(ue||(ue={}));const T7=new Map([["||",2],["&&",3],["===",4],["!==",4],[">",5],[">=",5],["<",5],["<=",5],["+",6],["-",6],["*",7],["/",7],["%",7],["!",8]]),M7={type:ue.Literal,value:null},R7={type:ue.Literal,value:!0},k7={type:ue.Literal,value:!1},L7=t=>{let e=0;const n=t.length,i=()=>e>=n?null:t[e],r=()=>t[e++],o=h=>{const f=i();return f!==null&&f.type===h},s=h=>h.type===Rt.OPERATOR?T7.get(h.value)||-1:h.type===Rt.DOT||h.type===Rt.BRACKET_LEFT?9:h.type===Rt.QUESTION?1:-1,a=h=>{let f,p;if(r().type===Rt.DOT){if(!o(Rt.IDENTIFIER)){const m=i();throw new me("Expected property name",e,m?m.value:"<end of input>")}const y=r();f={type:ue.Identifier,name:y.value},p=!1}else{if(f=d(0),!o(Rt.BRACKET_RIGHT)){const y=i();throw new me("Expected closing bracket",e,y?y.value:"<end of input>")}r(),p=!0}return{type:ue.MemberExpression,object:h,property:f,computed:p}},c=()=>{const h=i();if(!h)throw new me("Unexpected end of input",e,"<end of input>");if(h.type===Rt.OPERATOR&&(h.value==="!"||h.value==="-")){r();const f=c();return{type:ue.UnaryExpression,operator:h.value,argument:f,prefix:!0}}switch(h.type){case Rt.NUMBER:return r(),{type:ue.Literal,value:Number(h.value)};case Rt.STRING:return r(),{type:ue.Literal,value:h.value};case Rt.BOOLEAN:return r(),h.value==="true"?R7:k7;case Rt.NULL:return r(),M7;case Rt.IDENTIFIER:return r(),{type:ue.Identifier,name:h.value};case Rt.FUNCTION:return(()=>{const f=r(),p=[];if(!o(Rt.PAREN_LEFT)){const y=i();throw new me("Expected opening parenthesis after function name",e,y?y.value:"<end of input>")}for(r();;){if(o(Rt.PAREN_RIGHT)){r();break}if(!i()){const m=i();throw new me("Expected closing parenthesis",e,m?m.value:"<end of input>")}if(p.length>0){if(!o(Rt.COMMA)){const m=i();throw new me("Expected comma between function arguments",e,m?m.value:"<end of input>")}r()}const y=d(0);p.push(y)}return{type:ue.CallExpression,callee:{type:ue.Identifier,name:f.value},arguments:p}})();case Rt.PAREN_LEFT:{r();const f=d(0);if(!o(Rt.PAREN_RIGHT)){const p=i();throw new me("Expected closing parenthesis",e,p?p.value:"<end of input>")}return r(),f}default:throw new me(`Unexpected token: ${h.type}`,e,h.value)}},d=(h=0)=>{let f=c();for(;e<n;){const p=t[e],y=s(p);if(y<=h)break;if(p.type!==Rt.QUESTION)if(p.type!==Rt.OPERATOR){if(p.type!==Rt.DOT&&p.type!==Rt.BRACKET_LEFT)break;f=a(f)}else{r();const m=d(y);f={type:ue.BinaryExpression,operator:p.value,left:f,right:m}}else{r();const m=d(0);if(!o(Rt.COLON)){const v=i();throw new me("Expected : in conditional expression",e,v?v.value:"<end of input>")}r();const g=d(0);f={type:ue.ConditionalExpression,test:f,consequent:m,alternate:g}}}return f},l=d();return{type:ue.Program,body:l}},P7=(t,e,n)=>{let i=e;n&&(i={...e,context:{...e.context,...n}});const r=o=>{switch(o.type){case ue.Literal:return(s=>s.value)(o);case ue.Identifier:return(s=>{if(!(s.name in i.context))throw new me(`Undefined variable: ${s.name}`);return i.context[s.name]})(o);case ue.MemberExpression:return(s=>{const a=r(s.object);if(a==null)throw new me("Cannot access property of null or undefined");return a[s.computed?r(s.property):s.property.name]})(o);case ue.CallExpression:return(s=>{const a=i.functions[s.callee.name];if(!a)throw new me(`Undefined function: ${s.callee.name}`);return a(...s.arguments.map((c=>r(c))))})(o);case ue.BinaryExpression:return(s=>{if(s.operator==="&&"){const d=r(s.left);return d&&r(s.right)}if(s.operator==="||")return r(s.left)||r(s.right);const a=r(s.left),c=r(s.right);switch(s.operator){case"+":return a+c;case"-":return a-c;case"*":return a*c;case"/":return a/c;case"%":return a%c;case"===":return a===c;case"!==":return a!==c;case">":return a>c;case">=":return a>=c;case"<":return a<c;case"<=":return a<=c;default:throw new me(`Unknown operator: ${s.operator}`)}})(o);case ue.UnaryExpression:return(s=>{const a=r(s.argument);if(s.prefix)switch(s.operator){case"!":return!a;case"-":if(typeof a!="number")throw new me(`Cannot apply unary - to non-number: ${a}`);return-a;default:throw new me(`Unknown operator: ${s.operator}`)}throw new me(`Postfix operators are not supported: ${s.operator}`)})(o);case ue.ConditionalExpression:return(s=>{const a=r(s.test);return r(a?s.consequent:s.alternate)})(o);default:throw new me(`Evaluation error: Unsupported node type: ${o.type}`)}};return r(t.body)};function c2(t){const e=(r=>{const o=r,s=o.length,a=new Array(Math.ceil(s/3));let c=0,d=0;function l(g){const v=d+1;d++;let b="",x=!1;for(;d<s;){const w=o.charCodeAt(d);if(w===g)return x||(b=o.substring(v,d)),d++,{type:Rt.STRING,value:b};w===92?(x||(b=o.substring(v,d),x=!0),d++,b+=o[d]):x&&(b+=o[d]),d++}throw new me(`Unterminated string starting with ${String.fromCharCode(g)}`,d,o.substring(Math.max(0,d-10),d))}function h(){const g=d;for(o.charCodeAt(d)===45&&d++;d<s&&pi(o.charCodeAt(d));)d++;if(d<s&&o.charCodeAt(d)===46)for(d++;d<s&&pi(o.charCodeAt(d));)d++;const v=o.slice(g,d);return{type:Rt.NUMBER,value:v}}function f(){d++;const g=d;if(d<s&&Zd(o.charCodeAt(d)))for(d++;d<s&&$u(o.charCodeAt(d));)d++;const v=o.slice(g,d);return{type:Rt.FUNCTION,value:v}}function p(){const g=d++;for(;d<s&&$u(o.charCodeAt(d));)d++;const v=o.slice(g,d),b=O7.get(v);return b?{type:b,value:v}:{type:Rt.IDENTIFIER,value:v}}function y(){if(d+2<s){const v=o.substring(d,d+3);if(ao.has(v))return d+=3,{type:Rt.OPERATOR,value:v}}if(d+1<s){const v=o.substring(d,d+2);if(ao.has(v))return d+=2,{type:Rt.OPERATOR,value:v}}const g=o[d];if(ao.has(g))return d++,{type:Rt.OPERATOR,value:g};throw new me(`Unknown operator at position ${d}: ${o.substring(d,d+1)}`,d,o.substring(Math.max(0,d-10),d))}for(;d<s;){const g=o.charCodeAt(d);if(m=g,E7.has(m)){d++;continue}const v=a2.get(g);if(v)a[c++]=v,d++;else if(g!==34&&g!==39)if(pi(g)||g===45&&d+1<s&&pi(o.charCodeAt(d+1)))a[c++]=h();else if(g!==64)if(Zd(g))a[c++]=p();else{if(!A7(g))throw new me(`Unexpected character: ${o[d]}`,d,o.substring(Math.max(0,d-10),d));a[c++]=y()}else a[c++]=f();else a[c++]=l(g)}var m;return c===a.length?a:a.slice(0,c)})(t),n=L7(e),i=((r={},o={})=>({context:r,functions:o}))({},_7);return(r={})=>P7(n,i,r)}function $7(t,e={}){return c2(t)(e)}function q7(t,e){if(typeof t!="string")return;const n=t.trim();if(n)try{return c2(n),$7(n,e)}catch{return}}function Xn(t){return typeof t=="number"}function qu(t){if(!t)return[0,0,0];if(Xn(t))return[t,t,t];if(Array.isArray(t)&&t.length===0)return[0,0,0];const[e,n=e,i=e]=t;return[e,n,i]}function H7(t){return Xn(t)?!0:Array.isArray(t)?t.every(e=>Xn(e)):!1}function Pe(t){return t==null}function l2(t){return typeof t=="string"}function d2(t){return typeof t=="function"}function Ah(t,e){if(typeof t=="function")return t;if(typeof t=="string"){const n=t;return(...i)=>{const r={};for(let o=0;o<e.length;o++)r[e[o]]=i[o];return q7(n,r)}}return()=>t}function co(t,e,n="node"){if(Pe(t))return()=>e;if(l2(t)){const i=Ah(t,[n]);return r=>{const o=i(r);return Xn(o)?o:e}}return d2(t)?t:Xn(t)?()=>t:()=>e}function Hu(t,e=10,n="node"){if(Pe(t))return()=>e;if(l2(t)){const i=Ah(t,[n]);return r=>{const o=i(r);return H7(o)?o:e}}return d2(t)?t:Xn(t)?()=>t:Array.isArray(t)?()=>t:()=>e}function z7(t){var e;return[t.x,t.y,(e=t.z)!==null&&e!==void 0?e:0]}class j7{constructor(e,n={}){this.edgeIdCounter=new Map,this.nodeMap=N7(e.nodes,n.node),this.edgeMap=F7(e.edges||[],n.edge,this.getEdgeId.bind(this))}data(){return{nodes:this.nodeMap,edges:this.edgeMap}}replace(e){this.nodeMap=e.nodes,this.edgeMap=e.edges,this.clearCache()}nodes(){return Array.from(this.nodeMap.values())}node(e){return this.nodeMap.get(e)}nodeAt(e){this.indexNodeCache||this.buildNodeIndexCache();const n=this.indexNodeCache.get(e);return n?this.nodeMap.get(n):void 0}nodeIndexOf(e){var n;return this.nodeIndexCache||this.buildNodeIndexCache(),(n=this.nodeIndexCache.get(e))!==null&&n!==void 0?n:-1}firstNode(){return this.nodeMap.values().next().value}forEachNode(e){let n=0;this.nodeMap.forEach(i=>e(i,n++))}originalNode(e){const n=this.nodeMap.get(e);return n?._original}nodeCount(){return this.nodeMap.size}edges(){return Array.from(this.edgeMap.values())}edge(e){return this.edgeMap.get(e)}firstEdge(){return this.edgeMap.values().next().value}forEachEdge(e){let n=0;this.edgeMap.forEach(i=>e(i,n++))}originalEdge(e){const n=this.edgeMap.get(e);return n?._original}edgeCount(){return this.edgeMap.size}getEdgeId(e){if(e.id)return e.id;const n=`${e.source}-${e.target}`,i=this.edgeIdCounter.get(n)||0,r=i===0?n:`${n}-${i}`;return this.edgeIdCounter.set(n,i+1),r}degree(e,n="both"){this.degreeCache||this.buildDegreeCache();const i=this.degreeCache.get(e);return i?i[n]:0}neighbors(e,n="both"){if((!this.outAdjacencyCache||!this.inAdjacencyCache)&&this.buildAdjacencyCache(),n==="out")return Array.from(this.outAdjacencyCache.get(e)||[]);if(n==="in")return Array.from(this.inAdjacencyCache.get(e)||[]);if(this.bothAdjacencyCache)return Array.from(this.bothAdjacencyCache.get(e)||[]);const i=this.inAdjacencyCache.get(e),r=this.outAdjacencyCache.get(e);if(!i&&!r)return[];if(!i)return Array.from(r);if(!r)return Array.from(i);const o=new Set;return i.forEach(s=>o.add(s)),r.forEach(s=>o.add(s)),Array.from(o)}successors(e){return this.neighbors(e,"out")}predecessors(e){return this.neighbors(e,"in")}setNodeOrder(e){const n=new Map;for(const i of e)n.set(i.id,i);this.nodeMap=n,this.nodeIndexCache=void 0,this.indexNodeCache=void 0}clearCache(){this.degreeCache=void 0,this.inAdjacencyCache=void 0,this.outAdjacencyCache=void 0,this.bothAdjacencyCache=void 0,this.nodeIndexCache=void 0,this.indexNodeCache=void 0}buildDegreeCache(){this.degreeCache=new Map;for(const e of this.edges()){const{source:n,target:i}=e;if(e.source===e.target)continue;this.degreeCache.has(n)||this.degreeCache.set(n,{in:0,out:0,both:0});const r=this.degreeCache.get(e.source);r&&(r.out++,r.both++),this.degreeCache.has(i)||this.degreeCache.set(i,{in:0,out:0,both:0});const o=this.degreeCache.get(e.target);o&&(o.in++,o.both++)}}buildAdjacencyCache(){this.inAdjacencyCache=new Map,this.outAdjacencyCache=new Map;for(const e of this.edges())!this.nodeMap.has(e.source)||!this.nodeMap.has(e.target)||(this.outAdjacencyCache.has(e.source)||this.outAdjacencyCache.set(e.source,new Set),this.outAdjacencyCache.get(e.source).add(e.target),this.inAdjacencyCache.has(e.target)||this.inAdjacencyCache.set(e.target,new Set),this.inAdjacencyCache.get(e.target).add(e.source))}buildNodeIndexCache(){this.nodeIndexCache=new Map,this.indexNodeCache=new Map;let e=0;this.nodeMap.forEach((n,i)=>{this.nodeIndexCache.set(i,e),this.indexNodeCache.set(e,i),e++})}destroy(){this.clearCache(),this.nodeMap.clear(),this.edgeMap.clear(),this.edgeIdCounter.clear()}}const D7=["id","x","y","z","vx","vy","vz","fx","fy","fz","parentId"],B7=["id","source","target","points"];function N7(t,e){if(!t)throw new Error("Data.nodes is required");const n=new Map;for(const i of t){const r={_original:i};for(const o of D7){const s=i[o];Pe(s)||(r[o]=s)}if(e){const o=e(i);for(const s in o){const a=o[s];Pe(a)||(r[s]=a)}}if(Pe(r.id))throw new Error("Node is missing id field");n.set(r.id,r)}return n}function F7(t,e,n){const i=new Map;for(const r of t){const o={_original:r};for(const s of B7){const a=r[s];Pe(a)||(o[s]=a)}if(e){const s=e(r);for(const a in s){const c=s[a];Pe(c)||(o[a]=c)}}if(Pe(o.source)||Pe(o.target))throw new Error("Edge is missing source or target field");Pe(o.id)&&(o.id=n?.(r)),i.set(o.id,o)}return i}class W7{constructor(e,n={}){this.graph=new j7(e,n)}export(){return this.graph.data()}replace(e){this.graph.replace(e)}forEachNode(e){this.graph.forEachNode(e)}forEachEdge(e){this.graph.forEachEdge((n,i)=>{n.sourceNode=this.graph.node(n.source),n.targetNode=this.graph.node(n.target),e(n,i)})}destroy(){this.graph.destroy()}}const h2=Symbol("Comlink.proxy"),G7=Symbol("Comlink.endpoint"),Y7=Symbol("Comlink.releaseProxy"),lo=Symbol("Comlink.finalizer"),ir=Symbol("Comlink.thrown"),u2=t=>typeof t=="object"&&t!==null||typeof t=="function",V7={canHandle:t=>u2(t)&&t[h2],serialize(t){const{port1:e,port2:n}=new MessageChannel;return p2(t,e),[n,[n]]},deserialize(t){return t.start(),m2(t)}},X7={canHandle:t=>u2(t)&&ir in t,serialize({value:t}){let e;return t instanceof Error?e={isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:e={isError:!1,value:t},[e,[]]},deserialize(t){throw t.isError?Object.assign(new Error(t.value.message),t.value):t.value}},f2=new Map([["proxy",V7],["throw",X7]]);function U7(t,e){for(const n of t)if(e===n||n==="*"||n instanceof RegExp&&n.test(e))return!0;return!1}function p2(t,e=globalThis,n=["*"]){e.addEventListener("message",function i(r){if(!r||!r.data)return;if(!U7(n,r.origin)){console.warn(`Invalid origin '${r.origin}' for comlink proxy`);return}const{id:o,type:s,path:a}=Object.assign({path:[]},r.data),c=(r.data.argumentList||[]).map(wn);let d;try{const l=a.slice(0,-1).reduce((f,p)=>f[p],t),h=a.reduce((f,p)=>f[p],t);switch(s){case"GET":d=h;break;case"SET":l[a.slice(-1)[0]]=wn(r.data.value),d=!0;break;case"APPLY":d=h.apply(l,c);break;case"CONSTRUCT":{const f=new h(...c);d=e5(f)}break;case"ENDPOINT":{const{port1:f,port2:p}=new MessageChannel;p2(t,p),d=t5(f,[f])}break;case"RELEASE":d=void 0;break;default:return}}catch(l){d={value:l,[ir]:0}}Promise.resolve(d).catch(l=>({value:l,[ir]:0})).then(l=>{const[h,f]=mr(l);e.postMessage(Object.assign(Object.assign({},h),{id:o}),f),s==="RELEASE"&&(e.removeEventListener("message",i),g2(e),lo in t&&typeof t[lo]=="function"&&t[lo]())}).catch(l=>{const[h,f]=mr({value:new TypeError("Unserializable return value"),[ir]:0});e.postMessage(Object.assign(Object.assign({},h),{id:o}),f)})}),e.start&&e.start()}function K7(t){return t.constructor.name==="MessagePort"}function g2(t){K7(t)&&t.close()}function m2(t,e){const n=new Map;return t.addEventListener("message",function(r){const{data:o}=r;if(!o||!o.id)return;const s=n.get(o.id);if(s)try{s(o)}finally{n.delete(o.id)}}),Qd(t,n,[],e)}function Vi(t){if(t)throw new Error("Proxy has been released and is not useable")}function y2(t){return Bn(t,new Map,{type:"RELEASE"}).then(()=>{g2(t)})}const pr=new WeakMap,gr="FinalizationRegistry"in globalThis&&new FinalizationRegistry(t=>{const e=(pr.get(t)||0)-1;pr.set(t,e),e===0&&y2(t)});function Z7(t,e){const n=(pr.get(e)||0)+1;pr.set(e,n),gr&&gr.register(t,e,t)}function Q7(t){gr&&gr.unregister(t)}function Qd(t,e,n=[],i=function(){}){let r=!1;const o=new Proxy(i,{get(s,a){if(Vi(r),a===Y7)return()=>{Q7(o),y2(t),e.clear(),r=!0};if(a==="then"){if(n.length===0)return{then:()=>o};const c=Bn(t,e,{type:"GET",path:n.map(d=>d.toString())}).then(wn);return c.then.bind(c)}return Qd(t,e,[...n,a])},set(s,a,c){Vi(r);const[d,l]=mr(c);return Bn(t,e,{type:"SET",path:[...n,a].map(h=>h.toString()),value:d},l).then(wn)},apply(s,a,c){Vi(r);const d=n[n.length-1];if(d===G7)return Bn(t,e,{type:"ENDPOINT"}).then(wn);if(d==="bind")return Qd(t,e,n.slice(0,-1));const[l,h]=zu(c);return Bn(t,e,{type:"APPLY",path:n.map(f=>f.toString()),argumentList:l},h).then(wn)},construct(s,a){Vi(r);const[c,d]=zu(a);return Bn(t,e,{type:"CONSTRUCT",path:n.map(l=>l.toString()),argumentList:c},d).then(wn)}});return Z7(o,t),o}function J7(t){return Array.prototype.concat.apply([],t)}function zu(t){const e=t.map(mr);return[e.map(n=>n[0]),J7(e.map(n=>n[1]))]}const v2=new WeakMap;function t5(t,e){return v2.set(t,e),t}function e5(t){return Object.assign(t,{[h2]:!0})}function mr(t){for(const[e,n]of f2)if(n.canHandle(t)){const[i,r]=n.serialize(t);return[{type:"HANDLER",name:e,value:i},r]}return[{type:"RAW",value:t},v2.get(t)||[]]}function wn(t){switch(t.type){case"HANDLER":return f2.get(t.name).deserialize(t.value);case"RAW":return t.value}}function Bn(t,e,n,i){return new Promise(r=>{const o=n5();e.set(o,r),t.start&&t.start(),t.postMessage(Object.assign({id:o},n),i)})}function n5(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}class i5{constructor(){this.worker=null,this.workerApi=null}execute(e,n,i){return Mi(this,void 0,void 0,function*(){if(this.worker||(yield this.initWorker()),!this.workerApi)throw new Error("Worker API not initialized");return yield this.workerApi.execute(e,n,i)})}destroy(){this.workerApi&&this.workerApi.destroy(),this.worker&&(this.worker.terminate(),this.worker=null,this.workerApi=null)}initWorker(){return Mi(this,void 0,void 0,function*(){const e=this.resolveWorkerPath(),i=e.includes("/lib/")||e.endsWith(".mjs")?"module":"classic";this.worker=new Worker(e,{type:i}),this.workerApi=m2(this.worker)})}resolveWorkerPath(){const e=(()=>{if(typeof document>"u")return null;const n=document.currentScript;if(n?.src)return n.src;const i=document.getElementsByTagName("script");for(let r=i.length-1;r>=0;r--){const o=i[r].src;if(o&&(o.includes("index.js")||o.includes("index.min.js")))return o}return null})();if(e){if(e.includes("index.js")||e.includes("index.min.js")){const r=e.replace(/index(\.min)?\.(m?js)(\?.*)?$/,"worker.js");if(r!==e)return r}const n=e.replace(/\/runtime\/[^/]+\.(m?js)(\?.*)?$/,"/worker.js");if(n!==e)return n;const i=e.replace(/\/[^/]+\.(m?js)(\?.*)?$/,"/worker.js");if(i!==e)return i}return"./worker.js"}}class r5{constructor(e){this.supervisor=null,this.initialOptions=this.mergeOptions(this.getDefaultOptions(),e)}get options(){return this.runtimeOptions||this.initialOptions}mergeOptions(e,n){return Object.assign({},e,n||{})}execute(e,n){return Mi(this,void 0,void 0,function*(){this.runtimeOptions=this.mergeOptions(this.initialOptions,n);const{node:i,edge:r,enableWorker:o}=this.runtimeOptions;this.context=new W7(e,{node:i,edge:r}),this.model=this.context.graph,o&&typeof Worker<"u"?yield this.layoutInWorker(e,this.runtimeOptions):yield this.layout(this.runtimeOptions)})}layoutInWorker(e,n){var i;return Mi(this,void 0,void 0,function*(){try{this.supervisor||(this.supervisor=new i5);const r=yield this.supervisor.execute(this.id,e,n);(i=this.context)===null||i===void 0||i.replace(r)}catch(r){console.error("Layout in worker failed, fallback to main thread layout.",r),yield this.layout(n)}})}forEachNode(e){this.context.forEachNode(e)}forEachEdge(e){this.context.forEachEdge(e)}destroy(){var e;(e=this.context)===null||e===void 0||e.destroy(),this.model=null,this.context=null,this.supervisor&&(this.supervisor.destroy(),this.supervisor=null)}}function o5(t){return Array.isArray(t)}var s5=(function(t){var e=typeof t;return t!==null&&e==="object"||e==="function"}),a5=function(t){return typeof t=="object"&&t!==null},c5={}.toString,b2=function(t,e){return c5.call(t)==="[object "+e+"]"},l5=function(t){if(!a5(t)||!b2(t,"Object"))return!1;if(Object.getPrototypeOf(t)===null)return!0;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},Xi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof iu<"u"?iu:typeof self<"u"?self:{};function d5(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Th(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ho,ju;function h5(){if(ju)return ho;ju=1;function t(){this.__data__=[],this.size=0}return ho=t,ho}var uo,Du;function Jn(){if(Du)return uo;Du=1;function t(e,n){return e===n||e!==e&&n!==n}return uo=t,uo}var fo,Bu;function kr(){if(Bu)return fo;Bu=1;var t=Jn();function e(n,i){for(var r=n.length;r--;)if(t(n[r][0],i))return r;return-1}return fo=e,fo}var po,Nu;function u5(){if(Nu)return po;Nu=1;var t=kr(),e=Array.prototype,n=e.splice;function i(r){var o=this.__data__,s=t(o,r);if(s<0)return!1;var a=o.length-1;return s==a?o.pop():n.call(o,s,1),--this.size,!0}return po=i,po}var go,Fu;function f5(){if(Fu)return go;Fu=1;var t=kr();function e(n){var i=this.__data__,r=t(i,n);return r<0?void 0:i[r][1]}return go=e,go}var mo,Wu;function p5(){if(Wu)return mo;Wu=1;var t=kr();function e(n){return t(this.__data__,n)>-1}return mo=e,mo}var yo,Gu;function g5(){if(Gu)return yo;Gu=1;var t=kr();function e(n,i){var r=this.__data__,o=t(r,n);return o<0?(++this.size,r.push([n,i])):r[o][1]=i,this}return yo=e,yo}var vo,Yu;function Lr(){if(Yu)return vo;Yu=1;var t=h5(),e=u5(),n=f5(),i=p5(),r=g5();function o(s){var a=-1,c=s==null?0:s.length;for(this.clear();++a<c;){var d=s[a];this.set(d[0],d[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=i,o.prototype.set=r,vo=o,vo}var bo,Vu;function m5(){if(Vu)return bo;Vu=1;var t=Lr();function e(){this.__data__=new t,this.size=0}return bo=e,bo}var xo,Xu;function y5(){if(Xu)return xo;Xu=1;function t(e){var n=this.__data__,i=n.delete(e);return this.size=n.size,i}return xo=t,xo}var wo,Uu;function v5(){if(Uu)return wo;Uu=1;function t(e){return this.__data__.get(e)}return wo=t,wo}var Co,Ku;function b5(){if(Ku)return Co;Ku=1;function t(e){return this.__data__.has(e)}return Co=t,Co}var _o,Zu;function x2(){if(Zu)return _o;Zu=1;var t=typeof Xi=="object"&&Xi&&Xi.Object===Object&&Xi;return _o=t,_o}var Eo,Qu;function De(){if(Qu)return Eo;Qu=1;var t=x2(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Eo=n,Eo}var So,Ju;function ti(){if(Ju)return So;Ju=1;var t=De(),e=t.Symbol;return So=e,So}var Oo,tf;function x5(){if(tf)return Oo;tf=1;var t=ti(),e=Object.prototype,n=e.hasOwnProperty,i=e.toString,r=t?t.toStringTag:void 0;function o(s){var a=n.call(s,r),c=s[r];try{s[r]=void 0;var d=!0}catch{}var l=i.call(s);return d&&(a?s[r]=c:delete s[r]),l}return Oo=o,Oo}var Io,ef;function w5(){if(ef)return Io;ef=1;var t=Object.prototype,e=t.toString;function n(i){return e.call(i)}return Io=n,Io}var Ao,nf;function Mn(){if(nf)return Ao;nf=1;var t=ti(),e=x5(),n=w5(),i="[object Null]",r="[object Undefined]",o=t?t.toStringTag:void 0;function s(a){return a==null?a===void 0?r:i:o&&o in Object(a)?e(a):n(a)}return Ao=s,Ao}var To,rf;function $e(){if(rf)return To;rf=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return To=t,To}var Mo,of;function Pi(){if(of)return Mo;of=1;var t=Mn(),e=$e(),n="[object AsyncFunction]",i="[object Function]",r="[object GeneratorFunction]",o="[object Proxy]";function s(a){if(!e(a))return!1;var c=t(a);return c==i||c==r||c==n||c==o}return Mo=s,Mo}var Ro,sf;function C5(){if(sf)return Ro;sf=1;var t=De(),e=t["__core-js_shared__"];return Ro=e,Ro}var ko,af;function _5(){if(af)return ko;af=1;var t=C5(),e=(function(){var i=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""})();function n(i){return!!e&&e in i}return ko=n,ko}var Lo,cf;function w2(){if(cf)return Lo;cf=1;var t=Function.prototype,e=t.toString;function n(i){if(i!=null){try{return e.call(i)}catch{}try{return i+""}catch{}}return""}return Lo=n,Lo}var Po,lf;function E5(){if(lf)return Po;lf=1;var t=Pi(),e=_5(),n=$e(),i=w2(),r=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,a=Object.prototype,c=s.toString,d=a.hasOwnProperty,l=RegExp("^"+c.call(d).replace(r,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(f){if(!n(f)||e(f))return!1;var p=t(f)?l:o;return p.test(i(f))}return Po=h,Po}var $o,df;function S5(){if(df)return $o;df=1;function t(e,n){return e?.[n]}return $o=t,$o}var qo,hf;function Rn(){if(hf)return qo;hf=1;var t=E5(),e=S5();function n(i,r){var o=e(i,r);return t(o)?o:void 0}return qo=n,qo}var Ho,uf;function Mh(){if(uf)return Ho;uf=1;var t=Rn(),e=De(),n=t(e,"Map");return Ho=n,Ho}var zo,ff;function Pr(){if(ff)return zo;ff=1;var t=Rn(),e=t(Object,"create");return zo=e,zo}var jo,pf;function O5(){if(pf)return jo;pf=1;var t=Pr();function e(){this.__data__=t?t(null):{},this.size=0}return jo=e,jo}var Do,gf;function I5(){if(gf)return Do;gf=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Do=t,Do}var Bo,mf;function A5(){if(mf)return Bo;mf=1;var t=Pr(),e="__lodash_hash_undefined__",n=Object.prototype,i=n.hasOwnProperty;function r(o){var s=this.__data__;if(t){var a=s[o];return a===e?void 0:a}return i.call(s,o)?s[o]:void 0}return Bo=r,Bo}var No,yf;function T5(){if(yf)return No;yf=1;var t=Pr(),e=Object.prototype,n=e.hasOwnProperty;function i(r){var o=this.__data__;return t?o[r]!==void 0:n.call(o,r)}return No=i,No}var Fo,vf;function M5(){if(vf)return Fo;vf=1;var t=Pr(),e="__lodash_hash_undefined__";function n(i,r){var o=this.__data__;return this.size+=this.has(i)?0:1,o[i]=t&&r===void 0?e:r,this}return Fo=n,Fo}var Wo,bf;function R5(){if(bf)return Wo;bf=1;var t=O5(),e=I5(),n=A5(),i=T5(),r=M5();function o(s){var a=-1,c=s==null?0:s.length;for(this.clear();++a<c;){var d=s[a];this.set(d[0],d[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=i,o.prototype.set=r,Wo=o,Wo}var Go,xf;function k5(){if(xf)return Go;xf=1;var t=R5(),e=Lr(),n=Mh();function i(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Go=i,Go}var Yo,wf;function L5(){if(wf)return Yo;wf=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Yo=t,Yo}var Vo,Cf;function $r(){if(Cf)return Vo;Cf=1;var t=L5();function e(n,i){var r=n.__data__;return t(i)?r[typeof i=="string"?"string":"hash"]:r.map}return Vo=e,Vo}var Xo,_f;function P5(){if(_f)return Xo;_f=1;var t=$r();function e(n){var i=t(this,n).delete(n);return this.size-=i?1:0,i}return Xo=e,Xo}var Uo,Ef;function $5(){if(Ef)return Uo;Ef=1;var t=$r();function e(n){return t(this,n).get(n)}return Uo=e,Uo}var Ko,Sf;function q5(){if(Sf)return Ko;Sf=1;var t=$r();function e(n){return t(this,n).has(n)}return Ko=e,Ko}var Zo,Of;function H5(){if(Of)return Zo;Of=1;var t=$r();function e(n,i){var r=t(this,n),o=r.size;return r.set(n,i),this.size+=r.size==o?0:1,this}return Zo=e,Zo}var Qo,If;function Rh(){if(If)return Qo;If=1;var t=k5(),e=P5(),n=$5(),i=q5(),r=H5();function o(s){var a=-1,c=s==null?0:s.length;for(this.clear();++a<c;){var d=s[a];this.set(d[0],d[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=i,o.prototype.set=r,Qo=o,Qo}var Jo,Af;function z5(){if(Af)return Jo;Af=1;var t=Lr(),e=Mh(),n=Rh(),i=200;function r(o,s){var a=this.__data__;if(a instanceof t){var c=a.__data__;if(!e||c.length<i-1)return c.push([o,s]),this.size=++a.size,this;a=this.__data__=new n(c)}return a.set(o,s),this.size=a.size,this}return Jo=r,Jo}var ts,Tf;function qr(){if(Tf)return ts;Tf=1;var t=Lr(),e=m5(),n=y5(),i=v5(),r=b5(),o=z5();function s(a){var c=this.__data__=new t(a);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=i,s.prototype.has=r,s.prototype.set=o,ts=s,ts}var es,Mf;function kh(){if(Mf)return es;Mf=1;function t(e,n){for(var i=-1,r=e==null?0:e.length;++i<r&&n(e[i],i,e)!==!1;);return e}return es=t,es}var ns,Rf;function C2(){if(Rf)return ns;Rf=1;var t=Rn(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return ns=e,ns}var is,kf;function Hr(){if(kf)return is;kf=1;var t=C2();function e(n,i,r){i=="__proto__"&&t?t(n,i,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[i]=r}return is=e,is}var rs,Lf;function zr(){if(Lf)return rs;Lf=1;var t=Hr(),e=Jn(),n=Object.prototype,i=n.hasOwnProperty;function r(o,s,a){var c=o[s];(!(i.call(o,s)&&e(c,a))||a===void 0&&!(s in o))&&t(o,s,a)}return rs=r,rs}var os,Pf;function $i(){if(Pf)return os;Pf=1;var t=zr(),e=Hr();function n(i,r,o,s){var a=!o;o||(o={});for(var c=-1,d=r.length;++c<d;){var l=r[c],h=s?s(o[l],i[l],l,o,i):void 0;h===void 0&&(h=i[l]),a?e(o,l,h):t(o,l,h)}return o}return os=n,os}var ss,$f;function j5(){if($f)return ss;$f=1;function t(e,n){for(var i=-1,r=Array(e);++i<e;)r[i]=n(i);return r}return ss=t,ss}var as,qf;function Ve(){if(qf)return as;qf=1;function t(e){return e!=null&&typeof e=="object"}return as=t,as}var cs,Hf;function D5(){if(Hf)return cs;Hf=1;var t=Mn(),e=Ve(),n="[object Arguments]";function i(r){return e(r)&&t(r)==n}return cs=i,cs}var ls,zf;function qi(){if(zf)return ls;zf=1;var t=D5(),e=Ve(),n=Object.prototype,i=n.hasOwnProperty,r=n.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(s){return e(s)&&i.call(s,"callee")&&!r.call(s,"callee")};return ls=o,ls}var ds,jf;function ve(){if(jf)return ds;jf=1;var t=Array.isArray;return ds=t,ds}var gi={exports:{}},hs,Df;function B5(){if(Df)return hs;Df=1;function t(){return!1}return hs=t,hs}gi.exports;var Bf;function ei(){return Bf||(Bf=1,(function(t,e){var n=De(),i=B5(),r=e&&!e.nodeType&&e,o=r&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===r,a=s?n.Buffer:void 0,c=a?a.isBuffer:void 0,d=c||i;t.exports=d})(gi,gi.exports)),gi.exports}var us,Nf;function jr(){if(Nf)return us;Nf=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(i,r){var o=typeof i;return r=r??t,!!r&&(o=="number"||o!="symbol"&&e.test(i))&&i>-1&&i%1==0&&i<r}return us=n,us}var fs,Ff;function Lh(){if(Ff)return fs;Ff=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return fs=e,fs}var ps,Wf;function N5(){if(Wf)return ps;Wf=1;var t=Mn(),e=Lh(),n=Ve(),i="[object Arguments]",r="[object Array]",o="[object Boolean]",s="[object Date]",a="[object Error]",c="[object Function]",d="[object Map]",l="[object Number]",h="[object Object]",f="[object RegExp]",p="[object Set]",y="[object String]",m="[object WeakMap]",g="[object ArrayBuffer]",v="[object DataView]",b="[object Float32Array]",x="[object Float64Array]",w="[object Int8Array]",_="[object Int16Array]",C="[object Int32Array]",E="[object Uint8Array]",S="[object Uint8ClampedArray]",O="[object Uint16Array]",I="[object Uint32Array]",T={};T[b]=T[x]=T[w]=T[_]=T[C]=T[E]=T[S]=T[O]=T[I]=!0,T[i]=T[r]=T[g]=T[o]=T[v]=T[s]=T[a]=T[c]=T[d]=T[l]=T[h]=T[f]=T[p]=T[y]=T[m]=!1;function R(A){return n(A)&&e(A.length)&&!!T[t(A)]}return ps=R,ps}var gs,Gf;function Dr(){if(Gf)return gs;Gf=1;function t(e){return function(n){return e(n)}}return gs=t,gs}var mi={exports:{}};mi.exports;var Yf;function Ph(){return Yf||(Yf=1,(function(t,e){var n=x2(),i=e&&!e.nodeType&&e,r=i&&!0&&t&&!t.nodeType&&t,o=r&&r.exports===i,s=o&&n.process,a=(function(){try{var c=r&&r.require&&r.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();t.exports=a})(mi,mi.exports)),mi.exports}var ms,Vf;function Hi(){if(Vf)return ms;Vf=1;var t=N5(),e=Dr(),n=Ph(),i=n&&n.isTypedArray,r=i?e(i):t;return ms=r,ms}var ys,Xf;function _2(){if(Xf)return ys;Xf=1;var t=j5(),e=qi(),n=ve(),i=ei(),r=jr(),o=Hi(),s=Object.prototype,a=s.hasOwnProperty;function c(d,l){var h=n(d),f=!h&&e(d),p=!h&&!f&&i(d),y=!h&&!f&&!p&&o(d),m=h||f||p||y,g=m?t(d.length,String):[],v=g.length;for(var b in d)(l||a.call(d,b))&&!(m&&(b=="length"||p&&(b=="offset"||b=="parent")||y&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||r(b,v)))&&g.push(b);return g}return ys=c,ys}var vs,Uf;function Br(){if(Uf)return vs;Uf=1;var t=Object.prototype;function e(n){var i=n&&n.constructor,r=typeof i=="function"&&i.prototype||t;return n===r}return vs=e,vs}var bs,Kf;function E2(){if(Kf)return bs;Kf=1;function t(e,n){return function(i){return e(n(i))}}return bs=t,bs}var xs,Zf;function F5(){if(Zf)return xs;Zf=1;var t=E2(),e=t(Object.keys,Object);return xs=e,xs}var ws,Qf;function $h(){if(Qf)return ws;Qf=1;var t=Br(),e=F5(),n=Object.prototype,i=n.hasOwnProperty;function r(o){if(!t(o))return e(o);var s=[];for(var a in Object(o))i.call(o,a)&&a!="constructor"&&s.push(a);return s}return ws=r,ws}var Cs,Jf;function rn(){if(Jf)return Cs;Jf=1;var t=Pi(),e=Lh();function n(i){return i!=null&&e(i.length)&&!t(i)}return Cs=n,Cs}var _s,tp;function hn(){if(tp)return _s;tp=1;var t=_2(),e=$h(),n=rn();function i(r){return n(r)?t(r):e(r)}return _s=i,_s}var Es,ep;function W5(){if(ep)return Es;ep=1;var t=$i(),e=hn();function n(i,r){return i&&t(r,e(r),i)}return Es=n,Es}var Ss,np;function G5(){if(np)return Ss;np=1;function t(e){var n=[];if(e!=null)for(var i in Object(e))n.push(i);return n}return Ss=t,Ss}var Os,ip;function Y5(){if(ip)return Os;ip=1;var t=$e(),e=Br(),n=G5(),i=Object.prototype,r=i.hasOwnProperty;function o(s){if(!t(s))return n(s);var a=e(s),c=[];for(var d in s)d=="constructor"&&(a||!r.call(s,d))||c.push(d);return c}return Os=o,Os}var Is,rp;function kn(){if(rp)return Is;rp=1;var t=_2(),e=Y5(),n=rn();function i(r){return n(r)?t(r,!0):e(r)}return Is=i,Is}var As,op;function V5(){if(op)return As;op=1;var t=$i(),e=kn();function n(i,r){return i&&t(r,e(r),i)}return As=n,As}var yi={exports:{}};yi.exports;var sp;function S2(){return sp||(sp=1,(function(t,e){var n=De(),i=e&&!e.nodeType&&e,r=i&&!0&&t&&!t.nodeType&&t,o=r&&r.exports===i,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function c(d,l){if(l)return d.slice();var h=d.length,f=a?a(h):new d.constructor(h);return d.copy(f),f}t.exports=c})(yi,yi.exports)),yi.exports}var Ts,ap;function O2(){if(ap)return Ts;ap=1;function t(e,n){var i=-1,r=e.length;for(n||(n=Array(r));++i<r;)n[i]=e[i];return n}return Ts=t,Ts}var Ms,cp;function I2(){if(cp)return Ms;cp=1;function t(e,n){for(var i=-1,r=e==null?0:e.length,o=0,s=[];++i<r;){var a=e[i];n(a,i,e)&&(s[o++]=a)}return s}return Ms=t,Ms}var Rs,lp;function A2(){if(lp)return Rs;lp=1;function t(){return[]}return Rs=t,Rs}var ks,dp;function qh(){if(dp)return ks;dp=1;var t=I2(),e=A2(),n=Object.prototype,i=n.propertyIsEnumerable,r=Object.getOwnPropertySymbols,o=r?function(s){return s==null?[]:(s=Object(s),t(r(s),function(a){return i.call(s,a)}))}:e;return ks=o,ks}var Ls,hp;function X5(){if(hp)return Ls;hp=1;var t=$i(),e=qh();function n(i,r){return t(i,e(i),r)}return Ls=n,Ls}var Ps,up;function Hh(){if(up)return Ps;up=1;function t(e,n){for(var i=-1,r=n.length,o=e.length;++i<r;)e[o+i]=n[i];return e}return Ps=t,Ps}var $s,fp;function Nr(){if(fp)return $s;fp=1;var t=E2(),e=t(Object.getPrototypeOf,Object);return $s=e,$s}var qs,pp;function T2(){if(pp)return qs;pp=1;var t=Hh(),e=Nr(),n=qh(),i=A2(),r=Object.getOwnPropertySymbols,o=r?function(s){for(var a=[];s;)t(a,n(s)),s=e(s);return a}:i;return qs=o,qs}var Hs,gp;function U5(){if(gp)return Hs;gp=1;var t=$i(),e=T2();function n(i,r){return t(i,e(i),r)}return Hs=n,Hs}var zs,mp;function M2(){if(mp)return zs;mp=1;var t=Hh(),e=ve();function n(i,r,o){var s=r(i);return e(i)?s:t(s,o(i))}return zs=n,zs}var js,yp;function R2(){if(yp)return js;yp=1;var t=M2(),e=qh(),n=hn();function i(r){return t(r,n,e)}return js=i,js}var Ds,vp;function K5(){if(vp)return Ds;vp=1;var t=M2(),e=T2(),n=kn();function i(r){return t(r,n,e)}return Ds=i,Ds}var Bs,bp;function Z5(){if(bp)return Bs;bp=1;var t=Rn(),e=De(),n=t(e,"DataView");return Bs=n,Bs}var Ns,xp;function Q5(){if(xp)return Ns;xp=1;var t=Rn(),e=De(),n=t(e,"Promise");return Ns=n,Ns}var Fs,wp;function k2(){if(wp)return Fs;wp=1;var t=Rn(),e=De(),n=t(e,"Set");return Fs=n,Fs}var Ws,Cp;function J5(){if(Cp)return Ws;Cp=1;var t=Rn(),e=De(),n=t(e,"WeakMap");return Ws=n,Ws}var Gs,_p;function ni(){if(_p)return Gs;_p=1;var t=Z5(),e=Mh(),n=Q5(),i=k2(),r=J5(),o=Mn(),s=w2(),a="[object Map]",c="[object Object]",d="[object Promise]",l="[object Set]",h="[object WeakMap]",f="[object DataView]",p=s(t),y=s(e),m=s(n),g=s(i),v=s(r),b=o;return(t&&b(new t(new ArrayBuffer(1)))!=f||e&&b(new e)!=a||n&&b(n.resolve())!=d||i&&b(new i)!=l||r&&b(new r)!=h)&&(b=function(x){var w=o(x),_=w==c?x.constructor:void 0,C=_?s(_):"";if(C)switch(C){case p:return f;case y:return a;case m:return d;case g:return l;case v:return h}return w}),Gs=b,Gs}var Ys,Ep;function tC(){if(Ep)return Ys;Ep=1;var t=Object.prototype,e=t.hasOwnProperty;function n(i){var r=i.length,o=new i.constructor(r);return r&&typeof i[0]=="string"&&e.call(i,"index")&&(o.index=i.index,o.input=i.input),o}return Ys=n,Ys}var Vs,Sp;function L2(){if(Sp)return Vs;Sp=1;var t=De(),e=t.Uint8Array;return Vs=e,Vs}var Xs,Op;function zh(){if(Op)return Xs;Op=1;var t=L2();function e(n){var i=new n.constructor(n.byteLength);return new t(i).set(new t(n)),i}return Xs=e,Xs}var Us,Ip;function eC(){if(Ip)return Us;Ip=1;var t=zh();function e(n,i){var r=i?t(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.byteLength)}return Us=e,Us}var Ks,Ap;function nC(){if(Ap)return Ks;Ap=1;var t=/\w*$/;function e(n){var i=new n.constructor(n.source,t.exec(n));return i.lastIndex=n.lastIndex,i}return Ks=e,Ks}var Zs,Tp;function iC(){if(Tp)return Zs;Tp=1;var t=ti(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function i(r){return n?Object(n.call(r)):{}}return Zs=i,Zs}var Qs,Mp;function P2(){if(Mp)return Qs;Mp=1;var t=zh();function e(n,i){var r=i?t(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.length)}return Qs=e,Qs}var Js,Rp;function rC(){if(Rp)return Js;Rp=1;var t=zh(),e=eC(),n=nC(),i=iC(),r=P2(),o="[object Boolean]",s="[object Date]",a="[object Map]",c="[object Number]",d="[object RegExp]",l="[object Set]",h="[object String]",f="[object Symbol]",p="[object ArrayBuffer]",y="[object DataView]",m="[object Float32Array]",g="[object Float64Array]",v="[object Int8Array]",b="[object Int16Array]",x="[object Int32Array]",w="[object Uint8Array]",_="[object Uint8ClampedArray]",C="[object Uint16Array]",E="[object Uint32Array]";function S(O,I,T){var R=O.constructor;switch(I){case p:return t(O);case o:case s:return new R(+O);case y:return e(O,T);case m:case g:case v:case b:case x:case w:case _:case C:case E:return r(O,T);case a:return new R;case c:case h:return new R(O);case d:return n(O);case l:return new R;case f:return i(O)}}return Js=S,Js}var ta,kp;function $2(){if(kp)return ta;kp=1;var t=$e(),e=Object.create,n=(function(){function i(){}return function(r){if(!t(r))return{};if(e)return e(r);i.prototype=r;var o=new i;return i.prototype=void 0,o}})();return ta=n,ta}var ea,Lp;function q2(){if(Lp)return ea;Lp=1;var t=$2(),e=Nr(),n=Br();function i(r){return typeof r.constructor=="function"&&!n(r)?t(e(r)):{}}return ea=i,ea}var na,Pp;function oC(){if(Pp)return na;Pp=1;var t=ni(),e=Ve(),n="[object Map]";function i(r){return e(r)&&t(r)==n}return na=i,na}var ia,$p;function sC(){if($p)return ia;$p=1;var t=oC(),e=Dr(),n=Ph(),i=n&&n.isMap,r=i?e(i):t;return ia=r,ia}var ra,qp;function aC(){if(qp)return ra;qp=1;var t=ni(),e=Ve(),n="[object Set]";function i(r){return e(r)&&t(r)==n}return ra=i,ra}var oa,Hp;function cC(){if(Hp)return oa;Hp=1;var t=aC(),e=Dr(),n=Ph(),i=n&&n.isSet,r=i?e(i):t;return oa=r,oa}var sa,zp;function H2(){if(zp)return sa;zp=1;var t=qr(),e=kh(),n=zr(),i=W5(),r=V5(),o=S2(),s=O2(),a=X5(),c=U5(),d=R2(),l=K5(),h=ni(),f=tC(),p=rC(),y=q2(),m=ve(),g=ei(),v=sC(),b=$e(),x=cC(),w=hn(),_=kn(),C=1,E=2,S=4,O="[object Arguments]",I="[object Array]",T="[object Boolean]",R="[object Date]",A="[object Error]",q="[object Function]",B="[object GeneratorFunction]",L="[object Map]",D="[object Number]",j="[object Object]",G="[object RegExp]",N="[object Set]",Y="[object String]",V="[object Symbol]",z="[object WeakMap]",k="[object ArrayBuffer]",$="[object DataView]",P="[object Float32Array]",H="[object Float64Array]",F="[object Int8Array]",X="[object Int16Array]",K="[object Int32Array]",it="[object Uint8Array]",Z="[object Uint8ClampedArray]",rt="[object Uint16Array]",U="[object Uint32Array]",Q={};Q[O]=Q[I]=Q[k]=Q[$]=Q[T]=Q[R]=Q[P]=Q[H]=Q[F]=Q[X]=Q[K]=Q[L]=Q[D]=Q[j]=Q[G]=Q[N]=Q[Y]=Q[V]=Q[it]=Q[Z]=Q[rt]=Q[U]=!0,Q[A]=Q[q]=Q[z]=!1;function at(tt,J,nt,ot,ct,pt){var ut,ft=J&C,dt=J&E,vt=J&S;if(nt&&(ut=ct?nt(tt,ot,ct,pt):nt(tt)),ut!==void 0)return ut;if(!b(tt))return tt;var _t=m(tt);if(_t){if(ut=f(tt),!ft)return s(tt,ut)}else{var Ot=h(tt),bt=Ot==q||Ot==B;if(g(tt))return o(tt,ft);if(Ot==j||Ot==O||bt&&!ct){if(ut=dt||bt?{}:y(tt),!ft)return dt?c(tt,r(ut,tt)):a(tt,i(ut,tt))}else{if(!Q[Ot])return ct?tt:{};ut=p(tt,Ot,ft)}}pt||(pt=new t);var At=pt.get(tt);if(At)return At;pt.set(tt,ut),x(tt)?tt.forEach(function(gt){ut.add(at(gt,J,nt,gt,tt,pt))}):v(tt)&&tt.forEach(function(gt,mt){ut.set(mt,at(gt,J,nt,mt,tt,pt))});var Mt=vt?dt?l:d:dt?_:w,Tt=_t?void 0:Mt(tt);return e(Tt||tt,function(gt,mt){Tt&&(mt=gt,gt=tt[mt]),n(ut,mt,at(gt,J,nt,mt,tt,pt))}),ut}return sa=at,sa}var aa,jp;function lC(){if(jp)return aa;jp=1;var t=H2(),e=4;function n(i){return t(i,e)}return aa=n,aa}var ca,Dp;function jh(){if(Dp)return ca;Dp=1;function t(e){return function(){return e}}return ca=t,ca}var la,Bp;function dC(){if(Bp)return la;Bp=1;function t(e){return function(n,i,r){for(var o=-1,s=Object(n),a=r(n),c=a.length;c--;){var d=a[e?c:++o];if(i(s[d],d,s)===!1)break}return n}}return la=t,la}var da,Np;function Dh(){if(Np)return da;Np=1;var t=dC(),e=t();return da=e,da}var ha,Fp;function Bh(){if(Fp)return ha;Fp=1;var t=Dh(),e=hn();function n(i,r){return i&&t(i,r,e)}return ha=n,ha}var ua,Wp;function hC(){if(Wp)return ua;Wp=1;var t=rn();function e(n,i){return function(r,o){if(r==null)return r;if(!t(r))return n(r,o);for(var s=r.length,a=i?s:-1,c=Object(r);(i?a--:++a<s)&&o(c[a],a,c)!==!1;);return r}}return ua=e,ua}var fa,Gp;function Fr(){if(Gp)return fa;Gp=1;var t=Bh(),e=hC(),n=e(t);return fa=n,fa}var pa,Yp;function Ln(){if(Yp)return pa;Yp=1;function t(e){return e}return pa=t,pa}var ga,Vp;function z2(){if(Vp)return ga;Vp=1;var t=Ln();function e(n){return typeof n=="function"?n:t}return ga=e,ga}var ma,Xp;function j2(){if(Xp)return ma;Xp=1;var t=kh(),e=Fr(),n=z2(),i=ve();function r(o,s){var a=i(o)?t:e;return a(o,n(s))}return ma=r,ma}var ya,Up;function D2(){return Up||(Up=1,ya=j2()),ya}var va,Kp;function uC(){if(Kp)return va;Kp=1;var t=Fr();function e(n,i){var r=[];return t(n,function(o,s,a){i(o,s,a)&&r.push(o)}),r}return va=e,va}var ba,Zp;function fC(){if(Zp)return ba;Zp=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return ba=e,ba}var xa,Qp;function pC(){if(Qp)return xa;Qp=1;function t(e){return this.__data__.has(e)}return xa=t,xa}var wa,Jp;function B2(){if(Jp)return wa;Jp=1;var t=Rh(),e=fC(),n=pC();function i(r){var o=-1,s=r==null?0:r.length;for(this.__data__=new t;++o<s;)this.add(r[o])}return i.prototype.add=i.prototype.push=e,i.prototype.has=n,wa=i,wa}var Ca,tg;function gC(){if(tg)return Ca;tg=1;function t(e,n){for(var i=-1,r=e==null?0:e.length;++i<r;)if(n(e[i],i,e))return!0;return!1}return Ca=t,Ca}var _a,eg;function N2(){if(eg)return _a;eg=1;function t(e,n){return e.has(n)}return _a=t,_a}var Ea,ng;function F2(){if(ng)return Ea;ng=1;var t=B2(),e=gC(),n=N2(),i=1,r=2;function o(s,a,c,d,l,h){var f=c&i,p=s.length,y=a.length;if(p!=y&&!(f&&y>p))return!1;var m=h.get(s),g=h.get(a);if(m&&g)return m==a&&g==s;var v=-1,b=!0,x=c&r?new t:void 0;for(h.set(s,a),h.set(a,s);++v<p;){var w=s[v],_=a[v];if(d)var C=f?d(_,w,v,a,s,h):d(w,_,v,s,a,h);if(C!==void 0){if(C)continue;b=!1;break}if(x){if(!e(a,function(E,S){if(!n(x,S)&&(w===E||l(w,E,c,d,h)))return x.push(S)})){b=!1;break}}else if(!(w===_||l(w,_,c,d,h))){b=!1;break}}return h.delete(s),h.delete(a),b}return Ea=o,Ea}var Sa,ig;function mC(){if(ig)return Sa;ig=1;function t(e){var n=-1,i=Array(e.size);return e.forEach(function(r,o){i[++n]=[o,r]}),i}return Sa=t,Sa}var Oa,rg;function Nh(){if(rg)return Oa;rg=1;function t(e){var n=-1,i=Array(e.size);return e.forEach(function(r){i[++n]=r}),i}return Oa=t,Oa}var Ia,og;function yC(){if(og)return Ia;og=1;var t=ti(),e=L2(),n=Jn(),i=F2(),r=mC(),o=Nh(),s=1,a=2,c="[object Boolean]",d="[object Date]",l="[object Error]",h="[object Map]",f="[object Number]",p="[object RegExp]",y="[object Set]",m="[object String]",g="[object Symbol]",v="[object ArrayBuffer]",b="[object DataView]",x=t?t.prototype:void 0,w=x?x.valueOf:void 0;function _(C,E,S,O,I,T,R){switch(S){case b:if(C.byteLength!=E.byteLength||C.byteOffset!=E.byteOffset)return!1;C=C.buffer,E=E.buffer;case v:return!(C.byteLength!=E.byteLength||!T(new e(C),new e(E)));case c:case d:case f:return n(+C,+E);case l:return C.name==E.name&&C.message==E.message;case p:case m:return C==E+"";case h:var A=r;case y:var q=O&s;if(A||(A=o),C.size!=E.size&&!q)return!1;var B=R.get(C);if(B)return B==E;O|=a,R.set(C,E);var L=i(A(C),A(E),O,I,T,R);return R.delete(C),L;case g:if(w)return w.call(C)==w.call(E)}return!1}return Ia=_,Ia}var Aa,sg;function vC(){if(sg)return Aa;sg=1;var t=R2(),e=1,n=Object.prototype,i=n.hasOwnProperty;function r(o,s,a,c,d,l){var h=a&e,f=t(o),p=f.length,y=t(s),m=y.length;if(p!=m&&!h)return!1;for(var g=p;g--;){var v=f[g];if(!(h?v in s:i.call(s,v)))return!1}var b=l.get(o),x=l.get(s);if(b&&x)return b==s&&x==o;var w=!0;l.set(o,s),l.set(s,o);for(var _=h;++g<p;){v=f[g];var C=o[v],E=s[v];if(c)var S=h?c(E,C,v,s,o,l):c(C,E,v,o,s,l);if(!(S===void 0?C===E||d(C,E,a,c,l):S)){w=!1;break}_||(_=v=="constructor")}if(w&&!_){var O=o.constructor,I=s.constructor;O!=I&&"constructor"in o&&"constructor"in s&&!(typeof O=="function"&&O instanceof O&&typeof I=="function"&&I instanceof I)&&(w=!1)}return l.delete(o),l.delete(s),w}return Aa=r,Aa}var Ta,ag;function bC(){if(ag)return Ta;ag=1;var t=qr(),e=F2(),n=yC(),i=vC(),r=ni(),o=ve(),s=ei(),a=Hi(),c=1,d="[object Arguments]",l="[object Array]",h="[object Object]",f=Object.prototype,p=f.hasOwnProperty;function y(m,g,v,b,x,w){var _=o(m),C=o(g),E=_?l:r(m),S=C?l:r(g);E=E==d?h:E,S=S==d?h:S;var O=E==h,I=S==h,T=E==S;if(T&&s(m)){if(!s(g))return!1;_=!0,O=!1}if(T&&!O)return w||(w=new t),_||a(m)?e(m,g,v,b,x,w):n(m,g,E,v,b,x,w);if(!(v&c)){var R=O&&p.call(m,"__wrapped__"),A=I&&p.call(g,"__wrapped__");if(R||A){var q=R?m.value():m,B=A?g.value():g;return w||(w=new t),x(q,B,v,b,w)}}return T?(w||(w=new t),i(m,g,v,b,x,w)):!1}return Ta=y,Ta}var Ma,cg;function W2(){if(cg)return Ma;cg=1;var t=bC(),e=Ve();function n(i,r,o,s,a){return i===r?!0:i==null||r==null||!e(i)&&!e(r)?i!==i&&r!==r:t(i,r,o,s,n,a)}return Ma=n,Ma}var Ra,lg;function xC(){if(lg)return Ra;lg=1;var t=qr(),e=W2(),n=1,i=2;function r(o,s,a,c){var d=a.length,l=d,h=!c;if(o==null)return!l;for(o=Object(o);d--;){var f=a[d];if(h&&f[2]?f[1]!==o[f[0]]:!(f[0]in o))return!1}for(;++d<l;){f=a[d];var p=f[0],y=o[p],m=f[1];if(h&&f[2]){if(y===void 0&&!(p in o))return!1}else{var g=new t;if(c)var v=c(y,m,p,o,s,g);if(!(v===void 0?e(m,y,n|i,c,g):v))return!1}}return!0}return Ra=r,Ra}var ka,dg;function G2(){if(dg)return ka;dg=1;var t=$e();function e(n){return n===n&&!t(n)}return ka=e,ka}var La,hg;function wC(){if(hg)return La;hg=1;var t=G2(),e=hn();function n(i){for(var r=e(i),o=r.length;o--;){var s=r[o],a=i[s];r[o]=[s,a,t(a)]}return r}return La=n,La}var Pa,ug;function Y2(){if(ug)return Pa;ug=1;function t(e,n){return function(i){return i==null?!1:i[e]===n&&(n!==void 0||e in Object(i))}}return Pa=t,Pa}var $a,fg;function CC(){if(fg)return $a;fg=1;var t=xC(),e=wC(),n=Y2();function i(r){var o=e(r);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(s){return s===r||t(s,r,o)}}return $a=i,$a}var qa,pg;function ii(){if(pg)return qa;pg=1;var t=Mn(),e=Ve(),n="[object Symbol]";function i(r){return typeof r=="symbol"||e(r)&&t(r)==n}return qa=i,qa}var Ha,gg;function Fh(){if(gg)return Ha;gg=1;var t=ve(),e=ii(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(o,s){if(t(o))return!1;var a=typeof o;return a=="number"||a=="symbol"||a=="boolean"||o==null||e(o)?!0:i.test(o)||!n.test(o)||s!=null&&o in Object(s)}return Ha=r,Ha}var za,mg;function _C(){if(mg)return za;mg=1;var t=Rh(),e="Expected a function";function n(i,r){if(typeof i!="function"||r!=null&&typeof r!="function")throw new TypeError(e);var o=function(){var s=arguments,a=r?r.apply(this,s):s[0],c=o.cache;if(c.has(a))return c.get(a);var d=i.apply(this,s);return o.cache=c.set(a,d)||c,d};return o.cache=new(n.Cache||t),o}return n.Cache=t,za=n,za}var ja,yg;function EC(){if(yg)return ja;yg=1;var t=_C(),e=500;function n(i){var r=t(i,function(s){return o.size===e&&o.clear(),s}),o=r.cache;return r}return ja=n,ja}var Da,vg;function SC(){if(vg)return Da;vg=1;var t=EC(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,i=t(function(r){var o=[];return r.charCodeAt(0)===46&&o.push(""),r.replace(e,function(s,a,c,d){o.push(c?d.replace(n,"$1"):a||s)}),o});return Da=i,Da}var Ba,bg;function Wr(){if(bg)return Ba;bg=1;function t(e,n){for(var i=-1,r=e==null?0:e.length,o=Array(r);++i<r;)o[i]=n(e[i],i,e);return o}return Ba=t,Ba}var Na,xg;function OC(){if(xg)return Na;xg=1;var t=ti(),e=Wr(),n=ve(),i=ii(),r=t?t.prototype:void 0,o=r?r.toString:void 0;function s(a){if(typeof a=="string")return a;if(n(a))return e(a,s)+"";if(i(a))return o?o.call(a):"";var c=a+"";return c=="0"&&1/a==-1/0?"-0":c}return Na=s,Na}var Fa,wg;function V2(){if(wg)return Fa;wg=1;var t=OC();function e(n){return n==null?"":t(n)}return Fa=e,Fa}var Wa,Cg;function Gr(){if(Cg)return Wa;Cg=1;var t=ve(),e=Fh(),n=SC(),i=V2();function r(o,s){return t(o)?o:e(o,s)?[o]:n(i(o))}return Wa=r,Wa}var Ga,_g;function zi(){if(_g)return Ga;_g=1;var t=ii();function e(n){if(typeof n=="string"||t(n))return n;var i=n+"";return i=="0"&&1/n==-1/0?"-0":i}return Ga=e,Ga}var Ya,Eg;function Yr(){if(Eg)return Ya;Eg=1;var t=Gr(),e=zi();function n(i,r){r=t(r,i);for(var o=0,s=r.length;i!=null&&o<s;)i=i[e(r[o++])];return o&&o==s?i:void 0}return Ya=n,Ya}var Va,Sg;function IC(){if(Sg)return Va;Sg=1;var t=Yr();function e(n,i,r){var o=n==null?void 0:t(n,i);return o===void 0?r:o}return Va=e,Va}var Xa,Og;function AC(){if(Og)return Xa;Og=1;function t(e,n){return e!=null&&n in Object(e)}return Xa=t,Xa}var Ua,Ig;function X2(){if(Ig)return Ua;Ig=1;var t=Gr(),e=qi(),n=ve(),i=jr(),r=Lh(),o=zi();function s(a,c,d){c=t(c,a);for(var l=-1,h=c.length,f=!1;++l<h;){var p=o(c[l]);if(!(f=a!=null&&d(a,p)))break;a=a[p]}return f||++l!=h?f:(h=a==null?0:a.length,!!h&&r(h)&&i(p,h)&&(n(a)||e(a)))}return Ua=s,Ua}var Ka,Ag;function U2(){if(Ag)return Ka;Ag=1;var t=AC(),e=X2();function n(i,r){return i!=null&&e(i,r,t)}return Ka=n,Ka}var Za,Tg;function TC(){if(Tg)return Za;Tg=1;var t=W2(),e=IC(),n=U2(),i=Fh(),r=G2(),o=Y2(),s=zi(),a=1,c=2;function d(l,h){return i(l)&&r(h)?o(s(l),h):function(f){var p=e(f,l);return p===void 0&&p===h?n(f,l):t(h,p,a|c)}}return Za=d,Za}var Qa,Mg;function K2(){if(Mg)return Qa;Mg=1;function t(e){return function(n){return n?.[e]}}return Qa=t,Qa}var Ja,Rg;function MC(){if(Rg)return Ja;Rg=1;var t=Yr();function e(n){return function(i){return t(i,n)}}return Ja=e,Ja}var tc,kg;function RC(){if(kg)return tc;kg=1;var t=K2(),e=MC(),n=Fh(),i=zi();function r(o){return n(o)?t(i(o)):e(o)}return tc=r,tc}var ec,Lg;function on(){if(Lg)return ec;Lg=1;var t=CC(),e=TC(),n=Ln(),i=ve(),r=RC();function o(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?i(s)?e(s[0],s[1]):t(s):r(s)}return ec=o,ec}var nc,Pg;function Z2(){if(Pg)return nc;Pg=1;var t=I2(),e=uC(),n=on(),i=ve();function r(o,s){var a=i(o)?t:e;return a(o,n(s,3))}return nc=r,nc}var ic,$g;function kC(){if($g)return ic;$g=1;var t=Object.prototype,e=t.hasOwnProperty;function n(i,r){return i!=null&&e.call(i,r)}return ic=n,ic}var rc,qg;function Q2(){if(qg)return rc;qg=1;var t=kC(),e=X2();function n(i,r){return i!=null&&e(i,r,t)}return rc=n,rc}var oc,Hg;function LC(){if(Hg)return oc;Hg=1;var t=$h(),e=ni(),n=qi(),i=ve(),r=rn(),o=ei(),s=Br(),a=Hi(),c="[object Map]",d="[object Set]",l=Object.prototype,h=l.hasOwnProperty;function f(p){if(p==null)return!0;if(r(p)&&(i(p)||typeof p=="string"||typeof p.splice=="function"||o(p)||a(p)||n(p)))return!p.length;var y=e(p);if(y==c||y==d)return!p.size;if(s(p))return!t(p).length;for(var m in p)if(h.call(p,m))return!1;return!0}return oc=f,oc}var sc,zg;function J2(){if(zg)return sc;zg=1;function t(e){return e===void 0}return sc=t,sc}var ac,jg;function tv(){if(jg)return ac;jg=1;var t=Fr(),e=rn();function n(i,r){var o=-1,s=e(i)?Array(i.length):[];return t(i,function(a,c,d){s[++o]=r(a,c,d)}),s}return ac=n,ac}var cc,Dg;function ev(){if(Dg)return cc;Dg=1;var t=Wr(),e=on(),n=tv(),i=ve();function r(o,s){var a=i(o)?t:n;return a(o,e(s,3))}return cc=r,cc}var lc,Bg;function PC(){if(Bg)return lc;Bg=1;function t(e,n,i,r){var o=-1,s=e==null?0:e.length;for(r&&s&&(i=e[++o]);++o<s;)i=n(i,e[o],o,e);return i}return lc=t,lc}var dc,Ng;function $C(){if(Ng)return dc;Ng=1;function t(e,n,i,r,o){return o(e,function(s,a,c){i=r?(r=!1,s):n(i,s,a,c)}),i}return dc=t,dc}var hc,Fg;function nv(){if(Fg)return hc;Fg=1;var t=PC(),e=Fr(),n=on(),i=$C(),r=ve();function o(s,a,c){var d=r(s)?t:i,l=arguments.length<3;return d(s,n(a,4),c,l,e)}return hc=o,hc}var uc,Wg;function qC(){if(Wg)return uc;Wg=1;var t=Mn(),e=ve(),n=Ve(),i="[object String]";function r(o){return typeof o=="string"||!e(o)&&n(o)&&t(o)==i}return uc=r,uc}var fc,Gg;function HC(){if(Gg)return fc;Gg=1;var t=K2(),e=t("length");return fc=e,fc}var pc,Yg;function zC(){if(Yg)return pc;Yg=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",r=e+n+i,o="\\ufe0e\\ufe0f",s="\\u200d",a=RegExp("["+s+t+r+o+"]");function c(d){return a.test(d)}return pc=c,pc}var gc,Vg;function jC(){if(Vg)return gc;Vg=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",r=e+n+i,o="\\ufe0e\\ufe0f",s="["+t+"]",a="["+r+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+a+"|"+c+")",l="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",y=d+"?",m="["+o+"]?",g="(?:"+p+"(?:"+[l,h,f].join("|")+")"+m+y+")*",v=m+y+g,b="(?:"+[l+a+"?",a,h,f,s].join("|")+")",x=RegExp(c+"(?="+c+")|"+b+v,"g");function w(_){for(var C=x.lastIndex=0;x.test(_);)++C;return C}return gc=w,gc}var mc,Xg;function DC(){if(Xg)return mc;Xg=1;var t=HC(),e=zC(),n=jC();function i(r){return e(r)?n(r):t(r)}return mc=i,mc}var yc,Ug;function BC(){if(Ug)return yc;Ug=1;var t=$h(),e=ni(),n=rn(),i=qC(),r=DC(),o="[object Map]",s="[object Set]";function a(c){if(c==null)return 0;if(n(c))return i(c)?r(c):c.length;var d=e(c);return d==o||d==s?c.size:t(c).length}return yc=a,yc}var vc,Kg;function NC(){if(Kg)return vc;Kg=1;var t=kh(),e=$2(),n=Bh(),i=on(),r=Nr(),o=ve(),s=ei(),a=Pi(),c=$e(),d=Hi();function l(h,f,p){var y=o(h),m=y||s(h)||d(h);if(f=i(f,4),p==null){var g=h&&h.constructor;m?p=y?new g:[]:c(h)?p=a(g)?e(r(h)):{}:p={}}return(m?t:n)(h,function(v,b,x){return f(p,v,b,x)}),p}return vc=l,vc}var bc,Zg;function FC(){if(Zg)return bc;Zg=1;var t=ti(),e=qi(),n=ve(),i=t?t.isConcatSpreadable:void 0;function r(o){return n(o)||e(o)||!!(i&&o&&o[i])}return bc=r,bc}var xc,Qg;function Wh(){if(Qg)return xc;Qg=1;var t=Hh(),e=FC();function n(i,r,o,s,a){var c=-1,d=i.length;for(o||(o=e),a||(a=[]);++c<d;){var l=i[c];r>0&&o(l)?r>1?n(l,r-1,o,s,a):t(a,l):s||(a[a.length]=l)}return a}return xc=n,xc}var wc,Jg;function WC(){if(Jg)return wc;Jg=1;function t(e,n,i){switch(i.length){case 0:return e.call(n);case 1:return e.call(n,i[0]);case 2:return e.call(n,i[0],i[1]);case 3:return e.call(n,i[0],i[1],i[2])}return e.apply(n,i)}return wc=t,wc}var Cc,t0;function iv(){if(t0)return Cc;t0=1;var t=WC(),e=Math.max;function n(i,r,o){return r=e(r===void 0?i.length-1:r,0),function(){for(var s=arguments,a=-1,c=e(s.length-r,0),d=Array(c);++a<c;)d[a]=s[r+a];a=-1;for(var l=Array(r+1);++a<r;)l[a]=s[a];return l[r]=o(d),t(i,this,l)}}return Cc=n,Cc}var _c,e0;function GC(){if(e0)return _c;e0=1;var t=jh(),e=C2(),n=Ln(),i=e?function(r,o){return e(r,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:n;return _c=i,_c}var Ec,n0;function YC(){if(n0)return Ec;n0=1;var t=800,e=16,n=Date.now;function i(r){var o=0,s=0;return function(){var a=n(),c=e-(a-s);if(s=a,c>0){if(++o>=t)return arguments[0]}else o=0;return r.apply(void 0,arguments)}}return Ec=i,Ec}var Sc,i0;function rv(){if(i0)return Sc;i0=1;var t=GC(),e=YC(),n=e(t);return Sc=n,Sc}var Oc,r0;function Vr(){if(r0)return Oc;r0=1;var t=Ln(),e=iv(),n=rv();function i(r,o){return n(e(r,o,t),r+"")}return Oc=i,Oc}var Ic,o0;function ov(){if(o0)return Ic;o0=1;function t(e,n,i,r){for(var o=e.length,s=i+(r?1:-1);r?s--:++s<o;)if(n(e[s],s,e))return s;return-1}return Ic=t,Ic}var Ac,s0;function VC(){if(s0)return Ac;s0=1;function t(e){return e!==e}return Ac=t,Ac}var Tc,a0;function XC(){if(a0)return Tc;a0=1;function t(e,n,i){for(var r=i-1,o=e.length;++r<o;)if(e[r]===n)return r;return-1}return Tc=t,Tc}var Mc,c0;function UC(){if(c0)return Mc;c0=1;var t=ov(),e=VC(),n=XC();function i(r,o,s){return o===o?n(r,o,s):t(r,e,s)}return Mc=i,Mc}var Rc,l0;function KC(){if(l0)return Rc;l0=1;var t=UC();function e(n,i){var r=n==null?0:n.length;return!!r&&t(n,i,0)>-1}return Rc=e,Rc}var kc,d0;function ZC(){if(d0)return kc;d0=1;function t(e,n,i){for(var r=-1,o=e==null?0:e.length;++r<o;)if(i(n,e[r]))return!0;return!1}return kc=t,kc}var Lc,h0;function QC(){if(h0)return Lc;h0=1;function t(){}return Lc=t,Lc}var Pc,u0;function JC(){if(u0)return Pc;u0=1;var t=k2(),e=QC(),n=Nh(),i=1/0,r=t&&1/n(new t([,-0]))[1]==i?function(o){return new t(o)}:e;return Pc=r,Pc}var $c,f0;function t6(){if(f0)return $c;f0=1;var t=B2(),e=KC(),n=ZC(),i=N2(),r=JC(),o=Nh(),s=200;function a(c,d,l){var h=-1,f=e,p=c.length,y=!0,m=[],g=m;if(l)y=!1,f=n;else if(p>=s){var v=d?null:r(c);if(v)return o(v);y=!1,f=i,g=new t}else g=d?[]:m;t:for(;++h<p;){var b=c[h],x=d?d(b):b;if(b=l||b!==0?b:0,y&&x===x){for(var w=g.length;w--;)if(g[w]===x)continue t;d&&g.push(x),m.push(b)}else f(g,x,l)||(g!==m&&g.push(x),m.push(b))}return m}return $c=a,$c}var qc,p0;function sv(){if(p0)return qc;p0=1;var t=rn(),e=Ve();function n(i){return e(i)&&t(i)}return qc=n,qc}var Hc,g0;function e6(){if(g0)return Hc;g0=1;var t=Wh(),e=Vr(),n=t6(),i=sv(),r=e(function(o){return n(t(o,1,i,!0))});return Hc=r,Hc}var zc,m0;function n6(){if(m0)return zc;m0=1;var t=Wr();function e(n,i){return t(i,function(r){return n[r]})}return zc=e,zc}var jc,y0;function av(){if(y0)return jc;y0=1;var t=n6(),e=hn();function n(i){return i==null?[]:t(i,e(i))}return jc=n,jc}var Dc,v0;function qe(){if(v0)return Dc;v0=1;var t;if(typeof Th=="function")try{t={clone:lC(),constant:jh(),each:D2(),filter:Z2(),has:Q2(),isArray:ve(),isEmpty:LC(),isFunction:Pi(),isUndefined:J2(),keys:hn(),map:ev(),reduce:nv(),size:BC(),transform:NC(),union:e6(),values:av()}}catch{}return t||(t=window._),Dc=t,Dc}var Bc,b0;function Gh(){if(b0)return Bc;b0=1;var t=qe();Bc=r;var e="\0",n="\0",i="";function r(l){this._isDirected=t.has(l,"directed")?l.directed:!0,this._isMultigraph=t.has(l,"multigraph")?l.multigraph:!1,this._isCompound=t.has(l,"compound")?l.compound:!1,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}r.prototype._nodeCount=0,r.prototype._edgeCount=0,r.prototype.isDirected=function(){return this._isDirected},r.prototype.isMultigraph=function(){return this._isMultigraph},r.prototype.isCompound=function(){return this._isCompound},r.prototype.setGraph=function(l){return this._label=l,this},r.prototype.graph=function(){return this._label},r.prototype.setDefaultNodeLabel=function(l){return t.isFunction(l)||(l=t.constant(l)),this._defaultNodeLabelFn=l,this},r.prototype.nodeCount=function(){return this._nodeCount},r.prototype.nodes=function(){return t.keys(this._nodes)},r.prototype.sources=function(){var l=this;return t.filter(this.nodes(),function(h){return t.isEmpty(l._in[h])})},r.prototype.sinks=function(){var l=this;return t.filter(this.nodes(),function(h){return t.isEmpty(l._out[h])})},r.prototype.setNodes=function(l,h){var f=arguments,p=this;return t.each(l,function(y){f.length>1?p.setNode(y,h):p.setNode(y)}),this},r.prototype.setNode=function(l,h){return t.has(this._nodes,l)?(arguments.length>1&&(this._nodes[l]=h),this):(this._nodes[l]=arguments.length>1?h:this._defaultNodeLabelFn(l),this._isCompound&&(this._parent[l]=n,this._children[l]={},this._children[n][l]=!0),this._in[l]={},this._preds[l]={},this._out[l]={},this._sucs[l]={},++this._nodeCount,this)},r.prototype.node=function(l){return this._nodes[l]},r.prototype.hasNode=function(l){return t.has(this._nodes,l)},r.prototype.removeNode=function(l){var h=this;if(t.has(this._nodes,l)){var f=function(p){h.removeEdge(h._edgeObjs[p])};delete this._nodes[l],this._isCompound&&(this._removeFromParentsChildList(l),delete this._parent[l],t.each(this.children(l),function(p){h.setParent(p)}),delete this._children[l]),t.each(t.keys(this._in[l]),f),delete this._in[l],delete this._preds[l],t.each(t.keys(this._out[l]),f),delete this._out[l],delete this._sucs[l],--this._nodeCount}return this},r.prototype.setParent=function(l,h){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(h))h=n;else{h+="";for(var f=h;!t.isUndefined(f);f=this.parent(f))if(f===l)throw new Error("Setting "+h+" as parent of "+l+" would create a cycle");this.setNode(h)}return this.setNode(l),this._removeFromParentsChildList(l),this._parent[l]=h,this._children[h][l]=!0,this},r.prototype._removeFromParentsChildList=function(l){delete this._children[this._parent[l]][l]},r.prototype.parent=function(l){if(this._isCompound){var h=this._parent[l];if(h!==n)return h}},r.prototype.children=function(l){if(t.isUndefined(l)&&(l=n),this._isCompound){var h=this._children[l];if(h)return t.keys(h)}else{if(l===n)return this.nodes();if(this.hasNode(l))return[]}},r.prototype.predecessors=function(l){var h=this._preds[l];if(h)return t.keys(h)},r.prototype.successors=function(l){var h=this._sucs[l];if(h)return t.keys(h)},r.prototype.neighbors=function(l){var h=this.predecessors(l);if(h)return t.union(h,this.successors(l))},r.prototype.isLeaf=function(l){var h;return this.isDirected()?h=this.successors(l):h=this.neighbors(l),h.length===0},r.prototype.filterNodes=function(l){var h=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});h.setGraph(this.graph());var f=this;t.each(this._nodes,function(m,g){l(g)&&h.setNode(g,m)}),t.each(this._edgeObjs,function(m){h.hasNode(m.v)&&h.hasNode(m.w)&&h.setEdge(m,f.edge(m))});var p={};function y(m){var g=f.parent(m);return g===void 0||h.hasNode(g)?(p[m]=g,g):g in p?p[g]:y(g)}return this._isCompound&&t.each(h.nodes(),function(m){h.setParent(m,y(m))}),h},r.prototype.setDefaultEdgeLabel=function(l){return t.isFunction(l)||(l=t.constant(l)),this._defaultEdgeLabelFn=l,this},r.prototype.edgeCount=function(){return this._edgeCount},r.prototype.edges=function(){return t.values(this._edgeObjs)},r.prototype.setPath=function(l,h){var f=this,p=arguments;return t.reduce(l,function(y,m){return p.length>1?f.setEdge(y,m,h):f.setEdge(y,m),m}),this},r.prototype.setEdge=function(){var l,h,f,p,y=!1,m=arguments[0];typeof m=="object"&&m!==null&&"v"in m?(l=m.v,h=m.w,f=m.name,arguments.length===2&&(p=arguments[1],y=!0)):(l=m,h=arguments[1],f=arguments[3],arguments.length>2&&(p=arguments[2],y=!0)),l=""+l,h=""+h,t.isUndefined(f)||(f=""+f);var g=a(this._isDirected,l,h,f);if(t.has(this._edgeLabels,g))return y&&(this._edgeLabels[g]=p),this;if(!t.isUndefined(f)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(l),this.setNode(h),this._edgeLabels[g]=y?p:this._defaultEdgeLabelFn(l,h,f);var v=c(this._isDirected,l,h,f);return l=v.v,h=v.w,Object.freeze(v),this._edgeObjs[g]=v,o(this._preds[h],l),o(this._sucs[l],h),this._in[h][g]=v,this._out[l][g]=v,this._edgeCount++,this},r.prototype.edge=function(l,h,f){var p=arguments.length===1?d(this._isDirected,arguments[0]):a(this._isDirected,l,h,f);return this._edgeLabels[p]},r.prototype.hasEdge=function(l,h,f){var p=arguments.length===1?d(this._isDirected,arguments[0]):a(this._isDirected,l,h,f);return t.has(this._edgeLabels,p)},r.prototype.removeEdge=function(l,h,f){var p=arguments.length===1?d(this._isDirected,arguments[0]):a(this._isDirected,l,h,f),y=this._edgeObjs[p];return y&&(l=y.v,h=y.w,delete this._edgeLabels[p],delete this._edgeObjs[p],s(this._preds[h],l),s(this._sucs[l],h),delete this._in[h][p],delete this._out[l][p],this._edgeCount--),this},r.prototype.inEdges=function(l,h){var f=this._in[l];if(f){var p=t.values(f);return h?t.filter(p,function(y){return y.v===h}):p}},r.prototype.outEdges=function(l,h){var f=this._out[l];if(f){var p=t.values(f);return h?t.filter(p,function(y){return y.w===h}):p}},r.prototype.nodeEdges=function(l,h){var f=this.inEdges(l,h);if(f)return f.concat(this.outEdges(l,h))};function o(l,h){l[h]?l[h]++:l[h]=1}function s(l,h){--l[h]||delete l[h]}function a(l,h,f,p){var y=""+h,m=""+f;if(!l&&y>m){var g=y;y=m,m=g}return y+i+m+i+(t.isUndefined(p)?e:p)}function c(l,h,f,p){var y=""+h,m=""+f;if(!l&&y>m){var g=y;y=m,m=g}var v={v:y,w:m};return p&&(v.name=p),v}function d(l,h){return a(l,h.v,h.w,h.name)}return Bc}var Nc,x0;function i6(){return x0||(x0=1,Nc="2.1.8"),Nc}var Fc,w0;function r6(){return w0||(w0=1,Fc={Graph:Gh(),version:i6()}),Fc}var Wc,C0;function o6(){if(C0)return Wc;C0=1;var t=qe(),e=Gh();Wc={write:n,read:o};function n(s){var a={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:i(s),edges:r(s)};return t.isUndefined(s.graph())||(a.value=t.clone(s.graph())),a}function i(s){return t.map(s.nodes(),function(a){var c=s.node(a),d=s.parent(a),l={v:a};return t.isUndefined(c)||(l.value=c),t.isUndefined(d)||(l.parent=d),l})}function r(s){return t.map(s.edges(),function(a){var c=s.edge(a),d={v:a.v,w:a.w};return t.isUndefined(a.name)||(d.name=a.name),t.isUndefined(c)||(d.value=c),d})}function o(s){var a=new e(s.options).setGraph(s.value);return t.each(s.nodes,function(c){a.setNode(c.v,c.value),c.parent&&a.setParent(c.v,c.parent)}),t.each(s.edges,function(c){a.setEdge({v:c.v,w:c.w,name:c.name},c.value)}),a}return Wc}var Gc,_0;function s6(){if(_0)return Gc;_0=1;var t=qe();Gc=e;function e(n){var i={},r=[],o;function s(a){t.has(i,a)||(i[a]=!0,o.push(a),t.each(n.successors(a),s),t.each(n.predecessors(a),s))}return t.each(n.nodes(),function(a){o=[],s(a),o.length&&r.push(o)}),r}return Gc}var Yc,E0;function cv(){if(E0)return Yc;E0=1;var t=qe();Yc=e;function e(){this._arr=[],this._keyIndices={}}return e.prototype.size=function(){return this._arr.length},e.prototype.keys=function(){return this._arr.map(function(n){return n.key})},e.prototype.has=function(n){return t.has(this._keyIndices,n)},e.prototype.priority=function(n){var i=this._keyIndices[n];if(i!==void 0)return this._arr[i].priority},e.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},e.prototype.add=function(n,i){var r=this._keyIndices;if(n=String(n),!t.has(r,n)){var o=this._arr,s=o.length;return r[n]=s,o.push({key:n,priority:i}),this._decrease(s),!0}return!1},e.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},e.prototype.decrease=function(n,i){var r=this._keyIndices[n];if(i>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[r].priority+" New: "+i);this._arr[r].priority=i,this._decrease(r)},e.prototype._heapify=function(n){var i=this._arr,r=2*n,o=r+1,s=n;r<i.length&&(s=i[r].priority<i[s].priority?r:s,o<i.length&&(s=i[o].priority<i[s].priority?o:s),s!==n&&(this._swap(n,s),this._heapify(s)))},e.prototype._decrease=function(n){for(var i=this._arr,r=i[n].priority,o;n!==0&&(o=n>>1,!(i[o].priority<r));)this._swap(n,o),n=o},e.prototype._swap=function(n,i){var r=this._arr,o=this._keyIndices,s=r[n],a=r[i];r[n]=a,r[i]=s,o[a.key]=n,o[s.key]=i},Yc}var Vc,S0;function lv(){if(S0)return Vc;S0=1;var t=qe(),e=cv();Vc=i;var n=t.constant(1);function i(o,s,a,c){return r(o,String(s),a||n,c||function(d){return o.outEdges(d)})}function r(o,s,a,c){var d={},l=new e,h,f,p=function(y){var m=y.v!==h?y.v:y.w,g=d[m],v=a(y),b=f.distance+v;if(v<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+y+" Weight: "+v);b<g.distance&&(g.distance=b,g.predecessor=h,l.decrease(m,b))};for(o.nodes().forEach(function(y){var m=y===s?0:Number.POSITIVE_INFINITY;d[y]={distance:m},l.add(y,m)});l.size()>0&&(h=l.removeMin(),f=d[h],f.distance!==Number.POSITIVE_INFINITY);)c(h).forEach(p);return d}return Vc}var Xc,O0;function a6(){if(O0)return Xc;O0=1;var t=lv(),e=qe();Xc=n;function n(i,r,o){return e.transform(i.nodes(),function(s,a){s[a]=t(i,a,r,o)},{})}return Xc}var Uc,I0;function dv(){if(I0)return Uc;I0=1;var t=qe();Uc=e;function e(n){var i=0,r=[],o={},s=[];function a(c){var d=o[c]={onStack:!0,lowlink:i,index:i++};if(r.push(c),n.successors(c).forEach(function(f){t.has(o,f)?o[f].onStack&&(d.lowlink=Math.min(d.lowlink,o[f].index)):(a(f),d.lowlink=Math.min(d.lowlink,o[f].lowlink))}),d.lowlink===d.index){var l=[],h;do h=r.pop(),o[h].onStack=!1,l.push(h);while(c!==h);s.push(l)}}return n.nodes().forEach(function(c){t.has(o,c)||a(c)}),s}return Uc}var Kc,A0;function c6(){if(A0)return Kc;A0=1;var t=qe(),e=dv();Kc=n;function n(i){return t.filter(e(i),function(r){return r.length>1||r.length===1&&i.hasEdge(r[0],r[0])})}return Kc}var Zc,T0;function l6(){if(T0)return Zc;T0=1;var t=qe();Zc=n;var e=t.constant(1);function n(r,o,s){return i(r,o||e,s||function(a){return r.outEdges(a)})}function i(r,o,s){var a={},c=r.nodes();return c.forEach(function(d){a[d]={},a[d][d]={distance:0},c.forEach(function(l){d!==l&&(a[d][l]={distance:Number.POSITIVE_INFINITY})}),s(d).forEach(function(l){var h=l.v===d?l.w:l.v,f=o(l);a[d][h]={distance:f,predecessor:d}})}),c.forEach(function(d){var l=a[d];c.forEach(function(h){var f=a[h];c.forEach(function(p){var y=f[d],m=l[p],g=f[p],v=y.distance+m.distance;v<g.distance&&(g.distance=v,g.predecessor=m.predecessor)})})}),a}return Zc}var Qc,M0;function hv(){if(M0)return Qc;M0=1;var t=qe();Qc=e,e.CycleException=n;function e(i){var r={},o={},s=[];function a(c){if(t.has(o,c))throw new n;t.has(r,c)||(o[c]=!0,r[c]=!0,t.each(i.predecessors(c),a),delete o[c],s.push(c))}if(t.each(i.sinks(),a),t.size(r)!==i.nodeCount())throw new n;return s}function n(){}return n.prototype=new Error,Qc}var Jc,R0;function d6(){if(R0)return Jc;R0=1;var t=hv();Jc=e;function e(n){try{t(n)}catch(i){if(i instanceof t.CycleException)return!1;throw i}return!0}return Jc}var tl,k0;function uv(){if(k0)return tl;k0=1;var t=qe();tl=e;function e(i,r,o){t.isArray(r)||(r=[r]);var s=(i.isDirected()?i.successors:i.neighbors).bind(i),a=[],c={};return t.each(r,function(d){if(!i.hasNode(d))throw new Error("Graph does not have node: "+d);n(i,d,o==="post",c,s,a)}),a}function n(i,r,o,s,a,c){t.has(s,r)||(s[r]=!0,o||c.push(r),t.each(a(r),function(d){n(i,d,o,s,a,c)}),o&&c.push(r))}return tl}var el,L0;function h6(){if(L0)return el;L0=1;var t=uv();el=e;function e(n,i){return t(n,i,"post")}return el}var nl,P0;function u6(){if(P0)return nl;P0=1;var t=uv();nl=e;function e(n,i){return t(n,i,"pre")}return nl}var il,$0;function f6(){if($0)return il;$0=1;var t=qe(),e=Gh(),n=cv();il=i;function i(r,o){var s=new e,a={},c=new n,d;function l(f){var p=f.v===d?f.w:f.v,y=c.priority(p);if(y!==void 0){var m=o(f);m<y&&(a[p]=d,c.decrease(p,m))}}if(r.nodeCount()===0)return s;t.each(r.nodes(),function(f){c.add(f,Number.POSITIVE_INFINITY),s.setNode(f)}),c.decrease(r.nodes()[0],0);for(var h=!1;c.size()>0;){if(d=c.removeMin(),t.has(a,d))s.setEdge(d,a[d]);else{if(h)throw new Error("Input graph is not connected: "+r);h=!0}r.nodeEdges(d).forEach(l)}return s}return il}var rl,q0;function p6(){return q0||(q0=1,rl={components:s6(),dijkstra:lv(),dijkstraAll:a6(),findCycles:c6(),floydWarshall:l6(),isAcyclic:d6(),postorder:h6(),preorder:u6(),prim:f6(),tarjan:dv(),topsort:hv()}),rl}var ol,H0;function g6(){if(H0)return ol;H0=1;var t=r6();return ol={Graph:t.Graph,json:o6(),alg:p6(),version:t.version},ol}var sl,z0;function ze(){if(z0)return sl;z0=1;var t;if(typeof Th=="function")try{t=g6()}catch{}return t||(t=window.graphlib),sl=t,sl}var al,j0;function m6(){if(j0)return al;j0=1;var t=H2(),e=1,n=4;function i(r){return t(r,e|n)}return al=i,al}var cl,D0;function Xr(){if(D0)return cl;D0=1;var t=Jn(),e=rn(),n=jr(),i=$e();function r(o,s,a){if(!i(a))return!1;var c=typeof s;return(c=="number"?e(a)&&n(s,a.length):c=="string"&&s in a)?t(a[s],o):!1}return cl=r,cl}var ll,B0;function y6(){if(B0)return ll;B0=1;var t=Vr(),e=Jn(),n=Xr(),i=kn(),r=Object.prototype,o=r.hasOwnProperty,s=t(function(a,c){a=Object(a);var d=-1,l=c.length,h=l>2?c[2]:void 0;for(h&&n(c[0],c[1],h)&&(l=1);++d<l;)for(var f=c[d],p=i(f),y=-1,m=p.length;++y<m;){var g=p[y],v=a[g];(v===void 0||e(v,r[g])&&!o.call(a,g))&&(a[g]=f[g])}return a});return ll=s,ll}var dl,N0;function v6(){if(N0)return dl;N0=1;var t=on(),e=rn(),n=hn();function i(r){return function(o,s,a){var c=Object(o);if(!e(o)){var d=t(s,3);o=n(o),s=function(h){return d(c[h],h,c)}}var l=r(o,s,a);return l>-1?c[d?o[l]:l]:void 0}}return dl=i,dl}var hl,F0;function b6(){if(F0)return hl;F0=1;var t=/\s/;function e(n){for(var i=n.length;i--&&t.test(n.charAt(i)););return i}return hl=e,hl}var ul,W0;function x6(){if(W0)return ul;W0=1;var t=b6(),e=/^\s+/;function n(i){return i&&i.slice(0,t(i)+1).replace(e,"")}return ul=n,ul}var fl,G0;function w6(){if(G0)return fl;G0=1;var t=x6(),e=$e(),n=ii(),i=NaN,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt;function c(d){if(typeof d=="number")return d;if(n(d))return i;if(e(d)){var l=typeof d.valueOf=="function"?d.valueOf():d;d=e(l)?l+"":l}if(typeof d!="string")return d===0?d:+d;d=t(d);var h=o.test(d);return h||s.test(d)?a(d.slice(2),h?2:8):r.test(d)?i:+d}return fl=c,fl}var pl,Y0;function fv(){if(Y0)return pl;Y0=1;var t=w6(),e=1/0,n=17976931348623157e292;function i(r){if(!r)return r===0?r:0;if(r=t(r),r===e||r===-e){var o=r<0?-1:1;return o*n}return r===r?r:0}return pl=i,pl}var gl,V0;function C6(){if(V0)return gl;V0=1;var t=fv();function e(n){var i=t(n),r=i%1;return i===i?r?i-r:i:0}return gl=e,gl}var ml,X0;function _6(){if(X0)return ml;X0=1;var t=ov(),e=on(),n=C6(),i=Math.max;function r(o,s,a){var c=o==null?0:o.length;if(!c)return-1;var d=a==null?0:n(a);return d<0&&(d=i(c+d,0)),t(o,e(s,3),d)}return ml=r,ml}var yl,U0;function E6(){if(U0)return yl;U0=1;var t=v6(),e=_6(),n=t(e);return yl=n,yl}var vl,K0;function pv(){if(K0)return vl;K0=1;var t=Wh();function e(n){var i=n==null?0:n.length;return i?t(n,1):[]}return vl=e,vl}var bl,Z0;function S6(){if(Z0)return bl;Z0=1;var t=Dh(),e=z2(),n=kn();function i(r,o){return r==null?r:t(r,e(o),n)}return bl=i,bl}var xl,Q0;function O6(){if(Q0)return xl;Q0=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return xl=t,xl}var wl,J0;function I6(){if(J0)return wl;J0=1;var t=Hr(),e=Bh(),n=on();function i(r,o){var s={};return o=n(o,3),e(r,function(a,c,d){t(s,c,o(a,c,d))}),s}return wl=i,wl}var Cl,tm;function Yh(){if(tm)return Cl;tm=1;var t=ii();function e(n,i,r){for(var o=-1,s=n.length;++o<s;){var a=n[o],c=i(a);if(c!=null&&(d===void 0?c===c&&!t(c):r(c,d)))var d=c,l=a}return l}return Cl=e,Cl}var _l,em;function A6(){if(em)return _l;em=1;function t(e,n){return e>n}return _l=t,_l}var El,nm;function T6(){if(nm)return El;nm=1;var t=Yh(),e=A6(),n=Ln();function i(r){return r&&r.length?t(r,n,e):void 0}return El=i,El}var Sl,im;function gv(){if(im)return Sl;im=1;var t=Hr(),e=Jn();function n(i,r,o){(o!==void 0&&!e(i[r],o)||o===void 0&&!(r in i))&&t(i,r,o)}return Sl=n,Sl}var Ol,rm;function M6(){if(rm)return Ol;rm=1;var t=Mn(),e=Nr(),n=Ve(),i="[object Object]",r=Function.prototype,o=Object.prototype,s=r.toString,a=o.hasOwnProperty,c=s.call(Object);function d(l){if(!n(l)||t(l)!=i)return!1;var h=e(l);if(h===null)return!0;var f=a.call(h,"constructor")&&h.constructor;return typeof f=="function"&&f instanceof f&&s.call(f)==c}return Ol=d,Ol}var Il,om;function mv(){if(om)return Il;om=1;function t(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}return Il=t,Il}var Al,sm;function R6(){if(sm)return Al;sm=1;var t=$i(),e=kn();function n(i){return t(i,e(i))}return Al=n,Al}var Tl,am;function k6(){if(am)return Tl;am=1;var t=gv(),e=S2(),n=P2(),i=O2(),r=q2(),o=qi(),s=ve(),a=sv(),c=ei(),d=Pi(),l=$e(),h=M6(),f=Hi(),p=mv(),y=R6();function m(g,v,b,x,w,_,C){var E=p(g,b),S=p(v,b),O=C.get(S);if(O){t(g,b,O);return}var I=_?_(E,S,b+"",g,v,C):void 0,T=I===void 0;if(T){var R=s(S),A=!R&&c(S),q=!R&&!A&&f(S);I=S,R||A||q?s(E)?I=E:a(E)?I=i(E):A?(T=!1,I=e(S,!0)):q?(T=!1,I=n(S,!0)):I=[]:h(S)||o(S)?(I=E,o(E)?I=y(E):(!l(E)||d(E))&&(I=r(S))):T=!1}T&&(C.set(S,I),w(I,S,x,_,C),C.delete(S)),t(g,b,I)}return Tl=m,Tl}var Ml,cm;function L6(){if(cm)return Ml;cm=1;var t=qr(),e=gv(),n=Dh(),i=k6(),r=$e(),o=kn(),s=mv();function a(c,d,l,h,f){c!==d&&n(d,function(p,y){if(f||(f=new t),r(p))i(c,d,y,l,a,h,f);else{var m=h?h(s(c,y),p,y+"",c,d,f):void 0;m===void 0&&(m=p),e(c,y,m)}},o)}return Ml=a,Ml}var Rl,lm;function P6(){if(lm)return Rl;lm=1;var t=Vr(),e=Xr();function n(i){return t(function(r,o){var s=-1,a=o.length,c=a>1?o[a-1]:void 0,d=a>2?o[2]:void 0;for(c=i.length>3&&typeof c=="function"?(a--,c):void 0,d&&e(o[0],o[1],d)&&(c=a<3?void 0:c,a=1),r=Object(r);++s<a;){var l=o[s];l&&i(r,l,s,c)}return r})}return Rl=n,Rl}var kl,dm;function $6(){if(dm)return kl;dm=1;var t=L6(),e=P6(),n=e(function(i,r,o){t(i,r,o)});return kl=n,kl}var Ll,hm;function yv(){if(hm)return Ll;hm=1;function t(e,n){return e<n}return Ll=t,Ll}var Pl,um;function q6(){if(um)return Pl;um=1;var t=Yh(),e=yv(),n=Ln();function i(r){return r&&r.length?t(r,n,e):void 0}return Pl=i,Pl}var $l,fm;function H6(){if(fm)return $l;fm=1;var t=Yh(),e=on(),n=yv();function i(r,o){return r&&r.length?t(r,e(o,2),n):void 0}return $l=i,$l}var ql,pm;function z6(){if(pm)return ql;pm=1;var t=De(),e=function(){return t.Date.now()};return ql=e,ql}var Hl,gm;function j6(){if(gm)return Hl;gm=1;var t=zr(),e=Gr(),n=jr(),i=$e(),r=zi();function o(s,a,c,d){if(!i(s))return s;a=e(a,s);for(var l=-1,h=a.length,f=h-1,p=s;p!=null&&++l<h;){var y=r(a[l]),m=c;if(y==="__proto__"||y==="constructor"||y==="prototype")return s;if(l!=f){var g=p[y];m=d?d(g,y,p):void 0,m===void 0&&(m=i(g)?g:n(a[l+1])?[]:{})}t(p,y,m),p=p[y]}return s}return Hl=o,Hl}var zl,mm;function D6(){if(mm)return zl;mm=1;var t=Yr(),e=j6(),n=Gr();function i(r,o,s){for(var a=-1,c=o.length,d={};++a<c;){var l=o[a],h=t(r,l);s(h,l)&&e(d,n(l,r),h)}return d}return zl=i,zl}var jl,ym;function B6(){if(ym)return jl;ym=1;var t=D6(),e=U2();function n(i,r){return t(i,r,function(o,s){return e(i,s)})}return jl=n,jl}var Dl,vm;function N6(){if(vm)return Dl;vm=1;var t=pv(),e=iv(),n=rv();function i(r){return n(e(r,void 0,t),r+"")}return Dl=i,Dl}var Bl,bm;function F6(){if(bm)return Bl;bm=1;var t=B6(),e=N6(),n=e(function(i,r){return i==null?{}:t(i,r)});return Bl=n,Bl}var Nl,xm;function W6(){if(xm)return Nl;xm=1;var t=Math.ceil,e=Math.max;function n(i,r,o,s){for(var a=-1,c=e(t((r-i)/(o||1)),0),d=Array(c);c--;)d[s?c:++a]=i,i+=o;return d}return Nl=n,Nl}var Fl,wm;function G6(){if(wm)return Fl;wm=1;var t=W6(),e=Xr(),n=fv();function i(r){return function(o,s,a){return a&&typeof a!="number"&&e(o,s,a)&&(s=a=void 0),o=n(o),s===void 0?(s=o,o=0):s=n(s),a=a===void 0?o<s?1:-1:n(a),t(o,s,a,r)}}return Fl=i,Fl}var Wl,Cm;function Y6(){if(Cm)return Wl;Cm=1;var t=G6(),e=t();return Wl=e,Wl}var Gl,_m;function V6(){if(_m)return Gl;_m=1;function t(e,n){var i=e.length;for(e.sort(n);i--;)e[i]=e[i].value;return e}return Gl=t,Gl}var Yl,Em;function X6(){if(Em)return Yl;Em=1;var t=ii();function e(n,i){if(n!==i){var r=n!==void 0,o=n===null,s=n===n,a=t(n),c=i!==void 0,d=i===null,l=i===i,h=t(i);if(!d&&!h&&!a&&n>i||a&&c&&l&&!d&&!h||o&&c&&l||!r&&l||!s)return 1;if(!o&&!a&&!h&&n<i||h&&r&&s&&!o&&!a||d&&r&&s||!c&&s||!l)return-1}return 0}return Yl=e,Yl}var Vl,Sm;function U6(){if(Sm)return Vl;Sm=1;var t=X6();function e(n,i,r){for(var o=-1,s=n.criteria,a=i.criteria,c=s.length,d=r.length;++o<c;){var l=t(s[o],a[o]);if(l){if(o>=d)return l;var h=r[o];return l*(h=="desc"?-1:1)}}return n.index-i.index}return Vl=e,Vl}var Xl,Om;function K6(){if(Om)return Xl;Om=1;var t=Wr(),e=Yr(),n=on(),i=tv(),r=V6(),o=Dr(),s=U6(),a=Ln(),c=ve();function d(l,h,f){h.length?h=t(h,function(m){return c(m)?function(g){return e(g,m.length===1?m[0]:m)}:m}):h=[a];var p=-1;h=t(h,o(n));var y=i(l,function(m,g,v){var b=t(h,function(x){return x(m)});return{criteria:b,index:++p,value:m}});return r(y,function(m,g){return s(m,g,f)})}return Xl=d,Xl}var Ul,Im;function Z6(){if(Im)return Ul;Im=1;var t=Wh(),e=K6(),n=Vr(),i=Xr(),r=n(function(o,s){if(o==null)return[];var a=s.length;return a>1&&i(o,s[0],s[1])?s=[]:a>2&&i(s[0],s[1],s[2])&&(s=[s[0]]),e(o,t(s,1),[])});return Ul=r,Ul}var Kl,Am;function Q6(){if(Am)return Kl;Am=1;var t=V2(),e=0;function n(i){var r=++e;return t(i)+r}return Kl=n,Kl}var Zl,Tm;function J6(){if(Tm)return Zl;Tm=1;function t(e,n,i){for(var r=-1,o=e.length,s=n.length,a={};++r<o;){var c=r<s?n[r]:void 0;i(a,e[r],c)}return a}return Zl=t,Zl}var Ql,Mm;function t_(){if(Mm)return Ql;Mm=1;var t=zr(),e=J6();function n(i,r){return e(i||[],r||[],t)}return Ql=n,Ql}var Jl,Rm;function le(){if(Rm)return Jl;Rm=1;var t;if(typeof Th=="function")try{t={cloneDeep:m6(),constant:jh(),defaults:y6(),each:D2(),filter:Z2(),find:E6(),flatten:pv(),forEach:j2(),forIn:S6(),has:Q2(),isUndefined:J2(),last:O6(),map:ev(),mapValues:I6(),max:T6(),merge:$6(),min:q6(),minBy:H6(),now:z6(),pick:F6(),range:Y6(),reduce:nv(),sortBy:Z6(),uniqueId:Q6(),values:av(),zipObject:t_()}}catch{}return t||(t=window._),Jl=t,Jl}var td,km;function e_(){if(km)return td;km=1,td=t;function t(){var i={};i._next=i._prev=i,this._sentinel=i}t.prototype.dequeue=function(){var i=this._sentinel,r=i._prev;if(r!==i)return e(r),r},t.prototype.enqueue=function(i){var r=this._sentinel;i._prev&&i._next&&e(i),i._next=r._next,r._next._prev=i,r._next=i,i._prev=r},t.prototype.toString=function(){for(var i=[],r=this._sentinel,o=r._prev;o!==r;)i.push(JSON.stringify(o,n)),o=o._prev;return"["+i.join(", ")+"]"};function e(i){i._prev._next=i._next,i._next._prev=i._prev,delete i._next,delete i._prev}function n(i,r){if(i!=="_next"&&i!=="_prev")return r}return td}var ed,Lm;function n_(){if(Lm)return ed;Lm=1;var t=le(),e=ze().Graph,n=e_();ed=r;var i=t.constant(1);function r(d,l){if(d.nodeCount()<=1)return[];var h=a(d,l||i),f=o(h.graph,h.buckets,h.zeroIdx);return t.flatten(t.map(f,function(p){return d.outEdges(p.v,p.w)}),!0)}function o(d,l,h){for(var f=[],p=l[l.length-1],y=l[0],m;d.nodeCount();){for(;m=y.dequeue();)s(d,l,h,m);for(;m=p.dequeue();)s(d,l,h,m);if(d.nodeCount()){for(var g=l.length-2;g>0;--g)if(m=l[g].dequeue(),m){f=f.concat(s(d,l,h,m,!0));break}}}return f}function s(d,l,h,f,p){var y=p?[]:void 0;return t.forEach(d.inEdges(f.v),function(m){var g=d.edge(m),v=d.node(m.v);p&&y.push({v:m.v,w:m.w}),v.out-=g,c(l,h,v)}),t.forEach(d.outEdges(f.v),function(m){var g=d.edge(m),v=m.w,b=d.node(v);b.in-=g,c(l,h,b)}),d.removeNode(f.v),y}function a(d,l){var h=new e,f=0,p=0;t.forEach(d.nodes(),function(g){h.setNode(g,{v:g,in:0,out:0})}),t.forEach(d.edges(),function(g){var v=h.edge(g.v,g.w)||0,b=l(g),x=v+b;h.setEdge(g.v,g.w,x),p=Math.max(p,h.node(g.v).out+=b),f=Math.max(f,h.node(g.w).in+=b)});var y=t.range(p+f+3).map(function(){return new n}),m=f+1;return t.forEach(h.nodes(),function(g){c(y,m,h.node(g))}),{graph:h,buckets:y,zeroIdx:m}}function c(d,l,h){h.out?h.in?d[h.out-h.in+l].enqueue(h):d[d.length-1].enqueue(h):d[0].enqueue(h)}return ed}var nd,Pm;function i_(){if(Pm)return nd;Pm=1;var t=le(),e=n_();nd={run:n,undo:r};function n(o){var s=o.graph().acyclicer==="greedy"?e(o,a(o)):i(o);t.forEach(s,function(c){var d=o.edge(c);o.removeEdge(c),d.forwardName=c.name,d.reversed=!0,o.setEdge(c.w,c.v,d,t.uniqueId("rev"))});function a(c){return function(d){return c.edge(d).weight}}}function i(o){var s=[],a={},c={};function d(l){t.has(c,l)||(c[l]=!0,a[l]=!0,t.forEach(o.outEdges(l),function(h){t.has(a,h.w)?s.push(h):d(h.w)}),delete a[l])}return t.forEach(o.nodes(),d),s}function r(o){t.forEach(o.edges(),function(s){var a=o.edge(s);if(a.reversed){o.removeEdge(s);var c=a.forwardName;delete a.reversed,delete a.forwardName,o.setEdge(s.w,s.v,a,c)}})}return nd}var id,$m;function Re(){if($m)return id;$m=1;var t=le(),e=ze().Graph;id={addDummyNode:n,simplify:i,asNonCompoundGraph:r,successorWeights:o,predecessorWeights:s,intersectRect:a,buildLayerMatrix:c,normalizeRanks:d,removeEmptyRanks:l,addBorderNode:h,maxRank:f,partition:p,time:y,notime:m};function n(g,v,b,x){var w;do w=t.uniqueId(x);while(g.hasNode(w));return b.dummy=v,g.setNode(w,b),w}function i(g){var v=new e().setGraph(g.graph());return t.forEach(g.nodes(),function(b){v.setNode(b,g.node(b))}),t.forEach(g.edges(),function(b){var x=v.edge(b.v,b.w)||{weight:0,minlen:1},w=g.edge(b);v.setEdge(b.v,b.w,{weight:x.weight+w.weight,minlen:Math.max(x.minlen,w.minlen)})}),v}function r(g){var v=new e({multigraph:g.isMultigraph()}).setGraph(g.graph());return t.forEach(g.nodes(),function(b){g.children(b).length||v.setNode(b,g.node(b))}),t.forEach(g.edges(),function(b){v.setEdge(b,g.edge(b))}),v}function o(g){var v=t.map(g.nodes(),function(b){var x={};return t.forEach(g.outEdges(b),function(w){x[w.w]=(x[w.w]||0)+g.edge(w).weight}),x});return t.zipObject(g.nodes(),v)}function s(g){var v=t.map(g.nodes(),function(b){var x={};return t.forEach(g.inEdges(b),function(w){x[w.v]=(x[w.v]||0)+g.edge(w).weight}),x});return t.zipObject(g.nodes(),v)}function a(g,v){var b=g.x,x=g.y,w=v.x-b,_=v.y-x,C=g.width/2,E=g.height/2;if(!w&&!_)throw new Error("Not possible to find intersection inside of the rectangle");var S,O;return Math.abs(_)*C>Math.abs(w)*E?(_<0&&(E=-E),S=E*w/_,O=E):(w<0&&(C=-C),S=C,O=C*_/w),{x:b+S,y:x+O}}function c(g){var v=t.map(t.range(f(g)+1),function(){return[]});return t.forEach(g.nodes(),function(b){var x=g.node(b),w=x.rank;t.isUndefined(w)||(v[w][x.order]=b)}),v}function d(g){var v=t.min(t.map(g.nodes(),function(b){return g.node(b).rank}));t.forEach(g.nodes(),function(b){var x=g.node(b);t.has(x,"rank")&&(x.rank-=v)})}function l(g){var v=t.min(t.map(g.nodes(),function(_){return g.node(_).rank})),b=[];t.forEach(g.nodes(),function(_){var C=g.node(_).rank-v;b[C]||(b[C]=[]),b[C].push(_)});var x=0,w=g.graph().nodeRankFactor;t.forEach(b,function(_,C){t.isUndefined(_)&&C%w!==0?--x:x&&t.forEach(_,function(E){g.node(E).rank+=x})})}function h(g,v,b,x){var w={width:0,height:0};return arguments.length>=4&&(w.rank=b,w.order=x),n(g,"border",w,v)}function f(g){return t.max(t.map(g.nodes(),function(v){var b=g.node(v).rank;if(!t.isUndefined(b))return b}))}function p(g,v){var b={lhs:[],rhs:[]};return t.forEach(g,function(x){v(x)?b.lhs.push(x):b.rhs.push(x)}),b}function y(g,v){var b=t.now();try{return v()}finally{console.log(g+" time: "+(t.now()-b)+"ms")}}function m(g,v){return v()}return id}var rd,qm;function r_(){if(qm)return rd;qm=1;var t=le(),e=Re();rd={run:n,undo:r};function n(o){o.graph().dummyChains=[],t.forEach(o.edges(),function(s){i(o,s)})}function i(o,s){var a=s.v,c=o.node(a).rank,d=s.w,l=o.node(d).rank,h=s.name,f=o.edge(s),p=f.labelRank;if(l!==c+1){o.removeEdge(s);var y,m,g;for(g=0,++c;c<l;++g,++c)f.points=[],m={width:0,height:0,edgeLabel:f,edgeObj:s,rank:c},y=e.addDummyNode(o,"edge",m,"_d"),c===p&&(m.width=f.width,m.height=f.height,m.dummy="edge-label",m.labelpos=f.labelpos),o.setEdge(a,y,{weight:f.weight},h),g===0&&o.graph().dummyChains.push(y),a=y;o.setEdge(a,d,{weight:f.weight},h)}}function r(o){t.forEach(o.graph().dummyChains,function(s){var a=o.node(s),c=a.edgeLabel,d;for(o.setEdge(a.edgeObj,c);a.dummy;)d=o.successors(s)[0],o.removeNode(s),c.points.push({x:a.x,y:a.y}),a.dummy==="edge-label"&&(c.x=a.x,c.y=a.y,c.width=a.width,c.height=a.height),s=d,a=o.node(s)})}return rd}var od,Hm;function yr(){if(Hm)return od;Hm=1;var t=le();od={longestPath:e,slack:n};function e(i){var r={};function o(s){var a=i.node(s);if(t.has(r,s))return a.rank;r[s]=!0;var c=t.min(t.map(i.outEdges(s),function(d){return o(d.w)-i.edge(d).minlen}));return(c===Number.POSITIVE_INFINITY||c===void 0||c===null)&&(c=0),a.rank=c}t.forEach(i.sources(),o)}function n(i,r){return i.node(r.w).rank-i.node(r.v).rank-i.edge(r).minlen}return od}var sd,zm;function vv(){if(zm)return sd;zm=1;var t=le(),e=ze().Graph,n=yr().slack;sd=i;function i(a){var c=new e({directed:!1}),d=a.nodes()[0],l=a.nodeCount();c.setNode(d,{});for(var h,f;r(c,a)<l;)h=o(c,a),f=c.hasNode(h.v)?n(a,h):-n(a,h),s(c,a,f);return c}function r(a,c){function d(l){t.forEach(c.nodeEdges(l),function(h){var f=h.v,p=l===f?h.w:f;!a.hasNode(p)&&!n(c,h)&&(a.setNode(p,{}),a.setEdge(l,p,{}),d(p))})}return t.forEach(a.nodes(),d),a.nodeCount()}function o(a,c){return t.minBy(c.edges(),function(d){if(a.hasNode(d.v)!==a.hasNode(d.w))return n(c,d)})}function s(a,c,d){t.forEach(a.nodes(),function(l){c.node(l).rank+=d})}return sd}var ad,jm;function o_(){if(jm)return ad;jm=1;var t=le(),e=vv(),n=yr().slack,i=yr().longestPath,r=ze().alg.preorder,o=ze().alg.postorder,s=Re().simplify;ad=a,a.initLowLimValues=h,a.initCutValues=c,a.calcCutValue=l,a.leaveEdge=p,a.enterEdge=y,a.exchangeEdges=m;function a(x){x=s(x),i(x);var w=e(x);h(w),c(w,x);for(var _,C;_=p(w);)C=y(w,x,_),m(w,x,_,C)}function c(x,w){var _=o(x,x.nodes());_=_.slice(0,_.length-1),t.forEach(_,function(C){d(x,w,C)})}function d(x,w,_){var C=x.node(_),E=C.parent;x.edge(_,E).cutvalue=l(x,w,_)}function l(x,w,_){var C=x.node(_),E=C.parent,S=!0,O=w.edge(_,E),I=0;return O||(S=!1,O=w.edge(E,_)),I=O.weight,t.forEach(w.nodeEdges(_),function(T){var R=T.v===_,A=R?T.w:T.v;if(A!==E){var q=R===S,B=w.edge(T).weight;if(I+=q?B:-B,v(x,_,A)){var L=x.edge(_,A).cutvalue;I+=q?-L:L}}}),I}function h(x,w){arguments.length<2&&(w=x.nodes()[0]),f(x,{},1,w)}function f(x,w,_,C,E){var S=_,O=x.node(C);return w[C]=!0,t.forEach(x.neighbors(C),function(I){t.has(w,I)||(_=f(x,w,_,I,C))}),O.low=S,O.lim=_++,E?O.parent=E:delete O.parent,_}function p(x){return t.find(x.edges(),function(w){return x.edge(w).cutvalue<0})}function y(x,w,_){var C=_.v,E=_.w;w.hasEdge(C,E)||(C=_.w,E=_.v);var S=x.node(C),O=x.node(E),I=S,T=!1;S.lim>O.lim&&(I=O,T=!0);var R=t.filter(w.edges(),function(A){return T===b(x,x.node(A.v),I)&&T!==b(x,x.node(A.w),I)});return t.minBy(R,function(A){return n(w,A)})}function m(x,w,_,C){var E=_.v,S=_.w;x.removeEdge(E,S),x.setEdge(C.v,C.w,{}),h(x),c(x,w),g(x,w)}function g(x,w){var _=t.find(x.nodes(),function(E){return!w.node(E).parent}),C=r(x,_);C=C.slice(1),t.forEach(C,function(E){var S=x.node(E).parent,O=w.edge(E,S),I=!1;O||(O=w.edge(S,E),I=!0),w.node(E).rank=w.node(S).rank+(I?O.minlen:-O.minlen)})}function v(x,w,_){return x.hasEdge(w,_)}function b(x,w,_){return _.low<=w.lim&&w.lim<=_.lim}return ad}var cd,Dm;function s_(){if(Dm)return cd;Dm=1;var t=yr(),e=t.longestPath,n=vv(),i=o_();cd=r;function r(c){switch(c.graph().ranker){case"network-simplex":a(c);break;case"tight-tree":s(c);break;case"longest-path":o(c);break;default:a(c)}}var o=e;function s(c){e(c),n(c)}function a(c){i(c)}return cd}var ld,Bm;function a_(){if(Bm)return ld;Bm=1;var t=le();ld=e;function e(r){var o=i(r);t.forEach(r.graph().dummyChains,function(s){for(var a=r.node(s),c=a.edgeObj,d=n(r,o,c.v,c.w),l=d.path,h=d.lca,f=0,p=l[f],y=!0;s!==c.w;){if(a=r.node(s),y){for(;(p=l[f])!==h&&r.node(p).maxRank<a.rank;)f++;p===h&&(y=!1)}if(!y){for(;f<l.length-1&&r.node(p=l[f+1]).minRank<=a.rank;)f++;p=l[f]}r.setParent(s,p),s=r.successors(s)[0]}})}function n(r,o,s,a){var c=[],d=[],l=Math.min(o[s].low,o[a].low),h=Math.max(o[s].lim,o[a].lim),f,p;f=s;do f=r.parent(f),c.push(f);while(f&&(o[f].low>l||h>o[f].lim));for(p=f,f=a;(f=r.parent(f))!==p;)d.push(f);return{path:c.concat(d.reverse()),lca:p}}function i(r){var o={},s=0;function a(c){var d=s;t.forEach(r.children(c),a),o[c]={low:d,lim:s++}}return t.forEach(r.children(),a),o}return ld}var dd,Nm;function c_(){if(Nm)return dd;Nm=1;var t=le(),e=Re();dd={run:n,cleanup:s};function n(a){var c=e.addDummyNode(a,"root",{},"_root"),d=r(a),l=t.max(t.values(d))-1,h=2*l+1;a.graph().nestingRoot=c,t.forEach(a.edges(),function(p){a.edge(p).minlen*=h});var f=o(a)+1;t.forEach(a.children(),function(p){i(a,c,h,f,l,d,p)}),a.graph().nodeRankFactor=h}function i(a,c,d,l,h,f,p){var y=a.children(p);if(!y.length){p!==c&&a.setEdge(c,p,{weight:0,minlen:d});return}var m=e.addBorderNode(a,"_bt"),g=e.addBorderNode(a,"_bb"),v=a.node(p);a.setParent(m,p),v.borderTop=m,a.setParent(g,p),v.borderBottom=g,t.forEach(y,function(b){i(a,c,d,l,h,f,b);var x=a.node(b),w=x.borderTop?x.borderTop:b,_=x.borderBottom?x.borderBottom:b,C=x.borderTop?l:2*l,E=w!==_?1:h-f[p]+1;a.setEdge(m,w,{weight:C,minlen:E,nestingEdge:!0}),a.setEdge(_,g,{weight:C,minlen:E,nestingEdge:!0})}),a.parent(p)||a.setEdge(c,m,{weight:0,minlen:h+f[p]})}function r(a){var c={};function d(l,h){var f=a.children(l);f&&f.length&&t.forEach(f,function(p){d(p,h+1)}),c[l]=h}return t.forEach(a.children(),function(l){d(l,1)}),c}function o(a){return t.reduce(a.edges(),function(c,d){return c+a.edge(d).weight},0)}function s(a){var c=a.graph();a.removeNode(c.nestingRoot),delete c.nestingRoot,t.forEach(a.edges(),function(d){var l=a.edge(d);l.nestingEdge&&a.removeEdge(d)})}return dd}var hd,Fm;function l_(){if(Fm)return hd;Fm=1;var t=le(),e=Re();hd=n;function n(r){function o(s){var a=r.children(s),c=r.node(s);if(a.length&&t.forEach(a,o),t.has(c,"minRank")){c.borderLeft=[],c.borderRight=[];for(var d=c.minRank,l=c.maxRank+1;d<l;++d)i(r,"borderLeft","_bl",s,c,d),i(r,"borderRight","_br",s,c,d)}}t.forEach(r.children(),o)}function i(r,o,s,a,c,d){var l={width:0,height:0,rank:d,borderType:o},h=c[o][d-1],f=e.addDummyNode(r,"border",l,s);c[o][d]=f,r.setParent(f,a),h&&r.setEdge(h,f,{weight:1})}return hd}var ud,Wm;function d_(){if(Wm)return ud;Wm=1;var t=le();ud={adjust:e,undo:n};function e(d){var l=d.graph().rankdir.toLowerCase();(l==="lr"||l==="rl")&&i(d)}function n(d){var l=d.graph().rankdir.toLowerCase();(l==="bt"||l==="rl")&&o(d),(l==="lr"||l==="rl")&&(a(d),i(d))}function i(d){t.forEach(d.nodes(),function(l){r(d.node(l))}),t.forEach(d.edges(),function(l){r(d.edge(l))})}function r(d){var l=d.width;d.width=d.height,d.height=l}function o(d){t.forEach(d.nodes(),function(l){s(d.node(l))}),t.forEach(d.edges(),function(l){var h=d.edge(l);t.forEach(h.points,s),t.has(h,"y")&&s(h)})}function s(d){d.y=-d.y}function a(d){t.forEach(d.nodes(),function(l){c(d.node(l))}),t.forEach(d.edges(),function(l){var h=d.edge(l);t.forEach(h.points,c),t.has(h,"x")&&c(h)})}function c(d){var l=d.x;d.x=d.y,d.y=l}return ud}var fd,Gm;function h_(){if(Gm)return fd;Gm=1;var t=le();fd=e;function e(n){var i={},r=t.filter(n.nodes(),function(d){return!n.children(d).length}),o=t.max(t.map(r,function(d){return n.node(d).rank})),s=t.map(t.range(o+1),function(){return[]});function a(d){if(!t.has(i,d)){i[d]=!0;var l=n.node(d);s[l.rank].push(d),t.forEach(n.successors(d),a)}}var c=t.sortBy(r,function(d){return n.node(d).rank});return t.forEach(c,a),s}return fd}var pd,Ym;function u_(){if(Ym)return pd;Ym=1;var t=le();pd=e;function e(i,r){for(var o=0,s=1;s<r.length;++s)o+=n(i,r[s-1],r[s]);return o}function n(i,r,o){for(var s=t.zipObject(o,t.map(o,function(f,p){return p})),a=t.flatten(t.map(r,function(f){return t.sortBy(t.map(i.outEdges(f),function(p){return{pos:s[p.w],weight:i.edge(p).weight}}),"pos")}),!0),c=1;c<o.length;)c<<=1;var d=2*c-1;c-=1;var l=t.map(new Array(d),function(){return 0}),h=0;return t.forEach(a.forEach(function(f){var p=f.pos+c;l[p]+=f.weight;for(var y=0;p>0;)p%2&&(y+=l[p+1]),p=p-1>>1,l[p]+=f.weight;h+=f.weight*y})),h}return pd}var gd,Vm;function f_(){if(Vm)return gd;Vm=1;var t=le();gd=e;function e(n,i){return t.map(i,function(r){var o=n.inEdges(r);if(o.length){var s=t.reduce(o,function(a,c){var d=n.edge(c),l=n.node(c.v);return{sum:a.sum+d.weight*l.order,weight:a.weight+d.weight}},{sum:0,weight:0});return{v:r,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:r}})}return gd}var md,Xm;function p_(){if(Xm)return md;Xm=1;var t=le();md=e;function e(r,o){var s={};t.forEach(r,function(c,d){var l=s[c.v]={indegree:0,in:[],out:[],vs:[c.v],i:d};t.isUndefined(c.barycenter)||(l.barycenter=c.barycenter,l.weight=c.weight)}),t.forEach(o.edges(),function(c){var d=s[c.v],l=s[c.w];!t.isUndefined(d)&&!t.isUndefined(l)&&(l.indegree++,d.out.push(s[c.w]))});var a=t.filter(s,function(c){return!c.indegree});return n(a)}function n(r){var o=[];function s(d){return function(l){l.merged||(t.isUndefined(l.barycenter)||t.isUndefined(d.barycenter)||l.barycenter>=d.barycenter)&&i(d,l)}}function a(d){return function(l){l.in.push(d),--l.indegree===0&&r.push(l)}}for(;r.length;){var c=r.pop();o.push(c),t.forEach(c.in.reverse(),s(c)),t.forEach(c.out,a(c))}return t.map(t.filter(o,function(d){return!d.merged}),function(d){return t.pick(d,["vs","i","barycenter","weight"])})}function i(r,o){var s=0,a=0;r.weight&&(s+=r.barycenter*r.weight,a+=r.weight),o.weight&&(s+=o.barycenter*o.weight,a+=o.weight),r.vs=o.vs.concat(r.vs),r.barycenter=s/a,r.weight=a,r.i=Math.min(o.i,r.i),o.merged=!0}return md}var yd,Um;function g_(){if(Um)return yd;Um=1;var t=le(),e=Re();yd=n;function n(o,s){var a=e.partition(o,function(m){return t.has(m,"barycenter")}),c=a.lhs,d=t.sortBy(a.rhs,function(m){return-m.i}),l=[],h=0,f=0,p=0;c.sort(r(!!s)),p=i(l,d,p),t.forEach(c,function(m){p+=m.vs.length,l.push(m.vs),h+=m.barycenter*m.weight,f+=m.weight,p=i(l,d,p)});var y={vs:t.flatten(l,!0)};return f&&(y.barycenter=h/f,y.weight=f),y}function i(o,s,a){for(var c;s.length&&(c=t.last(s)).i<=a;)s.pop(),o.push(c.vs),a++;return a}function r(o){return function(s,a){return s.barycenter<a.barycenter?-1:s.barycenter>a.barycenter?1:o?a.i-s.i:s.i-a.i}}return yd}var vd,Km;function m_(){if(Km)return vd;Km=1;var t=le(),e=f_(),n=p_(),i=g_();vd=r;function r(a,c,d,l){var h=a.children(c),f=a.node(c),p=f?f.borderLeft:void 0,y=f?f.borderRight:void 0,m={};p&&(h=t.filter(h,function(_){return _!==p&&_!==y}));var g=e(a,h);t.forEach(g,function(_){if(a.children(_.v).length){var C=r(a,_.v,d,l);m[_.v]=C,t.has(C,"barycenter")&&s(_,C)}});var v=n(g,d);o(v,m);var b=i(v,l);if(p&&(b.vs=t.flatten([p,b.vs,y],!0),a.predecessors(p).length)){var x=a.node(a.predecessors(p)[0]),w=a.node(a.predecessors(y)[0]);t.has(b,"barycenter")||(b.barycenter=0,b.weight=0),b.barycenter=(b.barycenter*b.weight+x.order+w.order)/(b.weight+2),b.weight+=2}return b}function o(a,c){t.forEach(a,function(d){d.vs=t.flatten(d.vs.map(function(l){return c[l]?c[l].vs:l}),!0)})}function s(a,c){t.isUndefined(a.barycenter)?(a.barycenter=c.barycenter,a.weight=c.weight):(a.barycenter=(a.barycenter*a.weight+c.barycenter*c.weight)/(a.weight+c.weight),a.weight+=c.weight)}return vd}var bd,Zm;function y_(){if(Zm)return bd;Zm=1;var t=le(),e=ze().Graph;bd=n;function n(r,o,s){var a=i(r),c=new e({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(function(d){return r.node(d)});return t.forEach(r.nodes(),function(d){var l=r.node(d),h=r.parent(d);(l.rank===o||l.minRank<=o&&o<=l.maxRank)&&(c.setNode(d),c.setParent(d,h||a),t.forEach(r[s](d),function(f){var p=f.v===d?f.w:f.v,y=c.edge(p,d),m=t.isUndefined(y)?0:y.weight;c.setEdge(p,d,{weight:r.edge(f).weight+m})}),t.has(l,"minRank")&&c.setNode(d,{borderLeft:l.borderLeft[o],borderRight:l.borderRight[o]}))}),c}function i(r){for(var o;r.hasNode(o=t.uniqueId("_root")););return o}return bd}var xd,Qm;function v_(){if(Qm)return xd;Qm=1;var t=le();xd=e;function e(n,i,r){var o={},s;t.forEach(r,function(a){for(var c=n.parent(a),d,l;c;){if(d=n.parent(c),d?(l=o[d],o[d]=c):(l=s,s=c),l&&l!==c){i.setEdge(l,c);return}c=d}})}return xd}var wd,Jm;function b_(){if(Jm)return wd;Jm=1;var t=le(),e=h_(),n=u_(),i=m_(),r=y_(),o=v_(),s=ze().Graph,a=Re();wd=c;function c(f){var p=a.maxRank(f),y=d(f,t.range(1,p+1),"inEdges"),m=d(f,t.range(p-1,-1,-1),"outEdges"),g=e(f);h(f,g);for(var v=Number.POSITIVE_INFINITY,b,x=0,w=0;w<4;++x,++w){l(x%2?y:m,x%4>=2),g=a.buildLayerMatrix(f);var _=n(f,g);_<v&&(w=0,b=t.cloneDeep(g),v=_)}h(f,b)}function d(f,p,y){return t.map(p,function(m){return r(f,m,y)})}function l(f,p){var y=new s;t.forEach(f,function(m){var g=m.graph().root,v=i(m,g,y,p);t.forEach(v.vs,function(b,x){m.node(b).order=x}),o(m,y,v.vs)})}function h(f,p){t.forEach(p,function(y){t.forEach(y,function(m,g){f.node(m).order=g})})}return wd}var Cd,t1;function x_(){if(t1)return Cd;t1=1;var t=le(),e=ze().Graph,n=Re();Cd={positionX:y,findType1Conflicts:i,findType2Conflicts:r,addConflict:s,hasConflict:a,verticalAlignment:c,horizontalCompaction:d,alignCoordinates:f,findSmallestWidthAlignment:h,balance:p};function i(v,b){var x={};function w(_,C){var E=0,S=0,O=_.length,I=t.last(C);return t.forEach(C,function(T,R){var A=o(v,T),q=A?v.node(A).order:O;(A||T===I)&&(t.forEach(C.slice(S,R+1),function(B){t.forEach(v.predecessors(B),function(L){var D=v.node(L),j=D.order;(j<E||q<j)&&!(D.dummy&&v.node(B).dummy)&&s(x,L,B)})}),S=R+1,E=q)}),C}return t.reduce(b,w),x}function r(v,b){var x={};function w(C,E,S,O,I){var T;t.forEach(t.range(E,S),function(R){T=C[R],v.node(T).dummy&&t.forEach(v.predecessors(T),function(A){var q=v.node(A);q.dummy&&(q.order<O||q.order>I)&&s(x,A,T)})})}function _(C,E){var S=-1,O,I=0;return t.forEach(E,function(T,R){if(v.node(T).dummy==="border"){var A=v.predecessors(T);A.length&&(O=v.node(A[0]).order,w(E,I,R,S,O),I=R,S=O)}w(E,I,E.length,O,C.length)}),E}return t.reduce(b,_),x}function o(v,b){if(v.node(b).dummy)return t.find(v.predecessors(b),function(x){return v.node(x).dummy})}function s(v,b,x){if(b>x){var w=b;b=x,x=w}var _=v[b];_||(v[b]=_={}),_[x]=!0}function a(v,b,x){if(b>x){var w=b;b=x,x=w}return t.has(v[b],x)}function c(v,b,x,w){var _={},C={},E={};return t.forEach(b,function(S){t.forEach(S,function(O,I){_[O]=O,C[O]=O,E[O]=I})}),t.forEach(b,function(S){var O=-1;t.forEach(S,function(I){var T=w(I);if(T.length){T=t.sortBy(T,function(L){return E[L]});for(var R=(T.length-1)/2,A=Math.floor(R),q=Math.ceil(R);A<=q;++A){var B=T[A];C[I]===I&&O<E[B]&&!a(x,I,B)&&(C[B]=I,C[I]=_[I]=_[B],O=E[B])}}})}),{root:_,align:C}}function d(v,b,x,w,_){var C={},E=l(v,b,x,_),S=_?"borderLeft":"borderRight";function O(R,A){for(var q=E.nodes(),B=q.pop(),L={};B;)L[B]?R(B):(L[B]=!0,q.push(B),q=q.concat(A(B))),B=q.pop()}function I(R){C[R]=E.inEdges(R).reduce(function(A,q){return Math.max(A,C[q.v]+E.edge(q))},0)}function T(R){var A=E.outEdges(R).reduce(function(B,L){return Math.min(B,C[L.w]-E.edge(L))},Number.POSITIVE_INFINITY),q=v.node(R);A!==Number.POSITIVE_INFINITY&&q.borderType!==S&&(C[R]=Math.max(C[R],A))}return O(I,E.predecessors.bind(E)),O(T,E.successors.bind(E)),t.forEach(w,function(R){C[R]=C[x[R]]}),C}function l(v,b,x,w){var _=new e,C=v.graph(),E=m(C.nodesep,C.edgesep,w);return t.forEach(b,function(S){var O;t.forEach(S,function(I){var T=x[I];if(_.setNode(T),O){var R=x[O],A=_.edge(R,T);_.setEdge(R,T,Math.max(E(v,I,O),A||0))}O=I})}),_}function h(v,b){return t.minBy(t.values(b),function(x){var w=Number.NEGATIVE_INFINITY,_=Number.POSITIVE_INFINITY;return t.forIn(x,function(C,E){var S=g(v,E)/2;w=Math.max(C+S,w),_=Math.min(C-S,_)}),w-_})}function f(v,b){var x=t.values(b),w=t.min(x),_=t.max(x);t.forEach(["u","d"],function(C){t.forEach(["l","r"],function(E){var S=C+E,O=v[S],I;if(O!==b){var T=t.values(O);I=E==="l"?w-t.min(T):_-t.max(T),I&&(v[S]=t.mapValues(O,function(R){return R+I}))}})})}function p(v,b){return t.mapValues(v.ul,function(x,w){if(b)return v[b.toLowerCase()][w];var _=t.sortBy(t.map(v,w));return(_[1]+_[2])/2})}function y(v){var b=n.buildLayerMatrix(v),x=t.merge(i(v,b),r(v,b)),w={},_;t.forEach(["u","d"],function(E){_=E==="u"?b:t.values(b).reverse(),t.forEach(["l","r"],function(S){S==="r"&&(_=t.map(_,function(R){return t.values(R).reverse()}));var O=(E==="u"?v.predecessors:v.successors).bind(v),I=c(v,_,x,O),T=d(v,_,I.root,I.align,S==="r");S==="r"&&(T=t.mapValues(T,function(R){return-R})),w[E+S]=T})});var C=h(v,w);return f(w,C),p(w,v.graph().align)}function m(v,b,x){return function(w,_,C){var E=w.node(_),S=w.node(C),O=0,I;if(O+=E.width/2,t.has(E,"labelpos"))switch(E.labelpos.toLowerCase()){case"l":I=-E.width/2;break;case"r":I=E.width/2;break}if(I&&(O+=x?I:-I),I=0,O+=(E.dummy?b:v)/2,O+=(S.dummy?b:v)/2,O+=S.width/2,t.has(S,"labelpos"))switch(S.labelpos.toLowerCase()){case"l":I=S.width/2;break;case"r":I=-S.width/2;break}return I&&(O+=x?I:-I),I=0,O}}function g(v,b){return v.node(b).width}return Cd}var _d,e1;function w_(){if(e1)return _d;e1=1;var t=le(),e=Re(),n=x_().positionX;_d=i;function i(o){o=e.asNonCompoundGraph(o),r(o),t.forEach(n(o),function(s,a){o.node(a).x=s})}function r(o){var s=e.buildLayerMatrix(o),a=o.graph().ranksep,c=0;t.forEach(s,function(d){var l=t.max(t.map(d,function(h){return o.node(h).height}));t.forEach(d,function(h){o.node(h).y=c+l/2}),c+=l+a})}return _d}var Ed,n1;function C_(){if(n1)return Ed;n1=1;var t=le(),e=i_(),n=r_(),i=s_(),r=Re().normalizeRanks,o=a_(),s=Re().removeEmptyRanks,a=c_(),c=l_(),d=d_(),l=b_(),h=w_(),f=Re(),p=ze().Graph;Ed=y;function y(k,$){var P=$&&$.debugTiming?f.time:f.notime;P("layout",function(){var H=P("  buildLayoutGraph",function(){return O(k)});P("  runLayout",function(){m(H,P)}),P("  updateInputGraph",function(){g(k,H)})})}function m(k,$){$("    makeSpaceForEdgeLabels",function(){I(k)}),$("    removeSelfEdges",function(){G(k)}),$("    acyclic",function(){e.run(k)}),$("    nestingGraph.run",function(){a.run(k)}),$("    rank",function(){i(f.asNonCompoundGraph(k))}),$("    injectEdgeLabelProxies",function(){T(k)}),$("    removeEmptyRanks",function(){s(k)}),$("    nestingGraph.cleanup",function(){a.cleanup(k)}),$("    normalizeRanks",function(){r(k)}),$("    assignRankMinMax",function(){R(k)}),$("    removeEdgeLabelProxies",function(){A(k)}),$("    normalize.run",function(){n.run(k)}),$("    parentDummyChains",function(){o(k)}),$("    addBorderSegments",function(){c(k)}),$("    order",function(){l(k)}),$("    insertSelfEdges",function(){N(k)}),$("    adjustCoordinateSystem",function(){d.adjust(k)}),$("    position",function(){h(k)}),$("    positionSelfEdges",function(){Y(k)}),$("    removeBorderNodes",function(){j(k)}),$("    normalize.undo",function(){n.undo(k)}),$("    fixupEdgeLabelCoords",function(){L(k)}),$("    undoCoordinateSystem",function(){d.undo(k)}),$("    translateGraph",function(){q(k)}),$("    assignNodeIntersects",function(){B(k)}),$("    reversePoints",function(){D(k)}),$("    acyclic.undo",function(){e.undo(k)})}function g(k,$){t.forEach(k.nodes(),function(P){var H=k.node(P),F=$.node(P);H&&(H.x=F.x,H.y=F.y,$.children(P).length&&(H.width=F.width,H.height=F.height))}),t.forEach(k.edges(),function(P){var H=k.edge(P),F=$.edge(P);H.points=F.points,t.has(F,"x")&&(H.x=F.x,H.y=F.y)}),k.graph().width=$.graph().width,k.graph().height=$.graph().height}var v=["nodesep","edgesep","ranksep","marginx","marginy"],b={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},x=["acyclicer","ranker","rankdir","align"],w=["width","height"],_={width:0,height:0},C=["minlen","weight","width","height","labeloffset"],E={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},S=["labelpos"];function O(k){var $=new p({multigraph:!0,compound:!0}),P=z(k.graph());return $.setGraph(t.merge({},b,V(P,v),t.pick(P,x))),t.forEach(k.nodes(),function(H){var F=z(k.node(H));$.setNode(H,t.defaults(V(F,w),_)),$.setParent(H,k.parent(H))}),t.forEach(k.edges(),function(H){var F=z(k.edge(H));$.setEdge(H,t.merge({},E,V(F,C),t.pick(F,S)))}),$}function I(k){var $=k.graph();$.ranksep/=2,t.forEach(k.edges(),function(P){var H=k.edge(P);H.minlen*=2,H.labelpos.toLowerCase()!=="c"&&($.rankdir==="TB"||$.rankdir==="BT"?H.width+=H.labeloffset:H.height+=H.labeloffset)})}function T(k){t.forEach(k.edges(),function($){var P=k.edge($);if(P.width&&P.height){var H=k.node($.v),F=k.node($.w),X={rank:(F.rank-H.rank)/2+H.rank,e:$};f.addDummyNode(k,"edge-proxy",X,"_ep")}})}function R(k){var $=0;t.forEach(k.nodes(),function(P){var H=k.node(P);H.borderTop&&(H.minRank=k.node(H.borderTop).rank,H.maxRank=k.node(H.borderBottom).rank,$=t.max($,H.maxRank))}),k.graph().maxRank=$}function A(k){t.forEach(k.nodes(),function($){var P=k.node($);P.dummy==="edge-proxy"&&(k.edge(P.e).labelRank=P.rank,k.removeNode($))})}function q(k){var $=Number.POSITIVE_INFINITY,P=0,H=Number.POSITIVE_INFINITY,F=0,X=k.graph(),K=X.marginx||0,it=X.marginy||0;function Z(rt){var U=rt.x,Q=rt.y,at=rt.width,tt=rt.height;$=Math.min($,U-at/2),P=Math.max(P,U+at/2),H=Math.min(H,Q-tt/2),F=Math.max(F,Q+tt/2)}t.forEach(k.nodes(),function(rt){Z(k.node(rt))}),t.forEach(k.edges(),function(rt){var U=k.edge(rt);t.has(U,"x")&&Z(U)}),$-=K,H-=it,t.forEach(k.nodes(),function(rt){var U=k.node(rt);U.x-=$,U.y-=H}),t.forEach(k.edges(),function(rt){var U=k.edge(rt);t.forEach(U.points,function(Q){Q.x-=$,Q.y-=H}),t.has(U,"x")&&(U.x-=$),t.has(U,"y")&&(U.y-=H)}),X.width=P-$+K,X.height=F-H+it}function B(k){t.forEach(k.edges(),function($){var P=k.edge($),H=k.node($.v),F=k.node($.w),X,K;P.points?(X=P.points[0],K=P.points[P.points.length-1]):(P.points=[],X=F,K=H),P.points.unshift(f.intersectRect(H,X)),P.points.push(f.intersectRect(F,K))})}function L(k){t.forEach(k.edges(),function($){var P=k.edge($);if(t.has(P,"x"))switch((P.labelpos==="l"||P.labelpos==="r")&&(P.width-=P.labeloffset),P.labelpos){case"l":P.x-=P.width/2+P.labeloffset;break;case"r":P.x+=P.width/2+P.labeloffset;break}})}function D(k){t.forEach(k.edges(),function($){var P=k.edge($);P.reversed&&P.points.reverse()})}function j(k){t.forEach(k.nodes(),function($){if(k.children($).length){var P=k.node($),H=k.node(P.borderTop),F=k.node(P.borderBottom),X=k.node(t.last(P.borderLeft)),K=k.node(t.last(P.borderRight));P.width=Math.abs(K.x-X.x),P.height=Math.abs(F.y-H.y),P.x=X.x+P.width/2,P.y=H.y+P.height/2}}),t.forEach(k.nodes(),function($){k.node($).dummy==="border"&&k.removeNode($)})}function G(k){t.forEach(k.edges(),function($){if($.v===$.w){var P=k.node($.v);P.selfEdges||(P.selfEdges=[]),P.selfEdges.push({e:$,label:k.edge($)}),k.removeEdge($)}})}function N(k){var $=f.buildLayerMatrix(k);t.forEach($,function(P){var H=0;t.forEach(P,function(F,X){var K=k.node(F);K.order=X+H,t.forEach(K.selfEdges,function(it){f.addDummyNode(k,"selfedge",{width:it.label.width,height:it.label.height,rank:K.rank,order:X+ ++H,e:it.e,label:it.label},"_se")}),delete K.selfEdges})})}function Y(k){t.forEach(k.nodes(),function($){var P=k.node($);if(P.dummy==="selfedge"){var H=k.node(P.e.v),F=H.x+H.width/2,X=H.y,K=P.x-F,it=H.height/2;k.setEdge(P.e,P.label),k.removeNode($),P.label.points=[{x:F+2*K/3,y:X-it},{x:F+5*K/6,y:X-it},{x:F+K,y:X},{x:F+5*K/6,y:X+it},{x:F+2*K/3,y:X+it}],P.label.x=P.x,P.label.y=P.y}})}function V(k,$){return t.mapValues(t.pick(k,$),Number)}function z(k){var $={};return t.forEach(k,function(P,H){$[H.toLowerCase()]=P}),$}return Ed}var Sd,i1;function __(){if(i1)return Sd;i1=1;var t=le(),e=Re(),n=ze().Graph;Sd={debugOrdering:i};function i(r){var o=e.buildLayerMatrix(r),s=new n({compound:!0,multigraph:!0}).setGraph({});return t.forEach(r.nodes(),function(a){s.setNode(a,{label:a}),s.setParent(a,"layer"+r.node(a).rank)}),t.forEach(r.edges(),function(a){s.setEdge(a.v,a.w,{},a.name)}),t.forEach(o,function(a,c){var d="layer"+c;s.setNode(d,{rank:"same"}),t.reduce(a,function(l,h){return s.setEdge(l,h,{style:"invis"}),h})}),s}return Sd}var Od,r1;function E_(){return r1||(r1=1,Od="0.8.5"),Od}var Id,o1;function S_(){return o1||(o1=1,Id={graphlib:ze(),layout:C_(),debug:__(),util:{time:Re().time,notime:Re().notime},version:E_()}),Id}var bv=S_(),O_=d5(bv),I_=function(t){return b2(t,"Boolean")};function A_(t,e){if(t){var n;if(o5(t))for(var i=0,r=t.length;i<r&&(n=e(t[i],i),n!==!1);i++);else if(s5(t)){for(var o in t)if(t.hasOwnProperty(o)&&(n=e(t[o],o),n===!1))break}}}var T_=Object.prototype.hasOwnProperty,M_=(function(t,e){if(t===null||!l5(t))return{};var n={};return A_(e,function(i){T_.call(t,i)&&(n[i]=t[i])}),n});class R_ extends r5{constructor(){super(...arguments),this.id="dagre",this.isCompoundGraph=null,this.config={graphAttributes:["rankdir","align","nodesep","edgesep","ranksep","marginx","marginy","acyclicer","ranker"],nodeAttributes:["width","height"],edgeAttributes:["minlen","weight","width","height","labelpos","labeloffset"]}}getDefaultOptions(){return{directed:!0,multigraph:!0,rankdir:"TB",align:void 0,nodesep:50,edgesep:10,ranksep:50,marginx:0,marginy:0,acyclicer:void 0,ranker:"network-simplex",nodeSize:[0,0],edgeMinLen:1,edgeWeight:1,edgeLabelSize:[0,0],edgeLabelPos:"r",edgeLabelOffset:10}}layout(){return Mi(this,void 0,void 0,function*(){const e=new bv.graphlib.Graph({directed:!!this.options.directed,multigraph:!!this.options.multigraph,compound:this.isCompound()});e.setGraph(M_(this.options,this.config.graphAttributes)),e.setDefaultEdgeLabel(()=>({}));const n=Hu(this.options.nodeSize,0);this.model.forEachNode(p=>{const y=p._original,[m,g]=qu(n(y)),v={width:m,height:g};if(e.setNode(String(p.id),v),this.isCompound()){if(Pe(p.parentId))return;e.setParent(String(p.id),String(p.parentId))}});const{edgeLabelSize:i,edgeLabelOffset:r,edgeLabelPos:o,edgeMinLen:s,edgeWeight:a}=this.options,c=Hu(i,0,"edge"),d=co(r,10,"edge"),l=typeof o=="string"?()=>o:Ah(o,["edge"]),h=co(s,1,"edge"),f=co(a,1,"edge");this.model.forEachEdge(p=>{const y=p._original,[m,g]=qu(c(y)),v={width:m,height:g,labelpos:l(y),labeloffset:d(y),minlen:h(y),weight:f(y)};e.setEdge(String(p.source),String(p.target),v,String(p.id))}),O_.layout(e),this.model.forEachNode(p=>{const y=e.node(String(p.id));y&&(p.x=y.x,p.y=y.y,p.size=[y.width,y.height])}),this.model.forEachEdge(p=>{const y=e.edge(String(p.source),String(p.target),String(p.id));if(!y)return;const{width:m,height:g,weight:v,minlen:b,labelpos:x,labeloffset:w,points:_}=y;p.labelSize=[m,g],p.weight=v,p.minLen=b,p.labelPos=x,p.labelOffset=w,p.points=_.map(z7)})})}isCompound(){return this.isCompoundGraph!==null?this.isCompoundGraph:I_(this.options.compound)?this.isCompoundGraph=this.options.compound:(this.isCompoundGraph=this.model.nodes().some(e=>!Pe(e.parentId)),this.isCompoundGraph)}}const k_=50,L_=70,P_=10,$_=2,q_=30,H_=(t,e)=>{var n,i;const r=new Map;t.forEach(a=>r.set(a,[]));for(const a of e){if(a.source===a.target)return!0;(n=r.get(a.source))===null||n===void 0||n.push({target:a.target,edgeId:a.id}),(i=r.get(a.target))===null||i===void 0||i.push({target:a.source,edgeId:a.id})}const o=new Set,s=(a,c)=>{o.add(a);const d=r.get(a)||[];for(const{target:l,edgeId:h}of d)if(h!==c&&(o.has(l)||s(l,h)))return!0;return!1};for(const a of t)if(!o.has(a)&&s(a,null))return!0;return!1},z_=t=>{var e,n;const{Title:i,Item:r,data:o,rankdir:s="TB",nodesep:a=k_,ranksep:c=L_,edgesep:d=P_,edgeWidth:l=$_,showConnections:h=!0,edgeColorMode:f="gradient",edgeStyle:p="solid",edgeDashPattern:y="5,5",edgeCornerRadius:m=12,edgeRouting:g="orth",showArrow:v=!0,arrowType:b="triangle",padding:x=q_,edgeAnimation:w="none",edgeAnimationSpeed:_=1,options:C}=t,{title:E,desc:S,items:O=[],relations:I=[]}=o,T=i?u(i,{title:E,desc:S}):null;if(!r||O.length===0)return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[T,u(W,{children:u(et,{indexes:[0],x:0,y:0})})]});const R=new Map,A=new Map,q=new Map,B=new Map,L=new Set,D=new Map;let j=0;const G=O.map((U,Q)=>{var at,tt;const J=U,nt=String((at=J.id)!==null&&at!==void 0?at:Q),ot=[Q];let ct;const pt=String((tt=J.group)!==null&&tt!==void 0?tt:"");if(pt){let dt=D.get(pt);dt==null&&(dt=j,D.set(pt,dt),j+=1),ct=Lt(C,[dt])}else ct=Lt(C,ot);const ut=ct?ye({colorPrimary:ct},C):void 0;ct&&q.set(nt,ct);const ft=lt(u(r,{indexes:ot,data:o,datum:J,positionH:"center",positionV:"middle",themeColors:ut}));return A.set(nt,ft),R.set(nt,{id:nt,indexes:ot,datum:J,themeColors:ut}),B.set(Q,nt),L.add(nt),{id:nt,parentId:J.parentId}}),N=U=>{if(U==null)return null;const Q=String(U);if(L.has(Q))return Q;const at=Number(U);if(!Number.isNaN(at)){const tt=B.get(at);if(tt)return tt}return null},Y=I.map((U,Q)=>{const at=N(U.from),tt=N(U.to);return!at||!tt?null:{id:U.id?String(U.id):`edge-${Q}`,source:at,target:tt,relation:U}}).filter(Boolean),z=H_(Array.from(L),Y)?"dagre":g,k=new R_({rankdir:s,nodesep:a,ranksep:c,edgesep:d,controlPoints:!0,nodeSize:U=>{var Q;const at=String((Q=U.id)!==null&&Q!==void 0?Q:""),tt=A.get(at);return tt?[tt.width,tt.height]:[0,0]}});k.execute({nodes:G,edges:Y});const $=[];if(k.forEachNode(U=>{var Q,at,tt,J;const nt=String(U.id),ot=R.get(nt);if(!ot)return;const ct=A.get(nt),pt=(Q=ct?.width)!==null&&Q!==void 0?Q:0,ut=(at=ct?.height)!==null&&at!==void 0?at:0,ft=((tt=U.x)!==null&&tt!==void 0?tt:0)-pt/2,dt=((J=U.y)!==null&&J!==void 0?J:0)-ut/2;$.push(Object.assign(Object.assign({},ot),{x:ft,y:dt,width:pt,height:ut,centerX:ft+pt/2,centerY:dt+ut/2}))}),$.length===0)return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[T,u(W,{children:u(et,{indexes:[0],x:0,y:0})})]});const P=Math.min(...$.map(U=>U.x)),H=Math.min(...$.map(U=>U.y)),F=x-P,X=x-H,K=new Map,it=[];$.forEach(U=>{const Q=U.x+F,at=U.y+X,tt=s==="LR"?"normal":s==="RL"?"flipped":"center",J=s==="TB"?"normal":s==="BT"?"flipped":"middle";it.push(u(r,{indexes:U.indexes,datum:U.datum,data:o,x:Q,y:at,positionH:tt,positionV:J,themeColors:U.themeColors})),K.set(U.id,Object.assign(Object.assign({},U),{x:Q,y:at,centerX:Q+U.width/2,centerY:at+U.height/2}))});const Z=[],rt=[];if(h){const U=fe(C),Q=ye(C.themeConfig,C),at=(e=Q?.colorBg)!==null&&e!==void 0?e:"#ffffff",tt=(n=Q?.colorText)!==null&&n!==void 0?n:U,J=Math.max(10,l*4),nt=s==="TB"||s==="BT",ot=w==="ant-line",ct=ot?y:"",ut=ot?ct:!ot&&p==="dashed"?y:"",ft=ot?ct.split(",").reduce((gt,mt)=>gt+parseFloat(mt.trim()||"0"),0):0,dt=ot&&ft>0?`${ft/(_*10)}s`:"1s",vt=m,_t=(gt,mt,St)=>gt.map(([Et,st],ht)=>`${ht===0?"M":"L"} ${Et+mt} ${st+St}`).join(" "),Ot=(gt,mt,St,Et)=>{if(gt.length<2)return"";const st=(Ct,qt,Wt)=>Math.min(Wt,Math.max(qt,Ct)),ht=([Ct,qt])=>({x:Ct+St,y:qt+Et}),wt=[],Bt=ht(gt[0]);if(wt.push(`M ${Bt.x} ${Bt.y}`),gt.length===2){const Ct=ht(gt[1]);return wt.push(`L ${Ct.x} ${Ct.y}`),wt.join(" ")}for(let Ct=1;Ct<gt.length-1;Ct+=1){const qt=gt[Ct-1],Wt=gt[Ct],Vt=gt[Ct+1],zt=Wt[0]-qt[0],ne=Wt[1]-qt[1],Xt=Vt[0]-Wt[0],Ce=Vt[1]-Wt[1],Ee=Math.hypot(zt,ne),Nt=Math.hypot(Xt,Ce);if(Ee===0||Nt===0){const mn=ht(Wt);wt.push(`L ${mn.x} ${mn.y}`);continue}const de=st(mt,0,Math.min(Ee,Nt)/2);if(de===0){const mn=ht(Wt);wt.push(`L ${mn.x} ${mn.y}`);continue}const he=zt/Ee,Ie=ne/Ee,Be=Xt/Nt,pn=Ce/Nt,gn=ht([Wt[0]-he*de,Wt[1]-Ie*de]),Ne=ht([Wt[0]+Be*de,Wt[1]+pn*de]);wt.push(`L ${gn.x} ${gn.y}`);const ji=ht(Wt);wt.push(`Q ${ji.x} ${ji.y} ${Ne.x} ${Ne.y}`)}const Yt=ht(gt[gt.length-1]);return wt.push(`L ${Yt.x} ${Yt.y}`),wt.join(" ")},bt=(gt,mt,St,Et,st)=>{const ht=Math.cos(St),wt=Math.sin(St),Bt=-wt,Yt=ht,Ct=J,qt=J*.55;if(Et==="arrow"){const Vt=gt-ht*Ct+Bt*qt,zt=mt-wt*Ct+Yt*qt,ne=gt-ht*Ct-Bt*qt,Xt=mt-wt*Ct-Yt*qt;return[u(xt,{d:`M ${Vt} ${zt} L ${gt} ${mt} L ${ne} ${Xt}`,stroke:st,strokeWidth:Math.max(1.5,l),strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]}if(Et==="diamond"){const Vt=Ct*1.25,zt=qt*.75,ne=gt-ht*Vt*.5,Xt=mt-wt*Vt*.5,Ce=[{x:gt,y:mt},{x:ne+Bt*zt,y:Xt+Yt*zt},{x:gt-ht*Vt,y:mt-wt*Vt},{x:ne-Bt*zt,y:Xt-Yt*zt}];return[u(ke,{points:Ce,fill:st,stroke:st,strokeWidth:Math.max(1,l*.8)})]}const Wt=[{x:gt,y:mt},{x:gt-ht*Ct+Bt*qt,y:mt-wt*Ct+Yt*qt},{x:gt-ht*Ct-Bt*qt,y:mt-wt*Ct-Yt*qt}];return[u(ke,{points:Wt,fill:st,stroke:st,strokeWidth:Math.max(1,l*.8)})]},At=gt=>{if(gt.length===0)return null;if(gt.length===1)return gt[0];let mt=0;const St=[];for(let st=0;st<gt.length-1;st+=1){const ht=gt[st],wt=gt[st+1],Bt=Math.hypot(wt[0]-ht[0],wt[1]-ht[1]);St.push({length:Bt,start:ht,end:wt}),mt+=Bt}if(mt===0)return gt[0];let Et=mt/2;for(let st=0;st<St.length;st+=1){const ht=St[st];if(Et<=ht.length||st===St.length-1){const wt=ht.length===0?0:Math.max(0,Math.min(1,Et/ht.length));return[ht.start[0]+(ht.end[0]-ht.start[0])*wt,ht.start[1]+(ht.end[1]-ht.start[1])*wt]}Et-=ht.length}return gt[Math.floor(gt.length/2)]},Mt=(gt,mt)=>{const St=K.get(gt),Et=K.get(mt);return!St||!Et?null:s==="TB"?{start:[St.centerX,St.y+St.height],end:[Et.centerX,Et.y]}:s==="BT"?{start:[St.centerX,St.y],end:[Et.centerX,Et.y+Et.height]}:s==="LR"?{start:[St.x+St.width,St.centerY],end:[Et.x,Et.centerY]}:{start:[St.x,St.centerY],end:[Et.x+Et.width,Et.centerY]}},Tt=(gt,mt)=>{const St=Mt(gt,mt);if(!St)return null;const{start:Et,end:st}=St;if(nt){const wt=Et[1]+(st[1]-Et[1])/2;return{start:Et,end:st,points:[Et,[Et[0],wt],[st[0],wt],st]}}const ht=Et[0]+(st[0]-Et[0])/2;return{start:Et,end:st,points:[Et,[ht,Et[1]],[ht,st[1]],st]}};k.forEachEdge(gt=>{var mt,St,Et,st,ht,wt,Bt,Yt,Ct;const qt=se=>Array.isArray(se)?se.map(ie=>ie&&Array.isArray(ie)&&ie.length>=2?[Number(ie[0]),Number(ie[1])]:null).filter(ie=>!!ie&&Number.isFinite(ie[0])&&Number.isFinite(ie[1])):[],Wt=()=>{const se=K.get(String(gt.source)),ie=K.get(String(gt.target));return!se||!ie?[]:[[se.centerX-F,se.centerY-X],[ie.centerX-F,ie.centerY-X]]},Vt=z==="orth",zt=Vt?Tt(String(gt.source),String(gt.target)):null,ne=Vt?[]:qt(gt.points),Xt=Vt?(mt=zt?.points)!==null&&mt!==void 0?mt:[]:ne.length?ne:Wt();if(!Xt.length)return;const Ce=Vt?0:F,Ee=Vt?0:X,Nt=Vt&&(St=zt?.start)!==null&&St!==void 0?St:Xt[0],de=Vt&&(Et=zt?.end)!==null&&Et!==void 0?Et:Xt[Xt.length-1],he=(st=gt._original)===null||st===void 0?void 0:st.relation,Ie=(ht=q.get(String(gt.source)))!==null&&ht!==void 0?ht:U,Be=(wt=q.get(String(gt.target)))!==null&&wt!==void 0?wt:U,pn=`edge-gradient-${String(Ie)}-${String(Be)}`.replace(/[^a-zA-Z0-9_-]/g,""),gn=f==="gradient"?`url(#${pn})`:U;let Ne="";if(vt>0?Ne=Ot(Xt,vt,Ce,Ee):Ne=_t(Xt,Ce,Ee),!Ne)return;const ji=u(xt,{d:Ne,stroke:gn,strokeWidth:l,strokeDasharray:ut,fill:"none","data-element-type":"shape",children:ot&&u("animate",{attributeName:"stroke-dashoffset",from:String(ft),to:"0",dur:dt,repeatCount:"indefinite"})});if(rt.push(ji),f==="gradient"){const se=Nt,ie=de;Z.push(M("linearGradient",{id:pn,gradientUnits:"userSpaceOnUse",x1:se[0]+Ce,y1:se[1]+Ee,x2:ie[0]+Ce,y2:ie[1]+Ee,children:[u("stop",{offset:"0%",stopColor:Ie}),u("stop",{offset:"100%",stopColor:Be})]}))}if(he?.label){let se=null;const ie=At(Xt);if(ie&&(se=[ie[0]+Ce,ie[1]+Ee]),se){const Pn=String(he.label),sn=lt(u(Pt,{fontSize:14,fontWeight:"normal",children:Pn})),oi=se[0]-sn.width/2,Uv=se[1]-sn.height/2;rt.push(u(Pt,{x:oi,y:Uv,width:sn.width,height:sn.height,fontSize:14,fontWeight:"normal",alignHorizontal:"center",alignVertical:"middle",fill:tt,backgroundColor:at,children:Pn}))}}const mn=(Bt=he?.showArrow)!==null&&Bt!==void 0?Bt:v,to=(Yt=he?.direction)!==null&&Yt!==void 0?Yt:"forward",Jh=(Ct=he?.arrowType)!==null&&Ct!==void 0?Ct:b,tu=Xt.length-1;if(mn&&Xt.length>1){if(to==="forward"||to==="both"){const se=Xt[tu],ie=Xt[tu-1],Pn=Math.atan2(se[1]-ie[1],se[0]-ie[0]),sn=f==="gradient"?Be:U,oi=bt(se[0]+Ce,se[1]+Ee,Pn,Jh,sn);rt.push(...oi)}if(to==="both"){const se=Xt[0],ie=Xt[1],Pn=Math.atan2(se[1]-ie[1],se[0]-ie[0]),sn=f==="gradient"?Ie:U,oi=bt(se[0]+Ce,se[1]+Ee,Pn,Jh,sn);rt.push(...oi)}}})}return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[T,M(W,{children:[u(Gt,{children:Z}),u(W,{width:0,height:0,children:rt}),u($t,{children:it}),u(Ht,{})]})]})};jt("relation-dagre-flow",{component:z_,composites:["title","item"]});const j_=t=>{const{Title:e,Item:n,data:i,spacing:r=120,showConnections:o=!0,options:s}=t,{title:a,desc:c,items:d=[]}=i,l=e?u(e,{title:a,desc:c}):null;if(d.length===0)return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[l,u(W,{children:u($t,{})})]});const h=lt(u(n,{indexes:[0],data:i,datum:d[0],positionH:"center"}));function f(){const E=d.map((I,T)=>({id:T,data:I,isCenter:T===0,_originalIndex:[T]})),S=d.slice(1).map((I,T)=>({source:0,target:T+1})),O=ub(E).force("link",fb(S).id(I=>I.id).distance(r)).force("charge",pb().strength(-50)).force("center",gb(0,0)).force("collision",mb().radius(Math.max(h.width,h.height)/2+10));for(let I=0;I<300;++I)O.tick();return{nodes:E,links:S}}const{nodes:p,links:y}=f(),m=Math.min(...p.map(E=>{var S;return(S=E.x)!==null&&S!==void 0?S:0})),g=Math.min(...p.map(E=>{var S;return(S=E.y)!==null&&S!==void 0?S:0})),v=Math.max(0,-m+h.width/2),b=Math.max(0,-g+h.height/2),x=(E,S)=>({positionH:E<-50?"flipped":E>50?"normal":"center",positionV:S<-50?"flipped":S>50?"normal":"middle"}),w=p.map(E=>{if(E.x==null||E.y==null)return null;const S=E.x+v-h.width/2,O=E.y+b-h.height/2,{positionH:I,positionV:T}=x(E.x,E.y);return u(n,{indexes:E._originalIndex,datum:E.data,data:i,x:S,y:O,positionH:I,positionV:T},E.id)}).filter(Boolean),_=new Map(p.map(E=>[E.id,E])),C=o?y.map(E=>{const S=typeof E.source=="object"?E.source:_.get(E.source),O=typeof E.target=="object"?E.target:_.get(E.target);if(!S||!O||S.x==null||S.y==null||O.x==null||O.y==null)return null;const I=`M ${S.x+v} ${S.y+b} L ${O.x+v} ${O.y+b}`;return u(xt,{d:I,stroke:fe(s),strokeWidth:2,strokeOpacity:.6})}).filter(Boolean):[];return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[l,M(W,{children:[u(W,{children:C}),u($t,{children:w})]})]})};jt("relation-network",{component:j_,composites:["title","item"]});var D_=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const Jd=t=>{var{width:e=25,height:n=25,colorPrimary:i="#6699FF",rotation:r=0}=t,o=D_(t,["width","height","colorPrimary","rotation"]);const s=`gradient-arrow-stroke-${i.replace("#","")}`,a=`gradient-arrow-fill-${i.replace("#","")}`,c=Math.round(e*.515),d=Math.round(n*.275),l=Math.round(n*.875),h=[{x:0,y:d},{x:c,y:d},{x:c,y:n*.075},{x:e,y:n*.575},{x:c,y:n*1.075},{x:c,y:l},{x:0,y:l}],f=e/2,p=n/2,y=`rotate(${r} ${f} ${p})`;return M(Ft,{children:[u(ke,Object.assign({},o,{width:e,height:n,points:h,fill:`url(#${a})`,stroke:`url(#${s})`,transform:y,"data-element-type":"shape"})),M(Gt,{children:[M("linearGradient",{id:a,x1:"100%",y1:"0%",x2:"0%",y2:"0%",children:[u("stop",{offset:"0%","stop-color":i,"stop-opacity":"0.36"}),u("stop",{offset:"100%","stop-color":i,"stop-opacity":"0"})]}),M("linearGradient",{id:s,x1:"100%",y1:"0%",x2:"0%",y2:"0%",children:[u("stop",{offset:"0%","stop-color":i}),u("stop",{offset:"58%","stop-color":i,"stop-opacity":"0"})]})]})]})},B_=({text:t,x:e=0,y:n=0,fontSize:i=56,fontWeight:r="bold",fill:o="#FFFFFF",textAnchor:s="middle",dominantBaseline:a="middle",shadowOffsetX:c=2,shadowOffsetY:d=4,midShadowOffsetX:l=1,midShadowOffsetY:h=2,deepShadowOpacity:f=.3,midShadowOpacity:p=.5})=>M(W,{children:[u("text",{x:e,y:n,fontSize:i,fontWeight:r,fill:o,fillOpacity:f,textAnchor:s,dominantBaseline:a,transform:`translate(${c}, ${d})`,children:t}),u("text",{x:e,y:n,fontSize:i,fontWeight:r,fill:o,fillOpacity:p,textAnchor:s,dominantBaseline:a,transform:`translate(${l}, ${h})`,children:t}),u("text",{x:e,y:n,fontSize:i,fontWeight:r,fill:o,textAnchor:s,dominantBaseline:a,children:t})]});var N_=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const F_=t=>{var{width:e=25,height:n=25,colorPrimary:i="#6699FF",rotation:r=0,strokeWidth:o=4}=t,s=N_(t,["width","height","colorPrimary","rotation","strokeWidth"]);const a=[{x:e/2,y:0},{x:e,y:n},{x:0,y:n}],c=e/2,d=n/2,l=`rotate(${r} ${c} ${d})`;return u(ke,Object.assign({},s,{width:e,height:n,points:a,fill:i,stroke:i,strokeWidth:o,strokeLinecap:"round",strokeLinejoin:"round",transform:l}))},W_=-118,s1=118,a1=240,G_=180,Y_=40,V_="M238.9 69.7a6 6 0 0 1-.1 1v.2l-.2.3v.3l-.1.3a6.2 6.2 0 0 1-.3.6l-.1.3-.2.3-.2.4-.3.5-.1.1a10.9 10.9 0 0 1-.8 1v.1l-.5.5h-.1l-.4.4-.3.3-.3.2-.3.3-.4.2a13 13 0 0 1-.7.5l-.4.3-.5.3-97.5 56.7-.7.4h-.2l-.6.4h-.1l-.8.4h-.2l-.6.4h-.2l-.8.3h-.2l-.5.3-.5.1-.5.1-.5.2h-.5a33.7 33.7 0 0 1-3.2.7h-.2l-1 .2h-1.6l-.7.1h-4.7l-.8-.1h-.2a38.2 38.2 0 0 1-2-.4h-.4l-.7-.2h-.4l-.7-.2-.4-.1a27.3 27.3 0 0 1-2.2-.7h-.2a44.2 44.2 0 0 1-.9-.3l-.5-.3-.4-.1-.5-.2-.3-.2-.5-.2-.3-.2-.8-.4L6.5 78C2.2 75.6 0 72.4 0 69v41.7c0 3.2 2.1 6.5 6.4 9l98.1 56.6a23.2 23.2 0 0 0 1 .6l.6.3.3.1.5.2.4.2.3.1h.2l.2.2a21.4 21.4 0 0 0 1.9.6l.3.1h.2l.7.2a77.6 77.6 0 0 1 1.1.3h.3l.7.2h.4a42.5 42.5 0 0 0 1 .2l1 .2h1.1l.4.1h2.1l.7.1h1.5a22 22 0 0 0 1.8-.2h.4l1.1-.1h.2l1.2-.2h.1l.3-.1.6-.1a12.5 12.5 0 0 0 1-.3h.5l.5-.2a29 29 0 0 0 1-.3h.2l.3-.2h.2a27 27 0 0 0 1.6-.7h.2l.8-.4a19.4 19.4 0 0 0 1.6-.9l97.5-56.7.3-.1.2-.2.4-.2.4-.3.3-.2.3-.3.4-.2.3-.3.3-.3h.1l.3-.3.5-.6h.1l.3-.5h.1v-.1l.4-.4v-.1l.4-.5v-.1l.1-.2.1-.2.2-.3.1-.3.1-.3.1-.1a6.9 6.9 0 0 0 .2-.8l.1-.3v-.4l.1-.3v-1l.2-41.4v.4Z",X_="M232.5 60.4c8.5 4.9 8.5 12.8.1 17.7l-97.5 56.7c-8.4 4.9-22 4.9-30.5 0L6.5 78C-2 73-2 65.3 6.4 60.4l97.5-56.7c8.4-5 22-5 30.5 0l98.1 56.7Z",U_="M119.1 0A31 31 0 0 0 104 3.7L6.4 60.4C-2 65.3-2 73.2 6.4 78l98.2 56.7c4.2 2.4 9.8 3.7 15.3 3.7a31 31 0 0 0 15.2-3.7L232.6 78c8.4-5 8.4-12.8 0-17.7L134.3 3.7A31.2 31.2 0 0 0 119.1 0Zm0 2.5c5.4 0 10.3 1.2 14 3.3l98.2 56.7c3.3 2 5.1 4.3 5.1 6.8 0 2.4-1.8 4.7-5 6.6l-97.5 56.7a28.3 28.3 0 0 1-14 3.4c-5.3 0-10.3-1.2-14-3.4L7.7 76c-3.3-1.9-5-4.3-5-6.7 0-2.4 1.7-4.8 5-6.7L105 5.8a29 29 0 0 1 14-3.3Z",c1=M("filter",{id:"sequence-ascending-stairs-3d-shadow-filter",x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[u("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),u("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),u("feOffset",{dx:"0",dy:"4"}),u("feGaussianBlur",{stdDeviation:"6"}),u("feComposite",{in2:"hardAlpha",operator:"out"}),u("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),u("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),u("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]}),K_=t=>{const{Title:e,Item:n,data:i,options:r,cubeWidth:o=a1}=t,{title:s,desc:a,items:c=[]}=i,d=e?u(e,{title:s,desc:a}):null;if(c.length===0){const g=u(et,{indexes:[0],x:0,y:0});return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[u(Gt,{children:c1}),d,u(W,{children:u(Ht,{children:g})})]})}const l=lt(u(et,{indexes:[0]})),h=[],f=[],p=[],y=o/a1,m=G_*y;return c.forEach((g,v)=>{const b=[v],x=Lt(r,b),w=v*(o+W_),_=(c.length-1-v)*s1,C=`cube-gradient-bottom-${v}`,E=`cube-gradient-top-${v}`,S=`cube-gradient-stroke-${v}`;p.push(M(W,{x:w,y:_,id:`cube-${v}`,width:o,height:m,filter:"url(#sequence-ascending-stairs-3d-shadow-filter)",children:[M(Gt,{children:[M("linearGradient",{id:C,x1:"0",y1:"124.5",x2:"238.9",y2:"124.5",gradientUnits:"userSpaceOnUse",children:[u("stop",{offset:"0",stopColor:x,stopOpacity:"0.8"}),u("stop",{offset:"1",stopColor:x,stopOpacity:"0.4"})]}),M("linearGradient",{id:E,x1:"119.5",y1:"0",x2:"119.5",y2:"138.5",gradientUnits:"userSpaceOnUse",children:[u("stop",{offset:"0",stopColor:x,stopOpacity:"0.9"}),u("stop",{offset:"1",stopColor:x,stopOpacity:"0.5"})]}),M("linearGradient",{id:S,x1:"119.5",y1:"0",x2:"119.5",y2:"138.5",gradientUnits:"userSpaceOnUse",children:[u("stop",{offset:"0",stopColor:x}),u("stop",{offset:"1",stopColor:x,stopOpacity:"0.7"})]})]}),M(pe,{transform:`scale(${y})`,children:[u(xt,{d:V_,fill:`url(#${C})`}),u(xt,{d:X_,fill:`url(#${E})`}),u(xt,{d:U_,fill:`url(#${S})`})]}),u(B_,{text:v+1,x:115,y:65,fontSize:56})]}));const O=w+o+Y_,I=_+m/2;if(f.push(u(n,{indexes:b,datum:g,data:i,x:O,y:I,positionH:"normal"})),h.push(u(Zt,{indexes:b,x:w+o-l.width/2,y:_-l.height/2})),v===0&&h.push(u(et,{indexes:[0],x:w-30-l.width/2,y:_+m/2-l.height/2})),v<c.length-1){const T=(c.length-1-(v+1))*s1,R=w+o-l.width/2,A=(_+m/2+T+m/2)/2-l.height/2;h.push(u(et,{indexes:[v+1],x:R,y:A}))}else h.push(u(et,{indexes:[c.length],x:w+o+30-l.width/2,y:_+m/2-l.height/2}))}),M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:30,children:[u(Gt,{children:c1}),d,M(W,{x:0,y:0,children:[u(W,{children:p}),u($t,{children:f}),u(Ht,{children:h})]})]})};jt("sequence-ascending-stairs-3d",{component:K_,composites:["title","item"]});const Z_=t=>{const{Title:e,Item:n,data:i,hGap:r=0,vGap:o=0}=t,{title:s,desc:a,items:c=[]}=i,d=e?u(e,{title:s,desc:a}):null,l=lt(u(n,{indexes:[0],data:i,datum:c[0]})),h=[],f=[],p=c.length,y=l.width+r,m=l.height/2+o,g=l.width/2,b=0+(p-1)*m;return c.forEach((x,w)=>{const _=g+w*y,C=b-w*m,E=[w];h.push(u(n,{indexes:E,datum:x,data:i,x:_,y:C})),f.push(u(Zt,{indexes:E,x:_+l.width-30,y:C+l.height/2+10})),f.push(u(et,{indexes:E,x:_+l.width+r/2,y:C-30}))}),M(yt,{flexDirection:"column",justifyContent:"center",alignItems:"center",children:[d,M(W,{children:[u($t,{children:h}),u(Ht,{children:f})]})]})};jt("sequence-ascending-steps",{component:Z_,composites:["title","item"]});const Q_=20,l1=5,J_=t=>{const{Title:e,Item:n,data:i,options:r,radius:o=150,arrowSize:s=4,strokeWidth:a=10}=t,{title:c,desc:d,items:l=[]}=i,h=lt(u(et,{indexes:[0]})),f=fe(r);if(!n){const L=e?u(e,{title:c,desc:d}):null;return M(yt,{flexDirection:"column",justifyContent:"center",alignItems:"center",children:[L,u(W,{children:u(Ht,{children:u(et,{indexes:[0],x:0,y:0})})})]})}const p=l.length;if(p===0){const L=e?u(e,{title:c,desc:d}):null;return M(yt,{flexDirection:"column",justifyContent:"center",alignItems:"center",children:[L,u(W,{children:u(Ht,{children:u(et,{indexes:[0],x:0,y:0})})})]})}const y=lt(u(n,{indexes:[0],data:i,datum:l[0]})),m=0,g=0,v=2*Math.PI/p,b=[];let x=1/0,w=1/0,_=-1/0,C=-1/0;for(let L=0;L<p;L++){const D=L*v-Math.PI/2,j=m+o*Math.cos(D),G=g+o*Math.sin(D);b.push({x:j,y:G}),x=Math.min(x,j),w=Math.min(w,G),_=Math.max(_,j),C=Math.max(C,G)}const E=[];for(let L=0;L<p;L++){const D=b[L],j=b[(L+1)%p],G=Math.sqrt(Math.pow(j.x-D.x,2)+Math.pow(j.y-D.y,2)),N=Math.min(G*.5,100),Y=(D.x+j.x)/2,V=(D.y+j.y)/2;x=Math.min(x,Y-N/2),w=Math.min(w,V-N/2),_=Math.max(_,Y+N/2),C=Math.max(C,V+N/2);const z=Math.atan2(V-g,Y-m),k=z<0?z+2*Math.PI:z;let $,P;const H=k*180/Math.PI,F=N/2+Q_,X=Y+Math.cos(z)*F,K=V+Math.sin(z)*F;H>=337.5||H<22.5?($=X,P=K-y.height/2):H>=22.5&&H<67.5?($=X,P=K):H>=67.5&&H<112.5?($=X-y.width/2,P=K):H>=112.5&&H<157.5?($=X-y.width,P=K):H>=157.5&&H<202.5?($=X-y.width,P=K-y.height/2):H>=202.5&&H<247.5?($=X-y.width,P=K-y.height):H>=247.5&&H<292.5?($=X-y.width/2,P=K-y.height):($=X,P=K-y.height),E.push({lineLength:G,circleBigW:N,midX:Y,midY:V,itemX:$,itemY:P}),x=Math.min(x,$),w=Math.min(w,P),_=Math.max(_,$+y.width+h.width+5),C=Math.max(C,P+y.height)}const S=Math.max(0,-x),O=Math.max(0,-w),I=e?u(e,{title:c,desc:d}):null,T=[],R=[],A=[],q=[],B=b.map(L=>({x:L.x+S,y:L.y+O}));for(let L=0;L<p;L++){const D=B[L],j=B[(L+1)%p],G=(L+1)%p,N=[L],{lineLength:Y,circleBigW:V,midX:z,midY:k}=E[L],$=Math.max(V-20,20),P=Math.max($*.4,16),H=Lt(r,N)||f,F=j.x-D.x,X=j.y-D.y,K=Y,it=F/K,Z=X/K,rt=l1*2+s,U=Math.min(l1,(K-rt)/2),Q=Math.max(0,D.x+it*U),at=Math.max(0,D.y+Z*U),tt=Math.max(0,j.x-it*U),J=Math.max(0,j.y-Z*U),ot=cb().x(bt=>Math.max(0,bt.x)).y(bt=>Math.max(0,bt.y)).curve(lb)([{x:Q,y:at},{x:tt,y:J}])||"",pt=`fork-arrow-${H.replace(/[^a-zA-Z0-9]/g,"")}-${L}`,ut=`
      M ${-s*.6} ${-s*.4}
      L 0 0
      L ${-s*.6} ${s*.4}
    `;q.push(u("marker",{id:pt,viewBox:`${-s} ${-s*.6} ${s*1.2} ${s*1.2}`,refX:-s*.08,refY:0,markerWidth:s,markerHeight:s,orient:"auto",markerUnits:"strokeWidth",children:u("path",{d:ut,fill:"none",stroke:H,strokeLinecap:"round",strokeLinejoin:"round","data-element-type":"shape"})})),A.push(u(xt,{d:ot,stroke:H,strokeWidth:a,fill:"none",markerEnd:`url(#${pt})`,strokeLinecap:"round","data-element-type":"shape"}));const ft=z+S,dt=k+O,vt=ye({colorPrimary:H},r);A.push(u(Ut,{x:Math.max(0,ft-V/2),y:Math.max(0,dt-V/2),width:V,height:V,fill:vt.colorPrimaryBg,"data-element-type":"shape"})),A.push(u(Ut,{x:Math.max(0,ft-$/2),y:Math.max(0,dt-$/2),width:$,height:$,fill:"#ffffff"})),A.push(u(Oe,{x:Math.max(0,ft-P/2),y:Math.max(0,dt-P/2),size:P,indexes:N,fill:H}));const _t=Math.max(0,ft-h.width/2),Ot=Math.max(0,dt-h.height/2);T.push(u(et,{indexes:[G],x:_t,y:Ot}))}for(let L=0;L<p;L++){const D=[L],j=l[L],{itemX:G,itemY:N}=E[L],Y=Math.max(0,G+S),V=Math.max(0,N+O);R.push(u(n,{indexes:D,datum:j,data:i,x:Y,y:V}));const z=Math.max(0,Y+y.width+5),k=Math.max(0,V+y.height/2-h.height/2);T.push(u(Zt,{indexes:D,x:z,y:k}))}return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:30,children:[I,M(W,{x:0,y:0,children:[u(Gt,{children:q}),u(W,{children:A}),u($t,{children:R}),u(Ht,{children:T})]})]})};jt("sequence-circle-arrows",{component:J_,composites:["title","item"]});const t9=100,e9=50,n9=6,i9="40",r9=t=>{const{Title:e,Item:n,data:i,options:r,outerRadius:o=180,innerRadius:s=120,itemDistance:a=310,gapAngle:c=5,iconRadius:d=34,iconBgRadius:l=38,iconSize:h=36}=t,{title:f,desc:p,items:y=[]}=i,m=e?u(e,{title:f,desc:p}):null,g=Math.max(a+t9,o+e9),v=Math.min(a,o),b=lt(u(et,{indexes:[0]}));if(y.length===0)return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[m,u(W,{children:u(Ht,{children:u(et,{indexes:[0],x:g-20,y:v-20})})})]});const x=[],w=[],_=[],C=[],E=lt(u(n,{indexes:[0],data:i,datum:y[0]})),I=(360-y.length*c)/y.length,T=(N,Y,V,z,k,$)=>{const P=k*Math.PI/180,H=$*Math.PI/180,F=N+V*Math.cos(P),X=Y+V*Math.sin(P),K=N+z*Math.cos(P),it=Y+z*Math.sin(P),Z=N+z*Math.cos(H),rt=Y+z*Math.sin(H),U=N+V*Math.cos(H),Q=Y+V*Math.sin(H),at=$-k<=180?"0":"1";return[`M ${F} ${X}`,`L ${K} ${it}`,`A ${z} ${z} 0 ${at} 1 ${Z} ${rt}`,`L ${U} ${Q}`,`A ${V} ${V} 0 ${at} 0 ${F} ${X}`,"Z"].join(" ")},R=({centerX:N,outerRadius:Y,angleRad:V,btnBounds:z})=>{const k=N+(Y+20)*Math.cos(V)-z.width/2,$=v+(Y+20)*Math.sin(V)-z.height/2;return{x:k,y:$}},A=n9,q=(s+o)/2,B=A/q*(180/Math.PI);y.forEach((N,Y)=>{const V=[Y],z=Y*(I+c)+270,k=z+I,$=(z+k)/2,P=$*Math.PI/180,H=Lt(r,V),F=H+i9,X=T(g,v,s,o,z,k);_.push(u(xt,{d:X,fill:F,width:o*2,height:o*2,"data-element-type":"shape"}));const K=T(g,v,s+A,o-A,z+B,k-B);_.push(u(xt,{d:K,fill:H,width:o*2,height:o*2,"data-element-type":"shape"}));const it=(s+o)/2,Z=g+it*Math.cos(P),rt=v+it*Math.sin(P);C.push(u(Ut,{x:Z-l,y:rt-l,width:l*2,height:l*2,fill:"#ffffff","data-element-type":"shape"})),C.push(u(Ut,{x:Z-d,y:rt-d,width:d*2,height:d*2,fill:H,"data-element-type":"shape"})),N.icon&&C.push(u(Oe,{x:Z-h/2,y:rt-h/2,indexes:V,size:h,fill:"#fff"}));const U=($%360+360)%360,Q=U>=270||U<=90,at=U>=75&&U<=105;let tt,J="normal",nt="normal";at?(tt=U,nt="normal",J="center"):Q?(U>=270?tt=-60+(U-270)/90*60:tt=U/90*60,J="normal"):(tt=120+(U-90)/180*120,J="flipped");const ot=tt*Math.PI/180,ct=g+a*Math.cos(ot)-E.width/2;let pt=v+a*Math.sin(ot)-E.height/2;at&&(pt=v+o+E.height/2),w.push(u(n,{indexes:V,datum:N,data:i,x:ct,y:pt,positionH:J,positionV:nt}));const ut=a+40,ft=g+ut*Math.cos(ot)-b.width/2,dt=v+ut*Math.sin(ot)-b.height/2;x.push(u(Zt,{indexes:V,x:ft,y:dt}));const _t=(z+I+c/2)*Math.PI/180,{x:Ot,y:bt}=R({centerX:g,outerRadius:o,angleRad:_t,btnBounds:b});x.push(u(et,{indexes:[Y+1],x:Ot,y:bt}))});const D=(270-c/2)*Math.PI/180,{x:j,y:G}=R({centerX:g,outerRadius:o,angleRad:D,btnBounds:b});return x.unshift(u(et,{indexes:[0],x:j,y:G})),M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:70,children:[m,M(W,{children:[u(W,{children:_}),u(W,{children:C}),u($t,{children:w}),u(Ht,{children:x})]})]})};jt("sequence-circular",{component:r9,composites:["title","item"]});const o9=t=>{const{Title:e,Item:n,data:i,gap:r=0,rowGap:o=0,itemsPerRow:s=3,circleStrokeWidth:a=18,options:c}=t,{title:d,desc:l,items:h=[]}=i,f=e?u(e,{title:d,desc:l}):null,p=fe(c),y=lt(u(et,{indexes:[0]})),m=lt(u(n,{indexes:[0],data:i,datum:h[0],positionH:"center"})),g=[],v=[],b=[],x=(o+m.height)/2,w=x;if(h.forEach((_,C)=>{const E=Math.floor(C/s),S=C%s,O=E%2===1,T=(O?s-1-S:S)*(m.width+r)+w,R=E*(m.height+o),A=[C];if(v.push(u(n,{indexes:A,datum:_,data:i,x:T,y:R,positionH:"center",positionV:C%2===1?"flipped":"normal"})),g.push(u(Zt,{indexes:A,x:T+(m.width-y.width)/2,y:R+m.height+10})),C===0&&g.push(u(et,{indexes:A,x:T+(m.width-y.width)/2,y:R-y.height-10})),C<h.length-1){const q=Math.floor((C+1)/s);if(E===q)g.push(u(et,{indexes:[C+1],x:T+(m.width-y.width)/2,y:R-y.height-10}));else{const L=R+m.height/2,D=R+m.height+o+m.height/2;let j,G,N;O?(j=T,N=0,G=`M ${j} ${L} A ${x} ${x} 0 0 ${N} ${j} ${D}`):(j=T+m.width,N=1,G=`M ${j} ${L} A ${x} ${x} 0 0 ${N} ${j} ${D}`);const Y=D-L,V=Lt(c,A),z=Lt(c,[C+1]),k=`gradient-arc-${C}`;b.push(M(Ft,{children:[u(Gt,{children:M("linearGradient",{id:k,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u("stop",{offset:"0%",stopColor:V||p}),u("stop",{offset:"100%",stopColor:z||p})]})}),u(xt,{d:G,stroke:`url(#${k})`,strokeWidth:a,fill:"none",width:w,height:Y,"data-element-type":"shape"})]}));const $=O?j-x-y.width/2:j+x-y.width/2,P=R+m.height+o/2-y.height/2;g.push(u(et,{indexes:[C+1],x:$,y:P}))}}}),h.length>0){const _=h.length-1,C=Math.floor(_/s),E=_%s,I=(C%2===1?s-1-E:E)*(m.width+r),T=C*(m.height+o);g.push(u(et,{indexes:[h.length],x:I+(m.width-y.width)/2,y:T+m.height+y.height+20}))}if(h.length/s>2){const _=(o+m.height)/2,C=Lt(c,[0]);b.push(u(kt,{x:0,y:m.height/2-a/2,width:_,height:a,fill:C||p,"data-element-type":"shape"}))}return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[f,M(W,{width:s*m.width+(s-1)*r+x*2,height:Math.ceil(h.length/s)*(m.height+o),children:[u(W,{children:b}),u($t,{children:v}),u(Ht,{children:g})]})]})};jt("sequence-color-snake-steps",{component:o9,composites:["title","item"]});const Ur=(t,e)=>t===0?0:t===1?e/2:e/2+(t-1)*(e/2*3),Kr=(t,e,n)=>{if(t)return 0;const o=e===0?2:n;return n*2+o},s9=(t,e,n,i,r,o,s,a)=>{const c=Math.max(6,o*.15),d=i+(t-1)*r,l=t*c,h=100,p=d+l+h+50,y=p-h;let m=0,g=0,v=0,b=0;if(t>0){let w=1/0,_=-1/0;for(let q=0;q<t;q++){const B=q%2===0,L=Math.floor(q/2),D=Ur(L,n),G=0+Kr(B,L,n)+D;w=Math.min(w,G-n),_=Math.max(_,G+n)}const C=(w+_)/2,E=0;m=0,b=m+e.width+a+s+n,v=b-E+C;const T=m+e.width/2,R=v-T;g=v+R-e.width/2}return{canvasHeight:p,startY:y,leftItemAlignedX:m,rightItemAlignedX:g,cylinderAreaStartX:b}},a9=(t,e,n,i,r,o,s)=>{const a=t%2===0,c=Math.floor(t/2),d=Ur(c,e),l=Kr(a,c,e),h=s+l+d,f=o-t*r,p=n+t*i,y=f-p;return{x:h,y,height:p,bottomY:f,topY:y}},c9=(t,e,n,i,r,o,s,a,c)=>{const d=t%2===0,l=e.topY+e.height*.05;let h,f;d?(h=r,f=h+n.width+c):(h=o,f=h-c);let p;s==="top"?p=l:s==="bottom"?p=l-n.height:p=l-n.height/2,p+=a;const y=d?e.x-i:e.x+i,m=d?y-c:y+c;return{itemPos:{x:h,y:p},lineStartX:m,lineEndX:f,lineY:l}},l9=(t,e)=>{const n=ce(e),i=[];return i.push(M("linearGradient",{id:`cylinderGradient${t}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u("stop",{offset:"0%",stopColor:n.toRgbString(),stopOpacity:.7}),u("stop",{offset:"40%",stopColor:n.clone().lighten(5).toRgbString(),stopOpacity:.65}),u("stop",{offset:"70%",stopColor:n.clone().lighten(15).toRgbString(),stopOpacity:.6}),u("stop",{offset:"100%",stopColor:n.clone().lighten(20).toRgbString(),stopOpacity:.55})]})),i.push(M("linearGradient",{id:`topGradient${t}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u("stop",{offset:"0%",stopColor:n.clone().lighten(15).toRgbString(),stopOpacity:1}),u("stop",{offset:"100%",stopColor:"#fafafa",stopOpacity:1})]})),i.push(M("linearGradient",{id:`bottomGradient${t}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u("stop",{offset:"0%",stopColor:n.clone().darken(8).toRgbString(),stopOpacity:.75}),u("stop",{offset:"50%",stopColor:n.clone().darken(5).toRgbString(),stopOpacity:.7}),u("stop",{offset:"100%",stopColor:n.clone().darken(12).toRgbString(),stopOpacity:.65})]})),i.push(M("linearGradient",{id:`numberGradient${t}`,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u("stop",{offset:"0%",stopColor:n.clone().darken(0).toRgbString(),stopOpacity:.9}),u("stop",{offset:"50%",stopColor:n.clone().lighten(5).toRgbString(),stopOpacity:.85}),u("stop",{offset:"100%",stopColor:n.clone().lighten(10).toRgbString(),stopOpacity:.8})]})),i.push(M("linearGradient",{id:`glowGradient${t}`,x1:"0%",y1:"100%",x2:"0%",y2:"0%",children:[u("stop",{offset:"0%",stopColor:"#FFFFFF",stopOpacity:.2}),u("stop",{offset:"90%",stopColor:"#FFFFFF",stopOpacity:0})]})),i},d9=(t,e,n,i)=>{const{x:r,topY:o,bottomY:s}=e,a=[];a.push(u("ellipse",{id:`cylinder-bottom-${t}`,cx:r,cy:s,rx:n,ry:i,fill:`url(#bottomGradient${t})`,opacity:.7})),a.push(u(xt,{id:`cylinder-body-${t}`,d:`
        M ${r-n} ${o}
        A ${n} ${i} 0 0 0 ${r} ${o+i}
        A ${n} ${i} 0 0 0 ${r+n} ${o}
        L ${r+n} ${s}
        A ${n} ${i} 0 0 1 ${r} ${s+i}
        A ${n} ${i} 0 0 1 ${r-n} ${s}
        Z
      `,fill:`url(#cylinderGradient${t})`,stroke:"none"})),a.push(u(kt,{id:`cylinder-glow-${t}`,x:r-n,y:o-i*3,width:n*2,height:i*3,fill:`url(#glowGradient${t})`})),a.push(u("ellipse",{id:`cylinder-top-${t}`,cx:r,cy:o,rx:n,ry:i,fill:`url(#topGradient${t})`}));const c=r-10,d=o-15,f=`translate(${c}, ${d}) matrix(1, 0, ${-.6}, ${.6}, 0, 0)`;return a.push(u(Pt,{id:`cylinder-number-${t}`,width:50,height:50,fontFamily:"Arial Black, sans-serif",fontSize:32,fontWeight:900,fill:`url(#numberGradient${t})`,alignHorizontal:"center",alignVertical:"middle",transform:f,children:t+1})),a},h9=(t,e,n,i,r)=>{const s=[];return s.push(u("circle",{id:`decoration-dot-start-${t}`,cx:e,cy:i,r:2,fill:r})),s.push(u("line",{id:`decoration-line-${t}`,x1:e,y1:i,x2:n,y2:i,stroke:r,strokeWidth:1,opacity:.8})),s.push(u("circle",{id:`decoration-dot-end-${t}`,cx:n,cy:i,r:2,fill:r,opacity:.9})),s},u9=(t,e,n,i,r)=>{if(t===0)return null;const o=[];for(let w=0;w<t;w++){const _=w%2===0,C=Math.floor(w/2),E=Ur(C,e),S=Kr(_,C,e),O=n+S+E,I=i-w*r;o.push({x:O,y:I})}const s=o[0],a=o[o.length-1],c=6,d=t>5?t*16:100,l=s.x-e-d,h=s.x+e+d,f=s.y+c+d/6,p=a.x-e-d,y=a.x+e+d,m=a.y+c-d/6,g=`
    M ${l} ${f}
    L ${h} ${f}
    L ${y} ${m}
    L ${p} ${m}
    Z
  `,v=`
    M ${h} ${f}
    L ${h} ${f+c}
    L ${y} ${m+c}
    L ${y} ${m}
    Z
  `,b=`
    M ${l} ${f}
    L ${h} ${f}
    L ${h} ${f+c}
    L ${l} ${f+c}
    Z
  `,x=M(Ft,{children:[M("linearGradient",{id:"basePlateTopGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u("stop",{offset:"0%",stopColor:"#fafafa",stopOpacity:1}),u("stop",{offset:"50%",stopColor:"#ffffff",stopOpacity:.98}),u("stop",{offset:"100%",stopColor:"#ececec",stopOpacity:.95})]}),M("linearGradient",{id:"basePlateFrontGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u("stop",{offset:"0%",stopColor:"#e0e0e0",stopOpacity:.95}),u("stop",{offset:"50%",stopColor:"#d2d2d2",stopOpacity:.93}),u("stop",{offset:"100%",stopColor:"#c5c5c5",stopOpacity:.9})]}),M("linearGradient",{id:"basePlateSideGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u("stop",{offset:"0%",stopColor:"#b8b8b8",stopOpacity:.92}),u("stop",{offset:"50%",stopColor:"#c0c0c0",stopOpacity:.88}),u("stop",{offset:"100%",stopColor:"#adadad",stopOpacity:.85})]})]});return M(W,{children:[u(Gt,{children:x}),u(xt,{id:"base-plate-front",d:b,fill:"url(#basePlateFrontGradient)",stroke:"#c5c5c5",strokeWidth:.3,opacity:.92}),u(xt,{id:"base-plate-side",d:v,fill:"url(#basePlateSideGradient)",stroke:"#aaaaaa",strokeWidth:.3,opacity:.88}),u(xt,{id:"base-plate-top",d:g,fill:"url(#basePlateTopGradient)",stroke:"#e5e5e5",strokeWidth:.5,opacity:.93})]})},f9=t=>{const{Title:e,Item:n,data:i,options:r,cylinderRx:o=28,cylinderRy:s=18,baseHeight:a=120,heightIncrement:c=40,depthSpacing:d=60,itemVerticalAlign:l="top",itemVerticalOffset:h=-12,firstDecorationWidth:f=90}=t,{title:p,desc:y,items:m=[]}=i,g=e?u(e,{title:p,desc:y}):null,v=lt(u(n,{indexes:[0],data:i,datum:m[0],positionH:"center"})),b=lt(u(et,{indexes:[0]})),x=fe(r),w=10,_=Math.max(6,d*.15),C=s9(m.length,v,o,a,c,d,f,w),{startY:E,leftItemAlignedX:S,rightItemAlignedX:O,cylinderAreaStartX:I}=C,T=[],R=[];m.forEach((V,z)=>{const k=Lt(r,[z])||x;T.push(...l9(z,k));const $=a9(z,o,a,c,_,E,I),P=d9(z,$,o,s),{itemPos:H,lineStartX:F,lineEndX:X,lineY:K}=c9(z,$,v,o,S,O,l,h,w),it=h9(z,F,X,K,k);P.push(...it);const Z=u(n,{indexes:[z],datum:V,data:i,x:H.x,y:H.y,positionH:z%2===0?"flipped":"normal"}),rt=[u(Zt,{indexes:[z],x:H.x+v.width/2-b.width/2,y:H.y+v.height+10}),u(et,{indexes:[z],x:H.x+v.width/2-b.width/2,y:H.y-b.height-10})];R[z]={cylinderNodes:P,itemNode:Z,btnNodes:rt,itemX:H.x,itemY:H.y}});let A=1/0,q=1/0,B=-1/0,L=-1/0;R.forEach(V=>{const{itemX:z,itemY:k}=V;A=Math.min(A,z),q=Math.min(q,k),B=Math.max(B,z+v.width),L=Math.max(L,k+v.height)});const D=B-A,j=L-q,G=[u(Gt,{children:T})],N=[],Y=u9(m.length,o,I,E,_);Y&&G.push(Y);for(let V=m.length-1;V>=0;V--){const z=R[V];z&&(G.push(M(W,{children:[u(W,{children:z.cylinderNodes}),z.itemNode]})),N.push(...z.btnNodes))}if(m.length>0){const V=m.length%2===0,z=Math.floor(m.length/2),k=Ur(z,o),$=Kr(V,z,o),P=I+$+k,H=E-m.length*_;N.push(u(et,{indexes:[m.length],x:P,y:H-100}))}return M(yt,{flexDirection:"column",justifyContent:"center",alignItems:"center",children:[g,M(W,{width:D,height:j,children:[u($t,{children:G}),u(Ht,{children:N})]})]})};jt("sequence-cylinders-3d",{component:f9,composites:["title","item"]});const Kt={WIDTH:160,HEIGHT:260,ARROW_HEIGHT:148,ARROW_WIDTH:100,LINE_X:100,RECT_X:0,RECT_Y:80,RECT_WIDTH:100,RECT_HEIGHT:130},We={SIZE:8,MAX_COUNT:40,MIN_COUNT:5,ARROW_RATIO:.6,MIN_ARROW_COUNT:3};function p9(t,e,n){return(t+e*7+n*13)%100}function g9(t){const e=Math.ceil(Math.sqrt(t*1.5)),n=Math.ceil(t/e);return{cols:e,rows:n}}function m9(t,e,n,i,r,o,s,a){const c=Math.max(r,Math.min(t+n,o)),d=Math.max(s,Math.min(e+i,a));return{x:c,y:d}}function xv({count:t,rectX:e,rectY:n,rectWidth:i,rectHeight:r,seed:o}){const s=[],a=We.SIZE/2,{cols:c,rows:d}=g9(t),l=(i-a*2)/(c+1),h=(r-a*2)/(d+1);let f=0;for(let p=0;p<d&&f<t;p++)for(let y=0;y<c&&f<t;y++){const m=p9(o,p,y),g=m%16-8,v=m*3%12-6,b=p%2===1?l/2:0,x=e+a+(y+1)*l+b,w=n+a+(p+1)*h,{x:_,y:C}=m9(x,w,g,v,e+a,e+i-a,n+a,n+r-a);s.push({x:_,y:C,colorIndex:f}),f++}return s}function y9(t,e){if(e<=1)return We.MAX_COUNT;const n=t/(e-1),i=We.MAX_COUNT-We.MIN_COUNT;return Math.round(We.MAX_COUNT-i*n)}function v9(){const s={topLeft:{x:40,y:25},topRight:{x:160,y:75},bottomLeft:{x:40,y:205},bottomRight:{x:160,y:255}},a=[];for(let c=0;c<=12;c++){const d=c/12,l={x:s.topLeft.x+(s.bottomLeft.x-s.topLeft.x)*d,y:s.topLeft.y+(s.bottomLeft.y-s.topLeft.y)*d},h={x:s.topRight.x+(s.bottomRight.x-s.topRight.x)*d,y:s.topRight.y+(s.bottomRight.y-s.topRight.y)*d};a.push(`M${l.x} ${l.y}L${h.x} ${h.y}`);const f={x:s.topLeft.x+(s.topRight.x-s.topLeft.x)*d,y:s.topLeft.y+(s.topRight.y-s.topLeft.y)*d},p={x:s.bottomLeft.x+(s.bottomRight.x-s.bottomLeft.x)*d,y:s.bottomLeft.y+(s.bottomRight.y-s.bottomLeft.y)*d};a.push(`M${f.x} ${f.y}L${p.x} ${p.y}`)}return a.join("")}function wv(t,e){return t.map(n=>{const i=Lt(e,[n.colorIndex]);return u(xt,{d:"M4 0L8 4L4 8L0 4Z",fill:i,x:n.x,y:n.y,width:We.SIZE,height:We.SIZE,"data-element-type":"shape"})})}function b9(t,e,n,i,r){return M(W,{x:e,y:0,width:Kt.WIDTH,height:Kt.HEIGHT,children:[M(pe,{children:[u(xt,{d:v9(),stroke:"#D9D9D9",strokeWidth:2}),u(xt,{d:`M${Kt.LINE_X} 25V260`,stroke:"#BFBFBF",strokeWidth:2,strokeLinecap:"round"}),u(kt,{x:Kt.RECT_X,y:Kt.RECT_Y,width:Kt.RECT_WIDTH,height:Kt.RECT_HEIGHT,fill:"#FFCB0E",fillOpacity:.2})]}),u(Ft,{children:wv(i,r)}),u(Pt,{x:Kt.LINE_X-25,y:0,width:50,height:20,fontSize:20,fontWeight:"bold",alignHorizontal:"center",alignVertical:"top",fill:n,children:String(t+1).padStart(2,"0")})]})}function x9(t,e){const n=Kt.RECT_Y+Kt.RECT_HEIGHT/2-Kt.ARROW_HEIGHT/2,i=Math.max(Math.round(We.MIN_COUNT*We.ARROW_RATIO),We.MIN_ARROW_COUNT),r=xv({count:i,rectX:0,rectY:14,rectWidth:57,rectHeight:120,seed:999});return M(W,{x:t+Kt.WIDTH,y:n,children:[u(xt,{d:"M0 13.9679H57.1429V0L100 74L57.1429 148V134.032H0V13.9679Z",width:Kt.ARROW_WIDTH,height:Kt.ARROW_HEIGHT,fill:"#FFCB0E",fillOpacity:.2,"data-element-type":"shape"}),u(Ft,{children:wv(r,e)})]})}const w9=t=>{const{Title:e,Item:n,data:i,gap:r=20,options:o}=t,{title:s,desc:a,items:c=[]}=i,d=e?u(e,{title:s,desc:a}):null,l=lt(u(et,{indexes:[0]})),h=lt(u(n,{indexes:[0],data:i,datum:c[0],width:Kt.WIDTH,positionH:"center"})),f=[],p=[],y=[],m=Kt.HEIGHT+r,g=m+h.height+10;if(c.forEach((v,b)=>{const x=b*Kt.WIDTH,w=[b],_=Lt(o,w),C=y9(b,c.length),E=xv({count:C,rectX:Kt.RECT_X,rectY:Kt.RECT_Y,rectWidth:Kt.RECT_WIDTH,rectHeight:Kt.RECT_HEIGHT,seed:b*100});f.push(b9(b,x,_,E,o)),b===c.length-1&&f.push(x9(x,o)),p.push(u(n,{indexes:w,datum:v,data:i,width:Kt.WIDTH,x:x+Kt.LINE_X-Kt.WIDTH/2,y:m,positionH:"center"})),y.push(u(Zt,{indexes:w,x:x+Kt.LINE_X-l.width/2,y:g})),b<c.length-1&&y.push(u(et,{indexes:[b+1],x:x+Kt.WIDTH-l.width/2,y:g}))}),c.length>0){y.unshift(u(et,{indexes:[0],x:-l.width/2,y:g}));const v=(c.length-1)*Kt.WIDTH;y.push(u(et,{indexes:[c.length],x:v+Kt.WIDTH-l.width/2,y:g}))}return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[d,M(W,{width:Kt.WIDTH*c.length+Kt.ARROW_WIDTH,height:Kt.HEIGHT+r+h.height,children:[u(W,{children:f}),u($t,{children:p}),u(Ht,{children:y})]})]})};jt("sequence-filter-mesh",{component:w9,composites:["title","item"]});const C9=6,Ad=32,_9=1.25,Td=25,d1=15,E9=t=>{const{Title:e,Item:n,data:i,gap:r=10,width:o=700,funnelWidth:s,itemHeight:a=60,minBottomRatio:c=.25,options:d}=t,{title:l,desc:h,items:f=[]}=i,p=e?u(e,{title:l,desc:h}):null;if(f.length===0)return u(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:p});const y=ye(d.themeConfig),m=s??o*.55,g=o-m,v=a*_9,b=f.length*v+(f.length-1)*r,x=m*c,w=f.map((C,E)=>{const S=[E],O=Lt(d,[E])||y.colorPrimary,{points:I,topWidth:T}=S9(m,x,v,r,b,E),R=ry(I,C9),A=oy(R,"AMOUNT",10),q=m/2,B=E*(v+r),L=q+T/2,D=L-Td,j=g+Td-10,G=(v-a)/2,N=B+G,Y=L+d1,V=j-Td-d1,z=N,k=q-Ad/2,$=B+v/2-Ad/2,P=`${O.replace("#","")}-funnel-${E}`;return{background:u(kt,{x:D,y:N,width:j,height:a,ry:"8",fill:ce(O).setAlpha(.1).toRgbString(),"data-element-type":"shape"}),funnel:[u(Gt,{children:M("linearGradient",{id:P,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[u("stop",{offset:"0%",stopColor:ce(O).lighten(10).toString()}),u("stop",{offset:"100%",stopColor:O})]})}),u(ke,{points:A,fill:`url(#${P})`,y:B,"data-element-type":"shape",style:{filter:"drop-shadow(0px 2px 3px rgba(0,0,0,0.15))"}})],icon:u(Oe,{indexes:S,x:k,y:$,size:Ad,fill:"#fff"}),item:u(n,{indexes:S,datum:C,data:i,x:Y,y:z,width:V,height:a,positionV:"middle"}),btnRemove:u(Zt,{indexes:S,x:D+j,y:N})}}),_=u(et,{indexes:[f.length],x:o/2,y:b+10});return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[p,M(W,{width:o,height:b+40,children:[u(W,{children:w.map(C=>C.background)}),u(W,{children:w.flatMap(C=>C.funnel)}),u(W,{children:w.map(C=>C.icon)}),u($t,{children:w.map(C=>C.item)}),M(Ht,{children:[w.map(C=>C.btnRemove),_]})]})]})};function S9(t,e,n,i,r,o){const s=t/2,a=o*(n+i),c=a+n,d=t-e,l=t-d*(a/r),h=t-d*(c/r),f={x:s-l/2,y:0},p={x:s+l/2,y:0},y={x:s+h/2,y:n},m={x:s-h/2,y:n};return{points:[f,p,y,m],topWidth:l,bottomWidth:h}}jt("sequence-funnel",{component:E9,composites:["title","item"]});const O9=t=>{const{Title:e,Item:n,data:i,gap:r=30,cardPadding:o=10,options:s}=t,{title:a,desc:c,items:d=[]}=i,l=e?u(e,{title:a,desc:c}):null,h=fe(s),f=ye({colorPrimary:h},s),p=lt(u(et,{indexes:[0]})),y=lt(u(n,{indexes:[0],data:i,datum:d[0],positionH:"center"})),m=[],g=[],v=[],b=y.width+o*2,x=y.height+o*2+30,w=8,_=6,C=Math.max(p.height+20,40),E=40;if(d.forEach((S,O)=>{const I=O%2===0,T=O*(b+r);let R;I?O%4===2?R=C:R=C+E:R=C+E+60;const A=[O],q=Lt(s,A)||h;if(I){const j=q===h?f.colorPrimaryBg||"#E8F3FF":`${q}20`,G=u(kt,{x:T,y:R,width:b,height:x,fill:j,rx:20,ry:20});v.push(G)}g.push(u(n,{indexes:A,datum:S,data:i,x:T+o,y:R+o,positionH:"center",positionV:"normal"}));const B=d.length*w+(d.length-1)*_,L=T+(b-B)/2,D=R+y.height+20;for(let j=0;j<d.length;j++){const G=L+j*(w+_),N=j===O;v.push(u(Ut,{x:G,y:D,width:w,height:w,fill:N?q:"transparent",stroke:q,strokeWidth:2}))}m.push(u(Zt,{indexes:A,x:T+(b-p.width)/2,y:R+x+10})),O===0?m.push(u(et,{indexes:A,x:T+(b-p.width)/2,y:R-p.height-10})):m.push(u(et,{indexes:A,x:T-r/2-p.width/2,y:C-p.height-10}))}),d.length>0){const S=[],I=r/2,T=6,R=C+E,A=0-I,q=R+x/2;S.push(`M ${A} ${q-T}`),d.forEach((P,H)=>{const F=H%2===0,X=H*(b+r);let K;F?H%4===2?K=C:K=C+E:K=C+E+60;const it=X-I,Z=X+b+I,rt=K-I,U=K+x+I,Q=K+x/2;F?(S.push(`L ${it} ${rt+35}`),S.push(`Q ${it} ${rt} ${it+35} ${rt}`),S.push(`L ${Z-35} ${rt}`),S.push(`Q ${Z} ${rt} ${Z} ${rt+35}`),S.push(`L ${Z} ${Q-T}`)):(S.push(`L ${it} ${Q}`),S.push(`L ${it} ${U-35}`),S.push(`Q ${it} ${U} ${it+35} ${U}`),S.push(`L ${Z-35} ${U}`),S.push(`Q ${Z} ${U} ${Z} ${U-35}`),S.push(`L ${Z} ${Q+T}`))});const B=d.length-1,L=B%2===0,D=B*(b+r);let j;L?B%4===2?j=C:j=C+E:j=C+E+60;const G=D+b+I,N=j+x/2,Y=S.join(" "),V="gradient-zigzag-path",z=Lt(s,[0])||h,k=Lt(s,[d.length-1])||h,$=d.map((P,H)=>{const F=H/(d.length-1)*100,X=Lt(s,[H])||h;return u("stop",{offset:`${F}%`,stopColor:X})});v.unshift(M(Ft,{children:[u(Gt,{children:u("linearGradient",{id:V,x1:A,y1:q,x2:G,y2:N,gradientUnits:"userSpaceOnUse",children:$})}),u(xt,{d:Y,stroke:`url(#${V})`,strokeWidth:2,fill:"none",width:(d.length-1)*(b+r)+b+I*2,height:x+120})]})),v.unshift(u(Ut,{x:A-T,y:q-T,width:T*2,height:T*2,fill:"transparent",stroke:z,strokeWidth:2})),v.unshift(u(Ut,{x:G-T,y:N-T,width:T*2,height:T*2,fill:"transparent",stroke:k,strokeWidth:2}))}if(d.length>0){const O=(d.length-1)*(b+r);m.push(u(et,{indexes:[d.length],x:O+b+(r-p.width)/2,y:C-p.height-10}))}return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[l,M(W,{children:[u(pe,{children:v}),u($t,{children:g}),u(Ht,{children:m})]})]})};jt("sequence-horizontal-zigzag",{component:O9,composites:["title","item"]});function I9(t){const{width:e,height:n,colorPrimary:i}=t,r=i,o=ce.mix(i,"#000",20).toHexString(),s=ce.mix(i,"#fff",50).toHexString(),a=ce.mix(s,"#000",15).toHexString();function c(E,S){const I=[{position:.25,offset:.1},{position:.45,offset:-.02},{position:.6,offset:.04},{position:.75,offset:-.1}],T={x:0,y:S},R={x:E,y:S},A={x:E/2,y:0},q={x:E/2,y:S},B=S*.35,L=B/S,D={x:A.x*(1-L)+T.x*L,y:B},j={x:A.x,y:B},G={x:A.x*(1-L)+R.x*L,y:B},N=I.map(z=>{const k=D.x+(G.x-D.x)*z.position,$=B,P=S*z.offset;return{x:k,y:$+P,position:z.position,offset:z.offset}});N.sort((z,k)=>z.position-k.position);const Y=N.filter(z=>z.x<=j.x),V=N.filter(z=>z.x>j.x);return{leftBottom:T,rightBottom:R,peak:A,centerBottom:q,snowLineY:B,leftEdge:D,centerSnow:j,rightEdge:G,leftRipples:Y,rightRipples:V}}const{leftRipples:d,rightRipples:l,leftBottom:h,rightBottom:f,peak:p,centerBottom:y,leftEdge:m,centerSnow:g,rightEdge:v}=c(e,n),b=[p,m,...d,g],x=[p,g,...l,v],w=[m,...d,g,y,h],_=[g,...l,v,f,y],C=E=>E.map(S=>`${S.x},${S.y}`).join(" ");return M(pe,Object.assign({},t,{children:[u("polygon",{points:C(b),fill:s}),u("polygon",{points:C(x),fill:a}),u("polygon",{points:C(w),fill:r}),u("polygon",{points:C(_),fill:o})]}))}function A9(t){const n={tiny:27,small:48,medium:54,large:72}[t]||54,i="#17C76F",r="#139B57",o="#737373",s=n*.7,a=n-s,c=s*.8,d=c,l=d/6,h=(d-l)/2,f=s;return M(pe,{width:d,height:n,children:[u("ellipse",{cx:c/2,cy:s/2,rx:c/2,ry:s/2,fill:i,clipPath:"inset(0 50% 0 0)"}),u("ellipse",{cx:c/2,cy:s/2,rx:c/2,ry:s/2,fill:r,clipPath:"inset(0 0 0 50%)"}),u("rect",{x:h,y:f,width:l,height:a,fill:o})]})}function T9(t){const{width:e,height:n}=t,i=e/2,r=n/2,o=Math.min(e,n)*.28,s=Math.min(e,n)*.14,a=Math.min(e,n)*.07,c=0,d=r-a/2,l=a*.4,h=8,f=Array.from({length:h},(p,y)=>{const m=360/h*y;return u("rect",{x:c,y:d,width:s,height:a,rx:l,ry:l,fill:"#FFCB0E",transform:`rotate(${m}, ${i}, ${r})`})});return M(pe,Object.assign({},t,{children:[u("circle",{cx:i,cy:r,r:o,fill:"#FFCB0E"}),...f]}))}function M9(t){return t.type==="single"?u(pe,Object.assign({},t,{width:54,height:36,children:u("path",{d:"M10.2635 13.3806C11.0019 9.99045 12.7381 6.91002 15.2405 4.55004C17.743 2.19007 20.8929 0.662716 24.2701 0.171643C27.6473 -0.31943 31.0914 0.24912 34.143 1.80148C37.1946 3.35385 39.7087 5.81625 41.3501 8.86031C44.8835 9.0468 48.1994 10.6544 50.5684 13.3294C52.9373 16.0044 54.1653 19.5277 53.9821 23.1242C53.7989 26.7207 52.2195 30.0959 49.5914 32.5071C46.9634 34.9184 43.5019 36.1683 39.9684 35.9818H11.1517C4.93436 35.9818 0 30.9593 0 24.6309C0.0598447 21.8016 1.13799 19.093 3.02989 17.0192C4.9218 14.9454 7.49584 13.6506 10.2635 13.3806Z",fill:"#70CAF8"})})):M(pe,Object.assign({},t,{width:73,height:40,children:[u("path",{d:"M61.6461 14.9716C60.8681 11.1875 58.9581 7.73823 56.1763 5.09315C53.3944 2.44806 49.8758 0.735682 46.0992 0.189041C42.3226 -0.357601 38.4714 0.288046 35.0699 2.03812C31.6683 3.7882 28.8815 6.5577 27.0889 9.96971C23.161 10.1687 19.4719 11.9405 16.8333 14.8953C14.1947 17.8502 12.8227 21.746 13.0191 25.7258C13.2155 29.7055 14.9642 33.4433 17.8806 36.1167C20.7969 38.7901 24.642 40.1802 28.5699 39.9812H60.6588C67.5702 39.9812 73.0006 34.4791 73.0006 27.4764C73.0006 20.9739 67.8664 15.4718 61.6461 14.9716Z",fill:"#70CAF8"}),u("path",{d:"M21.9691 6.47136e-09C25.9369 6.47136e-09 29.5264 1.62125 32.0003 4.21094C30.0604 5.7917 28.4423 7.75571 27.2581 10C23.3149 10.1989 19.6111 11.9702 16.9622 14.9238C14.3136 17.8774 12.936 21.772 13.1331 25.75C13.2057 27.2131 13.4902 28.6432 13.9652 30H10.7689C7.96116 29.8907 5.29664 28.7203 3.30402 26.7217C1.31144 24.7231 0.135825 22.0419 0.0110544 19.21C-0.113702 16.378 0.821178 13.6017 2.63019 11.4326C4.43921 9.26356 6.99065 7.8602 9.77766 7.5C11.9582 3.00012 16.6168 8.76701e-05 21.9691 6.47136e-09Z",fill:"#5BA2C6"})]}))}const R9=t=>{const{Title:e,Item:n,data:i,gap:r=20,minHeight:o=100,maxHeight:s=200,minWidth:a=260,maxWidth:c=300,options:d}=t,{title:l,desc:h,items:f=[]}=i,p=e?u(e,{title:l,desc:h}):null,y=[],m=[],g=[],v=[],b=f.length,x=ye(d.themeConfig),w=60,_={single:{width:54,height:36},double:{width:73,height:40}},C=[],E=[];let S=0,O=0;f.forEach((N,Y)=>{const V=b>1?Y/(b-1):0,k=(o+(s-o)*V)*1.6,$=Math.max(a,Math.min(c,k));C.push($);const P=O;E.push(P),O+=$/2,Y===b-1&&(S=P+$)});const I=E[0],T=E[b-1]+C[b-1],R=T-I,A=b>1?(R-r*(b-1))/b:R,q=lt(u(n,{indexes:[0],data:i,datum:f[0],width:A})),B=32,L=s+r,D=L+B+10;f.forEach((N,Y)=>{const V=[Y],z=o+(s-o)*(b>1?Y/(b-1):0),k=C[Y],$=E[Y],P=s-z,H=Lt(d,[Y])||x.colorPrimary;g.push(u(I9,{colorPrimary:H,x:$,y:P,width:k,height:z}));const F=I+Y*(A+r);v.push(u(Pt,{x:F,y:L,width:A,height:B,fontSize:16,fontWeight:"bold",alignHorizontal:"center",alignVertical:"middle",fill:H,backgroundColor:H,backgroundOpacity:.5,backgroundRadius:4,children:String(Y+1).padStart(2,"0")})),y.push(u(n,{indexes:V,datum:N,data:i,x:F,y:D,width:A}))});const j=lt(u(et,{indexes:[0]})),G=D+q.height+10;if(f.forEach((N,Y)=>{const V=[Y],z=I+Y*(A+r);m.push(u(Zt,{indexes:V,x:z+A/2-j.width/2,y:G})),Y<f.length-1&&m.push(u(et,{indexes:[Y+1],x:z+A+r/2-j.width/2,y:G}))}),b>0){const N=I;m.unshift(u(et,{indexes:[0],x:N-r/2-j.width/2,y:G}));const Y=I+(b-1)*(A+r);m.push(u(et,{indexes:[b],x:Y+A+r/2-j.width/2,y:G})),g.push(u(T9,{x:S-w-20,y:-35,width:w,height:w}));const V=["tiny","small","medium","large"],z={tiny:27,small:48,medium:54,large:72},k={tiny:14.85,small:26.4,medium:29.7,large:39.6},$=[],P=(F,X,K=5)=>$.some(it=>!(F+X+K<it.x||F>it.x+it.width+K));f.forEach((F,X)=>{const K=E[X],it=C[X],rt=X===b-1?3:X===0?1:2;for(let U=0;U<rt;U++){const Q=X*100+U*37,at=Q*17%V.length,tt=V[at],J=z[tt],nt=k[tt];let ot=0,ct=0,pt=!1;for(;ot<20&&!pt;){const ut=(Q*13+ot*19)%100/100,ft=K+it*.15,dt=K+it*.85-nt;ct=ft+(dt-ft)*ut,P(ct,nt)||(pt=!0),ot++}if(pt){$.push({x:ct,width:nt});const ut=s-J;g.push(u(W,{x:ct,y:ut,children:A9(tt)}))}}});const H=Math.max(1,Math.floor(b/1.5));for(let F=0;F<H;F++){const X=F*11+b*5+1,K=X%2===0?"single":"double",it=_[K],Z=T-I-it.width,rt=I+X*7%100/100*Z,U=X*13%40;g.push(u(M9,{type:K,x:rt,y:U,width:it.width,height:it.height}))}}return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[p,M(W,{children:[u(W,{children:g}),u(W,{children:v}),u($t,{children:y}),u(Ht,{children:m})]})]})};jt("sequence-mountain",{component:R9,composites:["title","item"]});const k9=t=>{const{Title:e,Item:n,data:i,gap:r=10,width:o=700,pyramidWidth:s,itemHeight:a=60,options:c}=t,{title:d,desc:l,items:h=[]}=i,f=e?u(e,{title:d,desc:l}):null;if(h.length===0)return u(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:f});const p=5,y=ye(c.themeConfig),m=30,g=[],v=[],b=[],x=[],w=s??o*.6,_=o-w,C=a*1.2,E=h.length*C+(h.length-1)*r;return h.forEach((S,O)=>{const I=[O],T=O===0,R=Lt(c,[O])||y.colorPrimary,{points:A,topWidth:q,bottomWidth:B}=L9(w,C,r,h.length,O),L=ry(A,p),D=oy(L,"AMOUNT",10),j=w/2,G=O*(C+r),N=(C-a)/2,Y=G+N,V=j+q/2,z=j+B/2,$=V-p,P=_+p,H=a,F=$+P,X=j-m/2,K=G+C/2-m/2+(T?8:0),it=z,Z=F-z,rt=Y;b.push(u(kt,{x:$,y:Y,width:P,height:H,ry:"10",fill:y.colorPrimaryBg,"data-element-type":"shape"}));const U=`${R}-pyramid-${O}`;v.push(u(Gt,{children:M("linearGradient",{id:U,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u("stop",{offset:"0","stop-color":R}),u("stop",{offset:"100%","stop-color":ce.mix(R,"#fff",40).toHexString()})]})}),u(ke,{points:D,fill:`url(#${U})`,y:G,"data-element-type":"shape"})),x.push(u(Oe,{indexes:I,x:X,y:K,size:m,fill:"#fff"})),g.push(u(n,{indexes:I,datum:S,data:i,x:it,y:rt,width:Z,height:a,positionV:"middle"}))}),M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[f,M(W,{width:o,height:E,children:[u(W,{children:b}),u(W,{children:v}),u(W,{children:x}),u($t,{children:g}),u(Ht,{})]})]})};function L9(t,e,n,i,r){const o=t/2,s=i*e+(i-1)*n,a=r*(e+n),c=a+e,d=a/s*t,l=c/s*t;let h;if(r===0){const f={x:o,y:0},p={x:o+l/2,y:e},y={x:o-l/2,y:e};h=[f,p,y]}else{const f={x:o+d/2,y:0},p={x:o+l/2,y:e},y={x:o-l/2,y:e},m={x:o-d/2,y:0};h=[f,p,y,m]}return{points:h,topWidth:d,bottomWidth:l}}jt("sequence-pyramid",{component:k9,composites:["title","item"]});const xi={iconSize:50,roadWidth:24,outerRadius:60,rowWidth:400,spacing:30,colorDefault:"#666666"},h1=(t,e)=>`M ${t} ${e}`,oe=(t,e)=>`L ${t} ${e}`,zn=(t,e,n,i)=>`A ${t} ${t} 0 0 ${e} ${n} ${i}`,P9=(t,{roadWidth:e,innerRadius:n,outerRadius:i})=>{const r=(e+n*2)*t;return{y1:r,y2:r+e,y3:r+e+n,y4:r+e+n*2,y5:r+i*2}};function $9({i:t,direction:e,x:n,y:i,color:r,data:o,itemBounds:s,item:a,Item:c,flipped:d}){const{iconSize:l}=xi,h=e==="left",f=h?n.x4-l/2:n.x3-l/2,p=i.y3-l/2,y=h?n.x6+xi.spacing:n.x1-xi.spacing-s.width,m=i.y3-s.height/2,g=h?d?"flipped":"normal":d?"normal":"flipped";return{icon:u(Qn,{indexes:[t],x:f,y:p,size:l,fill:r}),label:u(Pt,{width:40,x:h?f-50:f+l+10,y:p+l/2-15,fontSize:30,fill:r,alignHorizontal:h?"right":"left",children:String(t+1).padStart(2,"0")}),item:u(c,{indexes:[t],data:o,datum:a,x:y,y:m,positionH:g})}}function q9({direction:t,x:e,y:n,color:i,elements:r}){const o=t==="left";r.push(u(F_,{x:o?e.x6+10:e.x1-20,y:n.y3-5,width:10,height:8,rotation:o?90:-90,colorPrimary:i,"data-element-type":"shape"}))}const H9=t=>{const{Title:e,Item:n,data:i,spacing:r=xi.spacing,options:o,flipped:s=!1}=t,{title:a,desc:c,items:d=[]}=i,l=e?u(e,{title:a,desc:c}):null,h=lt(u(n,{indexes:[0],data:i,datum:d[0],positionH:"center"})),{roadWidth:f,outerRadius:p,rowWidth:y,colorDefault:m}=xi,g=f/2,v=p-f,b=(h.width+r)*2+y,x=h.width+r,w=x+p,_=x+y-p,E=_+v+f,S=x+y/2,O=[],I=[],T=[],R=[],A=[],q=[],B=[];for(let j=0;j<d.length;j++){const G=Lt(o,[j])||m,N=j%2===0?"right":"left",Y=j===0,V=j===d.length-1,z=P9(j,{roadWidth:f,innerRadius:v,outerRadius:p});if(N==="right"){const H=Y?[E,z.y1]:[_,z.y1],F=[w,z.y1],X=[w,z.y5],K=Y?[E,z.y2]:[_,z.y2],it=[w,z.y2];if(O.push(Y?h1(E,z.y1+g):oe(_,z.y1+g),oe(w,z.y1+g),zn(p-g,0,w,z.y4+g)),I.push(Y?h1(...H):oe(...H),oe(...F),zn(p,0,...X)),T.push(oe(...K),oe(...it),zn(v,1,...it)),V){const Z=f/2;I.push(oe(S,z.y5),oe(S,z.y5+Z),oe(S+f,z.y5-Z),oe(S,z.y4-Z),oe(S,z.y4),oe(w,z.y4)),O.push(oe(S,z.y4+g))}}else{const H=[w,z.y2],F=[_,z.y2],X=[_,z.y4],K=[w,z.y1],it=[_,z.y1];if(O.push(oe(_,z.y1+g),zn(p-g,1,_,z.y4+g)),I.push(oe(...H),oe(...F),zn(v,1,...X)),T.push(oe(...K),oe(...it),zn(p,0,...it)),V){const Z=f/2;I.push(oe(S,z.y4),oe(S,z.y4-Z),oe(S-f,z.y4+Z),oe(S,z.y5+Z),oe(S,z.y5),oe(_,z.y5)),O.push(oe(S,z.y4+g))}}q9({direction:N,x:{x1:x,x6:E},y:z,color:G,elements:B});const{icon:k,label:$,item:P}=$9({i:j,direction:N,x:{x1:x,x3:w,x4:_,x6:E},y:z,color:G,data:i,itemBounds:h,item:d[j],Item:n,flipped:s});R.push(k),A.push($),q.push(P)}const L=[...I,...T.reverse(),"Z"],D=d.length*(f+v*2)+f*1.5;return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[l,M(W,{width:b,height:h.height<=p*2?D:D+h.height-p*2,children:[u(xt,{width:y,height:D,d:L.join(" "),fill:m,stroke:m,strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round","data-element-type":"shape"}),u(xt,{d:O.join(" "),stroke:"white",fill:"none",strokeWidth:"3",strokeDasharray:"8 8",strokeLinecap:"round",strokeLinejoin:"round","data-element-type":"shape"}),M(Ft,{children:[R,A,q,B]})]})]})};jt("sequence-roadmap-vertical",{component:H9,composites:["title","item"]});const z9=t=>{const{Title:e,Item:n,data:i,gap:r=40,itemsPerRow:o=3,rowGap:s=80,options:a}=t,{title:c,desc:d,items:l=[]}=i,h=e?u(e,{title:c,desc:d}):null,f=fe(a),p=lt(u(et,{indexes:[0]})),y=lt(u(n,{indexes:[0],data:i,datum:l[0],positionH:"center"})),m=[],g=[],v=[],b=25,x=25;if(l.forEach((w,_)=>{const C=Math.floor(_/o),E=_%o,S=C%2===1,I=(S?o-1-E:E)*(y.width+r),T=C*(y.height+s),R=[_];if(g.push(u(n,{indexes:R,datum:w,data:i,x:I,y:T,positionH:"center"})),m.push(u(Zt,{indexes:R,x:I+(y.width-p.width)/2,y:T+y.height+10})),_===0&&m.push(u(et,{indexes:R,x:I+(y.width-p.width)/2,y:T-p.height-10})),_<l.length-1){const A=Math.floor((_+1)/o),q=(_+1)%o,D=(A%2===1?o-1-q:q)*(y.width+r);if(C===A){const G=S,N=G?D+y.width+(r-b)/2:I+y.width+(r-b)/2,Y=T+y.height/2-x/2;v.push(u(Jd,{x:N,y:Y,width:b,height:x,colorPrimary:f,rotation:G?180:0})),m.push(u(et,{indexes:[_+1],x:N+(b-p.width)/2,y:T-p.height-10}))}else{const G=I+y.width/2-b/2,N=T+y.height+(s-x)/2;v.push(u(Jd,{x:G,y:N,width:b,height:x,colorPrimary:f,rotation:90})),m.push(u(et,{indexes:[_+1],x:G+(b-p.width)/2,y:N+(x-p.height)/2}))}}}),l.length>0){const w=l.length-1,_=Math.floor(w/o),C=w%o,O=(_%2===1?o-1-C:C)*(y.width+r),I=_*(y.height+s);m.push(u(et,{indexes:[l.length],x:O+(y.width-p.width)/2,y:I+y.height+p.height+20}))}return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[h,M(W,{children:[u(W,{children:v}),u($t,{children:g}),u(Ht,{children:m})]})]})};jt("sequence-snake-steps",{component:z9,composites:["title","item"]});const j9=t=>{const{Title:e,Item:n,data:i,options:r,gap:o=16,perspectiveFactor:s=.2,width:a=720}=t,{title:c,desc:d,items:l=[]}=i,h=e,f=h?u(h,{title:c,desc:d}):null;if(l.length===0){const at=u(et,{indexes:[0],x:0,y:0});return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[f,u(W,{children:u(Ht,{children:at})})]})}const p=fe(r),y=lt(u(et,{indexes:[0]})),m=lt(u(n,{indexes:[0],data:i,datum:l[0]||{},positionH:"center"})),g=12,v=Math.min(a*.1,100),b=Math.min(a*.45,Math.max(80,a-m.width-g-v)),x=Math.max(24,b*s*.35),w=56,_=w*.7,C=l.length>1?(w-_)/(l.length-1):0,E=Math.max(y.height+x+20,x+28),S=b/2,O=b+v+g,I=l.map((at,tt)=>w-C*tt),T=l.map((at,tt)=>Math.max(x*(1-tt*.05),x*.7)),R=[],A=[],q=l.length-1;R[q]=E,A[q]=0;for(let at=q-1;at>=0;at-=1)A[at]=A[at+1]+T[at]+o,R[at]=R[at+1]+T[at]+I[at+1]+o;const B=A[0]||T[0]||x,L=b*(.55+s*.1),D=b-L,j=l.map((at,tt)=>{const J=B===0?1:A[tt]/B;return L+D*J}),G=j.map(at=>{const tt=S+at/2;return Math.max(0,O-g-tt)}),N=[],Y=[],V=[],z=[],k=[],$=0,P=(R[0]||E)+(I[0]||w),H=P-$,F=35,K=(j[q]||L)*.8,it=K*.65,Z=(j[0]||b)*.9;k.push(u(ke,{points:[{x:S,y:$},{x:S+K/2,y:$+F},{x:S+it/2,y:$+F},{x:S+Z/2,y:P},{x:S-Z/2,y:P},{x:S-it/2,y:$+F},{x:S-K/2,y:$+F}],fill:"rgba(0,0,0,0.12)",width:Z,height:H,"data-element-type":"shape"}));let rt=R[q]+I[q]/2;l.forEach((at,tt)=>{const J=[tt],nt=j[tt],ot=T[tt],ct=S-nt/2,pt=I[tt],ut=R[tt],ft=ut-ot,dt=ut+pt/2,vt=Lt(r,J)||p;N.push(u(kt,{x:ct,y:ut,width:nt,height:pt,fill:vt,"data-element-type":"shape"}),u(ke,{points:[{x:ct,y:ut},{x:ct+nt,y:ut},{x:ct+nt-ot/2,y:ft},{x:ct+ot/2,y:ft}],fill:vt,opacity:"0.3",width:nt,height:ot,"data-element-type":"shape"}),u(Pt,{x:ct,y:ut,width:nt,height:pt,fontSize:pt/2,fontWeight:"bold",alignHorizontal:"center",alignVertical:"middle",fill:"#ffffff",children:String(tt+1).padStart(2,"0")}));const _t=ct+nt,Ot=dt,bt=G[tt],At=_t+bt;z.push(u(xt,{d:`M ${_t} ${Ot} L ${At} ${Ot}`,stroke:vt,strokeWidth:2,fill:"none",width:bt,height:2,"data-element-type":"shape"}),u(xt,{d:`M ${At} ${Ot} L ${At} ${Ot}`,stroke:vt,strokeWidth:6,strokeLinecap:"round",width:1,height:1,"data-element-type":"shape"}));const Mt=dt-m.height/2;Y.push(u(n,{indexes:J,datum:at,data:i,x:O,y:Mt,positionV:"middle"})),V.push(u(Zt,{indexes:J,x:O+m.width+10,y:Mt+m.height/2-y.height/2})),tt===0?V.push(u(et,{indexes:[0],x:O+(m.width-y.width)/2,y:Mt-y.height-12})):V.push(u(et,{indexes:J,x:O+(m.width-y.width)/2,y:(rt+dt)/2-y.height/2})),rt=dt});const Q=rt-m.height/2;return V.push(u(et,{indexes:[l.length],x:O+(m.width-y.width)/2,y:Q+m.height+12})),M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[f,M(W,{children:[u(W,{children:k}),u(W,{children:N}),u(W,{children:z}),u($t,{children:Y}),u(Ht,{children:V})]})]})};jt("sequence-stairs-front",{component:j9,composites:["title","item"]});const D9=t=>{const{Title:e,Item:n,data:i,gap:r=40,options:o}=t,{title:s,desc:a,items:c=[]}=i,d=e?u(e,{title:s,desc:a}):null,l=fe(o),h=lt(u(et,{indexes:[0]})),f=lt(u(n,{indexes:[0],data:i,datum:c[0],positionH:"center"})),p=[],y=[],m=[],g=25,v=25,b=Math.max(h.height+20,30);if(c.forEach((x,w)=>{const _=w*(f.width+r),C=[w];if(y.push(u(n,{indexes:C,datum:x,data:i,x:_,y:b,positionH:"center"})),p.push(u(Zt,{indexes:C,x:_+(f.width-h.width)/2,y:b+f.height+10})),w===0?p.push(u(et,{indexes:C,x:_+(f.width-h.width)/2,y:b-h.height-10})):p.push(u(et,{indexes:C,x:_-r/2-h.width/2,y:b-h.height-10})),w<c.length-1){const E=_+f.width+(r-g)/2,S=b+f.height/2-v/2;m.push(u(Jd,{x:E,y:S,width:g,height:v,colorPrimary:l}))}}),c.length>0){const x=(c.length-1)*(f.width+r);p.push(u(et,{indexes:[c.length],x:x+f.width+(r-h.width)/2,y:b-h.height-10}))}return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[d,M(W,{children:[u(W,{children:m}),u($t,{children:y}),u(Ht,{children:p})]})]})};jt("sequence-steps",{component:D9,composites:["title","item"]});const B9=t=>{const{Title:e,Item:n,data:i,gap:r=10,options:o}=t,{title:s,desc:a,items:c=[]}=i,d=e?u(e,{title:s,desc:a}):null,l=fe(o),h=Uy(o),f=lt(u(et,{indexes:[0]})),p=lt(u(n,{indexes:[0],data:i,datum:c[0],positionH:"normal"})),y=[],m=[],g=[],v=10,b=v+70+10,x=b+30,w=6;if(c.length>1){const _=p.height/2+w,C=(c.length-1)*(p.height+r)+p.height/2-w,E=`M ${b} ${_} L ${b} ${C}`,S="gradient-timeline-line",O=C-_,I=c.map((T,R)=>{const q=(R*(p.height+r)+p.height/2-_)/O*100,B=Lt(o,[R]);return u("stop",{offset:`${q}%`,stopColor:B||l})});g.push(M(Ft,{children:[u(Gt,{children:u("linearGradient",{id:S,x1:b,y1:_,x2:b,y2:C,gradientUnits:"userSpaceOnUse",children:I})}),u(xt,{d:E,stroke:`url(#${S})`,strokeWidth:2,width:1,height:C-_})]}))}if(c.forEach((_,C)=>{const E=C*(p.height+r),S=E+p.height/2,O=[C];g.push(u(Pt,{x:v,y:S,width:70,fontSize:18,fontWeight:"bold",alignHorizontal:"left",alignVertical:"middle",fill:h[C%h.length],children:`STEP ${C+1}`})),m.push(u(n,{indexes:O,datum:_,data:i,x,y:E,positionH:"normal"})),g.push(u(Ut,{x:b-w,y:S-w,width:w*2,height:w*2,fill:h[C%h.length]})),y.push(u(Zt,{indexes:O,x:x-f.width-10,y:E+(p.height-f.height)/2})),C===0?y.push(u(et,{indexes:O,x:x+(p.width-f.width)/2,y:E-f.height-10})):y.push(u(et,{indexes:O,x:x+(p.width-f.width)/2,y:E-r/2-f.height/2}))}),c.length>0){const _=(c.length-1)*(p.height+r);y.push(u(et,{indexes:[c.length],x:x+(p.width-f.width)/2,y:_+p.height+10}))}return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[d,M(W,{children:[u(pe,{children:g}),u($t,{children:m}),u(Ht,{children:y})]})]})};jt("sequence-timeline",{component:B9,composites:["title","item"]});const Md=120,Rd=108,Ui=30,N9="M4.49144e-05 34.4898C4.49144e-05 37.8786 0.848973 41.152 2.43571 44.2444C4.23516 47.7642 6.98514 51.0472 10.517 54.0009C21.331 63.047 39.4615 68.9814 59.9991 68.9814C80.5385 68.9814 98.6672 63.047 109.483 54.0009C113.013 51.0472 115.765 47.7642 117.564 44.2444C119.149 41.152 120 37.8786 120 34.4898C120 15.4407 93.1364 0 59.9991 0C26.8635 0 4.49144e-05 15.4407 4.49144e-05 34.4898Z",F9="M4.49145e-05 34.4898V53.9991C4.49145e-05 57.3879 0.848973 60.6613 2.43571 63.7556C9.75425 78.0545 32.7562 88.4907 59.999 88.4907C87.2438 88.4907 110.246 78.0545 117.564 63.7556C119.149 60.6613 120 57.3879 120 53.9991V34.4898C120 37.8786 119.149 41.152 117.564 44.2444C115.765 47.7642 113.013 51.0472 109.483 54.0009C98.6672 63.047 80.5385 68.9814 59.999 68.9814C39.4615 68.9814 21.3309 63.047 10.5169 54.0009C6.98509 51.0472 4.23516 47.7642 2.43567 44.2444C0.848928 41.152 4.49145e-05 37.8786 4.49145e-05 34.4898Z",W9="M0 53.9991V73.5102C0 92.5593 26.8634 108 59.999 108C93.1363 108 120 92.5593 120 73.5102V53.9991C120 57.3879 119.149 60.6613 117.564 63.7556C110.246 78.0545 87.2438 88.4907 59.999 88.4907C32.7562 88.4907 9.75425 78.0545 2.43571 63.7556C0.848973 60.6613 0 57.3879 0 53.9991Z",u1=M("filter",{id:"sequence-zigzag-pucks-3d-shadow-filter",x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[u("feOffset",{dx:"-7",dy:"7",in:"SourceAlpha",result:"offset"}),u("feGaussianBlur",{stdDeviation:"7.5",in:"offset",result:"blurred"}),u("feColorMatrix",{in:"blurred",type:"matrix",values:`0 0 0 0 0 
              0 0 0 0 0 
              0 0 0 0 0 
              0 0 0 0.3 0`,result:"shadow"}),u("feBlend",{mode:"normal",in:"SourceGraphic",in2:"shadow"})]}),G9=t=>{const{Title:e,Item:n,data:i,options:r,gap:o=80}=t,s=Md,a=Rd,{title:c,desc:d,items:l=[]}=i,h=e?u(e,{title:c,desc:d}):null,f=fe(r);if(l.length===0){const w=u(et,{indexes:[0],x:0,y:0});return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[u(Gt,{children:u1}),h,u(W,{children:u(Ht,{children:w})})]})}const p=lt(u(n,{indexes:[0],data:i,datum:l[0],positionH:"center"})),y=lt(u(et,{indexes:[0]})),m=[],g=[],v=[];let b=-1/0;const x=p.height+Ui+a;return l.forEach((w,_)=>{const C=[_],E=Lt(r,C),S=_%2===0,O=_*(s+o),I=S?0:p.height+Ui,T=`puck-gradient-middle-${_}`,R=`puck-gradient-bottom-${_}`;v.push(M(W,{x:O,y:I,id:`puck-${_}`,width:s,height:a,filter:"url(#sequence-zigzag-pucks-3d-shadow-filter)",children:[M(Gt,{children:[M("linearGradient",{id:T,x1:"115",y1:"55.9991",x2:"15.0002",y2:"55.9991",gradientUnits:"userSpaceOnUse",children:[u("stop",{offset:"0",stopColor:E||f}),u("stop",{offset:"1",stopColor:E||f,stopOpacity:"0.6"})]}),M("linearGradient",{id:R,x1:"115",y1:"72.1803",x2:"15.0002",y2:"72.1803",gradientUnits:"userSpaceOnUse",children:[u("stop",{offset:"0",stopColor:"#F4F4FB"}),u("stop",{offset:"1",stopColor:"#8E8C90"})]})]}),M(pe,{width:Md,height:Rd,children:[u(xt,{d:N9,fill:E||f}),u(xt,{d:F9,fill:`url(#${T})`}),u(xt,{d:W9,fill:`url(#${R})`}),u("rect",{fill:"transparent",y:Rd,width:Md,height:20})]}),u("text",{x:65,y:40,width:50,height:50,fontSize:40,fontWeight:"bold",fill:"#FFFFFF",textAnchor:"middle",dominantBaseline:"middle",transform:"rotate(-15 65 40) scale(1, 0.8)",children:_+1})]}));const A=O+(s-p.width)/2,q=S?I+a+Ui:I-Ui-p.height;if(b=Math.max(b,q+p.height),g.push(u(n,{indexes:C,datum:w,data:i,x:A,y:q,positionH:"center"})),m.push(u(Zt,{indexes:C,x:A+p.width-y.width/2,y:q+p.height-y.height/2})),_===0&&m.push(u(et,{indexes:[0],x:O+s/2-y.width/2-(o+s)/2,y:I+a/2-y.height/2})),_<l.length-1){const L=(_+1)%2===0?0:x,D=O+s+o/2-y.width/2,j=(I+a/2+L+a/2)/2-y.height/2;m.push(u(et,{indexes:[_+1],x:D,y:j}))}else m.push(u(et,{indexes:[l.length],x:O+s+o/2-y.width/2,y:I+a/2-y.height/2}))}),M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:30,children:[u(Gt,{children:u1}),h,M(W,{x:0,y:0,children:[u(W,{children:v}),u($t,{children:g}),u(Ht,{children:m})]})]})};jt("sequence-zigzag-pucks-3d",{component:G9,composites:["title","item"]});const Y9=240,V9=130,X9=105,Cn=12,U9=120,f1=50,K9=.6,Z9="M132.821 50.6599L87.6795 76.8925C78.0629 82.4807 62.4238 82.4807 52.7445 76.8925L7.30824 50.6599C2.43719 47.8482 0.00459679 44.1562 0.0152907 40.472L3.17695e-05 45.6925C-0.0101404 49.378 2.42245 53.0686 7.29298 55.8803L52.7289 82.1129C62.4094 87.7011 78.0485 87.7011 87.6652 82.1129L132.806 55.8803C137.583 53.1038 139.975 49.4705 139.986 45.832L140 40.6116C139.989 44.2501 137.598 47.8834 132.821 50.6599Z",p1="M132.707 30.4224C142.386 36.0119 142.437 45.0704 132.821 50.6599L87.6795 76.8925C78.0629 82.4807 62.4238 82.4807 52.7445 76.8925L7.30825 50.6599C-2.37126 45.0717 -2.42225 36.0132 7.19414 30.4237L52.335 4.19115C61.9517 -1.39705 77.5908 -1.39705 87.2713 4.19115L132.707 30.4224Z",g1=70+Cn/2,m1=40+Cn/2,y1=u("filter",{id:"sequence-zigzag-glow-filter",x:"-50%",y:"-50%",width:"200%",height:"200%",children:u("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"15",result:"blur"})}),Q9=t=>{var e;const{Title:n,Item:i,data:r,options:o,dx:s=Y9,dy:a=V9,iconSize:c=30}=t,{title:d,desc:l,items:h=[]}=r,f=n?u(n,{title:d,desc:l}):null,p=fe(o);if(h.length===0){const B=u(et,{indexes:[0],x:0,y:0});return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[u(Gt,{children:y1}),f,u(W,{children:u(Ht,{children:B})})]})}const y=lt(u(i,{indexes:[0],data:r,datum:h[0]})),m=lt(u(et,{indexes:[0]})),g=[],v=[],b=[],x=[],w=[];let _=0,C=0,E="",S=1/0,O=-1/0,I=1/0,T=1/0;const R=[];h.forEach((B,L)=>{const D=_,j=C;R.push({x:D,y:j}),S=Math.min(S,j);const G=D-g1,N=j-m1;I=Math.min(I,G),T=Math.min(T,N);const Y=L%2===0;L<h.length-1&&(_+=s,C=Y?C+a:C-a)});const A=Math.max(0,-I),q=Math.max(0,-T);if(_=0,C=0,h.forEach((B,L)=>{const D=[L],j=R[L],G=j.x+A,N=j.y+q,Y=Lt(o,D),V=Math.max(0,G-g1),z=Math.max(0,N-m1),k=10,$=f1+10,{colorPrimaryBg:P}=ye({colorPrimary:Y});if(x.push(M(pe,{x:V,y:z,width:140,height:110,children:[u(Ut,{x:k,y:$,width:U9,height:f1,fill:Y||p,filter:"url(#sequence-zigzag-glow-filter)",opacity:K9}),u(xt,{d:Z9,fill:Y||p}),u(xt,{d:p1,fill:"#fff"}),u(xt,{d:p1,fill:P||P})]})),B.icon){const X=Math.max(0,G-c/2-Cn/2),K=Math.max(0,N-c/2-Cn/2);w.push(u(Oe,{x:X,y:K,size:c,indexes:D,fill:Y}))}const H=G-y.width/2-Cn/2,F=Math.max(0,N+X9-Cn/2);if(O=Math.max(O,F+y.height),L===0?E=`M ${G} ${N}`:E+=` L ${G} ${N}`,v.push(u(i,{indexes:D,datum:B,data:r,x:H,y:F})),g.push(u(Zt,{indexes:D,x:Math.max(0,H+y.width-m.width/2),y:Math.max(0,F+y.height-m.height/2)})),L<h.length-1){const X=R[L+1],K=X.x+A,it=X.y+q,Z=Math.max(0,G+(K-G)/2-m.width/2),rt=Math.max(0,N+(it-N)/2-m.height/2);g.push(u(et,{indexes:[L+1],x:Z,y:rt}))}else g.push(u(et,{indexes:[h.length],x:Math.max(0,H+y.width+s/4),y:Math.max(0,F+y.height/2-m.height/2)}))}),E){const B=(((e=R[R.length-1])===null||e===void 0?void 0:e.x)||0)+A;b.push(u(xt,{d:E,stroke:"#f3f2f1",strokeWidth:Cn,fill:"none",width:B,height:O-Math.min(S+q,0)}))}return M(yt,{id:"infographic-container",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:30,children:[u(Gt,{children:y1}),f,M(W,{x:0,y:0,children:[u(W,{children:[...b,...x,...w]}),u($t,{children:v}),u(Ht,{children:g})]})]})};jt("sequence-zigzag-steps",{component:Q9,composites:["title","item"]});var v1=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{d(i.next(l))}catch(h){s(h)}}function c(l){try{d(i.throw(l))}catch(h){s(h)}}function d(l){l.done?o(l.value):r(l.value).then(a,c)}d((i=i.apply(t,e||[])).next())})};class J9{constructor(e){this.commands=e}apply(e){return v1(this,void 0,void 0,function*(){for(const n of this.commands)yield n.apply(e)})}undo(e){return v1(this,void 0,void 0,function*(){for(let n=this.commands.length-1;n>=0;n--)yield this.commands[n].undo(e)})}serialize(){return{type:"batch",commands:this.commands.map(e=>e.serialize())}}}var b1=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{d(i.next(l))}catch(h){s(h)}}function c(l){try{d(i.throw(l))}catch(h){s(h)}}function d(l){l.done?o(l.value):r(l.value).then(a,c)}d((i=i.apply(t,e||[])).next())})};class Ye{constructor(e,n,i){this.element=e,this.modified=n;const r=tE(e,n);this.original=eE(r,i)}apply(e){return b1(this,void 0,void 0,function*(){x1(this.element,this.modified),e.updateElement(this.element,this.modified)})}undo(e){return b1(this,void 0,void 0,function*(){this.original&&(x1(this.element,this.original),e.updateElement(this.element,this.original))})}serialize(){return{type:"update-element",elementId:this.element.id,modified:this.modified,original:this.original}}}function x1(t,e){nn(t)?Ay(t,e):dn(t)?U3(t,void 0,e.attributes):e.attributes&&Jt(t,e.attributes)}function tE(t,e){const n=Object.keys(e.attributes||{}),i=Le(t,n,!1),r=s=>{s&&n.forEach(a=>{a in s&&(i[a]=s[a])})},o=Object.assign(Object.assign({},e),{attributes:i});if(nn(t)){const{attributes:s}=Wd(t);r(s)}else if(dn(t)){if(!Mr(t))return;r(Vd(t))}return o}function eE(t,e){if(!t)return e;if(!e)return t;const n=Object.assign(Object.assign({},t.attributes||{}),e.attributes||{});return Object.assign(Object.assign(Object.assign({},t),e),{attributes:Object.keys(n).length?n:void 0})}var w1=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{d(i.next(l))}catch(h){s(h)}}function c(l){try{d(i.throw(l))}catch(h){s(h)}}function d(l){l.done?o(l.value):r(l.value).then(a,c)}d((i=i.apply(t,e||[])).next())})};class Vh{constructor(e,n){this.options=e,this.original=n}apply(e){return w1(this,void 0,void 0,function*(){if(!this.original){const n=e.getOptions();this.original={},Object.keys(this.options).forEach(i=>{this.original[i]=n[i]})}e.updateOptions(this.options)})}undo(e){return w1(this,void 0,void 0,function*(){this.original&&e.updateOptions(this.original)})}serialize(){return{type:"update-options",options:this.options,original:this.original}}}class Cv{constructor(e,n={}){var i;this.clickTimer=null,this.singleClickCallback=null,this.doubleClickCallback=null,this.pointerId=null,this.startX=0,this.startY=0,this.skipClick=!1,this.dragged=!1,this.handlePointerDown=r=>{this.pointerId=r.pointerId,this.startX=r.clientX,this.startY=r.clientY,this.dragged=!1,this.skipClick=!1,window.addEventListener("pointermove",this.handlePointerMove,{passive:!0}),window.addEventListener("pointerup",this.handlePointerUp,{passive:!0}),window.addEventListener("pointercancel",this.handlePointerUp,{passive:!0})},this.handlePointerMove=r=>{if(this.pointerId===null||r.pointerId!==this.pointerId)return;const o=r.clientX-this.startX,s=r.clientY-this.startY;Math.hypot(o,s)>this.dragThreshold&&(this.skipClick=!0,this.dragged=!0)},this.handlePointerUp=r=>{this.pointerId!==null&&r.pointerId===this.pointerId&&(this.pointerId=null,window.removeEventListener("pointermove",this.handlePointerMove),window.removeEventListener("pointerup",this.handlePointerUp),window.removeEventListener("pointercancel",this.handlePointerUp),this.dragged||(this.skipClick=!1),this.dragged=!1)},this.element=e,this.delay=n.delay||300,this.dragThreshold=(i=n.dragThreshold)!==null&&i!==void 0?i:4,this.init()}init(){this.element.addEventListener("click",this.handleClick.bind(this)),this.element.addEventListener("dblclick",this.handleDoubleClick.bind(this)),this.element.addEventListener("pointerdown",this.handlePointerDown)}handleClick(e){if(this.skipClick){this.skipClick=!1;return}this.clickTimer&&clearTimeout(this.clickTimer),this.clickTimer=window.setTimeout(()=>{var n;(n=this.singleClickCallback)===null||n===void 0||n.call(this,e)},this.delay)}handleDoubleClick(e){var n;if(this.skipClick){this.skipClick=!1;return}this.clickTimer&&clearTimeout(this.clickTimer),(n=this.doubleClickCallback)===null||n===void 0||n.call(this,e)}onClick(e){return this.singleClickCallback=e,this}onDoubleClick(e){return this.doubleClickCallback=e,this}destroy(){this.clickTimer&&clearTimeout(this.clickTimer),this.element.removeEventListener("click",this.handleClick),this.element.removeEventListener("dblclick",this.handleDoubleClick),this.element.removeEventListener("pointerdown",this.handlePointerDown),window.removeEventListener("pointermove",this.handlePointerMove),window.removeEventListener("pointerup",this.handlePointerUp),window.removeEventListener("pointercancel",this.handlePointerUp)}}function nE(t){var e;return((e=t.getScreenCTM())===null||e===void 0?void 0:e.inverse())||new DOMMatrix}function Ge(t,e,n){return new DOMPoint(e,n).matrixTransform(nE(t))}function Qe(t,e){const n=e.getBoundingClientRect(),r=[{x:n.x,y:n.y},{x:n.x+n.width,y:n.y},{x:n.x,y:n.y+n.height},{x:n.x+n.width,y:n.y+n.height}].map(d=>Ge(t,d.x,d.y)),o=Math.min(...r.map(d=>d.x)),s=Math.max(...r.map(d=>d.x)),a=Math.min(...r.map(d=>d.y)),c=Math.max(...r.map(d=>d.y));return new DOMRect(o,a,s-o,c-a)}function C1(t,e){if(e.length===0)return t.items;const n=Si(t,e);return n==null?[]:(n.children||(n.children=[]),n.children)}function iE(t,e="data.items"){return t.reduce((n,i,r)=>r===0?`${n}[${i}]`:`${n}.children[${i}]`,e)}function _v(t){var e,n;return((n=(e=rE(t))===null||e===void 0?void 0:e.dataset.indexes)===null||n===void 0?void 0:n.split(",").map(Number))||[]}function rE(t){return dn(t)?Mr(t):t}function Zr(t){if(!t)return null;const e=[oE];let n=t;for(const i of e){const r=i(n);if(r){n=r;break}}return Ev(n)}function Ev(t){if(!t)return null;const e=[sE,aE];for(const n of e){const i=n(t);if(i)return i}return $3(t)||nn(t)||dn(t)?t:null}const oE=t=>{var e;const n=i=>i?H3(i)||z3(i):!1;return n(t)?t.parentElement:n(t.parentElement)?(e=t.parentElement)===null||e===void 0?void 0:e.parentElement:null},sE=t=>j3(t)&&My(t.parentElement)?t.parentElement:null,aE=t=>{const e=t.parentElement;return Ty(e)?e:uh(t)?t:null};function Sv(t){if(!(t instanceof HTMLElement))return!1;if(t.isContentEditable)return!0;const e=t.tagName.toLowerCase();return e==="input"||e==="textarea"}class Ov{constructor(){this.extensions=new Map}register(e,n,i){if(!i?.override&&this.extensions.has(e))throw new Error(`Extension "${e}" already registered`);this.extensions.set(e,n)}get(e){return this.extensions.get(e)}has(e){return this.extensions.has(e)}getAll(){return this.extensions}forEach(e){this.extensions.forEach((n,i)=>{e(n,i)})}[Symbol.iterator](){return this.extensions.entries()}unregister(e){return this.extensions.delete(e)}destroy(){this.extensions.forEach(e=>{e&&typeof e.dispose=="function"&&e.dispose()}),this.extensions.clear()}}const cE=t=>{if(!t||!(t instanceof HTMLElement))return!1;if(t.isContentEditable)return!0;const e=t.tagName.toLowerCase();return e==="input"||e==="textarea"||e==="select"},lE=t=>{const e=t.toLowerCase().split("+").map(i=>i.trim()).filter(Boolean),n={key:""};if(e.forEach(i=>{i==="shift"?n.shift=!0:i==="alt"||i==="option"?n.alt=!0:i==="ctrl"||i==="control"?n.ctrl=!0:i==="meta"||i==="cmd"||i==="command"?n.meta=!0:i==="mod"?n.mod=!0:n.key=i}),!n.key)throw new Error(`Invalid hotkey combo: "${t}"`);return n},dE=(t,e)=>{var n;if(t.key.toLowerCase()!==e.key)return!1;const r=(n=e.mod)!==null&&n!==void 0?n:!1,o=t.metaKey,s=t.ctrlKey,a=o||s,c=(d,l)=>d===void 0?!l:d===l;return r&&!a?!1:r?!(!c(e.shift,t.shiftKey)||!c(e.alt,t.altKey)||e.meta!==void 0&&!c(e.meta,o)||e.ctrl!==void 0&&!c(e.ctrl,s)):!(!c(e.meta,o)||!c(e.ctrl,s)||!c(e.shift,t.shiftKey)||!c(e.alt,t.altKey))};class hE{constructor(e={}){this.bindings=[],this.handleKeydown=r=>{if(r instanceof KeyboardEvent&&!r.defaultPrevented&&!cE(r.target)&&!(this.filter&&!this.filter(r))){for(const o of this.bindings)if(o.combos.some(s=>dE(r,s))){o.handler(r);break}}};const{target:n=document,filter:i}=e;this.target=n,this.filter=i,this.target.addEventListener("keydown",this.handleKeydown)}bind(e,n){const r={combos:(Array.isArray(e)?e:[e]).map(o=>lE(o)),handler:n};return this.bindings.push(r),()=>this.unbind(r)}destroy(){this.target.removeEventListener("keydown",this.handleKeydown),this.bindings=[]}unbind(e){this.bindings=this.bindings.filter(n=>n!==e)}}function uE(t,e,n="",i){const{bubbleUp:r=!1,collector:o}=i??{},s=new Set;if(Iv(t,e,n,o,r,s),r&&o&&s.size>0){const a=Array.from(s).sort((c,d)=>{const l=c===""?0:c.split(".").length;return(d===""?0:d.split(".").length)-l});for(const c of a){const d=c?Cr(t,c):t;o(c,Hd(d),void 0)}}}function Iv(t,e,n,i,r,o){Object.keys(e).forEach(s=>{const a=n?`${n}.${s}`:s,c=e[s],d=t[s];c===void 0?(delete t[s],i?.(a,void 0,d),r&&_1(n,o)):eu(c)?(eu(t[s])||(t[s]={}),Iv(t[s],c,a,i,r,o)):(t[s]=c,sb(c,d)||(i?.(a,c,d),r&&_1(n,o)))})}function _1(t,e){if(!t){e.add("");return}const n=t.split(".");for(let i=n.length;i>=0;i--)e.add(n.slice(0,i).join("."))}var E1=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{d(i.next(l))}catch(h){s(h)}}function c(l){try{d(i.throw(l))}catch(h){s(h)}}function d(l){l.done?o(l.value):r(l.value).then(a,c)}d((i=i.apply(t,e||[])).next())})};class fE{constructor(e,n,i){this.element=e,this.originalText=i??Ir(e),this.modifiedText=n}apply(e){return E1(this,void 0,void 0,function*(){this.originalText!==this.modifiedText&&(Fd(this.element,this.modifiedText),S1(e,this.element,this.modifiedText))})}undo(e){return E1(this,void 0,void 0,function*(){this.originalText!==this.modifiedText&&(Fd(this.element,this.originalText),S1(e,this.element,this.originalText))})}serialize(){return{type:"update-text",elementId:this.element.id,original:this.originalText,modified:this.modifiedText}}}function S1(t,e,n){const i=fh(e);if(i.startsWith("item-")){const r=i.replace("item-",""),o=_v(e);t.updateItemDatum(o,{[r]:n})}else t.updateData(i,n)}class un{init(e){Object.assign(this,e)}}var pE=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{d(i.next(l))}catch(h){s(h)}}function c(l){try{d(i.throw(l))}catch(h){s(h)}}function d(l){l.done?o(l.value):r(l.value).then(a,c)}d((i=i.apply(t,e||[])).next())})};class gE extends un{constructor(){super(...arguments),this.name="brush-select",this.shiftKey=!1,this.dragging=!1,this.dragThreshold=4,this.handleStart=e=>{this.interaction.isActive()&&e.button===0&&(Sv(e.target)||this.hasElementAtStart(e.target)||this.interaction.executeExclusiveInteraction(this,()=>pE(this,void 0,void 0,function*(){return new Promise(n=>{this.completeInteraction=n;const i=this.editor.getDocument();this.startPoint=Ge(i,e.clientX,e.clientY),this.pointerId=e.pointerId,this.shiftKey=e.shiftKey,this.dragging=!1,window.addEventListener("pointermove",this.handleMove),window.addEventListener("pointerup",this.handleEnd)})})))},this.handleMove=e=>{if(e.pointerId!==this.pointerId||!this.startPoint)return;const n=this.editor.getDocument(),i=Ge(n,e.clientX,e.clientY),r=i.x-this.startPoint.x,o=i.y-this.startPoint.y;if(!this.dragging){if(Math.hypot(r,o)<this.dragThreshold)return;this.dragging=!0,this.ensureBrush(),this.updateBrush(this.startPoint,i)}e.preventDefault(),e.stopPropagation(),this.updateBrush(this.startPoint,i)},this.handleEnd=e=>{var n,i;if(e.pointerId!==this.pointerId||!this.startPoint)return;window.removeEventListener("pointermove",this.handleMove),window.removeEventListener("pointerup",this.handleEnd);let r=null;if(this.dragging){e.preventDefault(),e.stopPropagation();const c=this.editor.getDocument(),d=Ge(c,e.clientX,e.clientY);r=this.updateBrush(this.startPoint,d),this.clearBrush()}this.pointerId=void 0,this.startPoint=void 0,this.dragging=!1;const o=this.shiftKey;if(this.shiftKey=!1,!r){(n=this.completeInteraction)===null||n===void 0||n.call(this),this.completeInteraction=void 0;return}const s=this.collectSelection(r);if((i=this.completeInteraction)===null||i===void 0||i.call(this),this.completeInteraction=void 0,s.length===0){o||this.interaction.clearSelection();return}const a=o?"add":"replace";this.interaction.select(s,a)}}init(e){super.init(e),this.editor.getDocument().addEventListener("pointerdown",this.handleStart)}destroy(){this.clearBrush(),this.editor.getDocument().removeEventListener("pointerdown",this.handleStart),window.removeEventListener("pointermove",this.handleMove),window.removeEventListener("pointerup",this.handleEnd)}ensureBrush(){return this.brush?this.brush:(this.brush=this.interaction.appendTransientElement(It("rect",{fill:"rgba(51, 132, 245, 0.08)",stroke:"#3384F5","stroke-dasharray":"4 2","stroke-width":1,"pointer-events":"none"})),this.brush)}updateBrush(e,n){if(!this.brush)return null;const i=Math.min(e.x,n.x),r=Math.min(e.y,n.y),o=Math.abs(e.x-n.x),s=Math.abs(e.y-n.y);return Jt(this.brush,{x:i,y:r,width:o,height:s}),{x:i,y:r,width:o,height:s}}clearBrush(){var e;(e=this.brush)===null||e===void 0||e.remove(),this.brush=void 0}collectSelection(e){const n=this.editor.getDocument(),i=Array.from(n.querySelectorAll("[data-element-type]")),r=(s,a)=>{const c=s.x+s.width,d=s.y+s.height,l=a.x+a.width,h=a.y+a.height;return!(c<a.x||l<s.x||d<a.y||h<s.y)},o=new Set;return i.reduce((s,a)=>{const c=Ev(a);if(!c||o.has(c))return s;const d=Qe(n,c),l={x:d.x,y:d.y,width:d.width,height:d.height};return r(e,l)&&(s.push(c),o.add(c)),s},[])}hasElementAtStart(e){var n;return e instanceof Element?Zr(e)?!0:!!(!((n=e.closest)===null||n===void 0)&&n.call(e,"[data-element-type]")):!1}}var mE=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{d(i.next(l))}catch(h){s(h)}}function c(l){try{d(i.throw(l))}catch(h){s(h)}}function d(l){l.done?o(l.value):r(l.value).then(a,c)}d((i=i.apply(t,e||[])).next())})};class yE extends un{constructor(){super(...arguments),this.name="click-select",this.shiftKey=!1,this.onShiftKeyDown=e=>{e.key==="Shift"&&(this.shiftKey=!0)},this.onShiftKeyUp=e=>{e.key==="Shift"&&(this.shiftKey=!1)},this.onEscKeyDown=e=>{e.key==="Escape"&&this.interaction.clearSelection()}}init(e){super.init(e);const{editor:n,interaction:i}=this;this.clickHandler=new Cv(n.getDocument(),{delay:0});const r=o=>{i.isActive()&&i.executeExclusiveInteraction(this,()=>mE(this,void 0,void 0,function*(){const s=Zr(o.target);Ry(s)||(this.shiftKey?s&&(i.isSelected(s)?i.select([s],"remove"):i.select([s],"add")):s?i.select([s],"replace"):i.clearSelection())}))};this.clickHandler.onClick(r),document.addEventListener("keydown",this.onShiftKeyDown),document.addEventListener("keyup",this.onShiftKeyUp),document.addEventListener("keydown",this.onEscKeyDown)}destroy(){var e;(e=this.clickHandler)===null||e===void 0||e.destroy(),document.removeEventListener("keydown",this.onShiftKeyDown),document.removeEventListener("keyup",this.onShiftKeyUp),document.removeEventListener("keydown",this.onEscKeyDown)}}var vE=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{d(i.next(l))}catch(h){s(h)}}function c(l){try{d(i.throw(l))}catch(h){s(h)}}function d(l){l.done?o(l.value):r(l.value).then(a,c)}d((i=i.apply(t,e||[])).next())})};class bE extends un{constructor(){super(...arguments),this.name="dblclick-edit-text"}init(e){super.init(e);const{editor:n,commander:i,interaction:r}=e;this.clickHandler=new Cv(n.getDocument()).onDoubleClick(o=>{r.isActive()&&r.executeExclusiveInteraction(this,()=>vE(this,void 0,void 0,function*(){const s=Zr(o.target);if(s&&nn(s)){r.select([s],"replace");const a=Ir(s),c=yield new Promise(d=>{const l=this.listenSelectionChange(s);wE(s,{cursorPosition:{clientX:o.clientX,clientY:o.clientY},onBlur:d,onCancel:d}),this.detachSelectionListener=l});i.execute(new fE(s,c,a))}}))})}destroy(){var e,n;(e=this.clickHandler)===null||e===void 0||e.destroy(),(n=this.detachSelectionListener)===null||n===void 0||n.call(this)}listenSelectionChange(e){const n=({next:i})=>{var r;if(!i.includes(e)){(r=this.detachSelectionListener)===null||r===void 0||r.call(this),this.detachSelectionListener=void 0;const o=An(e);o&&o.blur()}};return this.emitter.on("selection:change",n),()=>this.emitter.off("selection:change",n)}}const xE="infographic-inline-text-editor-style",vr="infographic-inline-text-editor";function wE(t,e){const n=An(t);n&&(_E(),new CE(n,e).start())}class CE{constructor(e,n){this.entity=e,this.options=n,this.handlePaste=i=>{i.clipboardData&&(i.preventDefault(),this.insertPlainText(i.clipboardData.getData("text/plain")))},this.handleKeydown=i=>{i.key==="Enter"&&!i.shiftKey&&(i.preventDefault(),this.insertPlainText(`
`))},this.handleInput=()=>{var i,r;this.normalizeSpanContent(),(r=(i=this.options)===null||i===void 0?void 0:i.onInput)===null||r===void 0||r.call(i,this.getText())},this.handleBlur=()=>{var i,r;this.entity.removeAttribute("contenteditable"),this.entity.classList.remove(vr),this.normalizeSpanContent(),(r=(i=this.options)===null||i===void 0?void 0:i.onBlur)===null||r===void 0||r.call(i,this.getText()),this.detachListeners()}}start(){this.entity.setAttribute("contenteditable","true"),this.entity.classList.add(vr),this.entity.focus(),this.placeCaretAtClickPosition(),this.attachListeners()}attachListeners(){this.entity.addEventListener("paste",this.handlePaste),this.entity.addEventListener("keydown",this.handleKeydown),this.entity.addEventListener("input",this.handleInput),this.entity.addEventListener("blur",this.handleBlur,{once:!0})}detachListeners(){this.entity.removeEventListener("paste",this.handlePaste),this.entity.removeEventListener("keydown",this.handleKeydown),this.entity.removeEventListener("input",this.handleInput)}insertPlainText(e){var n,i;const r=window.getSelection();if(!r)return;r.rangeCount||this.placeCaretAtEnd();const o=r.rangeCount?r.getRangeAt(0):document.createRange();o.deleteContents();const s=document.createTextNode(e);o.insertNode(s),o.setStartAfter(s),o.setEndAfter(s),r.removeAllRanges(),r.addRange(o),this.normalizeSpanContent(),(i=(n=this.options)===null||n===void 0?void 0:n.onInput)===null||i===void 0||i.call(n,this.getText())}normalizeSpanContent(){var e;if(this.entity.childNodes.length===1&&((e=this.entity.firstChild)===null||e===void 0?void 0:e.nodeType)===Node.TEXT_NODE)return;const n=this.getText();this.entity.textContent=n}placeCaretAtClickPosition(){const e=window.getSelection();if(!e)return;const n=this.getRangeFromPoint();if(n){e.removeAllRanges(),e.addRange(n);return}this.placeCaretAtEnd()}getRangeFromPoint(){var e,n;const{cursorPosition:i}=this.options||{};if(!i)return null;const{clientX:r,clientY:o}=i,s=document,a=(n=(e=s.caretRangeFromPoint)===null||e===void 0?void 0:e.call(s,r,o))!==null&&n!==void 0?n:(()=>{var c;const d=(c=s.caretPositionFromPoint)===null||c===void 0?void 0:c.call(s,r,o);if(!d)return null;const l=document.createRange();return l.setStart(d.offsetNode,d.offset),l.collapse(!0),l})();return!a||!this.entity.contains(a.startContainer)?null:a}placeCaretAtEnd(){const e=window.getSelection();if(!e)return;const n=document.createRange();n.selectNodeContents(this.entity),n.collapse(!1),e.removeAllRanges(),e.addRange(n)}getText(){return this.entity.textContent||""}}function _E(){je(xE,`
.${vr} {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  background-color: transparent;
  outline: none;
  cursor: text;
}
.${vr}::selection {
  background-color: #b3d4fc;
}
`)}var EE=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{d(i.next(l))}catch(h){s(h)}}function c(l){try{d(i.throw(l))}catch(h){s(h)}}function d(l){l.done?o(l.value):r(l.value).then(a,c)}d((i=i.apply(t,e||[])).next())})};class SE extends un{constructor(e){super(),this.name="drag-canvas",this.trigger=["Space"],this.isTriggerPressed=!1,this.isHovering=!1,this.handleKeyDown=n=>{if(!this.interaction.isActive()||Sv(n.target))return;const i=n.target,r=i===document.body||i===document.documentElement,o=i===this.document||this.document.contains(i);!r&&!o||this.trigger.includes(n.code)&&(!this.isHovering&&!this.isTriggerPressed||(n.preventDefault(),n.stopPropagation(),this.interaction.executeExclusiveInteraction(this,()=>EE(this,void 0,void 0,function*(){return new Promise(s=>{this.completeInteraction=s,this.isTriggerPressed=!0;const a=tn(this.document);this.startViewBoxString=En(a),this.setCursor("grab"),this.document.addEventListener("pointerdown",this.handlePointerDown),window.addEventListener("keyup",this.handleKeyUp)})}))))},this.handlePointerDown=n=>{if(n.button!==0)return;n.preventDefault(),n.stopPropagation();const i=this.document;this.startPoint=Ge(i,n.clientX,n.clientY),this.pointerId=n.pointerId,this.setCursor("grabbing"),window.addEventListener("pointermove",this.handlePointerMove),window.addEventListener("pointerup",this.handlePointerUp),window.addEventListener("pointercancel",this.handlePointerUp)},this.handlePointerMove=n=>{if(n.pointerId!==this.pointerId||!this.startPoint)return;n.preventDefault(),n.stopPropagation();const i=this.document,r=Ge(i,n.clientX,n.clientY),o=r.x-this.startPoint.x,s=r.y-this.startPoint.y,a=tn(i),{x:c,y:d,width:l,height:h}=a,f=c-o,p=d-s;this.state.updateOptions({viewBox:En({x:f,y:p,width:l,height:h})})},this.handlePointerUp=n=>{n.pointerId===this.pointerId&&(this.startPoint=void 0,this.pointerId=void 0,this.setCursor("grab"),window.removeEventListener("pointermove",this.handlePointerMove),window.removeEventListener("pointerup",this.handlePointerUp),window.removeEventListener("pointercancel",this.handlePointerUp))},this.handleKeyUp=n=>{this.trigger.includes(n.code)&&this.stopDrag()},this.stopDrag=()=>{var n;if(this.startViewBoxString){const i=this.document,r=tn(i),o=En(r);if(this.startViewBoxString!==o){const s=new Vh({viewBox:o},{viewBox:this.startViewBoxString});this.commander.execute(s)}}this.startViewBoxString=void 0,this.isTriggerPressed=!1,this.setCursor("default"),this.startPoint=void 0,this.pointerId=void 0,window.removeEventListener("keyup",this.handleKeyUp),this.document.removeEventListener("pointerdown",this.handlePointerDown),window.removeEventListener("pointermove",this.handlePointerMove),window.removeEventListener("pointerup",this.handlePointerUp),window.removeEventListener("pointercancel",this.handlePointerUp),(n=this.completeInteraction)===null||n===void 0||n.call(this),this.completeInteraction=void 0},this.setCursor=n=>{document.body.style.cursor=n},this.handleBlur=()=>{this.stopDrag()},this.onMouseEnter=()=>{this.isHovering=!0},this.onMouseLeave=()=>{this.isHovering=!1},e?.trigger&&(this.trigger=e.trigger)}init(e){super.init(e),this.document=this.editor.getDocument(),this.document.addEventListener("mouseenter",this.onMouseEnter),this.document.addEventListener("mouseleave",this.onMouseLeave),window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("blur",this.handleBlur)}destroy(){window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("keyup",this.handleKeyUp),this.document.removeEventListener("pointerdown",this.handlePointerDown),window.removeEventListener("pointermove",this.handlePointerMove),window.removeEventListener("pointerup",this.handlePointerUp),window.removeEventListener("pointercancel",this.handlePointerUp),window.removeEventListener("blur",this.handleBlur),this.document.removeEventListener("mouseenter",this.onMouseEnter),this.document.removeEventListener("mouseleave",this.onMouseLeave)}}var OE=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{d(i.next(l))}catch(h){s(h)}}function c(l){try{d(i.throw(l))}catch(h){s(h)}}function d(l){l.done?o(l.value):r(l.value).then(a,c)}d((i=i.apply(t,e||[])).next())})};class IE extends un{constructor(){super(...arguments),this.name="drag-element",this.selectionForDrag=[],this.willReplaceSelection=!1,this.exclusiveStarted=!1,this.dragItems=[],this.dragging=!1,this.dragThreshold=4,this.handleStart=e=>{if(!this.interaction.isActive()||e.pointerType==="mouse"&&e.button!==0)return;const n=Zr(e.target);if(!n||Ry(n))return;const i=this.editor.getDocument();this.pointerId=e.pointerId,this.startPoint=Ge(i,e.clientX,e.clientY),this.dragging=!1,this.startTarget=n;const r=this.interaction.isSelected(n);this.selectionForDrag=r?this.interaction.getSelection():[n],this.willReplaceSelection=!r,this.exclusiveStarted=!1,this.startBounds=this.getSelectionBounds(this.selectionForDrag),this.guideCandidates=this.collectGuideCandidates(this.selectionForDrag),window.addEventListener("pointermove",this.handleMove),window.addEventListener("pointerup",this.handleEnd),window.addEventListener("pointercancel",this.handleEnd)},this.handleMove=e=>{if(e.pointerId!==this.pointerId||!this.startPoint)return;const n=this.editor.getDocument(),i=Ge(n,e.clientX,e.clientY),r=i.x-this.startPoint.x,o=i.y-this.startPoint.y;if(!this.dragging){if(Math.hypot(r,o)<this.dragThreshold)return;if(!this.startDrag()){this.reset();return}this.dragging=!0}const a=e.altKey?{dx:r,dy:o}:this.getSnappedDelta(r,o);e.preventDefault(),e.stopPropagation(),this.updateGuides(a),this.applyTranslation(a.dx,a.dy),this.emitGeometryChange()},this.handleEnd=e=>{if(e.pointerId!==this.pointerId||!this.startPoint)return;this.detachPointerListeners();const n=this.editor.getDocument(),i=Ge(n,e.clientX,e.clientY),r=i.x-this.startPoint.x,o=i.y-this.startPoint.y;if((this.dragging||Math.hypot(r,o)>=this.dragThreshold)&&this.dragItems.length&&this.exclusiveStarted){e.preventDefault(),e.stopPropagation();const a=e.altKey?{dx:r,dy:o}:this.getSnappedDelta(r,o);this.updateGuides(a),this.applyTranslation(a.dx,a.dy),this.commitTranslation(a.dx,a.dy),this.emitGeometryChange()}this.reset()}}init(e){super.init(e),this.editor.getDocument().addEventListener("pointerdown",this.handleStart)}destroy(){this.detachPointerListeners(),this.editor.getDocument().removeEventListener("pointerdown",this.handleStart)}startDrag(){if(this.exclusiveStarted)return!0;if(!this.startTarget||(this.dragItems=this.selectionForDrag.filter(n=>nn(n)).map(n=>this.createDragItem(n)).filter(Boolean),this.dragItems.length===0))return!1;let e=!1;return this.interaction.executeExclusiveInteraction(this,()=>OE(this,void 0,void 0,function*(){return new Promise(n=>{this.willReplaceSelection&&this.startTarget&&this.interaction.select([this.startTarget],"replace"),this.completeInteraction=n,e=!0})})),this.exclusiveStarted=e,e}applyTranslation(e,n){this.dragItems.forEach(i=>{if(i.mode==="attr"){const r=i.startX+e,o=i.startY+n,s={x:r,y:o};i.hasDataX&&(s["data-x"]=r),i.hasDataY&&(s["data-y"]=o),Jt(i.element,s)}else{const r=this.composeTransform(i.startX+e,i.startY+n,i.restTransform);Jt(i.element,{transform:r})}})}commitTranslation(e,n){if(Math.abs(e)<1e-6&&Math.abs(n)<1e-6)return;const i=this.dragItems.map(r=>{if(r.mode==="attr"){const a=r.startX+e,c=r.startY+n,d={x:a,y:c},l={};return r.hasX?l.x=r.startX:l.x=null,r.hasY?l.y=r.startY:l.y=null,r.hasDataX&&(d["data-x"]=a,l["data-x"]=r.startX),r.hasDataY&&(d["data-y"]=c,l["data-y"]=r.startY),new Ye(r.element,{attributes:d},{attributes:l})}const o=this.composeTransform(r.startX+e,r.startY+n,r.restTransform),s=r.originalTransform!==void 0?r.originalTransform:null;return new Ye(r.element,{attributes:{transform:o}},{attributes:{transform:s}})});i.length&&this.commander.executeBatch(i)}createDragItem(e){const n=this.getTransformInfo(e);if(n)return{element:e,mode:"transform",startX:n.x,startY:n.y,hasX:!1,hasY:!1,hasDataX:!1,hasDataY:!1,restTransform:n.rest,originalTransform:n.original};const{x:i,y:r,hasX:o,hasY:s,hasDataX:a,hasDataY:c}=this.getAttrInfo(e);return{element:e,mode:"attr",startX:i,startY:r,hasX:o,hasY:s,hasDataX:a,hasDataY:c}}getAttrInfo(e){const n=this.editor.getDocument(),{x:i,y:r}=Qe(n,e),o=Le(e,["x","y","data-x","data-y"],!1),s=o.x!==null&&o.x!==void 0,a=o.y!==null&&o.y!==void 0,c=o["data-x"]!==null&&o["data-x"]!==void 0,d=o["data-y"]!==null&&o["data-y"]!==void 0,l=(v,b)=>{const x=v!=null?Number(v):NaN;return Number.isFinite(x)?x:b},h=l(o.x,NaN),f=l(o.y,NaN),p=l(o["data-x"],NaN),y=l(o["data-y"],NaN),m=Number.isFinite(h)?h:Number.isFinite(p)?p:i,g=Number.isFinite(f)?f:Number.isFinite(y)?y:r;return{x:m,y:g,hasX:s,hasY:a,hasDataX:c,hasDataY:d}}getTransformInfo(e){const n=e.getAttribute("transform");if(n===null)return null;const i=n.match(/translate\(\s*([-\d.]+)(?:[ ,]\s*([-\d.]+))?\s*\)/i);if(!i)return{x:0,y:0,rest:n,original:n};const r=Number(i[1])||0,o=i[2]!==void 0&&Number(i[2])||0,s=n.replace(i[0],"").trim();return{x:r,y:o,rest:s,original:n}}composeTransform(e,n,i){const r=`translate(${e}, ${n})`;return i&&i.length?`${r} ${i}`:r}emitGeometryChange(){var e;const n=(e=this.dragItems[0])===null||e===void 0?void 0:e.element;if(!n)return;const i=Qe(this.editor.getDocument(),n);this.emitter.emit("selection:geometrychange",{type:"selection:geometrychange",target:n,rect:i})}detachPointerListeners(){window.removeEventListener("pointermove",this.handleMove),window.removeEventListener("pointerup",this.handleEnd),window.removeEventListener("pointercancel",this.handleEnd)}reset(){var e;this.detachPointerListeners(),this.clearGuides(),this.pointerId=void 0,this.startPoint=void 0,this.dragItems=[],this.startTarget=void 0,this.selectionForDrag=[],this.willReplaceSelection=!1,this.exclusiveStarted=!1,this.dragging=!1,this.startBounds=void 0,this.guideCandidates=void 0,(e=this.completeInteraction)===null||e===void 0||e.call(this),this.completeInteraction=void 0}getSelectionBounds(e){if(!e.length)return;const n=this.editor.getDocument(),i=e.map(r=>Qe(n,r));return ki(i)}collectGuideCandidates(e){const n=this.editor.getDocument(),i=new Set(e),r=Array.from(n.querySelectorAll("[data-element-type]")).filter(a=>!i.has(a)),o=[],s=[];return r.forEach(a=>{const{x:c,y:d,width:l,height:h}=Qe(n,a);o.push(c,c+l/2,c+l),s.push(d,d+h/2,d+h)}),{vertical:o,horizontal:s}}getSnappedDelta(e,n){if(!this.startBounds||!this.guideCandidates)return{dx:e,dy:n};const i={x:this.startBounds.x+e,y:this.startBounds.y+n,width:this.startBounds.width,height:this.startBounds.height},r=this.getSnapOffset([i.x,i.x+i.width/2,i.x+i.width],this.guideCandidates.vertical),o=this.getSnapOffset([i.y,i.y+i.height/2,i.y+i.height],this.guideCandidates.horizontal);return{dx:e+(r?.offset||0),dy:n+(o?.offset||0),snapX:r,snapY:o}}getSnapOffset(e,n,i=5){let r=null;return e.forEach(o=>{n.forEach(s=>{const a=s-o;Math.abs(a)<=i&&(!r||Math.abs(a)<Math.abs(r.offset))&&(r={offset:a,at:s})})}),r||void 0}ensureGuideLine(e){const n=e==="vertical"?this.guideVertical:this.guideHorizontal;if(n)return n;const i=this.interaction.appendTransientElement(It("line",{stroke:"#FF7A45","stroke-width":1,"stroke-dasharray":"4 4","pointer-events":"none",visibility:"hidden"}));return e==="vertical"?this.guideVertical=i:this.guideHorizontal=i,i}updateGuides(e){const n=this.editor.getDocument(),{width:i,height:r}=n.viewBox.baseVal;if(e.snapX){const o=this.ensureGuideLine("vertical");Jt(o,{x1:e.snapX.at,y1:0,x2:e.snapX.at,y2:r,visibility:"visible"})}else this.guideVertical&&this.guideVertical.setAttribute("visibility","hidden");if(e.snapY){const o=this.ensureGuideLine("horizontal");Jt(o,{x1:0,y1:e.snapY.at,x2:i,y2:e.snapY.at,visibility:"visible"})}else this.guideHorizontal&&this.guideHorizontal.setAttribute("visibility","hidden")}clearGuides(){var e,n;(e=this.guideVertical)===null||e===void 0||e.remove(),(n=this.guideHorizontal)===null||n===void 0||n.remove(),this.guideVertical=void 0,this.guideHorizontal=void 0}}var O1=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{d(i.next(l))}catch(h){s(h)}}function c(l){try{d(i.throw(l))}catch(h){s(h)}}function d(l){l.done?o(l.value):r(l.value).then(a,c)}d((i=i.apply(t,e||[])).next())})};class AE extends un{constructor(){super(...arguments),this.name="hotkey-history",this.handleUndo=e=>O1(this,void 0,void 0,function*(){e.preventDefault(),yield this.commander.undo()}),this.handleRedo=e=>O1(this,void 0,void 0,function*(){e.preventDefault(),yield this.commander.redo()})}init(e){super.init(e),this.hotkey=new hE({filter:()=>this.interaction.isActive()}),this.hotkey.bind("mod+z",this.handleUndo),this.hotkey.bind(["mod+shift+z","mod+y"],this.handleRedo)}destroy(){var e;(e=this.hotkey)===null||e===void 0||e.destroy()}}class TE extends un{constructor(){super(...arguments),this.name="select-highlight",this.highlightMasks=[],this.handleSelectionChanged=({next:e})=>{this.highlightSelection(e)},this.handleGeometryChanged=({target:e})=>{this.interaction.isSelected(e)&&this.highlightSelection(this.interaction.getSelection())},this.handleHistoryChanged=()=>{this.highlightSelection(this.interaction.getSelection())}}init(e){super.init(e);const{emitter:n}=e;n.on("selection:change",this.handleSelectionChanged),n.on("selection:geometrychange",this.handleGeometryChanged),n.on("history:change",this.handleHistoryChanged),this.highlightSelection(this.interaction.getSelection())}destroy(){this.clearMasks();const{emitter:e}=this;e.off("selection:change",this.handleSelectionChanged),e.off("selection:geometrychange",this.handleGeometryChanged),e.off("history:change",this.handleHistoryChanged)}highlightSelection(e){if(e.length===1&&nn(e[0])){this.clearMasks();return}this.drawElementMasks(e),this.drawCombinedBoundsMask(e)}drawElementMasks(e){let n=0;for(;n<e.length;n++){const{x:i,y:r,width:o,height:s}=Qe(this.editor.getDocument(),e[n]),a={x:i,y:r,width:o,height:s,fill:"none",stroke:"#3384F5","stroke-width":1,"pointer-events":"none"},c=this.highlightMasks[n];c?Jt(c,a):this.highlightMasks[n]=this.interaction.appendTransientElement(It("rect",a))}for(;n<this.highlightMasks.length;n++)this.highlightMasks[n].remove();this.highlightMasks=this.highlightMasks.slice(0,e.length)}drawCombinedBoundsMask(e){var n;if(e.length<2){(n=this.combinedBoundsMask)===null||n===void 0||n.remove(),this.combinedBoundsMask=void 0;return}const i=ki(e.map(o=>Qe(this.editor.getDocument(),o))),r=Object.assign(Object.assign({},i),{fill:"none",stroke:"#3384F5","stroke-width":2,"pointer-events":"none"});this.combinedBoundsMask?Jt(this.combinedBoundsMask,r):this.combinedBoundsMask=this.interaction.appendTransientElement(It("rect",r))}clearMasks(){var e;this.highlightMasks.forEach(n=>n.remove()),this.highlightMasks=[],(e=this.combinedBoundsMask)===null||e===void 0||e.remove(),this.combinedBoundsMask=void 0}}const I1=1.1;class ME extends un{constructor(e){super(),this.name="zoom-wheel",this.minViewBoxSize=20,this.maxViewBoxSize=2e4,this.initialViewBox=null,this.handleKeyUp=n=>{if(!(n.ctrlKey||n.metaKey||n.shiftKey)&&this.initialViewBox){const r=En(tn(this.editor.getDocument()));if(r!==this.initialViewBox){const o=new Vh({viewBox:r},{viewBox:this.initialViewBox});this.commander.execute(o)}this.initialViewBox=null,document.removeEventListener("keyup",this.handleKeyUp)}},this.wheelListener=n=>{if(!this.shouldZoom(n))return;n.preventDefault();const r=n.deltaY<0?1/I1:I1,o=this.editor.getDocument(),s=tn(o),{width:a,height:c}=s,d=a*r,l=c*r;if(!nu(d,this.minViewBoxSize,this.maxViewBoxSize)||!nu(l,this.minViewBoxSize,this.maxViewBoxSize))return;this.initialViewBox===null&&(this.initialViewBox=En(s),document.addEventListener("keyup",this.handleKeyUp));const h=(n.ctrlKey||n.metaKey)&&!n.shiftKey?this.getMousePoint(o,n):this.getCenterPoint(s),f=Q3(s,r,h);this.state.updateOptions({viewBox:En(f)})},this.getMousePoint=(n,i)=>Ge(n,i.clientX,i.clientY),this.getCenterPoint=n=>{const i=n.x+n.width/2,r=n.y+n.height/2;return{x:i,y:r}},this.shouldZoom=n=>{if(!this.interaction.isActive()||n.deltaY===0)return!1;const i=n.ctrlKey||n.metaKey,r=n.shiftKey;return i&&r?!1:i||r},e?.minViewBoxSize!==void 0&&(this.minViewBoxSize=e.minViewBoxSize),e?.maxViewBoxSize!==void 0&&(this.maxViewBoxSize=e.maxViewBoxSize)}init(e){super.init(e),document.addEventListener("wheel",this.wheelListener,{passive:!1})}destroy(){document.removeEventListener("wheel",this.wheelListener),document.removeEventListener("keyup",this.handleKeyUp)}}class Qr{init(e){Object.assign(this,e)}}class RE extends Qr{constructor(){super(...arguments),this.name="core-sync",this.unregisters=[]}init(e){super.init(e);const n=this.editor.getDocument();this.unregisters.push(this.editor.registerSync("viewBox",i=>{i?n.setAttribute("viewBox",i):n.removeAttribute("viewBox")},{immediate:!0})),this.unregisters.push(this.editor.registerSync("padding",i=>{i!==void 0&&Hy(n,Tn(i))},{immediate:!0}))}destroy(){this.unregisters.forEach(e=>e())}}const fn=({icon:t,onClick:e,activate:n=!1})=>{LE();const i=document.createElement("button");i.type="button",i.classList.add(vi),n&&i.setAttribute("data-activate","true"),e&&i.addEventListener("click",e);const r=t();return i.appendChild(r),Object.assign(i,{setActivate:(s=>{s?i.setAttribute("data-activate","true"):i.removeAttribute("data-activate")}).bind(i),activate:n})},vi="infographic-edit-bar-icon-btn",kE="infographic-edit-bar-icon-btn-style";function LE(){je(kE,`
.${vi} {
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  font-size: 12px;
  color: #000000d9;
  border: none;
  border-radius: 6px;
  background-color: #fff;
  cursor: pointer;
  transition: color 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease;
}
.${vi}:hover {
  background-color: #f5f5f5;
}
.${vi}:active {
  background-color: #d9d9d9;
}
.${vi}[data-activate="true"] {
  background-color: #d9d9d9;
}
`)}const Xe="infographic-color-picker",Av=`${Xe}__swatches`,rr=`${Xe}__swatch`,Tv=`${Xe}__controls`,or=`${Xe}__input`,Mv=`${Xe}__format`,vn=`${Xe}__format-switch`,th=`${Xe}__format-switch-knob`,sr=`${Xe}__format-switch-label`,PE="infographic-color-picker-style",$E="#1f1f1f",qE=["#000000","#1f1f1f","#434343","#595959","#8c8c8c","#bfbfbf","#d9d9d9","#f0f0f0","#ffffff","#1677ff","#2f54eb","#91caff","#13c2c2","#36cfc9","#52c41a","#73d13d","#fadb14","#ffd666","#fa8c16","#fa541c","#f5222d","#ff7875","#eb2f96","#ffadd2","#722ed1","#9254de","rgba(0, 0, 0, 0.65)","rgba(255, 255, 255, 0.85)"];function Rv(t){var e,n,i;if(typeof document>"u")throw new Error("ColorPicker can only be used in the browser.");DE();const r=document.createElement("div");r.classList.add(Xe);const o=document.createElement("div");o.classList.add(Av),r.appendChild(o);const s=document.createElement("div");s.classList.add(Tv),r.appendChild(s);const a=document.createElement("input");a.type="text",a.spellcheck=!1,a.classList.add(or),s.appendChild(a);const c=document.createElement("div");c.classList.add(Mv),s.appendChild(c);const d=document.createElement("button");d.type="button",d.classList.add(vn),d.appendChild(T1("HEXA"));const l=document.createElement("span");l.classList.add(th),d.appendChild(l),d.appendChild(T1("RGBA")),c.appendChild(d);let h="hexa",f=(n=(e=di(t.value))!==null&&e!==void 0?e:di($E))!==null&&n!==void 0?n:{r:31,g:31,b:31,a:1};const p=[];return(!((i=t.swatches)===null||i===void 0)&&i.length?t.swatches:qE).forEach(C=>{const E=di(C);if(!E)return;const S=document.createElement("button");S.type="button",S.classList.add(rr),S.style.setProperty("--swatch-color",Ki(E,"rgba")),S.dataset.colorKey=A1(E),S.addEventListener("click",()=>{b(E)}),o.appendChild(S),p.push(S)}),d.addEventListener("click",()=>v(h==="hexa"?"rgba":"hexa")),a.addEventListener("change",g),a.addEventListener("keydown",C=>{C.key==="Enter"&&g()}),x(),Object.assign(r,{setValue:C=>{const E=di(C);if(!E){a.setAttribute("data-invalid","true");return}a.removeAttribute("data-invalid"),b(E,!1)},destroy:()=>{r.remove()}});function g(){const C=di(a.value);if(!C){a.setAttribute("data-invalid","true");return}a.removeAttribute("data-invalid"),b(C)}function v(C,E){var S;h!==C&&(h=C,x(),(S=t.onChange)===null||S===void 0||S.call(t,Ki(f,h)))}function b(C,E=!0){var S;if(zE(f,C)){x();return}f=C,x(),E&&((S=t.onChange)===null||S===void 0||S.call(t,Ki(f,h)))}function x(){a.value=Ki(f,h),w(),_()}function w(){const C=A1(f);p.forEach(E=>{E.dataset.colorKey===C?E.setAttribute("data-active","true"):E.removeAttribute("data-active")})}function _(){h==="rgba"?d.setAttribute("data-format","rgba"):d.setAttribute("data-format","hexa")}}function di(t){var e;if(!t)return;const n=Je(t);if(!n||typeof n.r!="number")return;const i=n;return{r:kd(i.r),g:kd(i.g),b:kd(i.b),a:Lv((e=i.alpha)!==null&&e!==void 0?e:1)}}function Ki(t,e){return e==="rgba"?HE(t):kv(t)}function kv(t){const e=Zi(t.r),n=Zi(t.g),i=Zi(t.b),r=t.a<1?Zi(Math.round(t.a*255)):"";return`#${e}${n}${i}${r}`}function HE(t){const e=jE(t.a);return`rgba(${t.r}, ${t.g}, ${t.b}, ${e})`}function A1(t){return kv(t).toLowerCase()}function zE(t,e){return t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a}function Lv(t){return Number.isNaN(t)?0:Math.min(1,Math.max(0,t))}function kd(t){if(Number.isNaN(t))return 0;const e=t<=1?t*255:t;return Math.round(Math.min(255,Math.max(0,e)))}function Zi(t){return t.toString(16).padStart(2,"0")}function jE(t){const e=Math.round(Lv(t)*100)/100;return e===1?"1":e===0?"0":e.toString()}function T1(t){const e=document.createElement("span");return e.textContent=t,e.classList.add(sr),e}function DE(){je(PE,`
.${Xe} {
  width: 240px;
  padding: 10px;
  box-sizing: border-box;
}
.${Av} {
  display: grid;
  grid-template-columns: repeat(auto-fit, 26px);
  gap: 6px;
  margin-bottom: 10px;
}
.${rr} {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  border: 1px solid rgba(0, 0, 0, 0.06);
  background: var(--swatch-color);
  cursor: pointer;
  padding: 0;
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.08);
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}
.${rr}[data-active="true"] {
  box-shadow: 0 0 0 2px #1677ff;
  transform: translateY(-1px);
}
.${rr}:hover {
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.18);
}
.${Tv} {
  display: flex;
  align-items: center;
  gap: 6px;
}
.${or} {
  flex: 1;
  min-width: 0;
  height: 30px;
  padding: 2px 6px;
  border: 1px solid #d9d9d9;
  border-radius: 6px;
  background: #f5f5f5;
  color: #262626;
  font-size: 12px;
  font-family: ui-monospace, SFMono-Regular, SFMono-Regular, Menlo, Monaco, Consolas,
    "Liberation Mono", "Courier New", monospace;
  box-sizing: border-box;
  outline: none;
  transition: border-color 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
}
.${or}:focus {
  border-color: #1677ff;
  background: #ffffff;
  box-shadow: 0 0 0 2px rgba(22, 119, 255, 0.12);
}
.${or}[data-invalid="true"] {
  border-color: #ff4d4f;
  box-shadow: 0 0 0 2px rgba(255, 77, 79, 0.12);
}
.${Mv} {
  display: inline-flex;
}
.${vn} {
  position: relative;
  display: grid;
  grid-template-columns: 1fr 1fr;
  align-items: center;
  width: 110px;
  height: 30px;
  padding: 0;
  border: 1px solid #d9d9d9;
  border-radius: 6px;
  background: #f5f5f5;
  cursor: pointer;
  overflow: hidden;
  transition: border-color 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
}
.${vn}:hover {
  background: #ededed;
}
.${vn}:focus-visible {
  outline: none;
  border-color: #1677ff;
  box-shadow: 0 0 0 2px rgba(22, 119, 255, 0.12);
}
.${th} {
  position: absolute;
  inset: 0;
  width: 50%;
  background: #1677ff;
  border-radius: 6px;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.08);
  transition: transform 0.2s ease;
}
.${vn}[data-format="rgba"] .${th} {
  transform: translateX(100%);
}
.${sr} {
  position: relative;
  z-index: 1;
  text-align: center;
  font-size: 12px;
  color: #434343;
  user-select: none;
}
.${vn}[data-format="hexa"] .${sr}:first-child,
.${vn}[data-format="rgba"] .${sr}:last-child {
  color: #ffffff;
}
`)}const be=(t,{viewBox:e="0 0 1024 1024",size:n="1.5em"}={})=>({fill:i="currentColor"}={})=>{const r=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="${e}" width="${n}" height="${n}" fill="${i}">
${t.trim()}
</svg>`;return document.createRange().createContextualFragment(r).firstElementChild},en={fontFamily:be('<path d="M236.992 938.688H145.088L469.312 128h85.376l324.224 810.688h-91.904l-102.4-256H339.392l-102.4 256z m136.512-341.376h276.992L512 251.072l-138.496 346.24z"></path>',{size:"1.2em"}),fontSize:be('<path d="M479.829333 640H202.837333l-85.333333 213.333333H25.6L298.666667 170.666667h85.333333l273.066667 682.666666h-91.904l-85.333334-213.333333z m-34.133333-85.333333L341.333333 293.76 236.970667 554.666667h208.725333zM896 534.826667V512h85.333333v341.333333h-85.333333v-22.826666a170.666667 170.666667 0 1 1 0-295.68zM810.666667 768a85.333333 85.333333 0 1 0 0-170.666667 85.333333 85.333333 0 0 0 0 170.666667z"></path>',{size:"1.2em"}),align:be('<path d="M832 96c53.02 0 96 42.98 96 96v640c0 53.02-42.98 96-96 96H192c-53.02 0-96-42.98-96-96V192c0-53.02 42.98-96 96-96z m0 64H192c-17.673 0-32 14.327-32 32v640c0 17.673 14.327 32 32 32h640c17.673 0 32-14.327 32-32V192c0-17.673-14.327-32-32-32zM725.333 672c17.673 0 32 14.327 32 32 0 17.496-14.041 31.713-31.47 31.996l-0.53 0.004H298.667c-17.673 0-32-14.327-32-32 0-17.496 14.041-31.713 31.47-31.996l0.53-0.004h426.666z m0-192c17.673 0 32 14.327 32 32 0 17.496-14.041 31.713-31.47 31.996l-0.53 0.004H298.667c-17.673 0-32-14.327-32-32 0-17.496 14.041-31.713 31.47-31.996l0.53-0.004h426.666z m0-192c17.673 0 32 14.327 32 32 0 17.496-14.041 31.713-31.47 31.996l-0.53 0.004H298.667c-17.673 0-32-14.327-32-32 0-17.496 14.041-31.713 31.47-31.996l0.53-0.004h426.666z"></path>'),alignTop:be('<path d="M896 859.329c17.673 0 32 14.327 32 32 0 17.496-14.042 31.713-31.47 31.995l-0.53 0.005H128c-17.673 0-32-14.327-32-32 0-17.497 14.042-31.713 31.47-31.996l0.53-0.004h768z m0-121.533c17.673 0 32 14.327 32 32 0 17.497-14.042 31.713-31.47 31.996l-0.53 0.004H128c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.995l0.53-0.005h768zM512.45 91.003L512 91a32.632 32.632 0 0 1 1.653 0.042l0.134 0.008c3.447 0.189 6.75 0.924 9.82 2.12l0.198 0.078a16.118 16.118 0 0 1 0.485 0.197l0.11 0.046a31.82 31.82 0 0 1 8.546 5.315l0.12 0.105a31.066 31.066 0 0 1 1.189 1.095l0.08 0.078 0.235 0.23 0.062 0.063 128 128.055c12.494 12.5 12.49 32.761-0.01 45.255-12.374 12.37-32.356 12.489-44.877 0.362l-0.377-0.372L544 200.28v413.598c0 17.673-14.327 32-32 32-17.496 0-31.713-14.042-31.996-31.471l-0.004-0.53V200.278l-73.368 73.4c-12.369 12.375-32.35 12.503-44.877 0.381l-0.378-0.37c-12.374-12.37-12.502-32.352-0.38-44.878l0.37-0.378 128-128.055 0.181-0.178a31.875 31.875 0 0 1 9.5-6.47l0.105-0.046c0.116-0.051 0.233-0.101 0.35-0.15 0.054-0.024 0.11-0.047 0.165-0.07a28.198 28.198 0 0 1 0.536-0.219l0.157-0.061a31.816 31.816 0 0 1 9.356-2.103l0.113-0.007c0.147-0.01 0.294-0.02 0.442-0.027l0.028-0.001 0.39-0.019 0.144-0.005a23.911 23.911 0 0 1 0.712-0.018c0.3-0.004 0.602-0.004 0.904 0z"></path>'),alignRight:be('<path d="M896 800.339c17.673 0 32 14.327 32 32 0 17.496-14.042 31.713-31.47 31.995l-0.53 0.005H298.667c-17.673 0-32-14.327-32-32 0-17.497 14.041-31.713 31.47-31.996l0.53-0.004H896z m0-213.226c17.673 0 32 14.327 32 32 0 17.496-14.042 31.713-31.47 31.996l-0.53 0.004H128c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.996l0.53-0.004h768z m0-213.226c17.673 0 32 14.327 32 32 0 17.496-14.042 31.713-31.47 31.996l-0.53 0.004H298.667c-17.673 0-32-14.327-32-32 0-17.496 14.041-31.713 31.47-31.996l0.53-0.004H896z m0-213.226c17.673 0 32 14.327 32 32 0 17.497-14.042 31.713-31.47 31.996l-0.53 0.004H128c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.995l0.53-0.005h768z"></path>'),alignBottom:be('<path d="M896 859.329c17.673 0 32 14.327 32 32 0 17.496-14.042 31.713-31.47 31.995l-0.53 0.005H128c-17.673 0-32-14.327-32-32 0-17.497 14.042-31.713 31.47-31.996l0.53-0.004h768z m0-121.533c17.673 0 32 14.327 32 32 0 17.497-14.042 31.713-31.47 31.996l-0.53 0.004H128c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.995l0.53-0.005h768zM490.505 637.584l-0.127-0.117a32.174 32.174 0 0 1-0.633-0.596l-0.098-0.096-0.217-0.213-0.062-0.063-128-128.055c-12.494-12.499-12.49-32.76 0.01-45.254 12.374-12.37 32.356-12.489 44.877-0.362l0.377 0.371L480 536.598V123c0-17.673 14.327-32 32-32 17.496 0 31.713 14.042 31.996 31.47l0.004 0.53v413.597l73.368-73.398c12.494-12.5 32.755-12.503 45.255-0.01 12.374 12.37 12.502 32.352 0.38 44.878l-0.37 0.377-128 128.055c-0.121 0.12-0.238 0.236-0.356 0.35l0.355-0.35a31.922 31.922 0 0 1-9.68 6.649l-0.09 0.039a29.917 29.917 0 0 1-1.241 0.514 31.816 31.816 0 0 1-9.338 2.095l-0.113 0.008c-0.147 0.01-0.294 0.019-0.442 0.027h-0.028c-0.13 0.008-0.26 0.014-0.39 0.02l-0.144 0.005a23.92 23.92 0 0 1-0.796 0.019 33.927 33.927 0 0 1-0.37 0.002h-0.13l-0.236-0.002 0.366 0.002a32.633 32.633 0 0 1-1.153-0.02l-0.129-0.006a31.108 31.108 0 0 1-0.876-0.046l-0.105-0.008a31.811 31.811 0 0 1-8.926-1.931l-0.089-0.034a21.022 21.022 0 0 1-0.362-0.138l-0.098-0.04a22.132 22.132 0 0 1-0.746-0.304l-0.219-0.093-0.209-0.092a31.812 31.812 0 0 1-8.034-5.094l-0.12-0.105-0.173-0.153-0.151-0.136-0.105-0.093z"></path>'),alignLeft:be('<path d="M725.333 800.339c17.673 0 32 14.327 32 32 0 17.496-14.041 31.713-31.47 31.995l-0.53 0.005H128c-17.673 0-32-14.327-32-32 0-17.497 14.042-31.713 31.47-31.996l0.53-0.004h597.333zM896 587.113c17.673 0 32 14.327 32 32 0 17.496-14.042 31.713-31.47 31.996l-0.53 0.004H128c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.996l0.53-0.004h768zM725.333 373.887c17.673 0 32 14.327 32 32 0 17.496-14.041 31.713-31.47 31.996l-0.53 0.004H128c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.996l0.53-0.004h597.333zM896 160.661c17.673 0 32 14.327 32 32 0 17.497-14.042 31.713-31.47 31.996l-0.53 0.004H128c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.995l0.53-0.005h768z"></path>'),alignCenter:be('<path d="M768 800.339c17.673 0 32 14.327 32 32 0 17.496-14.042 31.713-31.47 31.995l-0.53 0.005H256c-17.673 0-32-14.327-32-32 0-17.497 14.042-31.713 31.47-31.996l0.53-0.004h512z m128-213.226c17.673 0 32 14.327 32 32 0 17.496-14.042 31.713-31.47 31.996l-0.53 0.004H128c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.996l0.53-0.004h768zM768 373.887c17.673 0 32 14.327 32 32 0 17.496-14.042 31.713-31.47 31.996l-0.53 0.004H256c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.996l0.53-0.004h512z m128-213.226c17.673 0 32 14.327 32 32 0 17.497-14.042 31.713-31.47 31.996l-0.53 0.004H128c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.995l0.53-0.005h768z"></path>'),alignMiddle:be('<path d="M534.246 617.448l0.377 0.371 128 127.952c12.5 12.494 12.503 32.755 0.009 45.255-12.37 12.374-32.352 12.501-44.878 0.38l-0.377-0.372-73.38-73.352V939c0 17.673-14.326 32-32 32-17.496 0-31.712-14.042-31.995-31.47l-0.004-0.53-0.001-221.314-73.374 73.348c-12.374 12.37-32.356 12.49-44.878 0.363l-0.377-0.371c-12.37-12.375-12.49-32.356-0.362-44.878l0.37-0.377 128-127.952c12.372-12.366 32.347-12.49 44.87-0.37zM896 480.508c17.673 0 32 14.327 32 32 0 17.497-14.042 31.713-31.47 31.996l-0.53 0.004H128c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.995l0.53-0.005h768zM511.998 54c17.496 0 31.713 14.042 31.996 31.47l0.004 0.53-0.001 221.314 73.38-73.349c12.499-12.494 32.76-12.49 45.255 0.009 12.37 12.374 12.49 32.356 0.362 44.878l-0.37 0.377-128 127.951c-12.372 12.366-32.347 12.49-44.87 0.371l-0.377-0.37-128-127.952c-12.5-12.495-12.503-32.756-0.009-45.255 12.37-12.374 32.352-12.502 44.878-0.38l0.377 0.371 73.374 73.346V86c0-17.673 14.328-32 32-32z"></path>')},BE=be('<path d="M502.714987 58.258904l-126.531056-54.617723a52.797131 52.797131 0 0 0-41.873587 96.855428A447.865322 447.865322 0 0 0 392.02307 946.707184a61.535967 61.535967 0 0 0 13.83649 1.820591 52.797131 52.797131 0 0 0 13.65443-103.773672 342.453118 342.453118 0 0 1-31.678278-651.771485l-8.374718 19.480321a52.615072 52.615072 0 0 0 27.855039 69.182448 51.522718 51.522718 0 0 0 20.572675 4.369418A52.797131 52.797131 0 0 0 476.498481 254.882703L530.205907 127.441352a52.979191 52.979191 0 0 0-27.49092-69.182448zM962.960326 509.765407A448.775617 448.775617 0 0 0 643.992829 68.090094a52.797131 52.797131 0 1 0-30.403866 101.042786A342.635177 342.635177 0 0 1 674.578753 801.059925a52.615072 52.615072 0 0 0-92.30395-50.612422l-71.913335 117.246043a52.433013 52.433013 0 0 0 17.295612 72.82363l117.063985 72.823629a52.797131 52.797131 0 1 0 54.617722-89.755123l-16.021198-10.013249A448.593558 448.593558 0 0 0 962.960326 509.765407z" p-id="1630"/>'),Ue={align:be('<path d="M555.188 715.059c17.673 0 32 14.327 32 32V875c0 17.673-14.327 32-32 32H171c-17.673 0-32-14.327-32-32V747.059c0-17.673 14.327-32 32-32z m-32.001 63.999H203V843h320.187v-63.942zM854 416.529c17.673 0 32 14.327 32 32v127.942c0 17.673-14.327 32-32 32H171c-17.673 0-32-14.327-32-32V448.529c0-17.673 14.327-32 32-32z m-32 64H203v63.941h619v-63.941zM683.25 118c17.673 0 32 14.327 32 32v127.941c0 17.673-14.327 32-32 32H171c-17.673 0-32-14.327-32-32V150c0-17.673 14.327-32 32-32z m-32 64H203v63.941h448.25V182z"></path>'),alignTop:be(`
    <path d="M661.333 272.411c17.673 0 32 14.327 32 32V902c0 17.673-14.327 32-32 32H362.667c-17.673 0-32-14.327-32-32V304.411c0-17.673 14.327-32 32-32z m-32 63.999H394.666V870h234.667V336.41zM896 101.671c17.673 0 32 14.327 32 32 0 17.497-14.042 31.713-31.47 31.996l-0.53 0.004H128c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.995l0.53-0.005h768z" />`),alignRight:be('<path d="M891.329 96c17.496 0 31.713 14.042 31.995 31.47l0.005 0.53v768c0 17.673-14.327 32-32 32-17.497 0-31.713-14.042-31.996-31.47l-0.004-0.53V128c0-17.673 14.327-32 32-32z m-170.74 234.667c17.673 0 32 14.327 32 32v298.666c0 17.673-14.327 32-32 32H123c-17.673 0-32-14.327-32-32V362.667c0-17.673 14.327-32 32-32z m-32 63.999H155v234.667h533.589V394.666z" />'),alignBottom:be('<path d="M896 859.329c17.673 0 32 14.327 32 32 0 17.496-14.042 31.713-31.47 31.995l-0.53 0.005H128c-17.673 0-32-14.327-32-32 0-17.497 14.042-31.713 31.47-31.996l0.53-0.004h768zM661.333 91c17.673 0 32 14.327 32 32v597.589c0 17.673-14.327 32-32 32H362.667c-17.673 0-32-14.327-32-32V123c0-17.673 14.327-32 32-32z m-32 64H394.666v533.589h234.667V155z" />'),alignLeft:be('<path d="M133.671 96c17.497 0 31.713 14.042 31.996 31.47l0.004 0.53v768c0 17.673-14.327 32-32 32-17.496 0-31.713-14.042-31.995-31.47l-0.005-0.53V128c0-17.673 14.327-32 32-32zM902 330.667c17.673 0 32 14.327 32 32v298.666c0 17.673-14.327 32-32 32H304.411c-17.673 0-32-14.327-32-32V362.667c0-17.673 14.327-32 32-32z m-32.001 63.999H336.41v234.667h533.589V394.666z" />'),alignH:be('<path d="M512.5 96c17.496 0 31.713 14.042 31.996 31.47l0.004 0.53v202.666H875c17.496 0 31.713 14.042 31.996 31.471l0.004 0.53v298.666c0 17.673-14.327 32-32 32H544.5V896c0 17.673-14.327 32-32 32-17.496 0-31.713-14.042-31.996-31.47l-0.004-0.53V693.333H150c-17.496 0-31.713-14.041-31.996-31.47l-0.004-0.53V362.667c0-17.673 14.327-32 32-32l330.5-0.001V128c0-17.673 14.327-32 32-32z m-32 298.666H182v234.667h298.5V394.666z m362.5 0H544.5v234.667H843V394.666z" />'),alignV:be('<path d="M661.333 118c17.673 0 32 14.327 32 32v330.5H896c17.673 0 32 14.327 32 32 0 17.496-14.042 31.713-31.47 31.996l-0.53 0.004H693.333V875c0 17.496-14.041 31.713-31.47 31.996l-0.53 0.004H362.667c-17.673 0-32-14.327-32-32l-0.001-330.5H128c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.996l0.53-0.004h202.666V150c0-17.496 14.042-31.713 31.471-31.996l0.53-0.004z m-32.001 426.5H394.665l0.001 298.5h234.667l-0.001-298.5z m0.001-362.5H394.666l-0.001 298.5h234.667l0.001-298.5z" />'),distributeH:be('<path d="M853.333 96c17.497 0 31.713 14.042 31.996 31.47l0.004 0.53v768c0 17.673-14.327 32-32 32-17.496 0-31.713-14.042-31.995-31.47l-0.005-0.53V128c0-17.673 14.327-32 32-32z m-682.666 0c17.496 0 31.713 14.042 31.995 31.47l0.005 0.53v768c0 17.673-14.327 32-32 32-17.497 0-31.713-14.042-31.996-31.47l-0.004-0.53V128c0-17.673 14.327-32 32-32zM640 181.333c17.673 0 32 14.327 32 32v597.334c0 17.673-14.327 32-32 32H384c-17.673 0-32-14.327-32-32V213.333c0-17.673 14.327-32 32-32z m-32 64H416v533.333h192V245.333z" />'),distributeV:be('<path d="M896 821.333c17.673 0 32 14.327 32 32 0 17.497-14.042 31.713-31.47 31.996l-0.53 0.004H128c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.995l0.53-0.005h768zM810.667 352c17.673 0 32 14.327 32 32v256c0 17.673-14.327 32-32 32H213.333c-17.673 0-32-14.327-32-32V384c0-17.673 14.327-32 32-32z m-32 64H245.334v192h533.333V416zM896 138.667c17.673 0 32 14.327 32 32 0 17.496-14.042 31.713-31.47 31.995l-0.53 0.005H128c-17.673 0-32-14.327-32-32 0-17.497 14.042-31.713 31.47-31.996l0.53-0.004h768z" />')},Jr="infographic-edit-popover",ge=`${Jr}__content`,He=`${Jr}__arrow`,NE="infographic-edit-popover-style";function ri(t){var e,n,i,r,o,s,a,c;FE();const d=(e=t.placement)!==null&&e!==void 0?e:"top",l=(n=t.closeOnOutsideClick)!==null&&n!==void 0?n:!0,h=Array.isArray(t.trigger)?t.trigger:[t.trigger||"hover"],f=(i=t.mouseEnterDelay)!==null&&i!==void 0?i:50,p=(r=t.mouseLeaveDelay)!==null&&r!==void 0?r:150,y=(o=t.offset)!==null&&o!==void 0?o:8,m=8,g=7,v=typeof t.padding=="number"?`${t.padding}px`:(s=t.padding)!==null&&s!==void 0?s:"4px",b=document.createElement("div");b.classList.add(Jr);const x=(a=t.target)!==null&&a!==void 0?a:document.createElement("div");b.appendChild(x);const w=()=>{const H=typeof t.getContainer=="function"?t.getContainer():t.getContainer;return H??document.body},_=document.createElement("div");_.classList.add(ge),Zn(_,Er),_.dataset.placement=Array.isArray(d)?d[0]:d,_.setAttribute("data-open",String(!!t.open)),_.style.setProperty("--popover-gap",`${y}px`),_.style.setProperty("--popover-arrow-size",`${m}px`),_.style.setProperty("--popover-arrow-inner-size",`${g}px`);const C=w(),E=C!==b,S=document.createElement("div");S.classList.add(He),_.appendChild(S);const O=document.createElement("div");O.classList.add(`${ge}-body`),O.style.padding=v,_.appendChild(O),C.appendChild(_);let I=!!t.open,T=Array.isArray(d)?d:[d],R=(c=T[0])!==null&&c!==void 0?c:"top";const A=()=>{var H;const F=x.getBoundingClientRect(),X=_.getBoundingClientRect(),K=window.scrollX||document.documentElement.scrollLeft,it=window.scrollY||document.documentElement.scrollTop,Z=document.documentElement.clientWidth,rt=document.documentElement.clientHeight;let U=0,Q=0;const at=ot=>{switch(ot){case"top":return{left:K+F.left+F.width/2-X.width/2,top:it+F.top-X.height-y};case"bottom":return{left:K+F.left+F.width/2-X.width/2,top:it+F.bottom+y};case"left":return{left:K+F.left-X.width-y,top:it+F.top+F.height/2-X.height/2};default:return{left:K+F.right+y,top:it+F.top+F.height/2-X.height/2}}},tt=(ot,ct)=>ot>=K&&ct>=it&&ot+X.width<=K+Z&&ct+X.height<=it+rt;let J=(H=T[0])!==null&&H!==void 0?H:"top",nt=at(J);for(const ot of T){const ct=at(ot);if(nt=ct,tt(ct.left,ct.top)){J=ot;break}}R=J,_.dataset.placement=R,E&&({left:U,top:Q}=nt,_.style.left=`${U}px`,_.style.top=`${Q}px`,_.style.right="auto",_.style.bottom="auto",_.style.transform="translate(0, 0)")};E&&(_.style.position="absolute",window.addEventListener("resize",A),window.addEventListener("scroll",A,!0));const q=H=>{let F=H;typeof F=="function"&&(F=F()),O.innerHTML="",F instanceof HTMLElement?O.appendChild(F):O.textContent=F??"",A()},B=H=>{var F;T=Array.isArray(H)?H:[H],R=(F=T[0])!==null&&F!==void 0?F:"top",A()},L=H=>{I=H,_.setAttribute("data-open",String(I)),I&&A(),I&&l?document.addEventListener("click",j,!0):document.removeEventListener("click",j,!0)},D=()=>L(!I),j=H=>{const F=H.target;!b.contains(F)&&(!E||!_.contains(F))&&L(!1)};let G,N;const Y=h.includes("hover"),V=h.includes("click"),z=()=>{G!==void 0&&(clearTimeout(G),G=void 0),N!==void 0&&(clearTimeout(N),N=void 0)},k=()=>{Y&&(z(),G=window.setTimeout(()=>L(!0),f))},$=()=>{Y&&(z(),N=window.setTimeout(()=>L(!1),p))};return V&&x.addEventListener("click",D),Y&&(b.addEventListener("mouseenter",k),b.addEventListener("mouseleave",$),_.addEventListener("mouseenter",k),_.addEventListener("mouseleave",$)),q(t.content),B(d),L(I),Object.assign(b,{setOpen:L,toggle:D,setContent:q,setPlacement:B,destroy:()=>{document.removeEventListener("click",j,!0),V&&x.removeEventListener("click",D),Y&&(b.removeEventListener("mouseenter",k),b.removeEventListener("mouseleave",$),_.removeEventListener("mouseenter",k),_.removeEventListener("mouseleave",$),z()),E&&(window.removeEventListener("resize",A),window.removeEventListener("scroll",A,!0),_.remove()),b.remove()}})}function FE(){je(NE,`
.${Jr} {
  position: relative;
  display: inline-flex;
}
.${ge} {
  position: absolute;
  z-index: 1200;
  padding: 0;
  --popover-gap: 8px;
  --popover-arrow-size: 8px;
  --popover-arrow-inner-size: 7px;
  background: #fff;
  border-radius: 8px;
  border: 1px solid rgba(239, 240, 240, 0.9);
  box-shadow: rgba(0, 0, 0, 0.08) 0px 1px 2px -2px, rgba(0, 0, 0, 0.04) 0px 2px 6px, rgba(0, 0, 0, 0.02) 0px 4px 8px 1px;
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transition: opacity 120ms ease, transform 120ms ease, visibility 120ms ease;
}
.${ge}-body {
  padding: 4px;
  color: #000000d9;
  font-size: 12px;
  line-height: 1.5;
}
.${ge}[data-open="true"] {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
}
.${He} {
  position: absolute;
  width: 0;
  height: 0;
}
.${He}::after {
  content: '';
  position: absolute;
  width: 0;
  height: 0;
}
.${ge}[data-placement="top"] {
  left: 50%;
  bottom: calc(100% + var(--popover-gap));
  transform: translate(-50%, calc(-1 * var(--popover-gap) / 2));
}
.${ge}[data-placement="top"] .${He} {
  left: 50%;
  bottom: calc(-1 * var(--popover-arrow-size));
  transform: translateX(-50%);
  border-left: var(--popover-arrow-size) solid transparent;
  border-right: var(--popover-arrow-size) solid transparent;
  border-top: var(--popover-arrow-size) solid rgba(239, 240, 240, 0.9);
}
.${ge}[data-placement="top"] .${He}::after {
  left: 50%;
  bottom: 1px;
  transform: translateX(-50%);
  border-left: var(--popover-arrow-inner-size) solid transparent;
  border-right: var(--popover-arrow-inner-size) solid transparent;
  border-top: var(--popover-arrow-inner-size) solid #fff;
}
.${ge}[data-placement="top"][data-open="true"] {
  transform: translate(-50%, 0);
}
.${ge}[data-placement="bottom"] {
  left: 50%;
  top: calc(100% + var(--popover-gap));
  transform: translate(-50%, calc(var(--popover-gap) / 2));
}
.${ge}[data-placement="bottom"] .${He} {
  left: 50%;
  top: calc(-1 * var(--popover-arrow-size) + 2px);
  transform: translateX(-50%);
  border-left: var(--popover-arrow-size) solid transparent;
  border-right: var(--popover-arrow-size) solid transparent;
  border-bottom: var(--popover-arrow-size) solid rgba(239, 240, 240, 0.9);
}
.${ge}[data-placement="bottom"] .${He}::after {
  left: 50%;
  top: 1px;
  transform: translateX(-50%);
  border-left: var(--popover-arrow-inner-size) solid transparent;
  border-right: var(--popover-arrow-inner-size) solid transparent;
  border-bottom: var(--popover-arrow-inner-size) solid #fff;
}
.${ge}[data-placement="bottom"][data-open="true"] {
  transform: translate(-50%, 0);
}
.${ge}[data-placement="left"] {
  right: calc(100% + var(--popover-gap));
  top: 50%;
  transform: translate(calc(-1 * var(--popover-gap) / 2), -50%);
}
.${ge}[data-placement="left"] .${He} {
  right: calc(-1 * var(--popover-arrow-size) + 1px);
  top: 50%;
  transform: translateY(-50%);
  border-top: var(--popover-arrow-size) solid transparent;
  border-bottom: var(--popover-arrow-size) solid transparent;
  border-left: var(--popover-arrow-size) solid rgba(239, 240, 240, 0.9);
  border-right: 0;
}
.${ge}[data-placement="left"] .${He}::after {
  right: 1px;
  top: 50%;
  transform: translateY(-50%);
  border-top: var(--popover-arrow-inner-size) solid transparent;
  border-bottom: var(--popover-arrow-inner-size) solid transparent;
  border-left: var(--popover-arrow-inner-size) solid #fff;
  border-right: 0;
}
.${ge}[data-placement="left"][data-open="true"] {
  transform: translate(0, -50%);
}
.${ge}[data-placement="right"] {
  left: calc(100% + var(--popover-gap));
  top: 50%;
  transform: translate(calc(var(--popover-gap) / 2), -50%);
}
.${ge}[data-placement="right"] .${He} {
  left: calc(-1 * var(--popover-arrow-size) + 1px);
  top: 50%;
  transform: translateY(-50%);
  border-top: var(--popover-arrow-size) solid transparent;
  border-bottom: var(--popover-arrow-size) solid transparent;
  border-right: var(--popover-arrow-size) solid rgba(239, 240, 240, 0.9);
  border-left: 0;
}
.${ge}[data-placement="right"] .${He}::after {
  left: 1px;
  top: 50%;
  transform: translateY(-50%);
  border-top: var(--popover-arrow-inner-size) solid transparent;
  border-bottom: var(--popover-arrow-inner-size) solid transparent;
  border-right: var(--popover-arrow-inner-size) solid #fff;
}
.${ge}[data-placement="right"][data-open="true"] {
  transform: translate(0, -50%);
}
`)}const Xh="infographic-align-grid",Pv=`${Xh}--compact`,WE="infographic-align-grid-style",GE=`
.${Xh} {
  display: grid;
  grid-template-columns: repeat(4, 32px);
  grid-auto-rows: 32px;
  gap: 2px;
}
.${Pv} {
  grid-template-columns: repeat(3, 32px);
}
`,M1=[{icon:Ue.alignLeft,action:"LEFT"},{icon:Ue.alignH,action:"H_CENTER"},{icon:Ue.alignRight,action:"RIGHT"},{icon:Ue.distributeH,action:"H_DISTRIBUTE"},{icon:Ue.alignTop,action:"TOP"},{icon:Ue.alignV,action:"V_CENTER"},{icon:Ue.alignBottom,action:"BOTTOM"},{icon:Ue.distributeV,action:"V_DISTRIBUTE"}],YE=(t,e,n,i)=>{var r;je(WE,GE);const o=(r=i?.enableDistribution)!==null&&r!==void 0?r:!0,s=VE(a=>XE(t,a,n),o);return ri({target:fn({icon:Ue.align}),content:s,placement:"top",offset:12})};function VE(t,e){const n=document.createElement("div");return n.classList.add(Xh),e||n.classList.add(Pv),(e?M1:M1.filter(({action:r})=>r!=="H_DISTRIBUTE"&&r!=="V_DISTRIBUTE")).forEach(({icon:r,action:o})=>{const s=fn({icon:r,onClick:()=>t(o)});n.appendChild(s)}),n}function XE(t,e,n){if(!t.length)return;const i=t[0].ownerSVGElement;if(!i)return;const r=t.map(l=>ZE(l,i)).filter(Boolean);if(!r.length)return;const o=r.filter(l=>l.movable);if(!o.length)return;const s=r.filter(l=>!l.movable),a=s.length?s:r,c=ki(a.map(l=>l.bounds)),d=[];switch(e){case"LEFT":{const l=c.x;o.forEach(h=>{const f=l-h.bounds.x;cn(d,h,f,0)});break}case"H_CENTER":{const l=c.x+c.width/2;o.forEach(h=>{const f=l-(h.bounds.x+h.bounds.width/2);cn(d,h,f,0)});break}case"RIGHT":{const l=c.x+c.width;o.forEach(h=>{const f=l-(h.bounds.x+h.bounds.width);cn(d,h,f,0)});break}case"TOP":{const l=c.y;o.forEach(h=>{const f=l-h.bounds.y;cn(d,h,0,f)});break}case"V_CENTER":{const l=c.y+c.height/2;o.forEach(h=>{const f=l-(h.bounds.y+h.bounds.height/2);cn(d,h,0,f)});break}case"BOTTOM":{const l=c.y+c.height;o.forEach(h=>{const f=l-(h.bounds.y+h.bounds.height);cn(d,h,0,f)});break}case"H_DISTRIBUTE":{UE(r,d);break}case"V_DISTRIBUTE":{KE(r,d);break}}d.length&&n.executeBatch(d)}function UE(t,e){if(t.length<=2)return;const n=[...t].sort((r,o)=>r.bounds.x-o.bounds.x||r.bounds.y-o.bounds.y),i=$v(n);for(let r=0;r<i.length-1;r++){const o=i[r],s=i[r+1],a=n[o],c=n[s],d=n.slice(o+1,s);if(!d.length)continue;const l=c.bounds.x-(a.bounds.x+a.bounds.width),h=d.reduce((y,m)=>y+m.bounds.width,0),f=(l-h)/(d.length+1);let p=a.bounds.x+a.bounds.width+f;d.forEach(y=>{const m=p-y.bounds.x;cn(e,y,m,0),p+=y.bounds.width+f})}}function KE(t,e){if(t.length<=2)return;const n=[...t].sort((r,o)=>r.bounds.y-o.bounds.y||r.bounds.x-o.bounds.x),i=$v(n);for(let r=0;r<i.length-1;r++){const o=i[r],s=i[r+1],a=n[o],c=n[s],d=n.slice(o+1,s);if(!d.length)continue;const l=c.bounds.y-(a.bounds.y+a.bounds.height),h=d.reduce((y,m)=>y+m.bounds.height,0),f=(l-h)/(d.length+1);let p=a.bounds.y+a.bounds.height+f;d.forEach(y=>{const m=p-y.bounds.y;cn(e,y,0,m),p+=y.bounds.height+f})}}function $v(t){const e=new Set;return e.add(0),e.add(t.length-1),t.forEach((n,i)=>{n.movable||e.add(i)}),Array.from(e).sort((n,i)=>n-i)}function cn(t,e,n,i){const r=QE(e,n,i);r&&t.push(r)}function ZE(t,e){const n=Qe(e,t),i=!dn(t),r=t8(t);if(r)return{element:t,bounds:n,mode:"transform",startX:r.x,startY:r.y,hasX:!1,hasY:!1,hasDataX:!1,hasDataY:!1,restTransform:r.rest,originalTransform:r.original,movable:i};const{x:o,y:s,hasX:a,hasY:c,hasDataX:d,hasDataY:l}=JE(t,n);return{element:t,bounds:n,mode:"attr",startX:o,startY:s,hasX:a,hasY:c,hasDataX:d,hasDataY:l,movable:i}}function QE(t,e,n){if(!t.movable||Math.abs(e)<1e-6&&Math.abs(n)<1e-6)return null;if(t.mode==="attr"){const o=t.startX+e,s=t.startY+n,a={x:o,y:s},c={};return c.x=t.hasX?t.startX:null,c.y=t.hasY?t.startY:null,t.hasDataX&&(a["data-x"]=o,c["data-x"]=t.startX),t.hasDataY&&(a["data-y"]=s,c["data-y"]=t.startY),new Ye(t.element,{attributes:a},{attributes:c})}const i=e8(t.startX+e,t.startY+n,t.restTransform),r=t.originalTransform!==void 0?t.originalTransform:null;return new Ye(t.element,{attributes:{transform:i}},{attributes:{transform:r}})}function JE(t,e){const n=Le(t,["x","y","data-x","data-y"],!1),i=n.x!==null&&n.x!==void 0,r=n.y!==null&&n.y!==void 0,o=n["data-x"]!==null&&n["data-x"]!==void 0,s=n["data-y"]!==null&&n["data-y"]!==void 0,a=(y,m)=>{const g=y!=null?Number(y):NaN;return Number.isFinite(g)?g:m},c=a(n.x,NaN),d=a(n.y,NaN),l=a(n["data-x"],NaN),h=a(n["data-y"],NaN),f=Number.isFinite(c)?c:Number.isFinite(l)?l:e.x,p=Number.isFinite(d)?d:Number.isFinite(h)?h:e.y;return{x:f,y:p,hasX:i,hasY:r,hasDataX:o,hasDataY:s}}function t8(t){var e;const n=t.getAttribute("transform");if(n===null)return null;const i=n.match(/translate\(\s*([-\d.]+)(?:[ ,]\s*([-\d.]+))?\s*\)/i);if(!i)return{x:0,y:0,rest:{before:n.trim(),after:""},original:n};const r=Number(i[1])||0,o=i[2]!==void 0&&Number(i[2])||0,s=(e=i.index)!==null&&e!==void 0?e:0,a=n.slice(0,s).trim(),c=n.slice(s+i[0].length).trim();return{x:r,y:o,rest:{before:a,after:c},original:n}}function e8(t,e,n){const i=`translate(${t}, ${e})`;return[n?.before,i,n?.after].filter(o=>o&&o.length).join(" ")}const qv="infographic-font-align-grid",n8="infographic-font-align-grid-style",i8=[{icon:en.alignLeft,align:"LEFT"},{icon:en.alignCenter,align:"CENTER"},{icon:en.alignRight,align:"RIGHT"}],r8=[{icon:en.alignTop,align:"TOP"},{icon:en.alignMiddle,align:"MIDDLE"},{icon:en.alignBottom,align:"BOTTOM"}],o8=`
.${qv} {
  display: grid;
  grid-template-columns: repeat(3, 32px);
  grid-auto-rows: 32px;
  gap: 2px;
}
`,R1=(t,e,n)=>{je(n8,o8);const i={horizontal:e["data-horizontal-align"],vertical:e["data-vertical-align"]},r=fn({icon:en.align}),o=s8(i,s=>{const a={};s.horizontal&&(a["data-horizontal-align"]=s.horizontal),s.vertical&&(a["data-vertical-align"]=s.vertical),Object.keys(a).length&&n.executeBatch(t.map(c=>new Ye(c,{attributes:a})))});return ri({target:r,content:o,placement:"top",offset:12})};function s8(t,e){const n=document.createElement("div");n.classList.add(qv);const i={},r=()=>{Object.entries(i).forEach(([s,a])=>{const c=s===t.horizontal||s===t.vertical;a.setActivate(c)})},o=(s,a)=>{s.forEach(({icon:c,align:d})=>{const l=fn({icon:c,onClick:()=>{t[a]!==d&&(Object.assign(t,{[a]:d}),r(),e(Object.assign({},t)))},activate:d===t[a]});i[d]=l,n.appendChild(l)})};return o(i8,"horizontal"),o(r8,"vertical"),n}const ar="infographic-font-color-btn",a8="infographic-font-color-style",eh="#1f1f1f",k1=(t,e,n)=>{l8();const i=c8(e.fill),r=e.fill===void 0&&t.length>1,o=document.createElement("button");o.type="button",o.classList.add(ar),L1(o,i??eh,r);const s=Rv({value:i??eh,onChange:a=>{L1(o,a,!1),n.executeBatch(t.map(c=>new Ye(c,{attributes:{fill:a}})))}});return ri({target:o,content:s,placement:["top","bottom"],offset:12,trigger:"hover",closeOnOutsideClick:!0,open:!1,padding:0})};function c8(t){if(t)return Sn(t)?t:void 0}function L1(t,e,n){t.style.setProperty("--infographic-font-color",e),n?t.setAttribute("data-mixed","true"):t.removeAttribute("data-mixed")}function l8(){je(a8,`
.${ar} {
  position: relative;
  width: 32px;
  height: 32px;
  padding: 0;
  border: none;
  background: #fff;
  cursor: pointer;
  transition: box-shadow 0.2s ease, border-color 0.2s ease;
}
.${ar}::after {
  content: '';
  position: absolute;
  inset: 6px;
  border-radius: 50%;
  background: var(--infographic-font-color, ${eh});
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.08);
}
.${ar}[data-mixed="true"]::after {
  background: repeating-linear-gradient(
    45deg,
    #d9d9d9 0,
    #d9d9d9 6px,
    #f5f5f5 6px,
    #f5f5f5 12px
  );
}
`)}const Uh="infographic-font-family-list",cr=`${Uh}__option`,d8="infographic-font-family-list-style",h8="默认",P1=(t,e,n)=>{f8();const i=py(),r=$1(e["font-family"]),o=i.map(l=>({label:l.name||l.fontFamily,value:l.fontFamily}));o.some(l=>$1(l.value)===r)||o.unshift({label:h8,value:r});let s=r;const a=u8(o,s,l=>{s!==l&&(s=l,n.executeBatch(t.map(h=>new Ye(h,{attributes:{"font-family":Yn(l)}}))))}),c=fn({icon:en.fontFamily});return ri({target:c,content:a,placement:["top","bottom"],offset:12,trigger:"hover",closeOnOutsideClick:!0,open:!1,padding:0})};function u8(t,e,n){const i=document.createElement("div");i.classList.add(Uh);const r={},o=s=>{Object.entries(r).forEach(([a,c])=>{a===s?c.setAttribute("data-activate","true"):c.removeAttribute("data-activate")})};return t.forEach(({label:s,value:a})=>{const c=document.createElement("button");c.type="button",c.classList.add(cr),c.textContent=s,c.style.fontFamily=a,a===e&&c.setAttribute("data-activate","true"),c.addEventListener("click",()=>{e!==a&&(e=a,o(e),n(a))}),r[a]=c,i.appendChild(c)}),i}function $1(t){return t?Array.isArray(t)?On(t.join(", ")):On(String(t)):""}function f8(){je(d8,`
.${Uh} {
  display: flex;
  flex-direction: column;
  gap: 2px;
  padding: 4px;
  min-width: 180px;
  max-height: 220px;
  overflow-y: auto;
}
.${cr} {
  width: 100%;
  text-align: left;
  padding: 6px 10px;
  border: none;
  border-radius: 6px;
  background: #fff;
  cursor: pointer;
  font-size: 12px;
  color: #000000d9;
  transition: background-color 0.2s ease, color 0.2s ease;
}
.${cr}:hover {
  background: #f5f5f5;
}
.${cr}[data-activate="true"] {
  background: #e6f4ff;
  color: #0958d9;
}
`)}const Hv="infographic-font-size-grid",p8="infographic-font-size-grid-style",g8=[{label:"XS",value:12},{label:"S",value:14},{label:"M",value:16},{label:"L",value:20},{label:"XL",value:24}],m8=`
.${Hv} {
  display: grid;
  grid-template-columns: repeat(5, 32px);
  grid-auto-rows: 32px;
  gap: 2px;
}
`,q1=(t,e,n)=>{je(p8,m8);const i=fn({icon:en.fontSize}),r=b8(e["font-size"]),o=y8(r,s=>{n.executeBatch(t.map(a=>new Ye(a,{attributes:{"font-size":s}})))});return ri({target:i,content:o,placement:"top",offset:12})};function y8(t,e){const n=document.createElement("div");n.classList.add(Hv);let i=t;const r={},o=()=>{Object.entries(r).forEach(([s,a])=>{const c=Number(s)===i;a.setActivate(c)})};return g8.forEach(({label:s,value:a})=>{const c=fn({icon:v8(s),onClick:()=>{i!==a&&(i=a,o(),e(a))},activate:a===i});r[String(a)]=c,n.appendChild(c)}),n}function v8(t){return()=>{const e="1.2em",n=document.createElement("span");return n.textContent=t,n.style.display="inline-flex",n.style.alignItems="center",n.style.justifyContent="center",n.style.width=e,n.style.height=e,n.style.fontSize="12px",n}}function b8(t){if(typeof t=="number")return t;if(typeof t=="string"){const n=parseFloat(t);return Number.isFinite(n)?n:12}return 12}const lr="infographic-icon-color-btn",x8="infographic-icon-color-style",nh="#1f1f1f",H1=(t,e,n)=>{C8();const i=w8(e.fill),r=e.fill===void 0&&t.length>1,o=document.createElement("button");o.type="button",o.classList.add(lr),z1(o,i??nh,r);const s=Rv({value:i??nh,onChange:a=>{z1(o,a,!1),n.executeBatch(t.map(c=>new Ye(c,{attributes:{fill:a}})))}});return ri({target:o,content:s,placement:["top","bottom"],offset:12,trigger:"hover",closeOnOutsideClick:!0,open:!1,padding:0})};function w8(t){if(t)return Sn(t)?t:void 0}function z1(t,e,n){t.style.setProperty("--infographic-icon-color",e),n?t.setAttribute("data-mixed","true"):t.removeAttribute("data-mixed")}function C8(){je(x8,`
.${lr} {
  position: relative;
  width: 32px;
  height: 32px;
  padding: 0;
  border: none;
  background: #fff;
  cursor: pointer;
  transition: box-shadow 0.2s ease, border-color 0.2s ease;
}
.${lr}::after {
  content: '';
  position: absolute;
  inset: 6px;
  border-radius: 50%;
  background: var(--infographic-icon-color, ${nh});
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.08);
}
.${lr}[data-mixed="true"]::after {
  background: repeating-linear-gradient(
    45deg,
    #d9d9d9 0,
    #d9d9d9 6px,
    #f5f5f5 6px,
    #f5f5f5 12px
  );
}
`)}class _8 extends Qr{constructor(e){super(),this.options=e,this.name="edit-bar",this.selection=[],this.handleSelectionChanged=({next:n})=>{if(this.selection=n,n.length===0){this.container&&j1(this.container);return}const i=this.getOrCreateEditBar(),r=this.getEditItems(n);if(r.length===0){j1(i);return}E8(i,r),this.placeEditBar(i,n),Ld(i)},this.handleGeometryChanged=({target:n})=>{!this.selection.includes(n)||!this.container||(this.placeEditBar(this.container,this.selection),Ld(this.container))},this.handleHistoryChanged=()=>{!this.container||this.selection.length===0||(this.placeEditBar(this.container,this.selection),Ld(this.container))}}init(e){super.init(e);const{emitter:n}=e;n.on("selection:change",this.handleSelectionChanged),n.on("selection:geometrychange",this.handleGeometryChanged),n.on("history:change",this.handleHistoryChanged)}destroy(){var e;const{emitter:n}=this;n.off("selection:change",this.handleSelectionChanged),n.off("selection:geometrychange",this.handleGeometryChanged),n.off("history:change",this.handleHistoryChanged),(e=this.container)===null||e===void 0||e.remove()}getEditItems(e){let n=!1,i=!1,r=!1;for(const o of e)if(nn(o)?n=!0:dn(o)?i=!0:D3(o)&&(r=!0),n&&i&&r)break;return n&&!i&&!r?e.length===1?this.getTextEditItems(e[0]):this.getTextCollectionEditItems(e):!n&&i&&!r?e.length===1?this.getIconEditItems(e):this.getIconCollectionEditItems(e):!n&&!i&&r?e.length===1?this.getGeometryEditItems(e):this.getGeometryCollectionEditItems(e):this.getElementCollectionEditItems(e)}getOrCreateEditBar(){if(this.container)return this.container;const{style:e,className:n}=this.options||{},i=document.createElement("div");Object.assign(i.style,Object.assign({visibility:"hidden",position:"absolute",left:"0",top:"0",display:"flex",flexFlow:"row",justifyContent:"center",alignItems:"center",height:"40px",minWidth:"40px",minHeight:"40px",borderRadius:"8px",padding:"0 4px",backgroundColor:"#fff",border:"1px solid rgba(239, 240, 240, 0.9)",zIndex:"9999",boxShadow:"rgba(0, 0, 0, 0.08) 0px 1px 2px -2px, rgba(0, 0, 0, 0.04) 0px 2px 6px, rgba(0, 0, 0, 0.02) 0px 4px 8px 1px"},e)),n&&i.classList.add(n),Zn(i,Er),this.container=i;const{getContainer:r}=this.options||{},o=typeof r=="function"?r():r,s=o??document.body;return s?.appendChild(i),i}getTextEditItems(e){const{attributes:n={}}=Wd(e);return[k1,q1,R1,P1].map(i=>i([e],n,this.commander))}getTextCollectionEditItems(e){const n=hu(e.map(o=>Wd(o).attributes||{})),i=[k1,q1,R1,P1].map(o=>o(e,n,this.commander)),r=this.getElementCollectionEditItems(e);return[...i,...r]}getIconEditItems(e){const n=Vd(e[0]);return[H1].map(i=>i(e,n,this.commander))}getIconCollectionEditItems(e){const n=hu(e.map(i=>Vd(i)));return[H1].map(i=>i(e,n,this.commander))}getGeometryEditItems(e){return[]}getGeometryCollectionEditItems(e){return[...this.getElementCollectionEditItems(e)]}getElementCollectionEditItems(e){return e.length<=1?[]:[YE(e,{},this.commander,{enableDistribution:e.length>2})]}placeEditBar(e,n){var i;if(n.length===0)return;const r=ki(n.map(x=>x.getBoundingClientRect())),o=(i=e.offsetParent)!==null&&i!==void 0?i:document.documentElement,s=document.documentElement.clientHeight,a=document.documentElement.clientWidth,c=e.getBoundingClientRect(),d=8,l={x:r.x+r.width/2,y:r.y},h={y:r.y+r.height},f=(x,w,_)=>Math.min(Math.max(x,w),_),p=l.y-d,y=s-h.y-d,m=p>=c.height||p>=y;if(o===document.body||o===document.documentElement){const x=window.scrollX||document.documentElement.scrollLeft,w=window.scrollY||document.documentElement.scrollTop;let _=x+l.x-c.width/2;_=f(_,x,x+Math.max(a-c.width,0));let C=m?w+l.y-c.height-d:w+h.y+d;C=f(C,w,w+Math.max(s-c.height,0)),e.style.left=`${_}px`,e.style.top=`${C}px`;return}const g=o.getBoundingClientRect();let v=l.x-g.left-c.width/2;v=f(v,0,Math.max(g.width-c.width,0));let b=m?l.y-g.top-c.height-d:h.y-g.top+d;b=f(b,0,Math.max(g.height-c.height,0)),e.style.left=`${v}px`,e.style.top=`${b}px`}}function Ld(t){t.style.visibility="visible"}function j1(t){t.style.visibility="hidden"}function E8(t,e){t.innerHTML="",e.forEach(n=>{t.appendChild(n)})}const D1=25,B1=25,jn=40;class S8 extends Qr{constructor(e){super(),this.options=e,this.name="reset-viewBox",this.viewBoxChanged=!1,this.handleResize=()=>{this.updateOriginViewBox(),this.updatePosition()},this.handleViewBoxChange=n=>{const i=this.editor.getDocument();if(this.viewBoxChanged=n!==this.originViewBox,!this.viewBoxChanged){this.resetButton&&this.hideButton(this.resetButton);return}const r=this.getOrCreateResetButton();this.placeButton(r,i),this.showButton(r)},this.getOrCreateResetButton=()=>{if(this.resetButton)return this.resetButton;const{style:n,className:i}=this.options||{},r=fn({icon:BE,onClick:this.resetViewBox});r.classList.add(N1),i&&r.classList.add(i),n&&Object.assign(r.style,n),Zn(r,Er),this.resetButton=r;const{getContainer:o}=this.options||{},s=typeof o=="function"?o():o,a=s??document.body;return a?.appendChild(r),r},this.getTransformScale=n=>{const i=n.getBoundingClientRect(),r=n.offsetWidth>0?i.width/n.offsetWidth:1,o=n.offsetHeight>0?i.height/n.offsetHeight:1;return{scaleX:r,scaleY:o}},this.findStableContainer=n=>{let i=n.parentElement;for(;i;){if(i instanceof HTMLElement){const r=window.getComputedStyle(i);if(r.overflow&&r.overflow!=="visible"||r.overflowX&&r.overflowX!=="visible"||r.overflowY&&r.overflowY!=="visible")return i}i=i.parentElement}return null},this.placeButton=(n,i)=>{var r;if(!i.isConnected)return;const o=i.getBoundingClientRect(),s=(r=n.offsetParent)!==null&&r!==void 0?r:document.documentElement,a=this.findStableContainer(i),c=a?.getBoundingClientRect(),d=c?{right:Math.min(o.right,c.right),bottom:Math.min(o.bottom,c.bottom)}:o;if(s===document.body||s===document.documentElement){const m=window.scrollX||document.documentElement.scrollLeft,g=window.scrollY||document.documentElement.scrollTop,v=m+d.right-D1-jn,b=g+d.bottom-B1-jn;n.style.left=`${v}px`,n.style.top=`${b}px`;return}const l=s.getBoundingClientRect(),{scaleX:h,scaleY:f}=this.getTransformScale(s),p=(d.right-l.left)/h-D1-jn,y=(d.bottom-l.top)/f-B1-jn;n.style.left=`${p}px`,n.style.top=`${y}px`},this.updatePosition=()=>{this.resetButton&&this.viewBoxChanged&&this.placeButton(this.resetButton,this.editor.getDocument())},this.resetViewBox=()=>{const n=new Vh({viewBox:this.originViewBox});this.commander.execute(n)},this.showButton=n=>{n.style.display="flex",n.style.visibility="visible"},this.hideButton=n=>{n.style.display="none"},this.removeButton=()=>{var n;this.viewBoxChanged=!1,(n=this.resetButton)===null||n===void 0||n.remove(),this.resetButton=void 0}}init(e){super.init(e),this.ensureButtonStyle(),this.updateOriginViewBox(),this.unregisterSync=this.editor.registerSync("viewBox",this.handleViewBoxChange),window.addEventListener("resize",this.handleResize)}destroy(){var e;(e=this.unregisterSync)===null||e===void 0||e.call(this),window.removeEventListener("resize",this.handleResize),this.removeButton()}updateOriginViewBox(){const e=this.editor.getDocument();if(!e.getBBox){this.originViewBox=En(tn(e));return}const{padding:n}=this.state.getOptions();this.originViewBox=zy(e,Tn(n))}ensureButtonStyle(){je(O8,`
      button.${N1} {
        visibility: hidden;
        position: absolute;
        display: flex;
        justify-content: center;
        align-items: center;
        width: ${jn}px;
        height: ${jn}px;
        border-radius: 50%;
        padding: 4px;
        background-color: #fff;
        border: 1px solid #e5e7eb;
        z-index: 1000;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        cursor: pointer;
      }
      `)}}const N1="infographic-reset-viewbox-btn",O8="infographic-reset-viewbox-btn-style";class Se extends Qr{constructor(){super(...arguments),this.name="resize-element",this.target=null,this.handles=[],this.activeHandle=null,this.activePointerId=null,this.handleSelectionChange=({next:e})=>{const n=e.length===1?e[0]:null;n&&nn(n)?(this.target=n,this.updateHandles()):(this.target=null,this.hideHandles(),this.cancelDrag())},this.handleDeactivate=()=>{this.target=null,this.hideHandles(),this.cancelDrag()},this.handleGeometryChange=({target:e})=>{if(!this.target||e!==this.target)return;const n=this.getViewportRect(this.target);this.lastViewportRect=n,this.updateHandles(n)},this.handleHistoryChange=()=>{if(!this.target)return;const e=this.getViewportRect(this.target);this.lastViewportRect=e,this.updateHandles(e)},this.handlePointerMove=e=>{if(!this.target||!this.startPointer||!this.startRect||!this.activeHandle||this.activePointerId!==null&&e.pointerId!==this.activePointerId)return;const n=this.clientToElement(this.target,e.clientX,e.clientY),i=n.x-this.startPointer.x,r=n.y-this.startPointer.y,o=this.clampRect(this.applyDelta(this.startRect,i,r,this.activeHandle),this.activeHandle);this.lastRect=o,this.applyRect(this.target,o),this.lastViewportRect=this.getViewportRect(this.target),this.updateHandles(this.lastViewportRect),this.emitSelectionGeometryChange()},this.handlePointerUp=e=>{if(this.activePointerId!==null&&e.pointerId!==this.activePointerId)return;const n=this.lastRect,i=this.startAttrs,r=n&&this.startRect&&this.hasRectChanged(this.startRect,n);if(this.cancelDrag(),r&&this.target&&n&&i)this.commander.execute(new Ye(this.target,{attributes:n},{attributes:i})),this.lastViewportRect=this.getViewportRect(this.target),this.updateHandles(this.lastViewportRect),this.emitSelectionGeometryChange();else if(this.target){const o=this.lastViewportRect||this.getViewportRect(this.target);this.updateHandles(o)}}}init(e){super.init(e);const{emitter:n}=e;n.on("selection:change",this.handleSelectionChange),n.on("selection:geometrychange",this.handleGeometryChange),n.on("history:change",this.handleHistoryChange),n.on("deactivated",this.handleDeactivate)}destroy(){this.cancelDrag(),this.removeContainer();const{emitter:e}=this;e.off("selection:change",this.handleSelectionChange),e.off("selection:geometrychange",this.handleGeometryChange),e.off("history:change",this.handleHistoryChange),e.off("deactivated",this.handleDeactivate)}ensureContainer(){if(this.container)return this.container;const e=It("g",{"pointer-events":"none"});this.overlay=It("rect",{fill:"rgba(51, 132, 245, 0.06)",stroke:"none","pointer-events":"none"});const n=It("rect",{fill:"none",stroke:"#3384F5","stroke-width":1,"stroke-dasharray":"4 2","pointer-events":"none"});e.appendChild(this.overlay),e.appendChild(n),this.outline=n;const i=Se.HANDLE_POSITIONS,r={"top-left":"nwse-resize",top:"ns-resize","top-right":"nesw-resize",right:"ew-resize","bottom-right":"nwse-resize",bottom:"ns-resize","bottom-left":"nesw-resize",left:"ew-resize"};return i.forEach((o,s)=>{const c=o==="top"||o==="right"||o==="bottom"||o==="left"?It("line",{stroke:"transparent","stroke-width":Se.LINE_STROKE_WIDTH}):It("circle",{r:Se.HANDLE_SIZE/2,fill:"#3384F5",stroke:"#fff","stroke-width":1.5});c.style.cursor=r[o],c.style.pointerEvents="all",c.addEventListener("pointerdown",d=>this.handlePointerDown(d,o)),c.addEventListener("click",d=>{d.stopPropagation(),d.preventDefault()}),e.appendChild(c),this.handles[s]=c}),this.editor.getDocument().appendChild(e),this.container=e,e}updateHandles(e){if(!this.target){this.hideHandles();return}const n=e||this.getViewportRect(this.target)||this.lastViewportRect||null;if(!n){this.hideHandles();return}this.lastViewportRect=n;const i=this.ensureContainer();i.style.display="block",this.outline.style.display="block",Jt(this.outline,n),this.overlay&&(this.overlay.style.display="block",Jt(this.overlay,n));const r=this.getHandlePoints(n);this.handles.forEach((o,s)=>{const[a,c]=r[s];if(o.tagName==="circle")Jt(o,{cx:a,cy:c});else{const d=Se.HANDLE_POSITIONS[s],l=this.getHandleLine(n,d);Jt(o,l)}o.style.display="block"})}hideHandles(){this.container&&(this.container.style.display="none"),this.outline&&(this.outline.style.display="none"),this.overlay&&(this.overlay.style.display="none"),this.handles.forEach(e=>e.style.display="none")}removeContainer(){var e;(e=this.container)===null||e===void 0||e.remove(),this.container=void 0,this.outline=void 0,this.overlay=void 0,this.handles=[]}handlePointerDown(e,n){if(!this.target||e.button!==0&&e.pointerType==="mouse")return;e.stopPropagation(),e.preventDefault();const i=this.clientToElement(this.target,e.clientX,e.clientY);this.activeHandle=n,this.activePointerId=e.pointerId,this.startPointer=i;const r=this.getCurrentAttributes(this.target);this.startRect=r,this.startAttrs=Object.assign({},r),this.lastRect=r,this.lastViewportRect=this.getViewportRect(this.target),window.addEventListener("pointermove",this.handlePointerMove),window.addEventListener("pointerup",this.handlePointerUp),window.addEventListener("pointercancel",this.handlePointerUp)}cancelDrag(){this.activeHandle=null,this.activePointerId=null,this.startPointer=void 0,this.startRect=void 0,this.startAttrs=void 0,this.lastRect=void 0,this.lastViewportRect=void 0,window.removeEventListener("pointermove",this.handlePointerMove),window.removeEventListener("pointerup",this.handlePointerUp),window.removeEventListener("pointercancel",this.handlePointerUp)}applyRect(e,n){Jt(e,{x:n.x,y:n.y,width:n.width,height:n.height})}getViewportRect(e){const{x:n,y:i,width:r,height:o}=Qe(this.editor.getDocument(),e);return{x:n,y:i,width:r,height:o}}clientToElement(e,n,i){var r,o;const s=((r=e.getScreenCTM())===null||r===void 0?void 0:r.inverse())||((o=this.editor.getDocument().getScreenCTM())===null||o===void 0?void 0:o.inverse())||new DOMMatrix;return new DOMPoint(n,i).matrixTransform(s)}getCurrentAttributes(e){const n=Le(e,["x","y","width","height"],!1),i=this.getViewportRect(e),r=(o,s)=>{const a=o!==null?Number(o):NaN;return Number.isFinite(a)?a:s};return{x:r(n.x,i.x),y:r(n.y,i.y),width:r(n.width,i.width),height:r(n.height,i.height)}}getHandlePoints(e){const{x:n,y:i,width:r,height:o}=e,s=n+r/2,a=i+o/2;return[[n,i],[s,i],[n+r,i],[n+r,a],[n+r,i+o],[s,i+o],[n,i+o],[n,a]]}applyDelta(e,n,i,r){let{x:o,y:s,width:a,height:c}=e;switch(r){case"top-left":o+=n,s+=i,a-=n,c-=i;break;case"top":s+=i,c-=i;break;case"top-right":s+=i,a+=n,c-=i;break;case"right":a+=n;break;case"bottom-right":a+=n,c+=i;break;case"bottom":c+=i;break;case"bottom-left":o+=n,a-=n,c+=i;break;case"left":o+=n,a-=n;break}return{x:o,y:s,width:a,height:c}}clampRect(e,n){let{x:i,y:r,width:o,height:s}=e;if(o<Se.MIN_SIZE){const a=Se.MIN_SIZE-o;(n==="top-left"||n==="bottom-left"||n==="left")&&(i-=a),o=Se.MIN_SIZE}if(s<Se.MIN_SIZE){const a=Se.MIN_SIZE-s;(n==="top-left"||n==="top-right"||n==="top")&&(r-=a),s=Se.MIN_SIZE}return{x:i,y:r,width:o,height:s}}hasRectChanged(e,n){return Math.abs(e.x-n.x)>.5||Math.abs(e.y-n.y)>.5||Math.abs(e.width-n.width)>.5||Math.abs(e.height-n.height)>.5}emitSelectionGeometryChange(){this.target&&this.lastViewportRect&&this.emitter.emit("selection:geometrychange",{type:"selection:geometrychange",target:this.target,rect:this.lastViewportRect})}getHandleLine(e,n){const{x:i,y:r,width:o,height:s}=e;switch(n){case"top":return{x1:i,y1:r,x2:i+o,y2:r};case"right":return{x1:i+o,y1:r,x2:i+o,y2:r+s};case"bottom":return{x1:i,y1:r+s,x2:i+o,y2:r+s};default:return{x1:i,y1:r,x2:i,y2:r+s}}}}Se.HANDLE_SIZE=10;Se.LINE_STROKE_WIDTH=8;Se.MIN_SIZE=1;Se.HANDLE_POSITIONS=["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"];var Gn=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{d(i.next(l))}catch(h){s(h)}}function c(l){try{d(i.throw(l))}catch(h){s(h)}}function d(l){l.done?o(l.value):r(l.value).then(a,c)}d((i=i.apply(t,e||[])).next())})};function I8(t){return Gn(this,arguments,void 0,function*(e,n=!0){const i=A8(e);if(i.size===0)return;const r=[];yield Promise.all(Array.from(i).map(o=>Gn(this,void 0,void 0,function*(){const s=M8(o);if(!s.length)return;const a=yield T8(o);if(!a.length)return;const c=yield Promise.all(a.map(d=>Gn(this,void 0,void 0,function*(){const l=R8(d),h=l["unicode-range"].replace(/\s/g,"");if(!s.find(g=>g.unicodeRange&&g.unicodeRange.replace(/\s/g,"")===h))return null;const p=Kb(l["font-family"],dy(l["font-weight"]));if(!p)return null;const y=l.src.match(/url\(["']?(.*?\.woff2)[^"']*["']?\)/);if(!y?.[1])return null;const m=gh(p,y[1]);if(n){const g=yield L8(m);l.src=`url(${g}) format('woff2')`}else l.src=`url(${m}) format('woff2')`;return l})));r.push(...c.filter(Boolean)||[])}))),r.length>0&&k8(e,r)})}function A8(t){const e=new Set,n=r=>{r&&In(r).forEach(o=>{const s=Yn(o);s&&e.add(s)})};n(t.getAttribute("font-family"));const i=t.querySelectorAll("foreignObject span");for(const r of i)n(r.style.fontFamily);return e}function T8(t){return Gn(this,void 0,void 0,function*(){const e=gy(t),n=[];return yield Promise.allSettled(e.map(i=>Gn(this,void 0,void 0,function*(){const r=yield Tr(i).then(o=>o.text()).catch(()=>(console.error(`Failed to fetch font CSS: ${i}`),null));if(r)try{yb.parse(r).walkAtRules("font-face",s=>{const a={};s.walkDecls(c=>{a[c.prop]=c.value}),n.push(a)})}catch(o){console.error(`Failed to parse CSS: ${i}`,o)}}))),n})}function M8(t){const e=[],n=In(t).map(i=>Yn(i));return document.fonts.forEach(i=>{n.includes(Yn(i.family))&&i.status==="loaded"&&e.push(i)}),e}function R8(t){var e,n,i,r,o,s;return{"font-family":(e=t["font-family"])!==null&&e!==void 0?e:"",src:(n=t.src)!==null&&n!==void 0?n:"","font-style":(i=t["font-style"])!==null&&i!==void 0?i:"normal","font-display":(r=t["font-display"])!==null&&r!==void 0?r:"swap","font-weight":(o=t["font-weight"])!==null&&o!==void 0?o:"400","unicode-range":(s=t["unicode-range"])!==null&&s!==void 0?s:"U+0-FFFF"}}function k8(t,e){const n=[],i=new Set;for(const s of e){const a=[s["font-family"],s["font-weight"],s["font-style"],s["unicode-range"],s.src].join("|");i.has(a)||(i.add(a),n.push(s))}if(n.length===0)return;const r=It("style",{type:"text/css"});r.innerHTML=n.map(s=>`
@font-face {
  font-family: ${s["font-family"]};
  src: ${s.src};
  font-style: ${s["font-style"]};
  font-weight: ${s["font-weight"]};
  font-display: ${s["font-display"]};
  unicode-range: ${s["unicode-range"]};
}
`.trim()).join(`
`);const o=t.querySelector("defs");o&&o.parentNode?o.parentNode.insertBefore(r,o.nextSibling):t.insertBefore(r,t.firstChild)}function L8(t){return Gn(this,void 0,void 0,function*(){const e=yield Tr(t);if(!e.ok)throw new Error(`Failed to load font: ${t}`);const n=yield e.blob();return yield new Promise((r,o)=>{const s=new FileReader;s.onloadend=()=>{r(s.result)},s.onerror=o,s.readAsDataURL(n)})})}var Kh=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{d(i.next(l))}catch(h){s(h)}}function c(l){try{d(i.throw(l))}catch(h){s(h)}}function d(l){l.done?o(l.value):r(l.value).then(a,c)}d((i=i.apply(t,e||[])).next())})};function P8(t){return Kh(this,arguments,void 0,function*(e,n={}){const i=yield zv(e,n),r=new XMLSerializer().serializeToString(i);return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(r)})}function zv(t){return Kh(this,arguments,void 0,function*(e,n={}){const{embedResources:i=!0,removeIds:r=!1}=n,o=e.cloneNode(!0),{width:s,height:a}=tn(e);return Jt(o,{width:s,height:a}),r?(H8(o),V8(o)):yield $8(o),yield I8(o,i),Q8(o),o})}function $8(t){return Kh(this,void 0,void 0,function*(){const e=t.querySelectorAll("use"),n=q8(t);e.forEach(i=>{const r=i.getAttribute("href");if(!r)return;if(!t.querySelector(r)){const s=document.querySelector(r);s&&n.appendChild(s.cloneNode(!0))}})})}const F1="icon-defs";function q8(t){const e=Vn(t,F1);if(e)return e;const n=It("defs");return Zn(n,F1),t.prepend(n),n}function H8(t){const e=Array.from(t.querySelectorAll("use"));e.length&&e.forEach(n=>{const i=z8(n);if(!i||!i.startsWith("#"))return;const r=j8(t,i);if(!r||r===n)return;const o=D8(n,r);o&&n.replaceWith(o)})}function z8(t){var e;return(e=t.getAttribute("href"))!==null&&e!==void 0?e:t.getAttribute("xlink:href")}function j8(t,e){const n=t.querySelector(e);return n||document.querySelector(e)}function D8(t,e){const n=e.tagName.toLowerCase();return n==="symbol"?B8(t,e):n==="svg"?N8(t,e):F8(t,e)}function B8(t,e){const n=e.cloneNode(!0),i=It("svg");for(br(i,n,new Set(["id"])),br(i,t,new Set(["href","xlink:href"]));n.firstChild;)i.appendChild(n.firstChild);return i}function N8(t,e){const n=e.cloneNode(!0);return n.removeAttribute("id"),br(n,t,new Set(["href","xlink:href"])),n}function F8(t,e){const n=e.cloneNode(!0);n.removeAttribute("id");const i=It("g");br(i,t,new Set(["href","xlink:href","x","y","width","height","transform"]));const r=W8(t);return r&&i.setAttribute("transform",r),i.appendChild(n),i}function W8(t){var e;const n=t.getAttribute("x"),i=t.getAttribute("y"),r=n||i?`translate(${n??0} ${i??0})`:"",o=(e=t.getAttribute("transform"))!==null&&e!==void 0?e:"";return r&&o?`${r} ${o}`:r||o||null}function br(t,e,n=new Set){Array.from(e.attributes).forEach(i=>{if(!n.has(i.name)){if(i.name==="style"){G8(t,i.value);return}if(i.name==="class"){Y8(t,i.value);return}t.setAttribute(i.name,i.value)}})}function G8(t,e){const n=t.getAttribute("style");if(!n){t.setAttribute("style",e);return}const i=n.trim().endsWith(";")?"":";";t.setAttribute("style",`${n}${i}${e}`)}function Y8(t,e){const n=t.getAttribute("class");if(!n){t.setAttribute("class",e);return}t.setAttribute("class",`${n} ${e}`.trim())}const jv=/url\(\s*['"]?#([^'")\s]+)['"]?\s*\)/g;function V8(t){const e=X8(t);if(e.size===0){W1(t);return}const n=U8(t,e);n&&(Kn(t,i=>{if(i.tagName.toLowerCase()==="defs")return!1;Array.from(i.attributes).forEach(o=>{const s=o.value;if(!s.includes("url("))return;const a=s.replace(jv,(c,d)=>{const l=encodeURIComponent(d);return`url("${n}#${l}")`});a!==s&&i.setAttribute(o.name,a)})}),W1(t))}function X8(t){const e=new Set;return Kn(t,n=>{if(n.tagName.toLowerCase()==="defs")return!1;Dv(n,i=>e.add(i))}),e}function Dv(t,e){for(const n of Array.from(t.attributes)){const i=n.value;if(i.includes("url("))for(const r of i.matchAll(jv))r[1]&&e(r[1]);(n.name==="href"||n.name==="xlink:href")&&i[0]==="#"&&e(i.slice(1))}}function U8(t,e){if(e.size===0)return null;const n=K8(t,e);if(n.size===0)return null;const i=It("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),r=It("defs");if(n.forEach(s=>{r.appendChild(s.cloneNode(!0))}),!r.children.length)return null;i.appendChild(r);const o=new XMLSerializer().serializeToString(i);return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(o)}function K8(t,e){const n=new Map,i=Array.from(e),r=new Set(i),o=new Set,s=a=>{o.has(a)||r.has(a)||(i.push(a),r.add(a))};for(;i.length;){const a=i.shift();if(o.has(a))continue;o.add(a);const c=`#${Z8(a)}`,d=t.querySelector(c);d&&(n.set(a,d),Kn(d,l=>{Dv(l,s)}))}return n}function Z8(t){return globalThis.CSS&&typeof globalThis.CSS.escape=="function"?globalThis.CSS.escape(t):t.replace(/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,"\\$1")}function W1(t){Array.from(t.querySelectorAll("defs")).forEach(n=>n.remove())}function Q8(t){J8(t),tS(t),eS(t),nS(t)}function J8(t){const e=Vn(t,"btns-group");e?.remove();const n=Vn(t,"btn-icon-defs");n?.remove()}function tS(t){const e=t.querySelector("[data-element-type=transient-container]");e?.remove()}function eS(t){t.querySelectorAll("g").forEach(n=>{n.removeAttribute("x"),n.removeAttribute("y"),n.removeAttribute("width"),n.removeAttribute("height")})}function nS(t){Kn(t,e=>{for(const n in e.dataset)delete e.dataset[n]})}var iS=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{d(i.next(l))}catch(h){s(h)}}function c(l){try{d(i.throw(l))}catch(h){s(h)}}function d(l){l.done?o(l.value):r(l.value).then(a,c)}d((i=i.apply(t,e||[])).next())})};function rS(t){return iS(this,arguments,void 0,function*(e,n={}){var i;const{dpr:r=(i=globalThis.devicePixelRatio)!==null&&i!==void 0?i:2}=n,o=yield zv(e),{width:s,height:a}=tn(o);return new Promise((c,d)=>{try{const l=document.createElement("canvas");l.width=s*r,l.height=a*r;const h=l.getContext("2d");if(!h){d(new Error("Failed to get canvas context"));return}h.scale(r,r),h.imageSmoothingEnabled=!0,h.imageSmoothingQuality="high",o.setAttribute("width",String(s)),o.setAttribute("height",String(a));const f=new XMLSerializer().serializeToString(o),p="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(f),y=new Image;y.onload=function(){h.clearRect(0,0,s,a),h.drawImage(y,0,0,s,a);const m=l.toDataURL("image/png");c(m)},y.onerror=function(m){d(new Error("Image load failed: "+m))},y.src=p}catch(l){d(l)}})})}var Qi=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{d(i.next(l))}catch(h){s(h)}}function c(l){try{d(i.throw(l))}catch(h){s(h)}}function d(l){l.done?o(l.value):r(l.value).then(a,c)}d((i=i.apply(t,e||[])).next())})};class oS{constructor(){this.undoStack=[],this.redoStack=[]}init(e){Object.assign(this,e)}execute(e){return Qi(this,void 0,void 0,function*(){yield e.apply(this.state),this.undoStack.push(e),this.redoStack=[],this.emitHistoryChange("execute")})}executeBatch(e){return Qi(this,void 0,void 0,function*(){if(e.length===0)return;const n=new J9(e);yield this.execute(n)})}undo(){return Qi(this,void 0,void 0,function*(){const e=this.undoStack.pop();e&&(yield e.undo(this.state),this.redoStack.push(e),this.emitHistoryChange("undo"))})}redo(){return Qi(this,void 0,void 0,function*(){const e=this.redoStack.pop();e&&(yield e.apply(this.state),this.undoStack.push(e),this.emitHistoryChange("redo"))})}serialize(){return this.undoStack.map(e=>e.serialize())}clear(){this.undoStack=[],this.redoStack=[]}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}getHistorySize(){return this.undoStack.length}destroy(){this.clear()}emitHistoryChange(e){var n;(n=this.emitter)===null||n===void 0||n.emit("history:change",{type:"history:change",action:e})}}var G1=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{d(i.next(l))}catch(h){s(h)}}function c(l){try{d(i.throw(l))}catch(h){s(h)}}function d(l){l.done?o(l.value):r(l.value).then(a,c)}d((i=i.apply(t,e||[])).next())})};class sS{constructor(){this.extensions=new Ov,this.interactions=[],this.active=!1,this.running=null,this.concurrentInteractions=new Set,this.selection=new Set,this.handleClick=e=>{const n=this.editor.getDocument(),i=e.target;if(!i){this.deactivate();return}n.contains(i)||B3(i)?this.activate():this.deactivate()}}init(e){Object.assign(this,e),document.addEventListener("click",this.handleClick),this.interactions.forEach(n=>{this.extensions.register(n.name,n),n.init({emitter:this.emitter,editor:this.editor,commander:this.commander,state:this.state,interaction:this}),this.emitter.emit("interaction:registered",n)})}isActive(){return this.active}select(e,n){const i=this.getSelection(),r=[],o=[];if(n==="replace"){const c=new Set(e);i.forEach(d=>{c.has(d)||o.push(d)}),e.forEach(d=>{this.selection.has(d)||r.push(d)}),this.selection=c}else n==="add"?e.forEach(c=>{this.selection.has(c)||(this.selection.add(c),r.push(c))}):n==="remove"?e.forEach(c=>{this.selection.delete(c)&&o.push(c)}):n==="toggle"&&e.forEach(c=>{this.selection.has(c)?(this.selection.delete(c),o.push(c)):(this.selection.add(c),r.push(c))});const s=this.getSelection(),a={type:"selection:change",previous:i,next:s,added:r,removed:o,mode:n};this.emitter.emit("selection:change",a)}getSelection(){return[...this.selection]}isSelected(e){return this.selection.has(e)}clearSelection(){const e=this.getSelection();this.selection.clear();const n={type:"selection:change",previous:e,next:[],added:[],removed:e,mode:"replace"};this.emitter.emit("selection:change",n)}activate(){this.active=!0,this.emitter.emit("activated")}deactivate(){this.active=!1,this.running=null,this.clearSelection(),this.emitter.emit("deactivated")}executeExclusiveInteraction(e,n){return G1(this,void 0,void 0,function*(){if(!(!this.active||this.running)){this.running=e;try{this.emitter.emit("interaction:started",e),yield n(),this.emitter.emit("interaction:ended",e)}catch(i){console.error(`Error occurred during exclusive interaction "${e.name}":`,i),this.emitter.emit("interaction:error",e,i)}finally{this.running=null}}})}executeConcurrentInteraction(e,n){return G1(this,void 0,void 0,function*(){if(this.active){this.concurrentInteractions.add(e);try{this.emitter.emit("interaction:started",e),yield n(),this.emitter.emit("interaction:ended",e)}catch(i){console.error(`Error occurred during concurrent interaction "${e.name}":`,i),this.emitter.emit("interaction:error",e,i)}finally{this.concurrentInteractions.delete(e)}}})}getOrCreateTransientContainer(){const e="transient-container",n=this.editor.getDocument(),i=Vn(n,e);if(i&&i.isConnected)return i;const r=It("g");return Zn(r,e),n.appendChild(r),r}appendTransientElement(e){return this.getOrCreateTransientContainer().appendChild(e),e}destroy(){this.extensions.forEach(e=>{e.destroy(),this.emitter.emit("interaction:destroyed",e)}),this.extensions.destroy(),this.active=!1,this.running=null,this.clearSelection(),document.removeEventListener("click",this.handleClick),this.getOrCreateTransientContainer().remove()}}class aS{constructor(){this.extensions=new Ov}init(e,n=[]){Object.assign(this,e),n.forEach(i=>{this.registerPlugin(i)})}getPlugin(e){return this.extensions.get(e)}getPlugins(){return this.extensions.getAll()}registerPlugin(e){this.extensions.register(e.name,e);const n={emitter:this.emitter,editor:this.editor,commander:this.commander,plugin:this,state:this.state};e.init(n),this.emitter.emit("plugin:registered",e)}unregisterPlugin(e){const n=this.extensions.get(e);n&&(n.destroy(),this.extensions.unregister(e),this.emitter.emit("plugin:unregistered",n))}destroy(){this.extensions.getAll().forEach(e=>{this.unregisterPlugin(e.name),this.emitter.emit("plugin:destroyed",e)}),this.extensions.destroy()}}class cS{init(e){Object.assign(this,e)}addItemDatum(e,n){const i=e.slice(0,-1),r=e[e.length-1],o=Array.isArray(n)?n:[n];C1(this.options.data,i).splice(r,0,...o),this.emitter.emit("options:data:item:add",{indexes:e,datum:n}),this.emitter.emit("options:change",{type:"options:change",changes:[{op:"add",path:"data.items",indexes:e,value:o}]})}updateItemDatum(e,n){const i=Si(this.options.data,e);i==null||e.length===0||(Object.assign(i,n),this.emitter.emit("options:data:item:update",{indexes:e,datum:n}),this.emitter.emit("options:change",{type:"options:change",changes:[{op:"update",path:"data.items",indexes:e,value:n}]}))}removeItemDatum(e,n=1){const i=e.slice(0,-1),r=e[e.length-1],s=C1(this.options.data,i).splice(r,n);this.emitter.emit("options:data:item:remove",{indexes:e,datum:s}),this.emitter.emit("options:change",{type:"options:change",changes:[{op:"remove",path:"data.items",indexes:e,value:s}]})}updateData(e,n){this.options.data[e]=n,this.emitter.emit("options:data:update",{key:e,value:n}),this.emitter.emit("options:change",{type:"options:change",changes:[{op:"update",path:`data.${e}`,value:n}]})}updateElement(e,n){this.updateBuiltInElement(e,n)}updateOptions(e,n){const{bubbleUp:i=!1}=n||{};uE(this.options,e,"",{bubbleUp:i,collector:(r,o,s)=>{this.editor.syncRegistry.trigger(r,o,s)}}),this.emitter.emit("options:change",{type:"options:change",changes:[{op:"update",path:"",value:e}]})}getOptions(){return this.options}updateBuiltInElement(e,n){var i,r;const{data:o}=this.options,{attributes:s={}}=n,a=fh(e),c=dn(e)||a==="item-label"||a==="item-desc"||a==="item-value"||a==="item-illus",d=c?_v(e):void 0;if(c){const l=Si(o,d);if(l==null)return;const h=a.replace("item-","");l.attributes||(l.attributes={}),(i=l.attributes)[h]||(i[h]={}),Object.assign(l.attributes[h],s)}else(a==="title"||a==="desc"||a==="illus")&&(o.attributes||(o.attributes={}),(r=o.attributes)[a]||(r[a]={}),Object.assign(o.attributes[a],s));this.emitter.emit("options:element:update",{element:e,props:n}),this.emitter.emit("options:change",{type:"options:change",changes:[{op:"update",role:a,indexes:d,path:c?`${iE(d)}.attributes.${a.replace("item-","")}`:`data.attributes.${a}`,value:n}]})}destroy(){}}class lS{constructor(e){this.getOptions=e,this.handlers=new Map,this.isDispatching=!1,this.isDestroyed=!1}register(e,n,i){if(this.handlers.has(e)||this.handlers.set(e,new Set),this.handlers.get(e).add(n),i?.immediate){const r=Cr(this.getOptions(),e);n(r,void 0)}return()=>{const r=this.handlers.get(e);r&&(r.delete(n),r.size===0&&this.handlers.delete(e))}}trigger(e,n,i){if(this.isDestroyed||this.isDispatching){this.isDispatching&&console.warn(`[SyncRegistry] Recursive update detected on ${e}. Skipped to prevent loop.`);return}const r=this.handlers.get(e);if(r){this.isDispatching=!0;try{r.forEach(o=>o(n,i))}finally{this.isDispatching=!1}}}destroy(){this.isDestroyed=!0,this.handlers.clear()}}class dS{constructor(e,n,i){if(this.emitter=e,this.document=n,this.options=i,!n.isConnected)throw new Error("The provided document is not connected to the DOM.");n.style.userSelect="none";const r=new oS,o=new cS,s=new aS,a=new sS,c=new lS(()=>o.getOptions());this.commander=r,this.state=o,this.plugin=s,this.interaction=a,this.syncRegistry=c,r.init({state:o,emitter:e}),o.init({emitter:e,editor:this,commander:r,options:i});const d=new RE,l=i.plugins||[];s.init({emitter:e,editor:this,commander:r,state:o},[d,...l]),a.init({emitter:e,editor:this,commander:r,state:o,interactions:i.interactions})}registerSync(e,n,i){return this.syncRegistry.register(e,n,i)}getDocument(){return this.document}destroy(){this.document.style.userSelect="",this.interaction.destroy(),this.plugin.destroy(),this.commander.destroy(),this.state.destroy(),this.syncRegistry.destroy()}}var Un=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};function hS(t){const{container:e="#container",padding:n=0,template:i,design:r,theme:o,themeConfig:s,data:a}=t,c=Un(t,["container","padding","template","design","theme","themeConfig","data"]),d=typeof e=="string"?document.querySelector(e)||document.createElement("div"):e,l=i?wb(i):void 0,h=iy({},l?.themeConfig,s),f=o||s||l?.themeConfig?mS(o,h):void 0,p={container:d,padding:Tn(n)};if(l){const{design:m}=l,g=Un(l,["design"]);Object.assign(p,g)}Object.assign(p,c);const y=uS(a,t.template);if(y&&(p.data=y),i&&(p.template=i),l?.design||r){const m=Object.assign(Object.assign({},f?Object.assign(Object.assign({},t),{themeConfig:f}):t),{data:y||a}),g=fS(Object.assign(Object.assign({},l?.design),r),m);ly(g)&&(p.design=g)}return o&&(p.theme=o),f&&(p.themeConfig=f),p}function uS(t,e){if(!t)return;if(Array.isArray(t.items)&&t.items.length)return t;const{lists:n,sequences:i,compares:r,nodes:o,values:s,root:a}=t,c=()=>{if(!e)return null;const h={list:n,sequence:i,compare:r,relation:o,chart:s,hierarchy:a?[a]:[]},f=e.split("-")[0],p=h[f];return p?.length?p:null},d=()=>{var h;return n?.length?n:i?.length?i:r?.length?r:o?.length?o:s?.length?s:a?[a]:!((h=t.items)===null||h===void 0)&&h.length?t.items:[]};let l=c()||d();return l===i&&t.order==="desc"&&(l=[...l].reverse()),Object.assign(Object.assign({},t),{items:l})}function Zh(t){if(typeof t=="string")return{type:t};if(!("type"in t))throw new Error("Type is required");return t}function fS(t,e){const{structure:n,title:i,item:r,items:o}=t||{},s=Y1(r||o?.[0],e);return{structure:pS(n),title:gS(i,e),item:s,items:o?o.map(a=>Y1(a,e)):[s]}}function pS(t){if(!t)return null;const e=Zh(t),{type:n}=e,i=Un(e,["type"]),r=c4(n);if(!r)return null;const{component:o}=r;return Object.assign(Object.assign({},r),{component:s=>o(Object.assign(Object.assign({},s),i))})}function gS(t,e){if(!t)return{component:null};const n=Zh(t),{type:i}=n,r=Un(n,["type"]),{themeConfig:o}=e,s=o?.colorBg||"#fff",a=Bv(s,s);return{component:c=>gw(Object.assign(Object.assign(Object.assign({},c),{themeColors:a}),r))}}function Y1(t,e){if(!t)return null;const n=Zh(t),{type:i}=n,r=Un(n,["type"]),o=Sw(i);if(!o)return null;const{component:s,options:a}=o;return Object.assign(Object.assign({},o),{component:c=>{var d;const{indexes:l}=c,{data:h,themeConfig:f}=e,p=f?.colorBg||"#fff",{themeColors:y=Bv(dh(f?.palette,l,(d=h?.items)===null||d===void 0?void 0:d.length)||f?.colorPrimary||"#FF356A",p)}=c,m=Un(c,["themeColors"]);return s(Object.assign(Object.assign({themeColors:y},m),r))},options:a})}function mS(t,e={}){var n;const i=t?mw(t)||{}:{},r=iy({},i,e);return r.palette=e.palette||i.palette,r.stylize=(n=e.stylize)!==null&&n!==void 0?n:i.stylize,r.colorPrimary||(r.colorPrimary="#FF356A"),r.palette||(r.palette=[r.colorPrimary]),r}function Bv(t,e="#fff"){return Xy({colorPrimary:t,isDarkMode:cy(e),colorBg:e})}function yS(t){return t===" "||t==="	"}function vS(t){let e=0,n=0;for(;n<t.length;){const i=t[n];if(i===" "){e+=1,n+=1;continue}if(i==="	"){e+=2,n+=1;continue}break}return{indent:e,content:t.slice(n)}}function bS(t){return t.trimEnd()}function xS(t){return/[<>=o.x-]{2,}/.test(t)}function Nv(t){const e=t.trim();if(!e)return null;const n=e.match(/^([^:\s=]+)\s*[:=]\s*(.*)$/);if(n)return{key:n[1],value:n[2].trim()};const i=e.match(/^([^\s]+)\s+(.*)$/);return i?{key:i[1],value:i[2].trim()}:{key:e,value:void 0}}function Ji(t,e){return{kind:"object",line:t,value:e,entries:{}}}function V1(t){return{kind:"array",line:t,items:[]}}function wS(t){const e=[],n=Ji(0),i=[{indent:-1,node:n,parent:null,key:null}];return t.split(/\r?\n/).forEach((o,s)=>{const a=s+1;if(!o.trim())return;const{indent:c,content:d}=vS(o),l=bS(d);if(!l.trim())return;for(;i.length>1&&c<=i[i.length-1].indent;)i.pop();const h=i[i.length-1];let f=h.node;const p=l.trim();if(p.startsWith("-")&&(p.length===1||yS(p[1]))){if(f.kind!=="array")if(f.kind==="object"&&Object.keys(f.entries).length===0&&f.value===void 0&&h.parent&&h.key){const b=V1(f.line);if(h.parent.kind==="object")h.parent.entries[h.key]=b;else if(h.parent.kind==="array"){const x=h.parent.items.indexOf(f);x>=0&&(h.parent.items[x]=b)}h.node=b,f=b}else{e.push({path:"",line:a,code:"bad_list",message:"List item is not under an array container.",raw:p});return}const g=p.slice(1).trim(),v=Ji(a,g||void 0);f.items.push(v),i.push({indent:c,node:v,parent:f});return}if(h.key==="relations"&&!p.startsWith("-")&&xS(p)){if(f.kind!=="array")if(f.kind==="object"&&Object.keys(f.entries).length===0&&f.value===void 0&&h.parent&&h.key){const v=V1(f.line);if(h.parent.kind==="object")h.parent.entries[h.key]=v;else if(h.parent.kind==="array"){const b=h.parent.items.indexOf(f);b>=0&&(h.parent.items[b]=v)}h.node=v,f=v}else{e.push({path:"",line:a,code:"bad_list",message:"List item is not under an array container.",raw:p});return}const g=Ji(a,p);f.items.push(g),i.push({indent:c,node:g,parent:f});return}const y=Nv(p);if(!y){e.push({path:"",line:a,code:"bad_syntax",message:"Invalid syntax line.",raw:p});return}if(f.kind!=="object"){e.push({path:"",line:a,code:"bad_syntax",message:"Key-value pair is not under an object container.",raw:p});return}const m=Ji(a,y.value);f.entries[y.key]=m,i.push({indent:c,node:m,parent:f,key:y.key})}),{ast:n,errors:e}}function X1(t){return Nv(t)}function tr(t,e){return{kind:"value",line:e,value:t}}const CS=/^(#[0-9a-f]{8}|#[0-9a-f]{6}|#[0-9a-f]{4}|#[0-9a-f]{3})/i,_S=/^((?:rgb|rgba|hsl|hsla)\([^)]*\))/i;function _n(t){const e=t.trim();return e==="true"?!0:e==="false"?!1:/^-?\d+(\.\d+)?$/.test(e)?parseFloat(e):e}function bn(t){if(t.kind==="value"||t.kind==="object")return t.value}function we(t,e,n,i,r,o){t.push({path:n,line:e.line,code:i,message:r,raw:o})}function U1(t,e="any"){let n=t.trim();if(n.startsWith("[")&&n.endsWith("]")&&(n=n.slice(1,-1).trim()),!n)return[];let i;e==="comma"?i=n.split(","):e==="space"?i=n.split(/\s+/):i=n.split(/[,\s]+/);const r=[];for(const o of i){const s=o.trim();if(s){if(s==="#"||s==="//")break;r.push(s)}}return r}function ES(t){let e=t.trim();const n=e.search(/\s+#(?![0-9a-f])/i);n>=0&&(e=e.slice(0,n).trimEnd());const i=e.indexOf("//");return i>=0&&(e=e.slice(0,i).trimEnd()),e}function Qh(t){const e=ES(t);if(!e)return;const n=e.match(CS);if(n&&n[0].length===e.length)return e;const i=e.match(_S);if(i&&i[1].length===e.length||ce(e).isValid())return e}function K1(t,e,n,i={}){const r=bn(t);if(r===void 0){we(n,t,e,"schema_mismatch","Expected color value.");return}const o=Qh(r);if(!o){i.soft||we(n,t,e,"invalid_value","Invalid color value.",r);return}return o}function SS(t,e){return e.length>1||t.startsWith("[")&&t.endsWith("]")?!0:Qh(t)!==void 0}function ih(t){if(t.kind==="array")return t.items.map(i=>ih(i));if(t.kind==="value"||!(Object.keys(t.entries).length>0)&&t.value!==void 0)return _n(t.value);const n={};return t.value!==void 0&&(n.value=_n(t.value)),Object.entries(t.entries).forEach(([i,r])=>{n[i]=ih(r)}),n}function OS(t,e,n,i){let r,o=null;for(const s of e.variants){const a=[],c=Me(t,s,n,a);(o===null||a.length<o.length)&&(o=a,r=c)}return o&&i.push(...o),r}function Me(t,e,n,i){switch(e.kind){case"union":return OS(t,e,n,i);case"string":{const r=bn(t);if(r===void 0){we(i,t,n,"schema_mismatch","Expected string value.");return}return r}case"number":{const r=bn(t);if(r===void 0){we(i,t,n,"schema_mismatch","Expected number value.");return}const s=r.trim().match(/^(-?\d+(\.\d+)?)(?:\s*(#|\/\/).*)?$/);if(!s){we(i,t,n,"invalid_value","Invalid number value.",r);return}return parseFloat(s[1])}case"boolean":{const r=bn(t);if(r===void 0){we(i,t,n,"schema_mismatch","Expected boolean value.");return}if(r!=="true"&&r!=="false"){we(i,t,n,"invalid_value","Invalid boolean value.",r);return}return r==="true"}case"enum":{const r=bn(t);if(r===void 0){we(i,t,n,"schema_mismatch","Expected enum value.");return}if(!e.values.includes(r)){we(i,t,n,"invalid_value","Invalid enum value.",r);return}return r}case"array":{if(t.kind==="array")return t.items.map((a,c)=>Me(a,e.item,`${n}[${c}]`,i)).filter(a=>a!==void 0);if(t.kind==="object"&&Object.keys(t.entries).length>0){we(i,t,n,"schema_mismatch","Expected array value.");return}const r=bn(t);if(r===void 0){we(i,t,n,"schema_mismatch","Expected array value.");return}const o=r.trim();return o.startsWith("[")&&!o.endsWith("]")?void 0:U1(r,e.split).map((a,c)=>Me(tr(a,t.line),e.item,`${n}[${c}]`,i)).filter(a=>a!==void 0)}case"palette":{if(t.kind==="array"){const c=Me(t,{kind:"array",item:{kind:"color"},split:"any"},n,i);return Array.isArray(c)&&c.length>0?c:void 0}if(t.kind==="object"&&Object.keys(t.entries).length>0){we(i,t,n,"schema_mismatch","Expected palette value.");return}const r=bn(t);if(r===void 0){we(i,t,n,"schema_mismatch","Expected palette value.");return}const o=r.trim();if(o.startsWith("[")&&!o.endsWith("]"))return;const s=Qh(o);if(s)return[s];const a=U1(r,"any");if(SS(o,a)){const c=a.map((d,l)=>K1(tr(d,t.line),`${n}[${l}]`,i)).filter(d=>d!==void 0);return c.length>0?c:void 0}return r}case"color":return K1(t,n,i,{soft:e.soft});case"object":{if(t.kind==="array"){we(i,t,n,"schema_mismatch","Expected object value.");return}const r={};if(t.kind==="value"){if(e.shorthandKey)return r[e.shorthandKey]=t.value,r;const o=X1(t.value);if(o?.value!==void 0){if(e.fields[o.key]){const s=Me(tr(o.value,t.line),e.fields[o.key],`${n}.${o.key}`,i);return s!==void 0&&(r[o.key]=s),r}return e.allowUnknown?(r[o.key]=_n(o.value),r):(we(i,t,`${n}.${o.key}`,"unknown_key","Unknown key in object.",o.key),r)}if(e.allowUnknown)return r.value=_n(t.value),r;we(i,t,n,"invalid_value","Expected object value.");return}if(t.value!==void 0)if(e.shorthandKey&&r[e.shorthandKey]===void 0)r[e.shorthandKey]=t.value;else{const o=X1(t.value);if(o?.value!==void 0)if(e.fields[o.key]){const s=Me(tr(o.value,t.line),e.fields[o.key],`${n}.${o.key}`,i);s!==void 0&&r[o.key]===void 0&&(r[o.key]=s)}else e.allowUnknown?r[o.key]=_n(o.value):we(i,t,`${n}.${o.key}`,"unknown_key","Unknown key in object.",o.key);else e.allowUnknown&&(r.value=_n(t.value))}return Object.entries(t.entries).forEach(([o,s])=>{const a=e.fields[o];if(!a){if(e.allowUnknown){r[o]=ih(s);return}we(i,s,`${n}.${o}`,"unknown_key","Unknown key in object.",o);return}const c=Me(s,a,`${n}.${o}`,i);c!==void 0&&(r[o]=c)}),r}default:return}}const xe=()=>({kind:"string"}),ln=()=>({kind:"number"}),wi=t=>({kind:"enum",values:t}),Fn=(t={})=>({kind:"color",soft:t.soft}),Ke=(t,e="any")=>({kind:"array",item:t,split:e}),_e=(t,e={})=>({kind:"object",fields:t,allowUnknown:e.allowUnknown,shorthandKey:e.shorthandKey}),Ci=(...t)=>({kind:"union",variants:t}),IS=()=>({kind:"palette"}),_i=()=>_e({},{allowUnknown:!0}),Fv={fill:Fn({soft:!0}),stroke:Fn({soft:!0})},Dn=_e(Fv,{allowUnknown:!0}),Pd=_e(Fv,{allowUnknown:!0}),Ze=_e({},{allowUnknown:!0});Ze.fields={id:xe(),label:xe(),value:Ci(ln(),xe()),desc:xe(),icon:Ci(xe(),_i()),illus:Ci(xe(),_i()),attributes:_i(),group:xe(),category:xe(),children:Ke(Ze)};const Wv=_e({id:xe(),from:xe(),to:xe(),label:xe(),direction:wi(["forward","both","none"]),showArrow:wi(["true","false"]),arrowType:wi(["arrow","triangle","diamond"])},{allowUnknown:!0}),Gv=_e({type:xe(),colorBg:Fn(),colorPrimary:Fn(),palette:IS(),title:Dn,desc:Dn,shape:Pd,base:_e({global:_e({},{allowUnknown:!0}),shape:Pd,text:Dn}),item:_e({icon:_e({},{allowUnknown:!0}),label:Dn,desc:Dn,value:Dn,shape:Pd}),stylize:_e({type:wi(["rough","pattern"]),roughness:ln(),bowing:ln(),fillWeight:ln(),hachureGap:ln(),pattern:xe(),backgroundColor:Fn(),foregroundColor:Fn(),scale:ln()},{shorthandKey:"type"}),elements:_e({},{allowUnknown:!0})},{shorthandKey:"type"}),er=_e({},{allowUnknown:!0,shorthandKey:"type"}),Yv=_e({structure:er,item:er,items:Ke(er),title:er}),Vv=_e({title:xe(),desc:xe(),items:Ke(Ze),lists:Ke(Ze),sequences:Ke(Ze),root:Ze,compares:Ke(Ze),nodes:Ke(Ze),relations:Ke(Wv),values:Ke(Ze),order:wi(["asc","desc"]),illus:_i(),attributes:_i()}),Xv=_e({type:xe()},{shorthandKey:"type"}),Z1=_e({template:Xv,design:Yv,data:Vv,theme:Gv,width:Ci(ln(),xe()),height:Ci(ln(),xe())}),Q1=/[<>=o.x-]{2,}/,nr=/[<>=o.x-]{2,}/g;function xr(t){let e=t.trim();if(!e)return"";const n=e[0],i=e[e.length-1];return(n==='"'&&i==='"'||n==="'"&&i==="'")&&(e=e.slice(1,-1)),e=e.replace(/\\(["'])/g,"$1").replace(/(&quot;|&#quot;|#quot;)/g,'"').replace(/(&apos;|&#39;|#apos;)/g,"'"),e.trim()}function AS(t){const e=t.trim().replace(/^[-=.ox]+/,"").trim();return xr(e)}function wr(t,e){let n=e;for(;n<t.length&&/\s/.test(t[n]);)n+=1;return n}function J1(t,e){let n=wr(t,e);if(n>=t.length)return null;const i=n;for(;n<t.length;){const s=t[n];if(/\s/.test(s)||s==="["||s==="("||s==="@"||s==="|"||s==="<"||s===">"||s==="-"&&(t[n+1]==="-"||t[n+1]===">"||t[n+1]==="<"))break;n+=1}if(n===i)return null;const r=t.slice(i,n).trim();if(!r)return null;if(t.startsWith("@{",n)){const s=t.indexOf("}",n+2);s!==-1&&(n=s+1)}n=wr(t,n);let o;if(t[n]==="["){const s=t.indexOf("]",n+1);s!==-1&&(o=xr(t.slice(n+1,s)),n=s+1)}else if(t[n]==="("){const s=t.indexOf(")",n+1);if(s!==-1){let a=t.slice(n+1,s).trim();a.startsWith("[")&&a.endsWith("]")&&(a=a.slice(1,-1).trim()),o=xr(a),n=s+1}}return{node:{id:r,label:o},nextIndex:n}}function TS(t,e){nr.lastIndex=e;const n=nr.exec(t);if(!n)return null;const i=n[0],r=n.index,o=r+i.length;let a=AS(t.slice(e,r))||void 0,c=i,d=o;if(d=wr(t,d),t[d]==="|"){const v=t.indexOf("|",d+1);if(v!==-1){a=xr(t.slice(d+1,v))||a,d=v+1;const x=wr(t,d);nr.lastIndex=x;const w=nr.exec(t);w&&w.index===x?(c+=w[0],d=w.index+w[0].length):d=x}}const l=c.includes("<"),h=c.includes(">"),f=c.match(/[xo]/gi)||[],p=/^[xo]/i.test(c),y=/[xo]$/i.test(c);let m="none",g=!1;return l&&h||l&&y||h&&p||p&&y?m="both":(l||h||f.length>0)&&(m="forward",g=l&&!h),{label:a,direction:m,reverse:g,nextIndex:d}}function MS(t){const e=[],n=[],i=new Map;let r=0;const o=J1(t,r);if(!o)return{relations:e,nodes:n};let s=o.node;for(i.has(s.id)||(i.set(s.id,s),n.push(s)),r=o.nextIndex;r<t.length;){const a=TS(t,r);if(!a)break;r=a.nextIndex;const c=J1(t,r);if(!c)break;r=c.nextIndex;let d=s.id,l=c.node.id;const h=a.direction;a.reverse&&(d=c.node.id,l=s.id);const f={from:d,to:l};a.label&&(f.label=a.label),h==="both"&&(f.direction="both"),h==="none"&&(f.direction="none"),e.push(f),i.has(s.id)||(i.set(s.id,s),n.push(s)),i.has(c.node.id)||(i.set(c.node.id,c.node),n.push(c.node)),s=c.node}return{relations:e,nodes:n}}function RS(t,e,n,i){if(!n)return;const r=t.get(n);if(r){!r.label&&i&&(r.label=i);return}const o={id:n,label:i||n};t.set(n,o),e.push(o)}function kS(t,e,n){const i=Me(t,Wv,e,n);return!i||typeof i!="object"||typeof i.from!="string"||typeof i.to!="string"?null:i}function LS(t,e,n){const i=[],r=[],o=new Map,s=a=>{if(!Q1.test(a))return;const c=MS(a);c.nodes.forEach(d=>{RS(o,r,d.id,d.label)}),i.push(...c.relations)};return t.kind==="array"?t.items.forEach((a,c)=>{if(a.kind==="object"&&a.value&&Object.keys(a.entries).length===0&&Q1.test(a.value)){s(a.value);return}const d=kS(a,`${n}[${c}]`,e);d&&i.push(d)}):t.kind==="object"&&t.value&&s(t.value),{relations:i,items:r}}var ty=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};function PS(t){var e;const n=new Set,i=[];for(let r=t.length-1;r>=0;r-=1){const o=t[r],s=(e=o.id)!==null&&e!==void 0?e:o.label;if(!s){i.push(o);continue}n.has(s)||(n.add(s),o.id||(o.id=s),i.push(o))}return i.reverse()}function $S(t,e){if(!t)return;const n=Me(t,Xv,"template",e);if(n){if(typeof n=="string")return n;if(typeof n=="object"&&typeof n.type=="string")return n.type}}function qS(t){var e;const{ast:n,errors:i}=wS(t),r=[],o={},s=Object.assign({},n.entries),a=n.entries.infographic;let c;a&&a.kind==="object"&&(a.value&&(c=a.value),Object.entries(a.entries).forEach(([v,b])=>{v in s||(s[v]=b)}));const d=new Set(["infographic","template","design","data","theme","width","height"]);Object.keys(s).forEach(v=>{d.has(v)||i.push({path:v,line:s[v].line,code:"unknown_key",message:"Unknown top-level key.",raw:v})});const l=s.template,h=$S(l,i);h&&(o.template=h),!o.template&&c&&(o.template=c);const f=s.design;if(f){const v=Me(f,Yv,"design",i);v&&(o.design=v)}const p=s.data;if(p){let v,b=p;if(p.kind==="object"){const w=p.entries,{relations:_}=w,C=ty(w,["relations"]);v=_,b=Object.assign(Object.assign({},p),{entries:C})}const x=Me(b,Vv,"data",i);if(x&&(o.data=x),v){const w=LS(v,i,"data.relations");if(w.relations.length>0||w.items.length>0){const _=(e=o.data)!==null&&e!==void 0?e:{},C=Array.isArray(_.items)?_.items:[],E=PS(C),S=new Map;E.forEach(O=>{O.id&&S.set(O.id,O)}),w.items.forEach(O=>{const I=S.get(O.id);I?!I.label&&O.label&&(I.label=O.label):(E.push(O),S.set(O.id,O))}),_.items=E,_.relations=w.relations,o.data=_}}}const y=s.theme;if(y){const v=Me(y,Gv,"theme",i);if(v&&typeof v=="object"){const b=v,{type:x}=b,w=ty(b,["type"]);typeof x=="string"&&x&&(o.theme=x),Object.keys(w).length>0&&(o.themeConfig=w)}}const m=s.width;if(m){const v=Me(m,Z1.fields.width,"width",i);v!==void 0&&(o.width=v)}const g=s.height;if(g){const v=Me(g,Z1.fields.height,"height",i);v!==void 0&&(o.height=v)}return{options:o,errors:i,warnings:r,ast:n}}const HS=()=>[new _8,new Se,new S8],zS=()=>[new SE,new bE,new gE,new yE,new IE,new AE,new ME,new TE],jS={padding:20,theme:"light",themeConfig:{palette:"antv"},get plugins(){return HS()},get interactions(){return zS()}};function $d(t,e){const n=Object.assign(Object.assign({},t),e);return(t.design||e.design)&&(n.design=Object.assign(Object.assign({},t.design),e.design)),(t.themeConfig||e.themeConfig)&&(n.themeConfig=Object.assign(Object.assign({},t.themeConfig),e.themeConfig)),(t.svg||e.svg)&&(n.svg=Object.assign(Object.assign({},t.svg),e.svg)),n}function rh(t){const e=Object.assign({},t);return e.data&&(e.data=Hd(e.data)),e.elements&&(e.elements=Hd(e.elements)),e}function ey(t){const{design:e,data:n}=t;return!(!e||!ly(e)||!n||!Array.isArray(n.items)||n.items.length<1)}var DS=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{d(i.next(l))}catch(h){s(h)}}function c(l){try{d(i.throw(l))}catch(h){s(h)}}function d(l){l.done?o(l.value):r(l.value).then(a,c)}d((i=i.apply(t,e||[])).next())})};class MO{constructor(e){this.rendered=!1,this.emitter=new vb,this.node=null,this.initialOptions={},this.setOptions(e,"replace",!0)}getOptions(){return this.options}setOptions(e,n="replace",i=!1){const{options:r,errors:o,warnings:s}=BS(e);i&&(this.initialOptions=r);const a=$d(n==="replace"?rh(this.initialOptions||{}):this.options||rh(this.initialOptions||{}),r);this.options=a,this.parsedOptions=hS($d(jS,this.options)),s.length&&this.emitter.emit("warning",s),o.length&&this.emitter.emit("error",o)}render(e){e?this.setOptions(e,"replace"):!this.options&&this.initialOptions&&this.setOptions(this.initialOptions,"replace"),this.performRender()}update(e){this.setOptions(e,"merge"),this.performRender()}performRender(){var e;const n=this.parsedOptions;if(!ey(n)){this.emitter.emit("error",new Error("Incomplete options"));return}const{container:i}=this.parsedOptions,r=this.compose(n),o=new l3(n,r);this.node=o.render(),i?.replaceChildren(this.node),(e=this.editor)===null||e===void 0||e.destroy(),this.editor=void 0,this.options.editable&&(this.editor=new dS(this.emitter,this.node,n)),this.rendered=!0,this.emitter.emit("rendered",{node:this.node,options:this.options});const s=this.node;return s&&Xb(s).then(()=>{this.node===s&&this.emitter.emit("loaded",{node:s,options:this.options})}),!0}compose(e){const{design:n,data:i}=e,{title:r,item:o,items:s,structure:a}=n,{component:c,props:d}=a,l=r.component,h=o.component,f=s.map(m=>m.component),p=sw(u(c,Object.assign({data:i,Title:l,Item:h,Items:f,options:e},d))),y=Ai(p);if(!y)throw new Error("Failed to parse SVG template");return y}getTypes(){const e=this.parsedOptions;if(!ey(e)){this.emitter.emit("error",new Error("Incomplete options"));return}const n=e.design,i=n.structure.composites||[],r=n.items.map(o=>o.composites||[]);return Y3({structure:i,items:r})}toDataURL(e){return DS(this,void 0,void 0,function*(){if(!this.node)throw new Error("Infographic is not rendered yet.");return e?.type==="svg"?yield P8(this.node,e):yield rS(this.node,e)})}on(e,n){this.emitter.on(e,n)}off(e,n){this.emitter.off(e,n)}destroy(){var e,n;(e=this.editor)===null||e===void 0||e.destroy(),(n=this.node)===null||n===void 0||n.remove(),this.node=null,this.rendered=!1,this.emitter.emit("destroyed"),this.emitter.removeAllListeners()}}function BS(t){if(typeof t=="string"){const{options:e,errors:n,warnings:i}=qS(t);return{options:e,errors:n,warnings:i}}return{options:rh(t),errors:[],warnings:[]}}const RO="0.2.14";export{Li as AlignLayout,Ow as BadgeCard,J9 as BatchCommand,gE as BrushSelect,et as BtnAdd,Zt as BtnRemove,Ht as BtnsGroup,Iw as CandyCardLite,Tw as CapsuleItem,l4 as ChartBar,d4 as ChartColumn,h4 as ChartLine,b4 as ChartPie,E4 as ChartWordCloud,Mw as CircleNode,Rw as CircularProgress,yE as ClickSelect,Lw as CompactCard,T4 as CompareBinaryHorizontal,R4 as CompareHierarchyLeftRight,P4 as CompareHierarchyRow,bE as DblClickEditText,Gt as Defs,Pw as DoneList,SE as DragCanvas,IE as DragElement,_8 as EditBar,Ut as Ellipse,yt as FlexLayout,Ft as Fragment,ae as Gap,W as Group,r7 as HierarchyMindmap,s7 as HierarchyStructure,a7 as HierarchyTree,$w as HorizontalIconArrow,zw as HorizontalIconLine,AE as HotkeyHistory,jw as IconBadge,lw as Illus,Dw as IndexedCard,MO as Infographic,un as Interaction,re as ItemDesc,Oe as ItemIcon,Qn as ItemIconCircle,Dt as ItemLabel,Rr as ItemValue,$t as ItemsGroup,Bw as LCornerCard,Gw as LabelText,Nw as LetterCard,Fw as LinedText,c7 as ListColumn,l7 as ListGrid,d7 as ListPyramid,h7 as ListRow,u7 as ListSector,f7 as ListWaterfall,x7 as ListZigzagDown,w7 as ListZigzagUp,xt as Path,Ww as PillBadge,Qr as Plugin,ke as Polygon,Yw as ProgressCard,$4 as Quadrant,Vw as QuarterCircular,Xw as QuarterSimpleCard,kt as Rect,C7 as RelationCircle,z_ as RelationDagreFlow,j_ as RelationNetwork,S8 as ResetViewBox,Se as ResizeElement,Uw as RibbonCard,Kw as RoundedRectNode,TE as SelectHighlight,K_ as SequenceAscendingStairs3d,Z_ as SequenceAscendingSteps,J_ as SequenceCircleArrows,r9 as SequenceCircular,o9 as SequenceColorSnakeSteps,w9 as SequenceFilterMesh,E9 as SequenceFunnel,O9 as SequenceHorizontalZigzag,R9 as SequenceMountain,k9 as SequencePyramid,H9 as SequenceRoadmapVertical,z9 as SequenceSnakeSteps,j9 as SequenceStairsFront,D9 as SequenceSteps,B9 as SequenceTimeline,G9 as SequenceZigzagPucks3d,Q9 as SequenceZigzagSteps,pe as ShapesGroup,Zw as SimpleCircleNode,Qw as SimpleHorizontalArrow,t4 as SimpleIllusItem,e4 as SimpleItem,n4 as SimpleVerticalArrow,Pt as Text,gw as Title,r4 as UnderlineText,Ye as UpdateElementCommand,Vh as UpdateOptionsCommand,fE as UpdateTextCommand,RO as VERSION,o4 as VerticalIconArrow,ME as ZoomWheel,xn as cloneElement,xO as createFragment,By as createLayout,Au as distributeLabels,zv as exportToSVG,ki as getCombinedBounds,lt as getElementBounds,Wn as getElementsBounds,fy as getFont,py as getFonts,Sw as getItem,te as getItemProps,IO as getItems,nx as getPalette,dh as getPaletteColor,_O as getPalettes,c4 as getStructure,AO as getStructures,wb as getTemplate,bO as getTemplates,mw as getTheme,ye as getThemeColors,OO as getThemes,u as jsx,wO as jsxDEV,M as jsxs,Ii as loadSVGResource,Ai as parseSVG,qS as parseSyntax,Ub as registerFont,ee as registerItem,my as registerPalette,Xx as registerPattern,EO as registerResourceLoader,jt as registerStructure,xb as registerTemplate,Vy as registerTheme,sw as renderSVG,f9 as sequenceCylinders3d,CO as setDefaultFont,SO as setFontExtendFactor};
