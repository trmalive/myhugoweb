import{D as x}from"./md-vendor_parse5-CAQ5taYe.js";import{e as u,i as f,f as h,g as d,P as C,T as g,C as T,E as v,D as m}from"./md-vendor_domhandler-DwiTiAS5.js";function p(e){const t=e.includes('"')?"'":'"';return t+e+t}function D(e,t,n){let r="!DOCTYPE ";return e&&(r+=e),t?r+=` PUBLIC ${p(t)}`:n&&(r+=" SYSTEM"),n&&(r+=` ${p(n)}`),r}const o={isCommentNode:h,isElementNode:f,isTextNode:u,createDocument(){const e=new m([]);return e["x-mode"]=x.NO_QUIRKS,e},createDocumentFragment(){return new m([])},createElement(e,t,n){const r=Object.create(null),i=Object.create(null),a=Object.create(null);for(let c=0;c<n.length;c++){const l=n[c].name;r[l]=n[c].value,i[l]=n[c].namespace,a[l]=n[c].prefix}const s=new v(e,r,[]);return s.namespace=t,s["x-attribsNamespace"]=i,s["x-attribsPrefix"]=a,s},createCommentNode(e){return new T(e)},createTextNode(e){return new g(e)},appendChild(e,t){const n=e.children[e.children.length-1];n&&(n.next=t,t.prev=n),e.children.push(t),t.parent=e},insertBefore(e,t,n){const r=e.children.indexOf(n),{prev:i}=n;i&&(i.next=t,t.prev=i),n.prev=t,t.next=n,e.children.splice(r,0,t),t.parent=e},setTemplateContent(e,t){o.appendChild(e,t)},getTemplateContent(e){return e.children[0]},setDocumentType(e,t,n,r){const i=D(t,n,r);let a=e.children.find(s=>d(s)&&s.name==="!doctype");a?a.data=i??null:(a=new C("!doctype",i),o.appendChild(e,a)),a["x-name"]=t,a["x-publicId"]=n,a["x-systemId"]=r},setDocumentMode(e,t){e["x-mode"]=t},getDocumentMode(e){return e["x-mode"]},detachNode(e){if(e.parent){const t=e.parent.children.indexOf(e),{prev:n,next:r}=e;e.prev=null,e.next=null,n&&(n.next=r),r&&(r.prev=n),e.parent.children.splice(t,1),e.parent=null}},insertText(e,t){const n=e.children[e.children.length-1];n&&u(n)?n.data+=t:o.appendChild(e,o.createTextNode(t))},insertTextBefore(e,t,n){const r=e.children[e.children.indexOf(n)-1];r&&u(r)?r.data+=t:o.insertBefore(e,o.createTextNode(t),n)},adoptAttributes(e,t){for(let n=0;n<t.length;n++){const r=t[n].name;e.attribs[r]===void 0&&(e.attribs[r]=t[n].value,e["x-attribsNamespace"][r]=t[n].namespace,e["x-attribsPrefix"][r]=t[n].prefix)}},getFirstChild(e){return e.children[0]},getChildNodes(e){return e.children},getParentNode(e){return e.parent},getAttrList(e){return e.attributes},getTagName(e){return e.name},getNamespaceURI(e){return e.namespace},getTextNodeContent(e){return e.data},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){var t;return(t=e["x-name"])!==null&&t!==void 0?t:""},getDocumentTypeNodePublicId(e){var t;return(t=e["x-publicId"])!==null&&t!==void 0?t:""},getDocumentTypeNodeSystemId(e){var t;return(t=e["x-systemId"])!==null&&t!==void 0?t:""},isDocumentTypeNode(e){return d(e)&&e.name==="!doctype"},setNodeSourceCodeLocation(e,t){t&&(e.startIndex=t.startOffset,e.endIndex=t.endOffset),e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){t.endOffset!=null&&(e.endIndex=t.endOffset),e.sourceCodeLocation={...e.sourceCodeLocation,...t}}};export{o as a};
